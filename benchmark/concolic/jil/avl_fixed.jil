i_first = {};
is_pos_j_226 = fun x_j_222 -> (
    int_j_223 = 0;
    var_j_224 = x_j_222;
    m_bl_i_2873 = int_j_223 ~ int;
    m_br_i_2874 = var_j_224 ~ int;
    m_b_i_2875 = m_bl_i_2873 and m_br_i_2874;
    binop_j_225 = m_b_i_2875 ? (
            c_binop_i_2876 = int_j_223 < var_j_224
        ) : (
            ab_i_2877 = abort
        ));
is_pos = is_pos_j_226;
flatten_fun_j_246 = fun f_b_4 -> (
    flatten_fun_j_235 = fun x_b_3 -> (
        flatten_fun_j_234 = fun freeze_b_5 -> (
            var_j_227 = f_b_4;
            var_j_228 = x_b_3;
            var_j_229 = x_b_3;
            appl_j_230 = var_j_228 var_j_229;
            appl_j_231 = var_j_227 appl_j_230;
            var_j_232 = freeze_b_5;
            appl_j_233 = appl_j_231 var_j_232));
    flatten_fun_j_244 = fun x_b_3_j_3 -> (
        flatten_fun_j_243 = fun freeze_b_5_j_2 -> (
            var_j_236 = f_b_4;
            var_j_237 = x_b_3_j_3;
            var_j_238 = x_b_3_j_3;
            appl_j_239 = var_j_237 var_j_238;
            appl_j_240 = var_j_236 appl_j_239;
            var_j_241 = freeze_b_5_j_2;
            appl_j_242 = appl_j_240 var_j_241));
    appl_j_245 = flatten_fun_j_235 flatten_fun_j_244);
ycomb_b_6 = flatten_fun_j_246;
flatten_fun_j_2164 = fun self_b_2 -> (
    flatten_fun_j_2163 = fun bj_null_j_134 -> (
        flatten_fun_j_1203 = fun expr_b_329 -> (
            flatten_fun_j_1198 = fun tt -> (
                flatten_fun_j_878 = fun expr_b_325 -> (
                    input_j_248 = input;
                    select_int_b_326 = input_j_248;
                    bool_j_249 = false;
                    fail_b_327 = bool_j_249;
                    int_j_250 = 0;
                    var_j_251 = select_int_b_326;
                    binop_j_252 = int_j_250 <= var_j_251;
                    if_j_877 = binop_j_252 ? (
                            flatten_fun_j_375 = fun expr_b_242 -> (
                                bool_j_253 = false;
                                rec_fail_b_241 = bool_j_253;
                                bool_j_254 = false;
                                rec_fail_b_240 = bool_j_254;
                                bool_j_255 = false;
                                rec_fail_b_239 = bool_j_255;
                                var_j_256 = expr_b_242;
                                m_match_bool_j_258 = var_j_256 ~ any;
                                m_match_bool_j_261 = var_j_256 ~ {bj_actual_rec, _};
                                m_match_cond_j_262 = m_match_bool_j_261 ? (
                                        var_j_263 = expr_b_242;
                                        proj_j_264 = var_j_263.bj_decl_lbls;
                                        m_match_bool_j_266 = proj_j_264 ~ any;
                                        m_match_bool_j_269 = proj_j_264 ~ 
                                            {height, item, left, right, _};
                                        m_match_cond_j_270 = m_match_bool_j_269 ? (
                                                height_j_10 = proj_j_264.height;
                                                item_j_9 = proj_j_264.item;
                                                left_j_8 = proj_j_264.left;
                                                right_j_7 = proj_j_264.right;
                                                var_j_271 = expr_b_242;
                                                proj_j_272 = var_j_271.bj_actual_rec;
                                                m_match_bool_j_274 = proj_j_272 ~ any;
                                                m_match_bool_j_277 = proj_j_272 ~ 
                                                    {height, item, left, right, _};
                                                m_match_cond_j_278 = m_match_bool_j_277 ? (
                                                        height = proj_j_272.height;
                                                        item = proj_j_272.item;
                                                        left = proj_j_272.left;
                                                        right = proj_j_272.right;
                                                        flatten_fun_j_307 = fun expr_b_256 -> (
                                                            bool_j_279 = false;
                                                            fail_b_254 = bool_j_279;
                                                            flatten_fun_j_288 = fun expr_b_253 -> (
                                                                var_j_280 = expr_b_253;
                                                                m_match_bool_j_282 = var_j_280 ~ any;
                                                                m_match_bool_j_285 = var_j_280 ~ int;
                                                                m_match_cond_j_286 = m_match_bool_j_285 ? (
                                                                        
                                                                    bool_j_287 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_283 = m_match_bool_j_282 ? (
                                                                        var_j_284 = fail_b_254
                                                                    ) : (
                                                                        void_j_281 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_290 = fun bj_null -> (
                                                                input_j_289 = input);
                                                            flatten_fun_j_292 = fun expr_b_255 -> (
                                                                var_j_291 = expr_b_255);
                                                            record_j_293 = 
                                                                {checker = flatten_fun_j_288, generator = flatten_fun_j_290, wrapper = flatten_fun_j_292};
                                                            proj_j_294 = record_j_293.checker;
                                                            var_j_295 = expr_b_256;
                                                            appl_j_296 = proj_j_294 var_j_295;
                                                            t_check_b_257 = appl_j_296;
                                                            var_j_297 = t_check_b_257;
                                                            if_j_306 = var_j_297 ? (
                                                                    bool_j_298 = false;
                                                                    pred_check_b_258 = bool_j_298;
                                                                    var_j_299 = is_pos;
                                                                    var_j_300 = expr_b_256;
                                                                    appl_j_301 = var_j_299 var_j_300;
                                                                    if_j_304 = appl_j_301 ? (
                                                                        bool_j_302 = true
                                                                    ) : (
                                                                        var_j_303 = pred_check_b_258
                                                                    )
                                                                ) : (
                                                                    var_j_305 = t_check_b_257
                                                                ));
                                                        flatten_fun_j_333 = fun bj_null_j_5 -> (
                                                            bool_j_308 = false;
                                                            fail_b_250 = bool_j_308;
                                                            flatten_fun_j_317 = fun expr_b_249 -> (
                                                                var_j_309 = expr_b_249;
                                                                m_match_bool_j_311 = var_j_309 ~ any;
                                                                m_match_bool_j_314 = var_j_309 ~ int;
                                                                m_match_cond_j_315 = m_match_bool_j_314 ? (
                                                                        
                                                                    bool_j_316 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_312 = m_match_bool_j_311 ? (
                                                                        var_j_313 = fail_b_250
                                                                    ) : (
                                                                        void_j_310 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_319 = fun bj_null_j_4 -> (
                                                                input_j_318 = input);
                                                            flatten_fun_j_321 = fun expr_b_251 -> (
                                                                var_j_320 = expr_b_251);
                                                            record_j_322 = 
                                                                {checker = flatten_fun_j_317, generator = flatten_fun_j_319, wrapper = flatten_fun_j_321};
                                                            proj_j_323 = record_j_322.generator;
                                                            int_j_324 = 0;
                                                            appl_j_325 = proj_j_323 int_j_324;
                                                            candidate_b_252 = appl_j_325;
                                                            var_j_326 = is_pos;
                                                            var_j_327 = candidate_b_252;
                                                            appl_j_328 = var_j_326 var_j_327;
                                                            if_j_332 = appl_j_328 ? (
                                                                    var_j_329 = candidate_b_252
                                                                ) : (
                                                                    bool_j_330 = false;
                                                                    assume_j_331 = assume bool_j_330
                                                                ));
                                                        flatten_fun_j_335 = fun expr_b_259 -> (
                                                            var_j_334 = expr_b_259);
                                                        record_j_336 = 
                                                            {checker = flatten_fun_j_307, generator = flatten_fun_j_333, wrapper = flatten_fun_j_335};
                                                        proj_j_337 = record_j_336.checker;
                                                        var_j_338 = height;
                                                        appl_j_339 = proj_j_337 var_j_338;
                                                        lbl_check_b_248 = appl_j_339;
                                                        var_j_340 = lbl_check_b_248;
                                                        if_j_374 = var_j_340 ? (
                                                                bool_j_341 = false;
                                                                fail_b_246 = bool_j_341;
                                                                flatten_fun_j_350 = fun expr_b_245 -> (
                                                                    var_j_342 = expr_b_245;
                                                                    m_match_bool_j_344 = var_j_342 ~ any;
                                                                    m_match_bool_j_347 = var_j_342 ~ int;
                                                                    m_match_cond_j_348 = m_match_bool_j_347 ? (
                                                                        bool_j_349 = true
                                                                    ) : (
                                                                        m_match_cond_j_345 = m_match_bool_j_344 ? (
                                                                        var_j_346 = fail_b_246
                                                                    ) : (
                                                                        void_j_343 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_352 = fun bj_null_j_6 -> (
                                                                    input_j_351 = input);
                                                                flatten_fun_j_354 = fun expr_b_247 -> (
                                                                    var_j_353 = expr_b_247);
                                                                record_j_355 = 
                                                                    {checker = flatten_fun_j_350, generator = flatten_fun_j_352, wrapper = flatten_fun_j_354};
                                                                proj_j_356 = record_j_355.checker;
                                                                var_j_357 = item;
                                                                appl_j_358 = proj_j_356 var_j_357;
                                                                lbl_check_b_244 = appl_j_358;
                                                                var_j_359 = lbl_check_b_244;
                                                                if_j_372 = var_j_359 ? (
                                                                        
                                                                    var_j_360 = tt;
                                                                    proj_j_361 = var_j_360.checker;
                                                                    var_j_362 = left;
                                                                    appl_j_363 = proj_j_361 var_j_362;
                                                                    lbl_check_b_243 = appl_j_363;
                                                                    var_j_364 = lbl_check_b_243;
                                                                    if_j_370 = var_j_364 ? (
                                                                        var_j_365 = tt;
                                                                    proj_j_366 = var_j_365.checker;
                                                                    var_j_367 = right;
                                                                    appl_j_368 = proj_j_366 var_j_367
                                                                    ) : (
                                                                        var_j_369 = lbl_check_b_243
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_371 = lbl_check_b_244
                                                                    )
                                                            ) : (
                                                                var_j_373 = lbl_check_b_248
                                                            )
                                                    ) : (
                                                        m_match_cond_j_275 = m_match_bool_j_274 ? (
                                                                var_j_276 = rec_fail_b_239
                                                            ) : (
                                                                void_j_273 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_267 = m_match_bool_j_266 ? (
                                                        var_j_268 = rec_fail_b_240
                                                    ) : (
                                                        void_j_265 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_259 = m_match_bool_j_258 ? (
                                                var_j_260 = rec_fail_b_241
                                            ) : (
                                                void_j_257 = {}
                                            )
                                    ));
                            flatten_fun_j_474 = fun bj_null_j_15 -> (
                                var_j_376 = tt;
                                proj_j_377 = var_j_376.generator;
                                int_j_378 = 0;
                                appl_j_379 = proj_j_377 int_j_378;
                                right_b_224 = appl_j_379;
                                var_j_380 = tt;
                                proj_j_381 = var_j_380.generator;
                                int_j_382 = 0;
                                appl_j_383 = proj_j_381 int_j_382;
                                left_b_223 = appl_j_383;
                                bool_j_384 = false;
                                fail_b_237 = bool_j_384;
                                flatten_fun_j_393 = fun expr_b_236 -> (
                                    var_j_385 = expr_b_236;
                                    m_match_bool_j_387 = var_j_385 ~ any;
                                    m_match_bool_j_390 = var_j_385 ~ int;
                                    m_match_cond_j_391 = m_match_bool_j_390 ? (
                                            bool_j_392 = true
                                        ) : (
                                            m_match_cond_j_388 = m_match_bool_j_387 ? (
                                                    var_j_389 = fail_b_237
                                                ) : (
                                                    void_j_386 = {}
                                                )
                                        ));
                                flatten_fun_j_395 = fun bj_null_j_11 -> (
                                    input_j_394 = input);
                                flatten_fun_j_397 = fun expr_b_238 -> (
                                    var_j_396 = expr_b_238);
                                record_j_398 = {checker = flatten_fun_j_393, generator = flatten_fun_j_395, wrapper = flatten_fun_j_397};
                                proj_j_399 = record_j_398.generator;
                                int_j_400 = 0;
                                appl_j_401 = proj_j_399 int_j_400;
                                item_b_222 = appl_j_401;
                                flatten_fun_j_430 = fun expr_b_232 -> (
                                    bool_j_402 = false;
                                    fail_b_230 = bool_j_402;
                                    flatten_fun_j_411 = fun expr_b_229 -> (
                                        var_j_403 = expr_b_229;
                                        m_match_bool_j_405 = var_j_403 ~ any;
                                        m_match_bool_j_408 = var_j_403 ~ int;
                                        m_match_cond_j_409 = m_match_bool_j_408 ? (
                                                bool_j_410 = true
                                            ) : (
                                                m_match_cond_j_406 = m_match_bool_j_405 ? (
                                                        var_j_407 = fail_b_230
                                                    ) : (
                                                        void_j_404 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_413 = fun bj_null_j_12 -> (
                                        input_j_412 = input);
                                    flatten_fun_j_415 = fun expr_b_231 -> (
                                        var_j_414 = expr_b_231);
                                    record_j_416 = {checker = flatten_fun_j_411, generator = flatten_fun_j_413, wrapper = flatten_fun_j_415};
                                    proj_j_417 = record_j_416.checker;
                                    var_j_418 = expr_b_232;
                                    appl_j_419 = proj_j_417 var_j_418;
                                    t_check_b_233 = appl_j_419;
                                    var_j_420 = t_check_b_233;
                                    if_j_429 = var_j_420 ? (
                                            bool_j_421 = false;
                                            pred_check_b_234 = bool_j_421;
                                            var_j_422 = is_pos;
                                            var_j_423 = expr_b_232;
                                            appl_j_424 = var_j_422 var_j_423;
                                            if_j_427 = appl_j_424 ? (
                                                    bool_j_425 = true
                                                ) : (
                                                    var_j_426 = pred_check_b_234
                                                )
                                        ) : (
                                            var_j_428 = t_check_b_233
                                        ));
                                flatten_fun_j_456 = fun bj_null_j_14 -> (
                                    bool_j_431 = false;
                                    fail_b_226 = bool_j_431;
                                    flatten_fun_j_440 = fun expr_b_225 -> (
                                        var_j_432 = expr_b_225;
                                        m_match_bool_j_434 = var_j_432 ~ any;
                                        m_match_bool_j_437 = var_j_432 ~ int;
                                        m_match_cond_j_438 = m_match_bool_j_437 ? (
                                                bool_j_439 = true
                                            ) : (
                                                m_match_cond_j_435 = m_match_bool_j_434 ? (
                                                        var_j_436 = fail_b_226
                                                    ) : (
                                                        void_j_433 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_442 = fun bj_null_j_13 -> (
                                        input_j_441 = input);
                                    flatten_fun_j_444 = fun expr_b_227 -> (
                                        var_j_443 = expr_b_227);
                                    record_j_445 = {checker = flatten_fun_j_440, generator = flatten_fun_j_442, wrapper = flatten_fun_j_444};
                                    proj_j_446 = record_j_445.generator;
                                    int_j_447 = 0;
                                    appl_j_448 = proj_j_446 int_j_447;
                                    candidate_b_228 = appl_j_448;
                                    var_j_449 = is_pos;
                                    var_j_450 = candidate_b_228;
                                    appl_j_451 = var_j_449 var_j_450;
                                    if_j_455 = appl_j_451 ? (
                                            var_j_452 = candidate_b_228
                                        ) : (
                                            bool_j_453 = false;
                                            assume_j_454 = assume bool_j_453
                                        ));
                                flatten_fun_j_458 = fun expr_b_235 -> (
                                    var_j_457 = expr_b_235);
                                record_j_459 = {checker = flatten_fun_j_430, generator = flatten_fun_j_456, wrapper = flatten_fun_j_458};
                                proj_j_460 = record_j_459.generator;
                                int_j_461 = 0;
                                appl_j_462 = proj_j_460 int_j_461;
                                height_b_221 = appl_j_462;
                                var_j_463 = height_b_221;
                                var_j_464 = item_b_222;
                                var_j_465 = left_b_223;
                                var_j_466 = right_b_224;
                                record_j_467 = {height = var_j_463, item = var_j_464, left = var_j_465, right = var_j_466};
                                record_j_468 = {};
                                record_j_469 = {};
                                record_j_470 = {};
                                record_j_471 = {};
                                record_j_472 = {height = record_j_468, item = record_j_469, left = record_j_470, right = record_j_471};
                                record_j_473 = {bj_actual_rec = record_j_467, bj_decl_lbls = record_j_472});
                            flatten_fun_j_476 = fun expr_b_260 -> (
                                var_j_475 = expr_b_260);
                            record_j_477 = {checker = flatten_fun_j_375, generator = flatten_fun_j_474, wrapper = flatten_fun_j_476};
                            proj_j_478 = record_j_477.checker;
                            var_j_479 = expr_b_325;
                            appl_j_480 = proj_j_478 var_j_479;
                            if_j_564 = appl_j_480 ? (
                                    bool_j_481 = true
                                ) : (
                                    flatten_fun_j_528 = fun expr_b_268 -> (
                                        bool_j_482 = false;
                                        rec_fail_b_267 = bool_j_482;
                                        bool_j_483 = false;
                                        rec_fail_b_266 = bool_j_483;
                                        bool_j_484 = false;
                                        rec_fail_b_265 = bool_j_484;
                                        var_j_485 = expr_b_268;
                                        m_match_bool_j_487 = var_j_485 ~ any;
                                        m_match_bool_j_490 = var_j_485 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_491 = m_match_bool_j_490 ? (
                                                var_j_492 = expr_b_268;
                                                proj_j_493 = var_j_492.bj_decl_lbls;
                                                m_match_bool_j_495 = proj_j_493 ~ any;
                                                m_match_bool_j_498 = proj_j_493 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_499 = m_match_bool_j_498 ? (
                                                        leaf_j_17 = proj_j_493.leaf;
                                                        var_j_500 = expr_b_268;
                                                        proj_j_501 = var_j_500.bj_actual_rec;
                                                        m_match_bool_j_503 = proj_j_501 ~ any;
                                                        m_match_bool_j_506 = proj_j_501 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_507 = m_match_bool_j_506 ? (
                                                                leaf = proj_j_501.leaf;
                                                                bool_j_508 = false;
                                                                fail_b_270 = bool_j_508;
                                                                flatten_fun_j_517 = fun expr_b_269 -> (
                                                                    var_j_509 = expr_b_269;
                                                                    m_match_bool_j_511 = var_j_509 ~ any;
                                                                    m_match_bool_j_514 = var_j_509 ~ bool;
                                                                    m_match_cond_j_515 = m_match_bool_j_514 ? (
                                                                        bool_j_516 = true
                                                                    ) : (
                                                                        m_match_cond_j_512 = m_match_bool_j_511 ? (
                                                                        var_j_513 = fail_b_270
                                                                    ) : (
                                                                        void_j_510 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_521 = fun bj_null_j_16 -> (
                                                                    int_j_518 = 0;
                                                                    input_j_519 = input;
                                                                    m_bl_i_2878 = int_j_518 ~ int;
                                                                    m_br_i_2879 = input_j_519 ~ int;
                                                                    m_b_i_2880 = m_bl_i_2878 and m_br_i_2879;
                                                                    binop_j_520 = m_b_i_2880 ? (
                                                                        c_binop_i_2881 = int_j_518 <= input_j_519
                                                                    ) : (
                                                                        ab_i_2882 = abort
                                                                    ));
                                                                flatten_fun_j_523 = fun expr_b_271 -> (
                                                                    var_j_522 = expr_b_271);
                                                                record_j_524 = 
                                                                    {checker = flatten_fun_j_517, generator = flatten_fun_j_521, wrapper = flatten_fun_j_523};
                                                                proj_j_525 = record_j_524.checker;
                                                                var_j_526 = leaf;
                                                                appl_j_527 = proj_j_525 var_j_526
                                                            ) : (
                                                                m_match_cond_j_504 = m_match_bool_j_503 ? (
                                                                        
                                                                    var_j_505 = rec_fail_b_265
                                                                    ) : (
                                                                        
                                                                    void_j_502 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_496 = m_match_bool_j_495 ? (
                                                                var_j_497 = rec_fail_b_266
                                                            ) : (
                                                                void_j_494 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_488 = m_match_bool_j_487 ? (
                                                        var_j_489 = rec_fail_b_267
                                                    ) : (
                                                        void_j_486 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_554 = fun bj_null_j_19 -> (
                                        bool_j_529 = false;
                                        fail_b_263 = bool_j_529;
                                        flatten_fun_j_538 = fun expr_b_262 -> (
                                            var_j_530 = expr_b_262;
                                            m_match_bool_j_532 = var_j_530 ~ any;
                                            m_match_bool_j_535 = var_j_530 ~ bool;
                                            m_match_cond_j_536 = m_match_bool_j_535 ? (
                                                    bool_j_537 = true
                                                ) : (
                                                    m_match_cond_j_533 = m_match_bool_j_532 ? (
                                                            var_j_534 = fail_b_263
                                                        ) : (
                                                            void_j_531 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_542 = fun bj_null_j_18 -> (
                                            int_j_539 = 0;
                                            input_j_540 = input;
                                            m_bl_i_2883 = int_j_539 ~ int;
                                            m_br_i_2884 = input_j_540 ~ int;
                                            m_b_i_2885 = m_bl_i_2883 and m_br_i_2884;
                                            binop_j_541 = m_b_i_2885 ? (
                                                    c_binop_i_2886 = int_j_539 <= input_j_540
                                                ) : (
                                                    ab_i_2887 = abort
                                                ));
                                        flatten_fun_j_544 = fun expr_b_264 -> (
                                            var_j_543 = expr_b_264);
                                        record_j_545 = {checker = flatten_fun_j_538, generator = flatten_fun_j_542, wrapper = flatten_fun_j_544};
                                        proj_j_546 = record_j_545.generator;
                                        int_j_547 = 0;
                                        appl_j_548 = proj_j_546 int_j_547;
                                        leaf_b_261 = appl_j_548;
                                        var_j_549 = leaf_b_261;
                                        record_j_550 = {leaf = var_j_549};
                                        record_j_551 = {};
                                        record_j_552 = {leaf = record_j_551};
                                        record_j_553 = {bj_actual_rec = record_j_550, bj_decl_lbls = record_j_552});
                                    flatten_fun_j_556 = fun expr_b_272 -> (
                                        var_j_555 = expr_b_272);
                                    record_j_557 = {checker = flatten_fun_j_528, generator = flatten_fun_j_554, wrapper = flatten_fun_j_556};
                                    proj_j_558 = record_j_557.checker;
                                    var_j_559 = expr_b_325;
                                    appl_j_560 = proj_j_558 var_j_559;
                                    if_j_563 = appl_j_560 ? (
                                            bool_j_561 = true
                                        ) : (
                                            var_j_562 = fail_b_327
                                        )
                                )
                        ) : (
                            flatten_fun_j_611 = fun expr_b_320 -> (
                                bool_j_565 = false;
                                rec_fail_b_319 = bool_j_565;
                                bool_j_566 = false;
                                rec_fail_b_318 = bool_j_566;
                                bool_j_567 = false;
                                rec_fail_b_317 = bool_j_567;
                                var_j_568 = expr_b_320;
                                m_match_bool_j_570 = var_j_568 ~ any;
                                m_match_bool_j_573 = var_j_568 ~ {bj_actual_rec, _};
                                m_match_cond_j_574 = m_match_bool_j_573 ? (
                                        var_j_575 = expr_b_320;
                                        proj_j_576 = var_j_575.bj_decl_lbls;
                                        m_match_bool_j_578 = proj_j_576 ~ any;
                                        m_match_bool_j_581 = proj_j_576 ~ 
                                            {leaf, _};
                                        m_match_cond_j_582 = m_match_bool_j_581 ? (
                                                leaf_j_22 = proj_j_576.leaf;
                                                var_j_583 = expr_b_320;
                                                proj_j_584 = var_j_583.bj_actual_rec;
                                                m_match_bool_j_586 = proj_j_584 ~ any;
                                                m_match_bool_j_589 = proj_j_584 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_590 = m_match_bool_j_589 ? (
                                                        leaf_j_21 = proj_j_584.leaf;
                                                        bool_j_591 = false;
                                                        fail_b_322 = bool_j_591;
                                                        flatten_fun_j_600 = fun expr_b_321 -> (
                                                            var_j_592 = expr_b_321;
                                                            m_match_bool_j_594 = var_j_592 ~ any;
                                                            m_match_bool_j_597 = var_j_592 ~ bool;
                                                            m_match_cond_j_598 = m_match_bool_j_597 ? (
                                                                    bool_j_599 = true
                                                                ) : (
                                                                    m_match_cond_j_595 = m_match_bool_j_594 ? (
                                                                        var_j_596 = fail_b_322
                                                                    ) : (
                                                                        void_j_593 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_604 = fun bj_null_j_20 -> (
                                                            int_j_601 = 0;
                                                            input_j_602 = input;
                                                            m_bl_i_2888 = int_j_601 ~ int;
                                                            m_br_i_2889 = input_j_602 ~ int;
                                                            m_b_i_2890 = m_bl_i_2888 and m_br_i_2889;
                                                            binop_j_603 = m_b_i_2890 ? (
                                                                    c_binop_i_2891 = int_j_601 <= input_j_602
                                                                ) : (
                                                                    ab_i_2892 = abort
                                                                ));
                                                        flatten_fun_j_606 = fun expr_b_323 -> (
                                                            var_j_605 = expr_b_323);
                                                        record_j_607 = 
                                                            {checker = flatten_fun_j_600, generator = flatten_fun_j_604, wrapper = flatten_fun_j_606};
                                                        proj_j_608 = record_j_607.checker;
                                                        var_j_609 = leaf_j_21;
                                                        appl_j_610 = proj_j_608 var_j_609
                                                    ) : (
                                                        m_match_cond_j_587 = m_match_bool_j_586 ? (
                                                                var_j_588 = rec_fail_b_317
                                                            ) : (
                                                                void_j_585 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_579 = m_match_bool_j_578 ? (
                                                        var_j_580 = rec_fail_b_318
                                                    ) : (
                                                        void_j_577 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_571 = m_match_bool_j_570 ? (
                                                var_j_572 = rec_fail_b_319
                                            ) : (
                                                void_j_569 = {}
                                            )
                                    ));
                            flatten_fun_j_637 = fun bj_null_j_24 -> (
                                bool_j_612 = false;
                                fail_b_315 = bool_j_612;
                                flatten_fun_j_621 = fun expr_b_314 -> (
                                    var_j_613 = expr_b_314;
                                    m_match_bool_j_615 = var_j_613 ~ any;
                                    m_match_bool_j_618 = var_j_613 ~ bool;
                                    m_match_cond_j_619 = m_match_bool_j_618 ? (
                                            bool_j_620 = true
                                        ) : (
                                            m_match_cond_j_616 = m_match_bool_j_615 ? (
                                                    var_j_617 = fail_b_315
                                                ) : (
                                                    void_j_614 = {}
                                                )
                                        ));
                                flatten_fun_j_625 = fun bj_null_j_23 -> (
                                    int_j_622 = 0;
                                    input_j_623 = input;
                                    m_bl_i_2893 = int_j_622 ~ int;
                                    m_br_i_2894 = input_j_623 ~ int;
                                    m_b_i_2895 = m_bl_i_2893 and m_br_i_2894;
                                    binop_j_624 = m_b_i_2895 ? (
                                            c_binop_i_2896 = int_j_622 <= input_j_623
                                        ) : (
                                            ab_i_2897 = abort
                                        ));
                                flatten_fun_j_627 = fun expr_b_316 -> (
                                    var_j_626 = expr_b_316);
                                record_j_628 = {checker = flatten_fun_j_621, generator = flatten_fun_j_625, wrapper = flatten_fun_j_627};
                                proj_j_629 = record_j_628.generator;
                                int_j_630 = 0;
                                appl_j_631 = proj_j_629 int_j_630;
                                leaf_b_313 = appl_j_631;
                                var_j_632 = leaf_b_313;
                                record_j_633 = {leaf = var_j_632};
                                record_j_634 = {};
                                record_j_635 = {leaf = record_j_634};
                                record_j_636 = {bj_actual_rec = record_j_633, bj_decl_lbls = record_j_635});
                            flatten_fun_j_639 = fun expr_b_324 -> (
                                var_j_638 = expr_b_324);
                            record_j_640 = {checker = flatten_fun_j_611, generator = flatten_fun_j_637, wrapper = flatten_fun_j_639};
                            proj_j_641 = record_j_640.checker;
                            var_j_642 = expr_b_325;
                            appl_j_643 = proj_j_641 var_j_642;
                            if_j_876 = appl_j_643 ? (
                                    bool_j_644 = true
                                ) : (
                                    flatten_fun_j_767 = fun expr_b_294 -> (
                                        bool_j_645 = false;
                                        rec_fail_b_293 = bool_j_645;
                                        bool_j_646 = false;
                                        rec_fail_b_292 = bool_j_646;
                                        bool_j_647 = false;
                                        rec_fail_b_291 = bool_j_647;
                                        var_j_648 = expr_b_294;
                                        m_match_bool_j_650 = var_j_648 ~ any;
                                        m_match_bool_j_653 = var_j_648 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_654 = m_match_bool_j_653 ? (
                                                var_j_655 = expr_b_294;
                                                proj_j_656 = var_j_655.bj_decl_lbls;
                                                m_match_bool_j_658 = proj_j_656 ~ any;
                                                m_match_bool_j_661 = proj_j_656 ~ 
                                                    {height, item, left, right, _};
                                                m_match_cond_j_662 = m_match_bool_j_661 ? (
                                                        height_j_36 = proj_j_656.height;
                                                        item_j_35 = proj_j_656.item;
                                                        left_j_34 = proj_j_656.left;
                                                        right_j_33 = proj_j_656.right;
                                                        var_j_663 = expr_b_294;
                                                        proj_j_664 = var_j_663.bj_actual_rec;
                                                        m_match_bool_j_666 = proj_j_664 ~ any;
                                                        m_match_bool_j_669 = proj_j_664 ~ 
                                                            {height, item, left, right, _};
                                                        m_match_cond_j_670 = m_match_bool_j_669 ? (
                                                                height_j_32 = proj_j_664.height;
                                                                item_j_31 = proj_j_664.item;
                                                                left_j_30 = proj_j_664.left;
                                                                right_j_29 = proj_j_664.right;
                                                                flatten_fun_j_699 = fun expr_b_308 -> (
                                                                    bool_j_671 = false;
                                                                    fail_b_306 = bool_j_671;
                                                                    flatten_fun_j_680 = fun expr_b_305 -> (
                                                                    var_j_672 = expr_b_305;
                                                                    m_match_bool_j_674 = var_j_672 ~ any;
                                                                    m_match_bool_j_677 = var_j_672 ~ int;
                                                                    m_match_cond_j_678 = m_match_bool_j_677 ? (
                                                                        bool_j_679 = true
                                                                    ) : (
                                                                        m_match_cond_j_675 = m_match_bool_j_674 ? (
                                                                        var_j_676 = fail_b_306
                                                                    ) : (
                                                                        void_j_673 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_682 = fun bj_null_j_25 -> (
                                                                    input_j_681 = input);
                                                                    flatten_fun_j_684 = fun expr_b_307 -> (
                                                                    var_j_683 = expr_b_307);
                                                                    record_j_685 = 
                                                                    {checker = flatten_fun_j_680, generator = flatten_fun_j_682, wrapper = flatten_fun_j_684};
                                                                    proj_j_686 = record_j_685.checker;
                                                                    var_j_687 = expr_b_308;
                                                                    appl_j_688 = proj_j_686 var_j_687;
                                                                    t_check_b_309 = appl_j_688;
                                                                    var_j_689 = t_check_b_309;
                                                                    if_j_698 = var_j_689 ? (
                                                                        bool_j_690 = false;
                                                                    pred_check_b_310 = bool_j_690;
                                                                    var_j_691 = is_pos;
                                                                    var_j_692 = expr_b_308;
                                                                    appl_j_693 = var_j_691 var_j_692;
                                                                    if_j_696 = appl_j_693 ? (
                                                                        bool_j_694 = true
                                                                    ) : (
                                                                        var_j_695 = pred_check_b_310
                                                                    )
                                                                    ) : (
                                                                        var_j_697 = t_check_b_309
                                                                    ));
                                                                flatten_fun_j_725 = fun bj_null_j_27 -> (
                                                                    bool_j_700 = false;
                                                                    fail_b_302 = bool_j_700;
                                                                    flatten_fun_j_709 = fun expr_b_301 -> (
                                                                    var_j_701 = expr_b_301;
                                                                    m_match_bool_j_703 = var_j_701 ~ any;
                                                                    m_match_bool_j_706 = var_j_701 ~ int;
                                                                    m_match_cond_j_707 = m_match_bool_j_706 ? (
                                                                        bool_j_708 = true
                                                                    ) : (
                                                                        m_match_cond_j_704 = m_match_bool_j_703 ? (
                                                                        var_j_705 = fail_b_302
                                                                    ) : (
                                                                        void_j_702 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_711 = fun bj_null_j_26 -> (
                                                                    input_j_710 = input);
                                                                    flatten_fun_j_713 = fun expr_b_303 -> (
                                                                    var_j_712 = expr_b_303);
                                                                    record_j_714 = 
                                                                    {checker = flatten_fun_j_709, generator = flatten_fun_j_711, wrapper = flatten_fun_j_713};
                                                                    proj_j_715 = record_j_714.generator;
                                                                    int_j_716 = 0;
                                                                    appl_j_717 = proj_j_715 int_j_716;
                                                                    candidate_b_304 = appl_j_717;
                                                                    var_j_718 = is_pos;
                                                                    var_j_719 = candidate_b_304;
                                                                    appl_j_720 = var_j_718 var_j_719;
                                                                    if_j_724 = appl_j_720 ? (
                                                                        var_j_721 = candidate_b_304
                                                                    ) : (
                                                                        bool_j_722 = false;
                                                                    assume_j_723 = assume bool_j_722
                                                                    ));
                                                                flatten_fun_j_727 = fun expr_b_311 -> (
                                                                    var_j_726 = expr_b_311);
                                                                record_j_728 = 
                                                                    {checker = flatten_fun_j_699, generator = flatten_fun_j_725, wrapper = flatten_fun_j_727};
                                                                proj_j_729 = record_j_728.checker;
                                                                var_j_730 = height_j_32;
                                                                appl_j_731 = proj_j_729 var_j_730;
                                                                lbl_check_b_300 = appl_j_731;
                                                                var_j_732 = lbl_check_b_300;
                                                                if_j_766 = var_j_732 ? (
                                                                        
                                                                    bool_j_733 = false;
                                                                    fail_b_298 = bool_j_733;
                                                                    flatten_fun_j_742 = fun expr_b_297 -> (
                                                                    var_j_734 = expr_b_297;
                                                                    m_match_bool_j_736 = var_j_734 ~ any;
                                                                    m_match_bool_j_739 = var_j_734 ~ int;
                                                                    m_match_cond_j_740 = m_match_bool_j_739 ? (
                                                                        bool_j_741 = true
                                                                    ) : (
                                                                        m_match_cond_j_737 = m_match_bool_j_736 ? (
                                                                        var_j_738 = fail_b_298
                                                                    ) : (
                                                                        void_j_735 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_744 = fun bj_null_j_28 -> (
                                                                    input_j_743 = input);
                                                                    flatten_fun_j_746 = fun expr_b_299 -> (
                                                                    var_j_745 = expr_b_299);
                                                                    record_j_747 = 
                                                                    {checker = flatten_fun_j_742, generator = flatten_fun_j_744, wrapper = flatten_fun_j_746};
                                                                    proj_j_748 = record_j_747.checker;
                                                                    var_j_749 = item_j_31;
                                                                    appl_j_750 = proj_j_748 var_j_749;
                                                                    lbl_check_b_296 = appl_j_750;
                                                                    var_j_751 = lbl_check_b_296;
                                                                    if_j_764 = var_j_751 ? (
                                                                        var_j_752 = tt;
                                                                    proj_j_753 = var_j_752.checker;
                                                                    var_j_754 = left_j_30;
                                                                    appl_j_755 = proj_j_753 var_j_754;
                                                                    lbl_check_b_295 = appl_j_755;
                                                                    var_j_756 = lbl_check_b_295;
                                                                    if_j_762 = var_j_756 ? (
                                                                        var_j_757 = tt;
                                                                    proj_j_758 = var_j_757.checker;
                                                                    var_j_759 = right_j_29;
                                                                    appl_j_760 = proj_j_758 var_j_759
                                                                    ) : (
                                                                        var_j_761 = lbl_check_b_295
                                                                    )
                                                                    ) : (
                                                                        var_j_763 = lbl_check_b_296
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_765 = lbl_check_b_300
                                                                    )
                                                            ) : (
                                                                m_match_cond_j_667 = m_match_bool_j_666 ? (
                                                                        
                                                                    var_j_668 = rec_fail_b_291
                                                                    ) : (
                                                                        
                                                                    void_j_665 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_659 = m_match_bool_j_658 ? (
                                                                var_j_660 = rec_fail_b_292
                                                            ) : (
                                                                void_j_657 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_651 = m_match_bool_j_650 ? (
                                                        var_j_652 = rec_fail_b_293
                                                    ) : (
                                                        void_j_649 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_866 = fun bj_null_j_41 -> (
                                        var_j_768 = tt;
                                        proj_j_769 = var_j_768.generator;
                                        int_j_770 = 0;
                                        appl_j_771 = proj_j_769 int_j_770;
                                        right_b_276 = appl_j_771;
                                        var_j_772 = tt;
                                        proj_j_773 = var_j_772.generator;
                                        int_j_774 = 0;
                                        appl_j_775 = proj_j_773 int_j_774;
                                        left_b_275 = appl_j_775;
                                        bool_j_776 = false;
                                        fail_b_289 = bool_j_776;
                                        flatten_fun_j_785 = fun expr_b_288 -> (
                                            var_j_777 = expr_b_288;
                                            m_match_bool_j_779 = var_j_777 ~ any;
                                            m_match_bool_j_782 = var_j_777 ~ int;
                                            m_match_cond_j_783 = m_match_bool_j_782 ? (
                                                    bool_j_784 = true
                                                ) : (
                                                    m_match_cond_j_780 = m_match_bool_j_779 ? (
                                                            var_j_781 = fail_b_289
                                                        ) : (
                                                            void_j_778 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_787 = fun bj_null_j_37 -> (
                                            input_j_786 = input);
                                        flatten_fun_j_789 = fun expr_b_290 -> (
                                            var_j_788 = expr_b_290);
                                        record_j_790 = {checker = flatten_fun_j_785, generator = flatten_fun_j_787, wrapper = flatten_fun_j_789};
                                        proj_j_791 = record_j_790.generator;
                                        int_j_792 = 0;
                                        appl_j_793 = proj_j_791 int_j_792;
                                        item_b_274 = appl_j_793;
                                        flatten_fun_j_822 = fun expr_b_284 -> (
                                            bool_j_794 = false;
                                            fail_b_282 = bool_j_794;
                                            flatten_fun_j_803 = fun expr_b_281 -> (
                                                var_j_795 = expr_b_281;
                                                m_match_bool_j_797 = var_j_795 ~ any;
                                                m_match_bool_j_800 = var_j_795 ~ int;
                                                m_match_cond_j_801 = m_match_bool_j_800 ? (
                                                        bool_j_802 = true
                                                    ) : (
                                                        m_match_cond_j_798 = m_match_bool_j_797 ? (
                                                                var_j_799 = fail_b_282
                                                            ) : (
                                                                void_j_796 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_805 = fun bj_null_j_38 -> (
                                                input_j_804 = input);
                                            flatten_fun_j_807 = fun expr_b_283 -> (
                                                var_j_806 = expr_b_283);
                                            record_j_808 = {checker = flatten_fun_j_803, generator = flatten_fun_j_805, wrapper = flatten_fun_j_807};
                                            proj_j_809 = record_j_808.checker;
                                            var_j_810 = expr_b_284;
                                            appl_j_811 = proj_j_809 var_j_810;
                                            t_check_b_285 = appl_j_811;
                                            var_j_812 = t_check_b_285;
                                            if_j_821 = var_j_812 ? (
                                                    bool_j_813 = false;
                                                    pred_check_b_286 = bool_j_813;
                                                    var_j_814 = is_pos;
                                                    var_j_815 = expr_b_284;
                                                    appl_j_816 = var_j_814 var_j_815;
                                                    if_j_819 = appl_j_816 ? (
                                                            bool_j_817 = true
                                                        ) : (
                                                            var_j_818 = pred_check_b_286
                                                        )
                                                ) : (
                                                    var_j_820 = t_check_b_285
                                                ));
                                        flatten_fun_j_848 = fun bj_null_j_40 -> (
                                            bool_j_823 = false;
                                            fail_b_278 = bool_j_823;
                                            flatten_fun_j_832 = fun expr_b_277 -> (
                                                var_j_824 = expr_b_277;
                                                m_match_bool_j_826 = var_j_824 ~ any;
                                                m_match_bool_j_829 = var_j_824 ~ int;
                                                m_match_cond_j_830 = m_match_bool_j_829 ? (
                                                        bool_j_831 = true
                                                    ) : (
                                                        m_match_cond_j_827 = m_match_bool_j_826 ? (
                                                                var_j_828 = fail_b_278
                                                            ) : (
                                                                void_j_825 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_834 = fun bj_null_j_39 -> (
                                                input_j_833 = input);
                                            flatten_fun_j_836 = fun expr_b_279 -> (
                                                var_j_835 = expr_b_279);
                                            record_j_837 = {checker = flatten_fun_j_832, generator = flatten_fun_j_834, wrapper = flatten_fun_j_836};
                                            proj_j_838 = record_j_837.generator;
                                            int_j_839 = 0;
                                            appl_j_840 = proj_j_838 int_j_839;
                                            candidate_b_280 = appl_j_840;
                                            var_j_841 = is_pos;
                                            var_j_842 = candidate_b_280;
                                            appl_j_843 = var_j_841 var_j_842;
                                            if_j_847 = appl_j_843 ? (
                                                    var_j_844 = candidate_b_280
                                                ) : (
                                                    bool_j_845 = false;
                                                    assume_j_846 = assume bool_j_845
                                                ));
                                        flatten_fun_j_850 = fun expr_b_287 -> (
                                            var_j_849 = expr_b_287);
                                        record_j_851 = {checker = flatten_fun_j_822, generator = flatten_fun_j_848, wrapper = flatten_fun_j_850};
                                        proj_j_852 = record_j_851.generator;
                                        int_j_853 = 0;
                                        appl_j_854 = proj_j_852 int_j_853;
                                        height_b_273 = appl_j_854;
                                        var_j_855 = height_b_273;
                                        var_j_856 = item_b_274;
                                        var_j_857 = left_b_275;
                                        var_j_858 = right_b_276;
                                        record_j_859 = {height = var_j_855, item = var_j_856, left = var_j_857, right = var_j_858};
                                        record_j_860 = {};
                                        record_j_861 = {};
                                        record_j_862 = {};
                                        record_j_863 = {};
                                        record_j_864 = {height = record_j_860, item = record_j_861, left = record_j_862, right = record_j_863};
                                        record_j_865 = {bj_actual_rec = record_j_859, bj_decl_lbls = record_j_864});
                                    flatten_fun_j_868 = fun expr_b_312 -> (
                                        var_j_867 = expr_b_312);
                                    record_j_869 = {checker = flatten_fun_j_767, generator = flatten_fun_j_866, wrapper = flatten_fun_j_868};
                                    proj_j_870 = record_j_869.checker;
                                    var_j_871 = expr_b_325;
                                    appl_j_872 = proj_j_870 var_j_871;
                                    if_j_875 = appl_j_872 ? (
                                            bool_j_873 = true
                                        ) : (
                                            var_j_874 = fail_b_327
                                        )
                                )
                        ));
                flatten_fun_j_1191 = fun bj_null_j_64 -> (
                    input_j_879 = input;
                    select_int_b_220 = input_j_879;
                    int_j_880 = 0;
                    var_j_881 = select_int_b_220;
                    binop_j_882 = int_j_880 <= var_j_881;
                    if_j_1190 = binop_j_882 ? (
                            flatten_fun_j_1005 = fun expr_b_189 -> (
                                bool_j_883 = false;
                                rec_fail_b_188 = bool_j_883;
                                bool_j_884 = false;
                                rec_fail_b_187 = bool_j_884;
                                bool_j_885 = false;
                                rec_fail_b_186 = bool_j_885;
                                var_j_886 = expr_b_189;
                                m_match_bool_j_888 = var_j_886 ~ any;
                                m_match_bool_j_891 = var_j_886 ~ {bj_actual_rec, _};
                                m_match_cond_j_892 = m_match_bool_j_891 ? (
                                        var_j_893 = expr_b_189;
                                        proj_j_894 = var_j_893.bj_decl_lbls;
                                        m_match_bool_j_896 = proj_j_894 ~ any;
                                        m_match_bool_j_899 = proj_j_894 ~ 
                                            {height, item, left, right, _};
                                        m_match_cond_j_900 = m_match_bool_j_899 ? (
                                                height_j_53 = proj_j_894.height;
                                                item_j_52 = proj_j_894.item;
                                                left_j_51 = proj_j_894.left;
                                                right_j_50 = proj_j_894.right;
                                                var_j_901 = expr_b_189;
                                                proj_j_902 = var_j_901.bj_actual_rec;
                                                m_match_bool_j_904 = proj_j_902 ~ any;
                                                m_match_bool_j_907 = proj_j_902 ~ 
                                                    {height, item, left, right, _};
                                                m_match_cond_j_908 = m_match_bool_j_907 ? (
                                                        height_j_49 = proj_j_902.height;
                                                        item_j_48 = proj_j_902.item;
                                                        left_j_47 = proj_j_902.left;
                                                        right_j_46 = proj_j_902.right;
                                                        flatten_fun_j_937 = fun expr_b_203 -> (
                                                            bool_j_909 = false;
                                                            fail_b_201 = bool_j_909;
                                                            flatten_fun_j_918 = fun expr_b_200 -> (
                                                                var_j_910 = expr_b_200;
                                                                m_match_bool_j_912 = var_j_910 ~ any;
                                                                m_match_bool_j_915 = var_j_910 ~ int;
                                                                m_match_cond_j_916 = m_match_bool_j_915 ? (
                                                                        
                                                                    bool_j_917 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_913 = m_match_bool_j_912 ? (
                                                                        var_j_914 = fail_b_201
                                                                    ) : (
                                                                        void_j_911 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_920 = fun bj_null_j_42 -> (
                                                                input_j_919 = input);
                                                            flatten_fun_j_922 = fun expr_b_202 -> (
                                                                var_j_921 = expr_b_202);
                                                            record_j_923 = 
                                                                {checker = flatten_fun_j_918, generator = flatten_fun_j_920, wrapper = flatten_fun_j_922};
                                                            proj_j_924 = record_j_923.checker;
                                                            var_j_925 = expr_b_203;
                                                            appl_j_926 = proj_j_924 var_j_925;
                                                            t_check_b_204 = appl_j_926;
                                                            var_j_927 = t_check_b_204;
                                                            if_j_936 = var_j_927 ? (
                                                                    bool_j_928 = false;
                                                                    pred_check_b_205 = bool_j_928;
                                                                    var_j_929 = is_pos;
                                                                    var_j_930 = expr_b_203;
                                                                    appl_j_931 = var_j_929 var_j_930;
                                                                    if_j_934 = appl_j_931 ? (
                                                                        bool_j_932 = true
                                                                    ) : (
                                                                        var_j_933 = pred_check_b_205
                                                                    )
                                                                ) : (
                                                                    var_j_935 = t_check_b_204
                                                                ));
                                                        flatten_fun_j_963 = fun bj_null_j_44 -> (
                                                            bool_j_938 = false;
                                                            fail_b_197 = bool_j_938;
                                                            flatten_fun_j_947 = fun expr_b_196 -> (
                                                                var_j_939 = expr_b_196;
                                                                m_match_bool_j_941 = var_j_939 ~ any;
                                                                m_match_bool_j_944 = var_j_939 ~ int;
                                                                m_match_cond_j_945 = m_match_bool_j_944 ? (
                                                                        
                                                                    bool_j_946 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_942 = m_match_bool_j_941 ? (
                                                                        var_j_943 = fail_b_197
                                                                    ) : (
                                                                        void_j_940 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_949 = fun bj_null_j_43 -> (
                                                                input_j_948 = input);
                                                            flatten_fun_j_951 = fun expr_b_198 -> (
                                                                var_j_950 = expr_b_198);
                                                            record_j_952 = 
                                                                {checker = flatten_fun_j_947, generator = flatten_fun_j_949, wrapper = flatten_fun_j_951};
                                                            proj_j_953 = record_j_952.generator;
                                                            int_j_954 = 0;
                                                            appl_j_955 = proj_j_953 int_j_954;
                                                            candidate_b_199 = appl_j_955;
                                                            var_j_956 = is_pos;
                                                            var_j_957 = candidate_b_199;
                                                            appl_j_958 = var_j_956 var_j_957;
                                                            if_j_962 = appl_j_958 ? (
                                                                    var_j_959 = candidate_b_199
                                                                ) : (
                                                                    bool_j_960 = false;
                                                                    assume_j_961 = assume bool_j_960
                                                                ));
                                                        flatten_fun_j_965 = fun expr_b_206 -> (
                                                            var_j_964 = expr_b_206);
                                                        record_j_966 = 
                                                            {checker = flatten_fun_j_937, generator = flatten_fun_j_963, wrapper = flatten_fun_j_965};
                                                        proj_j_967 = record_j_966.checker;
                                                        var_j_968 = height_j_49;
                                                        appl_j_969 = proj_j_967 var_j_968;
                                                        lbl_check_b_195 = appl_j_969;
                                                        var_j_970 = lbl_check_b_195;
                                                        if_j_1004 = var_j_970 ? (
                                                                bool_j_971 = false;
                                                                fail_b_193 = bool_j_971;
                                                                flatten_fun_j_980 = fun expr_b_192 -> (
                                                                    var_j_972 = expr_b_192;
                                                                    m_match_bool_j_974 = var_j_972 ~ any;
                                                                    m_match_bool_j_977 = var_j_972 ~ int;
                                                                    m_match_cond_j_978 = m_match_bool_j_977 ? (
                                                                        bool_j_979 = true
                                                                    ) : (
                                                                        m_match_cond_j_975 = m_match_bool_j_974 ? (
                                                                        var_j_976 = fail_b_193
                                                                    ) : (
                                                                        void_j_973 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_982 = fun bj_null_j_45 -> (
                                                                    input_j_981 = input);
                                                                flatten_fun_j_984 = fun expr_b_194 -> (
                                                                    var_j_983 = expr_b_194);
                                                                record_j_985 = 
                                                                    {checker = flatten_fun_j_980, generator = flatten_fun_j_982, wrapper = flatten_fun_j_984};
                                                                proj_j_986 = record_j_985.checker;
                                                                var_j_987 = item_j_48;
                                                                appl_j_988 = proj_j_986 var_j_987;
                                                                lbl_check_b_191 = appl_j_988;
                                                                var_j_989 = lbl_check_b_191;
                                                                if_j_1002 = var_j_989 ? (
                                                                        
                                                                    var_j_990 = tt;
                                                                    proj_j_991 = var_j_990.checker;
                                                                    var_j_992 = left_j_47;
                                                                    appl_j_993 = proj_j_991 var_j_992;
                                                                    lbl_check_b_190 = appl_j_993;
                                                                    var_j_994 = lbl_check_b_190;
                                                                    if_j_1000 = var_j_994 ? (
                                                                        var_j_995 = tt;
                                                                    proj_j_996 = var_j_995.checker;
                                                                    var_j_997 = right_j_46;
                                                                    appl_j_998 = proj_j_996 var_j_997
                                                                    ) : (
                                                                        var_j_999 = lbl_check_b_190
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1001 = lbl_check_b_191
                                                                    )
                                                            ) : (
                                                                var_j_1003 = lbl_check_b_195
                                                            )
                                                    ) : (
                                                        m_match_cond_j_905 = m_match_bool_j_904 ? (
                                                                var_j_906 = rec_fail_b_186
                                                            ) : (
                                                                void_j_903 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_897 = m_match_bool_j_896 ? (
                                                        var_j_898 = rec_fail_b_187
                                                    ) : (
                                                        void_j_895 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_889 = m_match_bool_j_888 ? (
                                                var_j_890 = rec_fail_b_188
                                            ) : (
                                                void_j_887 = {}
                                            )
                                    ));
                            flatten_fun_j_1104 = fun bj_null_j_58 -> (
                                var_j_1006 = tt;
                                proj_j_1007 = var_j_1006.generator;
                                int_j_1008 = 0;
                                appl_j_1009 = proj_j_1007 int_j_1008;
                                right_b_171 = appl_j_1009;
                                var_j_1010 = tt;
                                proj_j_1011 = var_j_1010.generator;
                                int_j_1012 = 0;
                                appl_j_1013 = proj_j_1011 int_j_1012;
                                left_b_170 = appl_j_1013;
                                bool_j_1014 = false;
                                fail_b_184 = bool_j_1014;
                                flatten_fun_j_1023 = fun expr_b_183 -> (
                                    var_j_1015 = expr_b_183;
                                    m_match_bool_j_1017 = var_j_1015 ~ any;
                                    m_match_bool_j_1020 = var_j_1015 ~ int;
                                    m_match_cond_j_1021 = m_match_bool_j_1020 ? (
                                            bool_j_1022 = true
                                        ) : (
                                            m_match_cond_j_1018 = m_match_bool_j_1017 ? (
                                                    var_j_1019 = fail_b_184
                                                ) : (
                                                    void_j_1016 = {}
                                                )
                                        ));
                                flatten_fun_j_1025 = fun bj_null_j_54 -> (
                                    input_j_1024 = input);
                                flatten_fun_j_1027 = fun expr_b_185 -> (
                                    var_j_1026 = expr_b_185);
                                record_j_1028 = {checker = flatten_fun_j_1023, generator = flatten_fun_j_1025, wrapper = flatten_fun_j_1027};
                                proj_j_1029 = record_j_1028.generator;
                                int_j_1030 = 0;
                                appl_j_1031 = proj_j_1029 int_j_1030;
                                item_b_169 = appl_j_1031;
                                flatten_fun_j_1060 = fun expr_b_179 -> (
                                    bool_j_1032 = false;
                                    fail_b_177 = bool_j_1032;
                                    flatten_fun_j_1041 = fun expr_b_176 -> (
                                        var_j_1033 = expr_b_176;
                                        m_match_bool_j_1035 = var_j_1033 ~ any;
                                        m_match_bool_j_1038 = var_j_1033 ~ int;
                                        m_match_cond_j_1039 = m_match_bool_j_1038 ? (
                                                bool_j_1040 = true
                                            ) : (
                                                m_match_cond_j_1036 = m_match_bool_j_1035 ? (
                                                        var_j_1037 = fail_b_177
                                                    ) : (
                                                        void_j_1034 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1043 = fun bj_null_j_55 -> (
                                        input_j_1042 = input);
                                    flatten_fun_j_1045 = fun expr_b_178 -> (
                                        var_j_1044 = expr_b_178);
                                    record_j_1046 = {checker = flatten_fun_j_1041, generator = flatten_fun_j_1043, wrapper = flatten_fun_j_1045};
                                    proj_j_1047 = record_j_1046.checker;
                                    var_j_1048 = expr_b_179;
                                    appl_j_1049 = proj_j_1047 var_j_1048;
                                    t_check_b_180 = appl_j_1049;
                                    var_j_1050 = t_check_b_180;
                                    if_j_1059 = var_j_1050 ? (
                                            bool_j_1051 = false;
                                            pred_check_b_181 = bool_j_1051;
                                            var_j_1052 = is_pos;
                                            var_j_1053 = expr_b_179;
                                            appl_j_1054 = var_j_1052 var_j_1053;
                                            if_j_1057 = appl_j_1054 ? (
                                                    bool_j_1055 = true
                                                ) : (
                                                    var_j_1056 = pred_check_b_181
                                                )
                                        ) : (
                                            var_j_1058 = t_check_b_180
                                        ));
                                flatten_fun_j_1086 = fun bj_null_j_57 -> (
                                    bool_j_1061 = false;
                                    fail_b_173 = bool_j_1061;
                                    flatten_fun_j_1070 = fun expr_b_172 -> (
                                        var_j_1062 = expr_b_172;
                                        m_match_bool_j_1064 = var_j_1062 ~ any;
                                        m_match_bool_j_1067 = var_j_1062 ~ int;
                                        m_match_cond_j_1068 = m_match_bool_j_1067 ? (
                                                bool_j_1069 = true
                                            ) : (
                                                m_match_cond_j_1065 = m_match_bool_j_1064 ? (
                                                        var_j_1066 = fail_b_173
                                                    ) : (
                                                        void_j_1063 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1072 = fun bj_null_j_56 -> (
                                        input_j_1071 = input);
                                    flatten_fun_j_1074 = fun expr_b_174 -> (
                                        var_j_1073 = expr_b_174);
                                    record_j_1075 = {checker = flatten_fun_j_1070, generator = flatten_fun_j_1072, wrapper = flatten_fun_j_1074};
                                    proj_j_1076 = record_j_1075.generator;
                                    int_j_1077 = 0;
                                    appl_j_1078 = proj_j_1076 int_j_1077;
                                    candidate_b_175 = appl_j_1078;
                                    var_j_1079 = is_pos;
                                    var_j_1080 = candidate_b_175;
                                    appl_j_1081 = var_j_1079 var_j_1080;
                                    if_j_1085 = appl_j_1081 ? (
                                            var_j_1082 = candidate_b_175
                                        ) : (
                                            bool_j_1083 = false;
                                            assume_j_1084 = assume bool_j_1083
                                        ));
                                flatten_fun_j_1088 = fun expr_b_182 -> (
                                    var_j_1087 = expr_b_182);
                                record_j_1089 = {checker = flatten_fun_j_1060, generator = flatten_fun_j_1086, wrapper = flatten_fun_j_1088};
                                proj_j_1090 = record_j_1089.generator;
                                int_j_1091 = 0;
                                appl_j_1092 = proj_j_1090 int_j_1091;
                                height_b_168 = appl_j_1092;
                                var_j_1093 = height_b_168;
                                var_j_1094 = item_b_169;
                                var_j_1095 = left_b_170;
                                var_j_1096 = right_b_171;
                                record_j_1097 = {height = var_j_1093, item = var_j_1094, left = var_j_1095, right = var_j_1096};
                                record_j_1098 = {};
                                record_j_1099 = {};
                                record_j_1100 = {};
                                record_j_1101 = {};
                                record_j_1102 = {height = record_j_1098, item = record_j_1099, left = record_j_1100, right = record_j_1101};
                                record_j_1103 = {bj_actual_rec = record_j_1097, bj_decl_lbls = record_j_1102});
                            flatten_fun_j_1106 = fun expr_b_207 -> (
                                var_j_1105 = expr_b_207);
                            record_j_1107 = {checker = flatten_fun_j_1005, generator = flatten_fun_j_1104, wrapper = flatten_fun_j_1106};
                            proj_j_1108 = record_j_1107.generator;
                            int_j_1109 = 0;
                            appl_j_1110 = proj_j_1108 int_j_1109
                        ) : (
                            flatten_fun_j_1157 = fun expr_b_215 -> (
                                bool_j_1111 = false;
                                rec_fail_b_214 = bool_j_1111;
                                bool_j_1112 = false;
                                rec_fail_b_213 = bool_j_1112;
                                bool_j_1113 = false;
                                rec_fail_b_212 = bool_j_1113;
                                var_j_1114 = expr_b_215;
                                m_match_bool_j_1116 = var_j_1114 ~ any;
                                m_match_bool_j_1119 = var_j_1114 ~ {bj_actual_rec, _};
                                m_match_cond_j_1120 = m_match_bool_j_1119 ? (
                                        var_j_1121 = expr_b_215;
                                        proj_j_1122 = var_j_1121.bj_decl_lbls;
                                        m_match_bool_j_1124 = proj_j_1122 ~ any;
                                        m_match_bool_j_1127 = proj_j_1122 ~ 
                                            {leaf, _};
                                        m_match_cond_j_1128 = m_match_bool_j_1127 ? (
                                                leaf_j_61 = proj_j_1122.leaf;
                                                var_j_1129 = expr_b_215;
                                                proj_j_1130 = var_j_1129.bj_actual_rec;
                                                m_match_bool_j_1132 = proj_j_1130 ~ any;
                                                m_match_bool_j_1135 = proj_j_1130 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1136 = m_match_bool_j_1135 ? (
                                                        leaf_j_60 = proj_j_1130.leaf;
                                                        bool_j_1137 = false;
                                                        fail_b_217 = bool_j_1137;
                                                        flatten_fun_j_1146 = fun expr_b_216 -> (
                                                            var_j_1138 = expr_b_216;
                                                            m_match_bool_j_1140 = var_j_1138 ~ any;
                                                            m_match_bool_j_1143 = var_j_1138 ~ bool;
                                                            m_match_cond_j_1144 = m_match_bool_j_1143 ? (
                                                                    bool_j_1145 = true
                                                                ) : (
                                                                    m_match_cond_j_1141 = m_match_bool_j_1140 ? (
                                                                        var_j_1142 = fail_b_217
                                                                    ) : (
                                                                        void_j_1139 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_1150 = fun bj_null_j_59 -> (
                                                            int_j_1147 = 0;
                                                            input_j_1148 = input;
                                                            m_bl_i_2898 = int_j_1147 ~ int;
                                                            m_br_i_2899 = input_j_1148 ~ int;
                                                            m_b_i_2900 = m_bl_i_2898 and m_br_i_2899;
                                                            binop_j_1149 = m_b_i_2900 ? (
                                                                    c_binop_i_2901 = int_j_1147 <= input_j_1148
                                                                ) : (
                                                                    ab_i_2902 = abort
                                                                ));
                                                        flatten_fun_j_1152 = fun expr_b_218 -> (
                                                            var_j_1151 = expr_b_218);
                                                        record_j_1153 = 
                                                            {checker = flatten_fun_j_1146, generator = flatten_fun_j_1150, wrapper = flatten_fun_j_1152};
                                                        proj_j_1154 = record_j_1153.checker;
                                                        var_j_1155 = leaf_j_60;
                                                        appl_j_1156 = proj_j_1154 var_j_1155
                                                    ) : (
                                                        m_match_cond_j_1133 = m_match_bool_j_1132 ? (
                                                                var_j_1134 = rec_fail_b_212
                                                            ) : (
                                                                void_j_1131 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1125 = m_match_bool_j_1124 ? (
                                                        var_j_1126 = rec_fail_b_213
                                                    ) : (
                                                        void_j_1123 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1117 = m_match_bool_j_1116 ? (
                                                var_j_1118 = rec_fail_b_214
                                            ) : (
                                                void_j_1115 = {}
                                            )
                                    ));
                            flatten_fun_j_1183 = fun bj_null_j_63 -> (
                                bool_j_1158 = false;
                                fail_b_210 = bool_j_1158;
                                flatten_fun_j_1167 = fun expr_b_209 -> (
                                    var_j_1159 = expr_b_209;
                                    m_match_bool_j_1161 = var_j_1159 ~ any;
                                    m_match_bool_j_1164 = var_j_1159 ~ bool;
                                    m_match_cond_j_1165 = m_match_bool_j_1164 ? (
                                            bool_j_1166 = true
                                        ) : (
                                            m_match_cond_j_1162 = m_match_bool_j_1161 ? (
                                                    var_j_1163 = fail_b_210
                                                ) : (
                                                    void_j_1160 = {}
                                                )
                                        ));
                                flatten_fun_j_1171 = fun bj_null_j_62 -> (
                                    int_j_1168 = 0;
                                    input_j_1169 = input;
                                    m_bl_i_2903 = int_j_1168 ~ int;
                                    m_br_i_2904 = input_j_1169 ~ int;
                                    m_b_i_2905 = m_bl_i_2903 and m_br_i_2904;
                                    binop_j_1170 = m_b_i_2905 ? (
                                            c_binop_i_2906 = int_j_1168 <= input_j_1169
                                        ) : (
                                            ab_i_2907 = abort
                                        ));
                                flatten_fun_j_1173 = fun expr_b_211 -> (
                                    var_j_1172 = expr_b_211);
                                record_j_1174 = {checker = flatten_fun_j_1167, generator = flatten_fun_j_1171, wrapper = flatten_fun_j_1173};
                                proj_j_1175 = record_j_1174.generator;
                                int_j_1176 = 0;
                                appl_j_1177 = proj_j_1175 int_j_1176;
                                leaf_b_208 = appl_j_1177;
                                var_j_1178 = leaf_b_208;
                                record_j_1179 = {leaf = var_j_1178};
                                record_j_1180 = {};
                                record_j_1181 = {leaf = record_j_1180};
                                record_j_1182 = {bj_actual_rec = record_j_1179, bj_decl_lbls = record_j_1181});
                            flatten_fun_j_1185 = fun expr_b_219 -> (
                                var_j_1184 = expr_b_219);
                            record_j_1186 = {checker = flatten_fun_j_1157, generator = flatten_fun_j_1183, wrapper = flatten_fun_j_1185};
                            proj_j_1187 = record_j_1186.generator;
                            int_j_1188 = 0;
                            appl_j_1189 = proj_j_1187 int_j_1188
                        ));
                flatten_fun_j_1193 = fun expr_b_328 -> (
                    var_j_1192 = expr_b_328);
                record_j_1194 = {checker = flatten_fun_j_878, generator = flatten_fun_j_1191, wrapper = flatten_fun_j_1193};
                proj_j_1195 = record_j_1194.checker;
                var_j_1196 = expr_b_329;
                appl_j_1197 = proj_j_1195 var_j_1196);
            var_j_1199 = self_b_2;
            int_j_1200 = 0;
            appl_j_1201 = var_j_1199 int_j_1200;
            appl_j_1202 = flatten_fun_j_1198 appl_j_1201);
        flatten_fun_j_2159 = fun bj_null_j_133 -> (
            flatten_fun_j_2154 = fun tt_j_132 -> (
                flatten_fun_j_1834 = fun expr_b_164 -> (
                    input_j_1204 = input;
                    select_int_b_165 = input_j_1204;
                    bool_j_1205 = false;
                    fail_b_166 = bool_j_1205;
                    int_j_1206 = 0;
                    var_j_1207 = select_int_b_165;
                    binop_j_1208 = int_j_1206 <= var_j_1207;
                    if_j_1833 = binop_j_1208 ? (
                            flatten_fun_j_1331 = fun expr_b_81 -> (
                                bool_j_1209 = false;
                                rec_fail_b_80 = bool_j_1209;
                                bool_j_1210 = false;
                                rec_fail_b_79 = bool_j_1210;
                                bool_j_1211 = false;
                                rec_fail_b_78 = bool_j_1211;
                                var_j_1212 = expr_b_81;
                                m_match_bool_j_1214 = var_j_1212 ~ any;
                                m_match_bool_j_1217 = var_j_1212 ~ {bj_actual_rec, _};
                                m_match_cond_j_1218 = m_match_bool_j_1217 ? (
                                        var_j_1219 = expr_b_81;
                                        proj_j_1220 = var_j_1219.bj_decl_lbls;
                                        m_match_bool_j_1222 = proj_j_1220 ~ any;
                                        m_match_bool_j_1225 = proj_j_1220 ~ 
                                            {height, item, left, right, _};
                                        m_match_cond_j_1226 = m_match_bool_j_1225 ? (
                                                height_j_76 = proj_j_1220.height;
                                                item_j_75 = proj_j_1220.item;
                                                left_j_74 = proj_j_1220.left;
                                                right_j_73 = proj_j_1220.right;
                                                var_j_1227 = expr_b_81;
                                                proj_j_1228 = var_j_1227.bj_actual_rec;
                                                m_match_bool_j_1230 = proj_j_1228 ~ any;
                                                m_match_bool_j_1233 = proj_j_1228 ~ 
                                                    {height, item, left, right, _};
                                                m_match_cond_j_1234 = m_match_bool_j_1233 ? (
                                                        height_j_72 = proj_j_1228.height;
                                                        item_j_71 = proj_j_1228.item;
                                                        left_j_70 = proj_j_1228.left;
                                                        right_j_69 = proj_j_1228.right;
                                                        flatten_fun_j_1263 = fun expr_b_95 -> (
                                                            bool_j_1235 = false;
                                                            fail_b_93 = bool_j_1235;
                                                            flatten_fun_j_1244 = fun expr_b_92 -> (
                                                                var_j_1236 = expr_b_92;
                                                                m_match_bool_j_1238 = var_j_1236 ~ any;
                                                                m_match_bool_j_1241 = var_j_1236 ~ int;
                                                                m_match_cond_j_1242 = m_match_bool_j_1241 ? (
                                                                        
                                                                    bool_j_1243 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_1239 = m_match_bool_j_1238 ? (
                                                                        var_j_1240 = fail_b_93
                                                                    ) : (
                                                                        void_j_1237 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_1246 = fun bj_null_j_65 -> (
                                                                input_j_1245 = input);
                                                            flatten_fun_j_1248 = fun expr_b_94 -> (
                                                                var_j_1247 = expr_b_94);
                                                            record_j_1249 = 
                                                                {checker = flatten_fun_j_1244, generator = flatten_fun_j_1246, wrapper = flatten_fun_j_1248};
                                                            proj_j_1250 = record_j_1249.checker;
                                                            var_j_1251 = expr_b_95;
                                                            appl_j_1252 = proj_j_1250 var_j_1251;
                                                            t_check_b_96 = appl_j_1252;
                                                            var_j_1253 = t_check_b_96;
                                                            if_j_1262 = var_j_1253 ? (
                                                                    bool_j_1254 = false;
                                                                    pred_check_b_97 = bool_j_1254;
                                                                    var_j_1255 = is_pos;
                                                                    var_j_1256 = expr_b_95;
                                                                    appl_j_1257 = var_j_1255 var_j_1256;
                                                                    if_j_1260 = appl_j_1257 ? (
                                                                        bool_j_1258 = true
                                                                    ) : (
                                                                        var_j_1259 = pred_check_b_97
                                                                    )
                                                                ) : (
                                                                    var_j_1261 = t_check_b_96
                                                                ));
                                                        flatten_fun_j_1289 = fun bj_null_j_67 -> (
                                                            bool_j_1264 = false;
                                                            fail_b_89 = bool_j_1264;
                                                            flatten_fun_j_1273 = fun expr_b_88 -> (
                                                                var_j_1265 = expr_b_88;
                                                                m_match_bool_j_1267 = var_j_1265 ~ any;
                                                                m_match_bool_j_1270 = var_j_1265 ~ int;
                                                                m_match_cond_j_1271 = m_match_bool_j_1270 ? (
                                                                        
                                                                    bool_j_1272 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_1268 = m_match_bool_j_1267 ? (
                                                                        var_j_1269 = fail_b_89
                                                                    ) : (
                                                                        void_j_1266 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_1275 = fun bj_null_j_66 -> (
                                                                input_j_1274 = input);
                                                            flatten_fun_j_1277 = fun expr_b_90 -> (
                                                                var_j_1276 = expr_b_90);
                                                            record_j_1278 = 
                                                                {checker = flatten_fun_j_1273, generator = flatten_fun_j_1275, wrapper = flatten_fun_j_1277};
                                                            proj_j_1279 = record_j_1278.generator;
                                                            int_j_1280 = 0;
                                                            appl_j_1281 = proj_j_1279 int_j_1280;
                                                            candidate_b_91 = appl_j_1281;
                                                            var_j_1282 = is_pos;
                                                            var_j_1283 = candidate_b_91;
                                                            appl_j_1284 = var_j_1282 var_j_1283;
                                                            if_j_1288 = appl_j_1284 ? (
                                                                    var_j_1285 = candidate_b_91
                                                                ) : (
                                                                    bool_j_1286 = false;
                                                                    assume_j_1287 = assume bool_j_1286
                                                                ));
                                                        flatten_fun_j_1291 = fun expr_b_98 -> (
                                                            var_j_1290 = expr_b_98);
                                                        record_j_1292 = 
                                                            {checker = flatten_fun_j_1263, generator = flatten_fun_j_1289, wrapper = flatten_fun_j_1291};
                                                        proj_j_1293 = record_j_1292.checker;
                                                        var_j_1294 = height_j_72;
                                                        appl_j_1295 = proj_j_1293 var_j_1294;
                                                        lbl_check_b_87 = appl_j_1295;
                                                        var_j_1296 = lbl_check_b_87;
                                                        if_j_1330 = var_j_1296 ? (
                                                                bool_j_1297 = false;
                                                                fail_b_85 = bool_j_1297;
                                                                flatten_fun_j_1306 = fun expr_b_84 -> (
                                                                    var_j_1298 = expr_b_84;
                                                                    m_match_bool_j_1300 = var_j_1298 ~ any;
                                                                    m_match_bool_j_1303 = var_j_1298 ~ int;
                                                                    m_match_cond_j_1304 = m_match_bool_j_1303 ? (
                                                                        bool_j_1305 = true
                                                                    ) : (
                                                                        m_match_cond_j_1301 = m_match_bool_j_1300 ? (
                                                                        var_j_1302 = fail_b_85
                                                                    ) : (
                                                                        void_j_1299 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1308 = fun bj_null_j_68 -> (
                                                                    input_j_1307 = input);
                                                                flatten_fun_j_1310 = fun expr_b_86 -> (
                                                                    var_j_1309 = expr_b_86);
                                                                record_j_1311 = 
                                                                    {checker = flatten_fun_j_1306, generator = flatten_fun_j_1308, wrapper = flatten_fun_j_1310};
                                                                proj_j_1312 = record_j_1311.checker;
                                                                var_j_1313 = item_j_71;
                                                                appl_j_1314 = proj_j_1312 var_j_1313;
                                                                lbl_check_b_83 = appl_j_1314;
                                                                var_j_1315 = lbl_check_b_83;
                                                                if_j_1328 = var_j_1315 ? (
                                                                        
                                                                    var_j_1316 = tt_j_132;
                                                                    proj_j_1317 = var_j_1316.checker;
                                                                    var_j_1318 = left_j_70;
                                                                    appl_j_1319 = proj_j_1317 var_j_1318;
                                                                    lbl_check_b_82 = appl_j_1319;
                                                                    var_j_1320 = lbl_check_b_82;
                                                                    if_j_1326 = var_j_1320 ? (
                                                                        var_j_1321 = tt_j_132;
                                                                    proj_j_1322 = var_j_1321.checker;
                                                                    var_j_1323 = right_j_69;
                                                                    appl_j_1324 = proj_j_1322 var_j_1323
                                                                    ) : (
                                                                        var_j_1325 = lbl_check_b_82
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1327 = lbl_check_b_83
                                                                    )
                                                            ) : (
                                                                var_j_1329 = lbl_check_b_87
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1231 = m_match_bool_j_1230 ? (
                                                                var_j_1232 = rec_fail_b_78
                                                            ) : (
                                                                void_j_1229 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1223 = m_match_bool_j_1222 ? (
                                                        var_j_1224 = rec_fail_b_79
                                                    ) : (
                                                        void_j_1221 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1215 = m_match_bool_j_1214 ? (
                                                var_j_1216 = rec_fail_b_80
                                            ) : (
                                                void_j_1213 = {}
                                            )
                                    ));
                            flatten_fun_j_1430 = fun bj_null_j_81 -> (
                                var_j_1332 = tt_j_132;
                                proj_j_1333 = var_j_1332.generator;
                                int_j_1334 = 0;
                                appl_j_1335 = proj_j_1333 int_j_1334;
                                right_b_63 = appl_j_1335;
                                var_j_1336 = tt_j_132;
                                proj_j_1337 = var_j_1336.generator;
                                int_j_1338 = 0;
                                appl_j_1339 = proj_j_1337 int_j_1338;
                                left_b_62 = appl_j_1339;
                                bool_j_1340 = false;
                                fail_b_76 = bool_j_1340;
                                flatten_fun_j_1349 = fun expr_b_75 -> (
                                    var_j_1341 = expr_b_75;
                                    m_match_bool_j_1343 = var_j_1341 ~ any;
                                    m_match_bool_j_1346 = var_j_1341 ~ int;
                                    m_match_cond_j_1347 = m_match_bool_j_1346 ? (
                                            bool_j_1348 = true
                                        ) : (
                                            m_match_cond_j_1344 = m_match_bool_j_1343 ? (
                                                    var_j_1345 = fail_b_76
                                                ) : (
                                                    void_j_1342 = {}
                                                )
                                        ));
                                flatten_fun_j_1351 = fun bj_null_j_77 -> (
                                    input_j_1350 = input);
                                flatten_fun_j_1353 = fun expr_b_77 -> (
                                    var_j_1352 = expr_b_77);
                                record_j_1354 = {checker = flatten_fun_j_1349, generator = flatten_fun_j_1351, wrapper = flatten_fun_j_1353};
                                proj_j_1355 = record_j_1354.generator;
                                int_j_1356 = 0;
                                appl_j_1357 = proj_j_1355 int_j_1356;
                                item_b_61 = appl_j_1357;
                                flatten_fun_j_1386 = fun expr_b_71 -> (
                                    bool_j_1358 = false;
                                    fail_b_69 = bool_j_1358;
                                    flatten_fun_j_1367 = fun expr_b_68 -> (
                                        var_j_1359 = expr_b_68;
                                        m_match_bool_j_1361 = var_j_1359 ~ any;
                                        m_match_bool_j_1364 = var_j_1359 ~ int;
                                        m_match_cond_j_1365 = m_match_bool_j_1364 ? (
                                                bool_j_1366 = true
                                            ) : (
                                                m_match_cond_j_1362 = m_match_bool_j_1361 ? (
                                                        var_j_1363 = fail_b_69
                                                    ) : (
                                                        void_j_1360 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1369 = fun bj_null_j_78 -> (
                                        input_j_1368 = input);
                                    flatten_fun_j_1371 = fun expr_b_70 -> (
                                        var_j_1370 = expr_b_70);
                                    record_j_1372 = {checker = flatten_fun_j_1367, generator = flatten_fun_j_1369, wrapper = flatten_fun_j_1371};
                                    proj_j_1373 = record_j_1372.checker;
                                    var_j_1374 = expr_b_71;
                                    appl_j_1375 = proj_j_1373 var_j_1374;
                                    t_check_b_72 = appl_j_1375;
                                    var_j_1376 = t_check_b_72;
                                    if_j_1385 = var_j_1376 ? (
                                            bool_j_1377 = false;
                                            pred_check_b_73 = bool_j_1377;
                                            var_j_1378 = is_pos;
                                            var_j_1379 = expr_b_71;
                                            appl_j_1380 = var_j_1378 var_j_1379;
                                            if_j_1383 = appl_j_1380 ? (
                                                    bool_j_1381 = true
                                                ) : (
                                                    var_j_1382 = pred_check_b_73
                                                )
                                        ) : (
                                            var_j_1384 = t_check_b_72
                                        ));
                                flatten_fun_j_1412 = fun bj_null_j_80 -> (
                                    bool_j_1387 = false;
                                    fail_b_65 = bool_j_1387;
                                    flatten_fun_j_1396 = fun expr_b_64 -> (
                                        var_j_1388 = expr_b_64;
                                        m_match_bool_j_1390 = var_j_1388 ~ any;
                                        m_match_bool_j_1393 = var_j_1388 ~ int;
                                        m_match_cond_j_1394 = m_match_bool_j_1393 ? (
                                                bool_j_1395 = true
                                            ) : (
                                                m_match_cond_j_1391 = m_match_bool_j_1390 ? (
                                                        var_j_1392 = fail_b_65
                                                    ) : (
                                                        void_j_1389 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1398 = fun bj_null_j_79 -> (
                                        input_j_1397 = input);
                                    flatten_fun_j_1400 = fun expr_b_66 -> (
                                        var_j_1399 = expr_b_66);
                                    record_j_1401 = {checker = flatten_fun_j_1396, generator = flatten_fun_j_1398, wrapper = flatten_fun_j_1400};
                                    proj_j_1402 = record_j_1401.generator;
                                    int_j_1403 = 0;
                                    appl_j_1404 = proj_j_1402 int_j_1403;
                                    candidate_b_67 = appl_j_1404;
                                    var_j_1405 = is_pos;
                                    var_j_1406 = candidate_b_67;
                                    appl_j_1407 = var_j_1405 var_j_1406;
                                    if_j_1411 = appl_j_1407 ? (
                                            var_j_1408 = candidate_b_67
                                        ) : (
                                            bool_j_1409 = false;
                                            assume_j_1410 = assume bool_j_1409
                                        ));
                                flatten_fun_j_1414 = fun expr_b_74 -> (
                                    var_j_1413 = expr_b_74);
                                record_j_1415 = {checker = flatten_fun_j_1386, generator = flatten_fun_j_1412, wrapper = flatten_fun_j_1414};
                                proj_j_1416 = record_j_1415.generator;
                                int_j_1417 = 0;
                                appl_j_1418 = proj_j_1416 int_j_1417;
                                height_b_60 = appl_j_1418;
                                var_j_1419 = height_b_60;
                                var_j_1420 = item_b_61;
                                var_j_1421 = left_b_62;
                                var_j_1422 = right_b_63;
                                record_j_1423 = {height = var_j_1419, item = var_j_1420, left = var_j_1421, right = var_j_1422};
                                record_j_1424 = {};
                                record_j_1425 = {};
                                record_j_1426 = {};
                                record_j_1427 = {};
                                record_j_1428 = {height = record_j_1424, item = record_j_1425, left = record_j_1426, right = record_j_1427};
                                record_j_1429 = {bj_actual_rec = record_j_1423, bj_decl_lbls = record_j_1428});
                            flatten_fun_j_1432 = fun expr_b_99 -> (
                                var_j_1431 = expr_b_99);
                            record_j_1433 = {checker = flatten_fun_j_1331, generator = flatten_fun_j_1430, wrapper = flatten_fun_j_1432};
                            proj_j_1434 = record_j_1433.checker;
                            var_j_1435 = expr_b_164;
                            appl_j_1436 = proj_j_1434 var_j_1435;
                            if_j_1520 = appl_j_1436 ? (
                                    bool_j_1437 = true
                                ) : (
                                    flatten_fun_j_1484 = fun expr_b_107 -> (
                                        bool_j_1438 = false;
                                        rec_fail_b_106 = bool_j_1438;
                                        bool_j_1439 = false;
                                        rec_fail_b_105 = bool_j_1439;
                                        bool_j_1440 = false;
                                        rec_fail_b_104 = bool_j_1440;
                                        var_j_1441 = expr_b_107;
                                        m_match_bool_j_1443 = var_j_1441 ~ any;
                                        m_match_bool_j_1446 = var_j_1441 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_1447 = m_match_bool_j_1446 ? (
                                                var_j_1448 = expr_b_107;
                                                proj_j_1449 = var_j_1448.bj_decl_lbls;
                                                m_match_bool_j_1451 = proj_j_1449 ~ any;
                                                m_match_bool_j_1454 = proj_j_1449 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1455 = m_match_bool_j_1454 ? (
                                                        leaf_j_84 = proj_j_1449.leaf;
                                                        var_j_1456 = expr_b_107;
                                                        proj_j_1457 = var_j_1456.bj_actual_rec;
                                                        m_match_bool_j_1459 = proj_j_1457 ~ any;
                                                        m_match_bool_j_1462 = proj_j_1457 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_1463 = m_match_bool_j_1462 ? (
                                                                leaf_j_83 = proj_j_1457.leaf;
                                                                bool_j_1464 = false;
                                                                fail_b_109 = bool_j_1464;
                                                                flatten_fun_j_1473 = fun expr_b_108 -> (
                                                                    var_j_1465 = expr_b_108;
                                                                    m_match_bool_j_1467 = var_j_1465 ~ any;
                                                                    m_match_bool_j_1470 = var_j_1465 ~ bool;
                                                                    m_match_cond_j_1471 = m_match_bool_j_1470 ? (
                                                                        bool_j_1472 = true
                                                                    ) : (
                                                                        m_match_cond_j_1468 = m_match_bool_j_1467 ? (
                                                                        var_j_1469 = fail_b_109
                                                                    ) : (
                                                                        void_j_1466 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1477 = fun bj_null_j_82 -> (
                                                                    int_j_1474 = 0;
                                                                    input_j_1475 = input;
                                                                    m_bl_i_2908 = int_j_1474 ~ int;
                                                                    m_br_i_2909 = input_j_1475 ~ int;
                                                                    m_b_i_2910 = m_bl_i_2908 and m_br_i_2909;
                                                                    binop_j_1476 = m_b_i_2910 ? (
                                                                        c_binop_i_2911 = int_j_1474 <= input_j_1475
                                                                    ) : (
                                                                        ab_i_2912 = abort
                                                                    ));
                                                                flatten_fun_j_1479 = fun expr_b_110 -> (
                                                                    var_j_1478 = expr_b_110);
                                                                record_j_1480 = 
                                                                    {checker = flatten_fun_j_1473, generator = flatten_fun_j_1477, wrapper = flatten_fun_j_1479};
                                                                proj_j_1481 = record_j_1480.checker;
                                                                var_j_1482 = leaf_j_83;
                                                                appl_j_1483 = proj_j_1481 var_j_1482
                                                            ) : (
                                                                m_match_cond_j_1460 = m_match_bool_j_1459 ? (
                                                                        
                                                                    var_j_1461 = rec_fail_b_104
                                                                    ) : (
                                                                        
                                                                    void_j_1458 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1452 = m_match_bool_j_1451 ? (
                                                                var_j_1453 = rec_fail_b_105
                                                            ) : (
                                                                void_j_1450 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1444 = m_match_bool_j_1443 ? (
                                                        var_j_1445 = rec_fail_b_106
                                                    ) : (
                                                        void_j_1442 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1510 = fun bj_null_j_86 -> (
                                        bool_j_1485 = false;
                                        fail_b_102 = bool_j_1485;
                                        flatten_fun_j_1494 = fun expr_b_101 -> (
                                            var_j_1486 = expr_b_101;
                                            m_match_bool_j_1488 = var_j_1486 ~ any;
                                            m_match_bool_j_1491 = var_j_1486 ~ bool;
                                            m_match_cond_j_1492 = m_match_bool_j_1491 ? (
                                                    bool_j_1493 = true
                                                ) : (
                                                    m_match_cond_j_1489 = m_match_bool_j_1488 ? (
                                                            var_j_1490 = fail_b_102
                                                        ) : (
                                                            void_j_1487 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1498 = fun bj_null_j_85 -> (
                                            int_j_1495 = 0;
                                            input_j_1496 = input;
                                            m_bl_i_2913 = int_j_1495 ~ int;
                                            m_br_i_2914 = input_j_1496 ~ int;
                                            m_b_i_2915 = m_bl_i_2913 and m_br_i_2914;
                                            binop_j_1497 = m_b_i_2915 ? (
                                                    c_binop_i_2916 = int_j_1495 <= input_j_1496
                                                ) : (
                                                    ab_i_2917 = abort
                                                ));
                                        flatten_fun_j_1500 = fun expr_b_103 -> (
                                            var_j_1499 = expr_b_103);
                                        record_j_1501 = {checker = flatten_fun_j_1494, generator = flatten_fun_j_1498, wrapper = flatten_fun_j_1500};
                                        proj_j_1502 = record_j_1501.generator;
                                        int_j_1503 = 0;
                                        appl_j_1504 = proj_j_1502 int_j_1503;
                                        leaf_b_100 = appl_j_1504;
                                        var_j_1505 = leaf_b_100;
                                        record_j_1506 = {leaf = var_j_1505};
                                        record_j_1507 = {};
                                        record_j_1508 = {leaf = record_j_1507};
                                        record_j_1509 = {bj_actual_rec = record_j_1506, bj_decl_lbls = record_j_1508});
                                    flatten_fun_j_1512 = fun expr_b_111 -> (
                                        var_j_1511 = expr_b_111);
                                    record_j_1513 = {checker = flatten_fun_j_1484, generator = flatten_fun_j_1510, wrapper = flatten_fun_j_1512};
                                    proj_j_1514 = record_j_1513.checker;
                                    var_j_1515 = expr_b_164;
                                    appl_j_1516 = proj_j_1514 var_j_1515;
                                    if_j_1519 = appl_j_1516 ? (
                                            bool_j_1517 = true
                                        ) : (
                                            var_j_1518 = fail_b_166
                                        )
                                )
                        ) : (
                            flatten_fun_j_1567 = fun expr_b_159 -> (
                                bool_j_1521 = false;
                                rec_fail_b_158 = bool_j_1521;
                                bool_j_1522 = false;
                                rec_fail_b_157 = bool_j_1522;
                                bool_j_1523 = false;
                                rec_fail_b_156 = bool_j_1523;
                                var_j_1524 = expr_b_159;
                                m_match_bool_j_1526 = var_j_1524 ~ any;
                                m_match_bool_j_1529 = var_j_1524 ~ {bj_actual_rec, _};
                                m_match_cond_j_1530 = m_match_bool_j_1529 ? (
                                        var_j_1531 = expr_b_159;
                                        proj_j_1532 = var_j_1531.bj_decl_lbls;
                                        m_match_bool_j_1534 = proj_j_1532 ~ any;
                                        m_match_bool_j_1537 = proj_j_1532 ~ 
                                            {leaf, _};
                                        m_match_cond_j_1538 = m_match_bool_j_1537 ? (
                                                leaf_j_89 = proj_j_1532.leaf;
                                                var_j_1539 = expr_b_159;
                                                proj_j_1540 = var_j_1539.bj_actual_rec;
                                                m_match_bool_j_1542 = proj_j_1540 ~ any;
                                                m_match_bool_j_1545 = proj_j_1540 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1546 = m_match_bool_j_1545 ? (
                                                        leaf_j_88 = proj_j_1540.leaf;
                                                        bool_j_1547 = false;
                                                        fail_b_161 = bool_j_1547;
                                                        flatten_fun_j_1556 = fun expr_b_160 -> (
                                                            var_j_1548 = expr_b_160;
                                                            m_match_bool_j_1550 = var_j_1548 ~ any;
                                                            m_match_bool_j_1553 = var_j_1548 ~ bool;
                                                            m_match_cond_j_1554 = m_match_bool_j_1553 ? (
                                                                    bool_j_1555 = true
                                                                ) : (
                                                                    m_match_cond_j_1551 = m_match_bool_j_1550 ? (
                                                                        var_j_1552 = fail_b_161
                                                                    ) : (
                                                                        void_j_1549 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_1560 = fun bj_null_j_87 -> (
                                                            int_j_1557 = 0;
                                                            input_j_1558 = input;
                                                            m_bl_i_2918 = int_j_1557 ~ int;
                                                            m_br_i_2919 = input_j_1558 ~ int;
                                                            m_b_i_2920 = m_bl_i_2918 and m_br_i_2919;
                                                            binop_j_1559 = m_b_i_2920 ? (
                                                                    c_binop_i_2921 = int_j_1557 <= input_j_1558
                                                                ) : (
                                                                    ab_i_2922 = abort
                                                                ));
                                                        flatten_fun_j_1562 = fun expr_b_162 -> (
                                                            var_j_1561 = expr_b_162);
                                                        record_j_1563 = 
                                                            {checker = flatten_fun_j_1556, generator = flatten_fun_j_1560, wrapper = flatten_fun_j_1562};
                                                        proj_j_1564 = record_j_1563.checker;
                                                        var_j_1565 = leaf_j_88;
                                                        appl_j_1566 = proj_j_1564 var_j_1565
                                                    ) : (
                                                        m_match_cond_j_1543 = m_match_bool_j_1542 ? (
                                                                var_j_1544 = rec_fail_b_156
                                                            ) : (
                                                                void_j_1541 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1535 = m_match_bool_j_1534 ? (
                                                        var_j_1536 = rec_fail_b_157
                                                    ) : (
                                                        void_j_1533 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1527 = m_match_bool_j_1526 ? (
                                                var_j_1528 = rec_fail_b_158
                                            ) : (
                                                void_j_1525 = {}
                                            )
                                    ));
                            flatten_fun_j_1593 = fun bj_null_j_91 -> (
                                bool_j_1568 = false;
                                fail_b_154 = bool_j_1568;
                                flatten_fun_j_1577 = fun expr_b_153 -> (
                                    var_j_1569 = expr_b_153;
                                    m_match_bool_j_1571 = var_j_1569 ~ any;
                                    m_match_bool_j_1574 = var_j_1569 ~ bool;
                                    m_match_cond_j_1575 = m_match_bool_j_1574 ? (
                                            bool_j_1576 = true
                                        ) : (
                                            m_match_cond_j_1572 = m_match_bool_j_1571 ? (
                                                    var_j_1573 = fail_b_154
                                                ) : (
                                                    void_j_1570 = {}
                                                )
                                        ));
                                flatten_fun_j_1581 = fun bj_null_j_90 -> (
                                    int_j_1578 = 0;
                                    input_j_1579 = input;
                                    m_bl_i_2923 = int_j_1578 ~ int;
                                    m_br_i_2924 = input_j_1579 ~ int;
                                    m_b_i_2925 = m_bl_i_2923 and m_br_i_2924;
                                    binop_j_1580 = m_b_i_2925 ? (
                                            c_binop_i_2926 = int_j_1578 <= input_j_1579
                                        ) : (
                                            ab_i_2927 = abort
                                        ));
                                flatten_fun_j_1583 = fun expr_b_155 -> (
                                    var_j_1582 = expr_b_155);
                                record_j_1584 = {checker = flatten_fun_j_1577, generator = flatten_fun_j_1581, wrapper = flatten_fun_j_1583};
                                proj_j_1585 = record_j_1584.generator;
                                int_j_1586 = 0;
                                appl_j_1587 = proj_j_1585 int_j_1586;
                                leaf_b_152 = appl_j_1587;
                                var_j_1588 = leaf_b_152;
                                record_j_1589 = {leaf = var_j_1588};
                                record_j_1590 = {};
                                record_j_1591 = {leaf = record_j_1590};
                                record_j_1592 = {bj_actual_rec = record_j_1589, bj_decl_lbls = record_j_1591});
                            flatten_fun_j_1595 = fun expr_b_163 -> (
                                var_j_1594 = expr_b_163);
                            record_j_1596 = {checker = flatten_fun_j_1567, generator = flatten_fun_j_1593, wrapper = flatten_fun_j_1595};
                            proj_j_1597 = record_j_1596.checker;
                            var_j_1598 = expr_b_164;
                            appl_j_1599 = proj_j_1597 var_j_1598;
                            if_j_1832 = appl_j_1599 ? (
                                    bool_j_1600 = true
                                ) : (
                                    flatten_fun_j_1723 = fun expr_b_133 -> (
                                        bool_j_1601 = false;
                                        rec_fail_b_132 = bool_j_1601;
                                        bool_j_1602 = false;
                                        rec_fail_b_131 = bool_j_1602;
                                        bool_j_1603 = false;
                                        rec_fail_b_130 = bool_j_1603;
                                        var_j_1604 = expr_b_133;
                                        m_match_bool_j_1606 = var_j_1604 ~ any;
                                        m_match_bool_j_1609 = var_j_1604 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_1610 = m_match_bool_j_1609 ? (
                                                var_j_1611 = expr_b_133;
                                                proj_j_1612 = var_j_1611.bj_decl_lbls;
                                                m_match_bool_j_1614 = proj_j_1612 ~ any;
                                                m_match_bool_j_1617 = proj_j_1612 ~ 
                                                    {height, item, left, right, _};
                                                m_match_cond_j_1618 = m_match_bool_j_1617 ? (
                                                        height_j_103 = proj_j_1612.height;
                                                        item_j_102 = proj_j_1612.item;
                                                        left_j_101 = proj_j_1612.left;
                                                        right_j_100 = proj_j_1612.right;
                                                        var_j_1619 = expr_b_133;
                                                        proj_j_1620 = var_j_1619.bj_actual_rec;
                                                        m_match_bool_j_1622 = proj_j_1620 ~ any;
                                                        m_match_bool_j_1625 = proj_j_1620 ~ 
                                                            {height, item, left, right, _};
                                                        m_match_cond_j_1626 = m_match_bool_j_1625 ? (
                                                                height_j_99 = proj_j_1620.height;
                                                                item_j_98 = proj_j_1620.item;
                                                                left_j_97 = proj_j_1620.left;
                                                                right_j_96 = proj_j_1620.right;
                                                                flatten_fun_j_1655 = fun expr_b_147 -> (
                                                                    bool_j_1627 = false;
                                                                    fail_b_145 = bool_j_1627;
                                                                    flatten_fun_j_1636 = fun expr_b_144 -> (
                                                                    var_j_1628 = expr_b_144;
                                                                    m_match_bool_j_1630 = var_j_1628 ~ any;
                                                                    m_match_bool_j_1633 = var_j_1628 ~ int;
                                                                    m_match_cond_j_1634 = m_match_bool_j_1633 ? (
                                                                        bool_j_1635 = true
                                                                    ) : (
                                                                        m_match_cond_j_1631 = m_match_bool_j_1630 ? (
                                                                        var_j_1632 = fail_b_145
                                                                    ) : (
                                                                        void_j_1629 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1638 = fun bj_null_j_92 -> (
                                                                    input_j_1637 = input);
                                                                    flatten_fun_j_1640 = fun expr_b_146 -> (
                                                                    var_j_1639 = expr_b_146);
                                                                    record_j_1641 = 
                                                                    {checker = flatten_fun_j_1636, generator = flatten_fun_j_1638, wrapper = flatten_fun_j_1640};
                                                                    proj_j_1642 = record_j_1641.checker;
                                                                    var_j_1643 = expr_b_147;
                                                                    appl_j_1644 = proj_j_1642 var_j_1643;
                                                                    t_check_b_148 = appl_j_1644;
                                                                    var_j_1645 = t_check_b_148;
                                                                    if_j_1654 = var_j_1645 ? (
                                                                        bool_j_1646 = false;
                                                                    pred_check_b_149 = bool_j_1646;
                                                                    var_j_1647 = is_pos;
                                                                    var_j_1648 = expr_b_147;
                                                                    appl_j_1649 = var_j_1647 var_j_1648;
                                                                    if_j_1652 = appl_j_1649 ? (
                                                                        bool_j_1650 = true
                                                                    ) : (
                                                                        var_j_1651 = pred_check_b_149
                                                                    )
                                                                    ) : (
                                                                        var_j_1653 = t_check_b_148
                                                                    ));
                                                                flatten_fun_j_1681 = fun bj_null_j_94 -> (
                                                                    bool_j_1656 = false;
                                                                    fail_b_141 = bool_j_1656;
                                                                    flatten_fun_j_1665 = fun expr_b_140 -> (
                                                                    var_j_1657 = expr_b_140;
                                                                    m_match_bool_j_1659 = var_j_1657 ~ any;
                                                                    m_match_bool_j_1662 = var_j_1657 ~ int;
                                                                    m_match_cond_j_1663 = m_match_bool_j_1662 ? (
                                                                        bool_j_1664 = true
                                                                    ) : (
                                                                        m_match_cond_j_1660 = m_match_bool_j_1659 ? (
                                                                        var_j_1661 = fail_b_141
                                                                    ) : (
                                                                        void_j_1658 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1667 = fun bj_null_j_93 -> (
                                                                    input_j_1666 = input);
                                                                    flatten_fun_j_1669 = fun expr_b_142 -> (
                                                                    var_j_1668 = expr_b_142);
                                                                    record_j_1670 = 
                                                                    {checker = flatten_fun_j_1665, generator = flatten_fun_j_1667, wrapper = flatten_fun_j_1669};
                                                                    proj_j_1671 = record_j_1670.generator;
                                                                    int_j_1672 = 0;
                                                                    appl_j_1673 = proj_j_1671 int_j_1672;
                                                                    candidate_b_143 = appl_j_1673;
                                                                    var_j_1674 = is_pos;
                                                                    var_j_1675 = candidate_b_143;
                                                                    appl_j_1676 = var_j_1674 var_j_1675;
                                                                    if_j_1680 = appl_j_1676 ? (
                                                                        var_j_1677 = candidate_b_143
                                                                    ) : (
                                                                        bool_j_1678 = false;
                                                                    assume_j_1679 = assume bool_j_1678
                                                                    ));
                                                                flatten_fun_j_1683 = fun expr_b_150 -> (
                                                                    var_j_1682 = expr_b_150);
                                                                record_j_1684 = 
                                                                    {checker = flatten_fun_j_1655, generator = flatten_fun_j_1681, wrapper = flatten_fun_j_1683};
                                                                proj_j_1685 = record_j_1684.checker;
                                                                var_j_1686 = height_j_99;
                                                                appl_j_1687 = proj_j_1685 var_j_1686;
                                                                lbl_check_b_139 = appl_j_1687;
                                                                var_j_1688 = lbl_check_b_139;
                                                                if_j_1722 = var_j_1688 ? (
                                                                        
                                                                    bool_j_1689 = false;
                                                                    fail_b_137 = bool_j_1689;
                                                                    flatten_fun_j_1698 = fun expr_b_136 -> (
                                                                    var_j_1690 = expr_b_136;
                                                                    m_match_bool_j_1692 = var_j_1690 ~ any;
                                                                    m_match_bool_j_1695 = var_j_1690 ~ int;
                                                                    m_match_cond_j_1696 = m_match_bool_j_1695 ? (
                                                                        bool_j_1697 = true
                                                                    ) : (
                                                                        m_match_cond_j_1693 = m_match_bool_j_1692 ? (
                                                                        var_j_1694 = fail_b_137
                                                                    ) : (
                                                                        void_j_1691 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1700 = fun bj_null_j_95 -> (
                                                                    input_j_1699 = input);
                                                                    flatten_fun_j_1702 = fun expr_b_138 -> (
                                                                    var_j_1701 = expr_b_138);
                                                                    record_j_1703 = 
                                                                    {checker = flatten_fun_j_1698, generator = flatten_fun_j_1700, wrapper = flatten_fun_j_1702};
                                                                    proj_j_1704 = record_j_1703.checker;
                                                                    var_j_1705 = item_j_98;
                                                                    appl_j_1706 = proj_j_1704 var_j_1705;
                                                                    lbl_check_b_135 = appl_j_1706;
                                                                    var_j_1707 = lbl_check_b_135;
                                                                    if_j_1720 = var_j_1707 ? (
                                                                        var_j_1708 = tt_j_132;
                                                                    proj_j_1709 = var_j_1708.checker;
                                                                    var_j_1710 = left_j_97;
                                                                    appl_j_1711 = proj_j_1709 var_j_1710;
                                                                    lbl_check_b_134 = appl_j_1711;
                                                                    var_j_1712 = lbl_check_b_134;
                                                                    if_j_1718 = var_j_1712 ? (
                                                                        var_j_1713 = tt_j_132;
                                                                    proj_j_1714 = var_j_1713.checker;
                                                                    var_j_1715 = right_j_96;
                                                                    appl_j_1716 = proj_j_1714 var_j_1715
                                                                    ) : (
                                                                        var_j_1717 = lbl_check_b_134
                                                                    )
                                                                    ) : (
                                                                        var_j_1719 = lbl_check_b_135
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1721 = lbl_check_b_139
                                                                    )
                                                            ) : (
                                                                m_match_cond_j_1623 = m_match_bool_j_1622 ? (
                                                                        
                                                                    var_j_1624 = rec_fail_b_130
                                                                    ) : (
                                                                        
                                                                    void_j_1621 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1615 = m_match_bool_j_1614 ? (
                                                                var_j_1616 = rec_fail_b_131
                                                            ) : (
                                                                void_j_1613 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1607 = m_match_bool_j_1606 ? (
                                                        var_j_1608 = rec_fail_b_132
                                                    ) : (
                                                        void_j_1605 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1822 = fun bj_null_j_108 -> (
                                        var_j_1724 = tt_j_132;
                                        proj_j_1725 = var_j_1724.generator;
                                        int_j_1726 = 0;
                                        appl_j_1727 = proj_j_1725 int_j_1726;
                                        right_b_115 = appl_j_1727;
                                        var_j_1728 = tt_j_132;
                                        proj_j_1729 = var_j_1728.generator;
                                        int_j_1730 = 0;
                                        appl_j_1731 = proj_j_1729 int_j_1730;
                                        left_b_114 = appl_j_1731;
                                        bool_j_1732 = false;
                                        fail_b_128 = bool_j_1732;
                                        flatten_fun_j_1741 = fun expr_b_127 -> (
                                            var_j_1733 = expr_b_127;
                                            m_match_bool_j_1735 = var_j_1733 ~ any;
                                            m_match_bool_j_1738 = var_j_1733 ~ int;
                                            m_match_cond_j_1739 = m_match_bool_j_1738 ? (
                                                    bool_j_1740 = true
                                                ) : (
                                                    m_match_cond_j_1736 = m_match_bool_j_1735 ? (
                                                            var_j_1737 = fail_b_128
                                                        ) : (
                                                            void_j_1734 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1743 = fun bj_null_j_104 -> (
                                            input_j_1742 = input);
                                        flatten_fun_j_1745 = fun expr_b_129 -> (
                                            var_j_1744 = expr_b_129);
                                        record_j_1746 = {checker = flatten_fun_j_1741, generator = flatten_fun_j_1743, wrapper = flatten_fun_j_1745};
                                        proj_j_1747 = record_j_1746.generator;
                                        int_j_1748 = 0;
                                        appl_j_1749 = proj_j_1747 int_j_1748;
                                        item_b_113 = appl_j_1749;
                                        flatten_fun_j_1778 = fun expr_b_123 -> (
                                            bool_j_1750 = false;
                                            fail_b_121 = bool_j_1750;
                                            flatten_fun_j_1759 = fun expr_b_120 -> (
                                                var_j_1751 = expr_b_120;
                                                m_match_bool_j_1753 = var_j_1751 ~ any;
                                                m_match_bool_j_1756 = var_j_1751 ~ int;
                                                m_match_cond_j_1757 = m_match_bool_j_1756 ? (
                                                        bool_j_1758 = true
                                                    ) : (
                                                        m_match_cond_j_1754 = m_match_bool_j_1753 ? (
                                                                var_j_1755 = fail_b_121
                                                            ) : (
                                                                void_j_1752 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1761 = fun bj_null_j_105 -> (
                                                input_j_1760 = input);
                                            flatten_fun_j_1763 = fun expr_b_122 -> (
                                                var_j_1762 = expr_b_122);
                                            record_j_1764 = {checker = flatten_fun_j_1759, generator = flatten_fun_j_1761, wrapper = flatten_fun_j_1763};
                                            proj_j_1765 = record_j_1764.checker;
                                            var_j_1766 = expr_b_123;
                                            appl_j_1767 = proj_j_1765 var_j_1766;
                                            t_check_b_124 = appl_j_1767;
                                            var_j_1768 = t_check_b_124;
                                            if_j_1777 = var_j_1768 ? (
                                                    bool_j_1769 = false;
                                                    pred_check_b_125 = bool_j_1769;
                                                    var_j_1770 = is_pos;
                                                    var_j_1771 = expr_b_123;
                                                    appl_j_1772 = var_j_1770 var_j_1771;
                                                    if_j_1775 = appl_j_1772 ? (
                                                            bool_j_1773 = true
                                                        ) : (
                                                            var_j_1774 = pred_check_b_125
                                                        )
                                                ) : (
                                                    var_j_1776 = t_check_b_124
                                                ));
                                        flatten_fun_j_1804 = fun bj_null_j_107 -> (
                                            bool_j_1779 = false;
                                            fail_b_117 = bool_j_1779;
                                            flatten_fun_j_1788 = fun expr_b_116 -> (
                                                var_j_1780 = expr_b_116;
                                                m_match_bool_j_1782 = var_j_1780 ~ any;
                                                m_match_bool_j_1785 = var_j_1780 ~ int;
                                                m_match_cond_j_1786 = m_match_bool_j_1785 ? (
                                                        bool_j_1787 = true
                                                    ) : (
                                                        m_match_cond_j_1783 = m_match_bool_j_1782 ? (
                                                                var_j_1784 = fail_b_117
                                                            ) : (
                                                                void_j_1781 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1790 = fun bj_null_j_106 -> (
                                                input_j_1789 = input);
                                            flatten_fun_j_1792 = fun expr_b_118 -> (
                                                var_j_1791 = expr_b_118);
                                            record_j_1793 = {checker = flatten_fun_j_1788, generator = flatten_fun_j_1790, wrapper = flatten_fun_j_1792};
                                            proj_j_1794 = record_j_1793.generator;
                                            int_j_1795 = 0;
                                            appl_j_1796 = proj_j_1794 int_j_1795;
                                            candidate_b_119 = appl_j_1796;
                                            var_j_1797 = is_pos;
                                            var_j_1798 = candidate_b_119;
                                            appl_j_1799 = var_j_1797 var_j_1798;
                                            if_j_1803 = appl_j_1799 ? (
                                                    var_j_1800 = candidate_b_119
                                                ) : (
                                                    bool_j_1801 = false;
                                                    assume_j_1802 = assume bool_j_1801
                                                ));
                                        flatten_fun_j_1806 = fun expr_b_126 -> (
                                            var_j_1805 = expr_b_126);
                                        record_j_1807 = {checker = flatten_fun_j_1778, generator = flatten_fun_j_1804, wrapper = flatten_fun_j_1806};
                                        proj_j_1808 = record_j_1807.generator;
                                        int_j_1809 = 0;
                                        appl_j_1810 = proj_j_1808 int_j_1809;
                                        height_b_112 = appl_j_1810;
                                        var_j_1811 = height_b_112;
                                        var_j_1812 = item_b_113;
                                        var_j_1813 = left_b_114;
                                        var_j_1814 = right_b_115;
                                        record_j_1815 = {height = var_j_1811, item = var_j_1812, left = var_j_1813, right = var_j_1814};
                                        record_j_1816 = {};
                                        record_j_1817 = {};
                                        record_j_1818 = {};
                                        record_j_1819 = {};
                                        record_j_1820 = {height = record_j_1816, item = record_j_1817, left = record_j_1818, right = record_j_1819};
                                        record_j_1821 = {bj_actual_rec = record_j_1815, bj_decl_lbls = record_j_1820});
                                    flatten_fun_j_1824 = fun expr_b_151 -> (
                                        var_j_1823 = expr_b_151);
                                    record_j_1825 = {checker = flatten_fun_j_1723, generator = flatten_fun_j_1822, wrapper = flatten_fun_j_1824};
                                    proj_j_1826 = record_j_1825.checker;
                                    var_j_1827 = expr_b_164;
                                    appl_j_1828 = proj_j_1826 var_j_1827;
                                    if_j_1831 = appl_j_1828 ? (
                                            bool_j_1829 = true
                                        ) : (
                                            var_j_1830 = fail_b_166
                                        )
                                )
                        ));
                flatten_fun_j_2147 = fun bj_null_j_131 -> (
                    input_j_1835 = input;
                    select_int_b_59 = input_j_1835;
                    int_j_1836 = 0;
                    var_j_1837 = select_int_b_59;
                    binop_j_1838 = int_j_1836 <= var_j_1837;
                    if_j_2146 = binop_j_1838 ? (
                            flatten_fun_j_1961 = fun expr_b_28 -> (
                                bool_j_1839 = false;
                                rec_fail_b_27 = bool_j_1839;
                                bool_j_1840 = false;
                                rec_fail_b_26 = bool_j_1840;
                                bool_j_1841 = false;
                                rec_fail_b_25 = bool_j_1841;
                                var_j_1842 = expr_b_28;
                                m_match_bool_j_1844 = var_j_1842 ~ any;
                                m_match_bool_j_1847 = var_j_1842 ~ {bj_actual_rec, _};
                                m_match_cond_j_1848 = m_match_bool_j_1847 ? (
                                        var_j_1849 = expr_b_28;
                                        proj_j_1850 = var_j_1849.bj_decl_lbls;
                                        m_match_bool_j_1852 = proj_j_1850 ~ any;
                                        m_match_bool_j_1855 = proj_j_1850 ~ 
                                            {height, item, left, right, _};
                                        m_match_cond_j_1856 = m_match_bool_j_1855 ? (
                                                height_j_120 = proj_j_1850.height;
                                                item_j_119 = proj_j_1850.item;
                                                left_j_118 = proj_j_1850.left;
                                                right_j_117 = proj_j_1850.right;
                                                var_j_1857 = expr_b_28;
                                                proj_j_1858 = var_j_1857.bj_actual_rec;
                                                m_match_bool_j_1860 = proj_j_1858 ~ any;
                                                m_match_bool_j_1863 = proj_j_1858 ~ 
                                                    {height, item, left, right, _};
                                                m_match_cond_j_1864 = m_match_bool_j_1863 ? (
                                                        height_j_116 = proj_j_1858.height;
                                                        item_j_115 = proj_j_1858.item;
                                                        left_j_114 = proj_j_1858.left;
                                                        right_j_113 = proj_j_1858.right;
                                                        flatten_fun_j_1893 = fun expr_b_42 -> (
                                                            bool_j_1865 = false;
                                                            fail_b_40 = bool_j_1865;
                                                            flatten_fun_j_1874 = fun expr_b_39 -> (
                                                                var_j_1866 = expr_b_39;
                                                                m_match_bool_j_1868 = var_j_1866 ~ any;
                                                                m_match_bool_j_1871 = var_j_1866 ~ int;
                                                                m_match_cond_j_1872 = m_match_bool_j_1871 ? (
                                                                        
                                                                    bool_j_1873 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_1869 = m_match_bool_j_1868 ? (
                                                                        var_j_1870 = fail_b_40
                                                                    ) : (
                                                                        void_j_1867 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_1876 = fun bj_null_j_109 -> (
                                                                input_j_1875 = input);
                                                            flatten_fun_j_1878 = fun expr_b_41 -> (
                                                                var_j_1877 = expr_b_41);
                                                            record_j_1879 = 
                                                                {checker = flatten_fun_j_1874, generator = flatten_fun_j_1876, wrapper = flatten_fun_j_1878};
                                                            proj_j_1880 = record_j_1879.checker;
                                                            var_j_1881 = expr_b_42;
                                                            appl_j_1882 = proj_j_1880 var_j_1881;
                                                            t_check_b_43 = appl_j_1882;
                                                            var_j_1883 = t_check_b_43;
                                                            if_j_1892 = var_j_1883 ? (
                                                                    bool_j_1884 = false;
                                                                    pred_check_b_44 = bool_j_1884;
                                                                    var_j_1885 = is_pos;
                                                                    var_j_1886 = expr_b_42;
                                                                    appl_j_1887 = var_j_1885 var_j_1886;
                                                                    if_j_1890 = appl_j_1887 ? (
                                                                        bool_j_1888 = true
                                                                    ) : (
                                                                        var_j_1889 = pred_check_b_44
                                                                    )
                                                                ) : (
                                                                    var_j_1891 = t_check_b_43
                                                                ));
                                                        flatten_fun_j_1919 = fun bj_null_j_111 -> (
                                                            bool_j_1894 = false;
                                                            fail_b_36 = bool_j_1894;
                                                            flatten_fun_j_1903 = fun expr_b_35 -> (
                                                                var_j_1895 = expr_b_35;
                                                                m_match_bool_j_1897 = var_j_1895 ~ any;
                                                                m_match_bool_j_1900 = var_j_1895 ~ int;
                                                                m_match_cond_j_1901 = m_match_bool_j_1900 ? (
                                                                        
                                                                    bool_j_1902 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_1898 = m_match_bool_j_1897 ? (
                                                                        var_j_1899 = fail_b_36
                                                                    ) : (
                                                                        void_j_1896 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_1905 = fun bj_null_j_110 -> (
                                                                input_j_1904 = input);
                                                            flatten_fun_j_1907 = fun expr_b_37 -> (
                                                                var_j_1906 = expr_b_37);
                                                            record_j_1908 = 
                                                                {checker = flatten_fun_j_1903, generator = flatten_fun_j_1905, wrapper = flatten_fun_j_1907};
                                                            proj_j_1909 = record_j_1908.generator;
                                                            int_j_1910 = 0;
                                                            appl_j_1911 = proj_j_1909 int_j_1910;
                                                            candidate_b_38 = appl_j_1911;
                                                            var_j_1912 = is_pos;
                                                            var_j_1913 = candidate_b_38;
                                                            appl_j_1914 = var_j_1912 var_j_1913;
                                                            if_j_1918 = appl_j_1914 ? (
                                                                    var_j_1915 = candidate_b_38
                                                                ) : (
                                                                    bool_j_1916 = false;
                                                                    assume_j_1917 = assume bool_j_1916
                                                                ));
                                                        flatten_fun_j_1921 = fun expr_b_45 -> (
                                                            var_j_1920 = expr_b_45);
                                                        record_j_1922 = 
                                                            {checker = flatten_fun_j_1893, generator = flatten_fun_j_1919, wrapper = flatten_fun_j_1921};
                                                        proj_j_1923 = record_j_1922.checker;
                                                        var_j_1924 = height_j_116;
                                                        appl_j_1925 = proj_j_1923 var_j_1924;
                                                        lbl_check_b_34 = appl_j_1925;
                                                        var_j_1926 = lbl_check_b_34;
                                                        if_j_1960 = var_j_1926 ? (
                                                                bool_j_1927 = false;
                                                                fail_b_32 = bool_j_1927;
                                                                flatten_fun_j_1936 = fun expr_b_31 -> (
                                                                    var_j_1928 = expr_b_31;
                                                                    m_match_bool_j_1930 = var_j_1928 ~ any;
                                                                    m_match_bool_j_1933 = var_j_1928 ~ int;
                                                                    m_match_cond_j_1934 = m_match_bool_j_1933 ? (
                                                                        bool_j_1935 = true
                                                                    ) : (
                                                                        m_match_cond_j_1931 = m_match_bool_j_1930 ? (
                                                                        var_j_1932 = fail_b_32
                                                                    ) : (
                                                                        void_j_1929 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1938 = fun bj_null_j_112 -> (
                                                                    input_j_1937 = input);
                                                                flatten_fun_j_1940 = fun expr_b_33 -> (
                                                                    var_j_1939 = expr_b_33);
                                                                record_j_1941 = 
                                                                    {checker = flatten_fun_j_1936, generator = flatten_fun_j_1938, wrapper = flatten_fun_j_1940};
                                                                proj_j_1942 = record_j_1941.checker;
                                                                var_j_1943 = item_j_115;
                                                                appl_j_1944 = proj_j_1942 var_j_1943;
                                                                lbl_check_b_30 = appl_j_1944;
                                                                var_j_1945 = lbl_check_b_30;
                                                                if_j_1958 = var_j_1945 ? (
                                                                        
                                                                    var_j_1946 = tt_j_132;
                                                                    proj_j_1947 = var_j_1946.checker;
                                                                    var_j_1948 = left_j_114;
                                                                    appl_j_1949 = proj_j_1947 var_j_1948;
                                                                    lbl_check_b_29 = appl_j_1949;
                                                                    var_j_1950 = lbl_check_b_29;
                                                                    if_j_1956 = var_j_1950 ? (
                                                                        var_j_1951 = tt_j_132;
                                                                    proj_j_1952 = var_j_1951.checker;
                                                                    var_j_1953 = right_j_113;
                                                                    appl_j_1954 = proj_j_1952 var_j_1953
                                                                    ) : (
                                                                        var_j_1955 = lbl_check_b_29
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1957 = lbl_check_b_30
                                                                    )
                                                            ) : (
                                                                var_j_1959 = lbl_check_b_34
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1861 = m_match_bool_j_1860 ? (
                                                                var_j_1862 = rec_fail_b_25
                                                            ) : (
                                                                void_j_1859 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1853 = m_match_bool_j_1852 ? (
                                                        var_j_1854 = rec_fail_b_26
                                                    ) : (
                                                        void_j_1851 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1845 = m_match_bool_j_1844 ? (
                                                var_j_1846 = rec_fail_b_27
                                            ) : (
                                                void_j_1843 = {}
                                            )
                                    ));
                            flatten_fun_j_2060 = fun bj_null_j_125 -> (
                                var_j_1962 = tt_j_132;
                                proj_j_1963 = var_j_1962.generator;
                                int_j_1964 = 0;
                                appl_j_1965 = proj_j_1963 int_j_1964;
                                right_b_10 = appl_j_1965;
                                var_j_1966 = tt_j_132;
                                proj_j_1967 = var_j_1966.generator;
                                int_j_1968 = 0;
                                appl_j_1969 = proj_j_1967 int_j_1968;
                                left_b_9 = appl_j_1969;
                                bool_j_1970 = false;
                                fail_b_23 = bool_j_1970;
                                flatten_fun_j_1979 = fun expr_b_22 -> (
                                    var_j_1971 = expr_b_22;
                                    m_match_bool_j_1973 = var_j_1971 ~ any;
                                    m_match_bool_j_1976 = var_j_1971 ~ int;
                                    m_match_cond_j_1977 = m_match_bool_j_1976 ? (
                                            bool_j_1978 = true
                                        ) : (
                                            m_match_cond_j_1974 = m_match_bool_j_1973 ? (
                                                    var_j_1975 = fail_b_23
                                                ) : (
                                                    void_j_1972 = {}
                                                )
                                        ));
                                flatten_fun_j_1981 = fun bj_null_j_121 -> (
                                    input_j_1980 = input);
                                flatten_fun_j_1983 = fun expr_b_24 -> (
                                    var_j_1982 = expr_b_24);
                                record_j_1984 = {checker = flatten_fun_j_1979, generator = flatten_fun_j_1981, wrapper = flatten_fun_j_1983};
                                proj_j_1985 = record_j_1984.generator;
                                int_j_1986 = 0;
                                appl_j_1987 = proj_j_1985 int_j_1986;
                                item_b_8 = appl_j_1987;
                                flatten_fun_j_2016 = fun expr_b_18 -> (
                                    bool_j_1988 = false;
                                    fail_b_16 = bool_j_1988;
                                    flatten_fun_j_1997 = fun expr_b_15 -> (
                                        var_j_1989 = expr_b_15;
                                        m_match_bool_j_1991 = var_j_1989 ~ any;
                                        m_match_bool_j_1994 = var_j_1989 ~ int;
                                        m_match_cond_j_1995 = m_match_bool_j_1994 ? (
                                                bool_j_1996 = true
                                            ) : (
                                                m_match_cond_j_1992 = m_match_bool_j_1991 ? (
                                                        var_j_1993 = fail_b_16
                                                    ) : (
                                                        void_j_1990 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1999 = fun bj_null_j_122 -> (
                                        input_j_1998 = input);
                                    flatten_fun_j_2001 = fun expr_b_17 -> (
                                        var_j_2000 = expr_b_17);
                                    record_j_2002 = {checker = flatten_fun_j_1997, generator = flatten_fun_j_1999, wrapper = flatten_fun_j_2001};
                                    proj_j_2003 = record_j_2002.checker;
                                    var_j_2004 = expr_b_18;
                                    appl_j_2005 = proj_j_2003 var_j_2004;
                                    t_check_b_19 = appl_j_2005;
                                    var_j_2006 = t_check_b_19;
                                    if_j_2015 = var_j_2006 ? (
                                            bool_j_2007 = false;
                                            pred_check_b_20 = bool_j_2007;
                                            var_j_2008 = is_pos;
                                            var_j_2009 = expr_b_18;
                                            appl_j_2010 = var_j_2008 var_j_2009;
                                            if_j_2013 = appl_j_2010 ? (
                                                    bool_j_2011 = true
                                                ) : (
                                                    var_j_2012 = pred_check_b_20
                                                )
                                        ) : (
                                            var_j_2014 = t_check_b_19
                                        ));
                                flatten_fun_j_2042 = fun bj_null_j_124 -> (
                                    bool_j_2017 = false;
                                    fail_b_12 = bool_j_2017;
                                    flatten_fun_j_2026 = fun expr_b_11 -> (
                                        var_j_2018 = expr_b_11;
                                        m_match_bool_j_2020 = var_j_2018 ~ any;
                                        m_match_bool_j_2023 = var_j_2018 ~ int;
                                        m_match_cond_j_2024 = m_match_bool_j_2023 ? (
                                                bool_j_2025 = true
                                            ) : (
                                                m_match_cond_j_2021 = m_match_bool_j_2020 ? (
                                                        var_j_2022 = fail_b_12
                                                    ) : (
                                                        void_j_2019 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2028 = fun bj_null_j_123 -> (
                                        input_j_2027 = input);
                                    flatten_fun_j_2030 = fun expr_b_13 -> (
                                        var_j_2029 = expr_b_13);
                                    record_j_2031 = {checker = flatten_fun_j_2026, generator = flatten_fun_j_2028, wrapper = flatten_fun_j_2030};
                                    proj_j_2032 = record_j_2031.generator;
                                    int_j_2033 = 0;
                                    appl_j_2034 = proj_j_2032 int_j_2033;
                                    candidate_b_14 = appl_j_2034;
                                    var_j_2035 = is_pos;
                                    var_j_2036 = candidate_b_14;
                                    appl_j_2037 = var_j_2035 var_j_2036;
                                    if_j_2041 = appl_j_2037 ? (
                                            var_j_2038 = candidate_b_14
                                        ) : (
                                            bool_j_2039 = false;
                                            assume_j_2040 = assume bool_j_2039
                                        ));
                                flatten_fun_j_2044 = fun expr_b_21 -> (
                                    var_j_2043 = expr_b_21);
                                record_j_2045 = {checker = flatten_fun_j_2016, generator = flatten_fun_j_2042, wrapper = flatten_fun_j_2044};
                                proj_j_2046 = record_j_2045.generator;
                                int_j_2047 = 0;
                                appl_j_2048 = proj_j_2046 int_j_2047;
                                height_b_7 = appl_j_2048;
                                var_j_2049 = height_b_7;
                                var_j_2050 = item_b_8;
                                var_j_2051 = left_b_9;
                                var_j_2052 = right_b_10;
                                record_j_2053 = {height = var_j_2049, item = var_j_2050, left = var_j_2051, right = var_j_2052};
                                record_j_2054 = {};
                                record_j_2055 = {};
                                record_j_2056 = {};
                                record_j_2057 = {};
                                record_j_2058 = {height = record_j_2054, item = record_j_2055, left = record_j_2056, right = record_j_2057};
                                record_j_2059 = {bj_actual_rec = record_j_2053, bj_decl_lbls = record_j_2058});
                            flatten_fun_j_2062 = fun expr_b_46 -> (
                                var_j_2061 = expr_b_46);
                            record_j_2063 = {checker = flatten_fun_j_1961, generator = flatten_fun_j_2060, wrapper = flatten_fun_j_2062};
                            proj_j_2064 = record_j_2063.generator;
                            int_j_2065 = 0;
                            appl_j_2066 = proj_j_2064 int_j_2065
                        ) : (
                            flatten_fun_j_2113 = fun expr_b_54 -> (
                                bool_j_2067 = false;
                                rec_fail_b_53 = bool_j_2067;
                                bool_j_2068 = false;
                                rec_fail_b_52 = bool_j_2068;
                                bool_j_2069 = false;
                                rec_fail_b_51 = bool_j_2069;
                                var_j_2070 = expr_b_54;
                                m_match_bool_j_2072 = var_j_2070 ~ any;
                                m_match_bool_j_2075 = var_j_2070 ~ {bj_actual_rec, _};
                                m_match_cond_j_2076 = m_match_bool_j_2075 ? (
                                        var_j_2077 = expr_b_54;
                                        proj_j_2078 = var_j_2077.bj_decl_lbls;
                                        m_match_bool_j_2080 = proj_j_2078 ~ any;
                                        m_match_bool_j_2083 = proj_j_2078 ~ 
                                            {leaf, _};
                                        m_match_cond_j_2084 = m_match_bool_j_2083 ? (
                                                leaf_j_128 = proj_j_2078.leaf;
                                                var_j_2085 = expr_b_54;
                                                proj_j_2086 = var_j_2085.bj_actual_rec;
                                                m_match_bool_j_2088 = proj_j_2086 ~ any;
                                                m_match_bool_j_2091 = proj_j_2086 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_2092 = m_match_bool_j_2091 ? (
                                                        leaf_j_127 = proj_j_2086.leaf;
                                                        bool_j_2093 = false;
                                                        fail_b_56 = bool_j_2093;
                                                        flatten_fun_j_2102 = fun expr_b_55 -> (
                                                            var_j_2094 = expr_b_55;
                                                            m_match_bool_j_2096 = var_j_2094 ~ any;
                                                            m_match_bool_j_2099 = var_j_2094 ~ bool;
                                                            m_match_cond_j_2100 = m_match_bool_j_2099 ? (
                                                                    bool_j_2101 = true
                                                                ) : (
                                                                    m_match_cond_j_2097 = m_match_bool_j_2096 ? (
                                                                        var_j_2098 = fail_b_56
                                                                    ) : (
                                                                        void_j_2095 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_2106 = fun bj_null_j_126 -> (
                                                            int_j_2103 = 0;
                                                            input_j_2104 = input;
                                                            m_bl_i_2928 = int_j_2103 ~ int;
                                                            m_br_i_2929 = input_j_2104 ~ int;
                                                            m_b_i_2930 = m_bl_i_2928 and m_br_i_2929;
                                                            binop_j_2105 = m_b_i_2930 ? (
                                                                    c_binop_i_2931 = int_j_2103 <= input_j_2104
                                                                ) : (
                                                                    ab_i_2932 = abort
                                                                ));
                                                        flatten_fun_j_2108 = fun expr_b_57 -> (
                                                            var_j_2107 = expr_b_57);
                                                        record_j_2109 = 
                                                            {checker = flatten_fun_j_2102, generator = flatten_fun_j_2106, wrapper = flatten_fun_j_2108};
                                                        proj_j_2110 = record_j_2109.checker;
                                                        var_j_2111 = leaf_j_127;
                                                        appl_j_2112 = proj_j_2110 var_j_2111
                                                    ) : (
                                                        m_match_cond_j_2089 = m_match_bool_j_2088 ? (
                                                                var_j_2090 = rec_fail_b_51
                                                            ) : (
                                                                void_j_2087 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_2081 = m_match_bool_j_2080 ? (
                                                        var_j_2082 = rec_fail_b_52
                                                    ) : (
                                                        void_j_2079 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_2073 = m_match_bool_j_2072 ? (
                                                var_j_2074 = rec_fail_b_53
                                            ) : (
                                                void_j_2071 = {}
                                            )
                                    ));
                            flatten_fun_j_2139 = fun bj_null_j_130 -> (
                                bool_j_2114 = false;
                                fail_b_49 = bool_j_2114;
                                flatten_fun_j_2123 = fun expr_b_48 -> (
                                    var_j_2115 = expr_b_48;
                                    m_match_bool_j_2117 = var_j_2115 ~ any;
                                    m_match_bool_j_2120 = var_j_2115 ~ bool;
                                    m_match_cond_j_2121 = m_match_bool_j_2120 ? (
                                            bool_j_2122 = true
                                        ) : (
                                            m_match_cond_j_2118 = m_match_bool_j_2117 ? (
                                                    var_j_2119 = fail_b_49
                                                ) : (
                                                    void_j_2116 = {}
                                                )
                                        ));
                                flatten_fun_j_2127 = fun bj_null_j_129 -> (
                                    int_j_2124 = 0;
                                    input_j_2125 = input;
                                    m_bl_i_2933 = int_j_2124 ~ int;
                                    m_br_i_2934 = input_j_2125 ~ int;
                                    m_b_i_2935 = m_bl_i_2933 and m_br_i_2934;
                                    binop_j_2126 = m_b_i_2935 ? (
                                            c_binop_i_2936 = int_j_2124 <= input_j_2125
                                        ) : (
                                            ab_i_2937 = abort
                                        ));
                                flatten_fun_j_2129 = fun expr_b_50 -> (
                                    var_j_2128 = expr_b_50);
                                record_j_2130 = {checker = flatten_fun_j_2123, generator = flatten_fun_j_2127, wrapper = flatten_fun_j_2129};
                                proj_j_2131 = record_j_2130.generator;
                                int_j_2132 = 0;
                                appl_j_2133 = proj_j_2131 int_j_2132;
                                leaf_b_47 = appl_j_2133;
                                var_j_2134 = leaf_b_47;
                                record_j_2135 = {leaf = var_j_2134};
                                record_j_2136 = {};
                                record_j_2137 = {leaf = record_j_2136};
                                record_j_2138 = {bj_actual_rec = record_j_2135, bj_decl_lbls = record_j_2137});
                            flatten_fun_j_2141 = fun expr_b_58 -> (
                                var_j_2140 = expr_b_58);
                            record_j_2142 = {checker = flatten_fun_j_2113, generator = flatten_fun_j_2139, wrapper = flatten_fun_j_2141};
                            proj_j_2143 = record_j_2142.generator;
                            int_j_2144 = 0;
                            appl_j_2145 = proj_j_2143 int_j_2144
                        ));
                flatten_fun_j_2149 = fun expr_b_167 -> (
                    var_j_2148 = expr_b_167);
                record_j_2150 = {checker = flatten_fun_j_1834, generator = flatten_fun_j_2147, wrapper = flatten_fun_j_2149};
                proj_j_2151 = record_j_2150.generator;
                int_j_2152 = 0;
                appl_j_2153 = proj_j_2151 int_j_2152);
            var_j_2155 = self_b_2;
            int_j_2156 = 0;
            appl_j_2157 = var_j_2155 int_j_2156;
            appl_j_2158 = flatten_fun_j_2154 appl_j_2157);
        flatten_fun_j_2161 = fun expr_b_330 -> (
            var_j_2160 = expr_b_330);
        record_j_2162 = {checker = flatten_fun_j_1203, generator = flatten_fun_j_2159, wrapper = flatten_fun_j_2161}));
appl_j_2165 = ycomb_b_6 flatten_fun_j_2164;
int_j_2166 = 0;
appl_j_2167 = appl_j_2165 int_j_2166;
is_leaf_j_2191 = fun x_j_220 -> (
    bool_j_2168 = false;
    fail_b_331 = bool_j_2168;
    var_j_2169 = x_j_220;
    m_match_bool_j_2171 = var_j_2169 ~ {bj_untouched, _};
    m_match_bool_j_2178 = var_j_2169 ~ {bj_actual_rec, _};
    m_match_cond_j_2179 = m_match_bool_j_2178 ? (
            actual_rec_b_355 = var_j_2169.bj_actual_rec;
            var_j_2180 = x_j_220;
            proj_j_2181 = var_j_2180.bj_decl_lbls;
            m_match_bool_j_2183 = proj_j_2181 ~ {_};
            m_match_bool_j_2186 = proj_j_2181 ~ {leaf};
            m_match_cond_j_2187 = m_match_bool_j_2186 ? (
                    b_j_219 = proj_j_2181.leaf;
                    var_j_2188 = actual_rec_b_355;
                    proj_j_2189 = var_j_2188.leaf;
                    b_j_218 = proj_j_2189;
                    bool_j_2190 = true
                ) : (
                    m_match_cond_j_2184 = m_match_bool_j_2183 ? (
                            bool_j_2185 = false
                        ) : (
                            ab_j_2182 = abort
                        )
                )
        ) : (
            m_match_cond_j_2172 = m_match_bool_j_2171 ? (
                    var_j_2173 = fail_b_331;
                    assert_pred_j_2174 = var_j_2173;
                    assert_res_j_2175 = assert_pred_j_2174 ? (
                            assert_res_true_j_2176 = {}
                        ) : (
                            ab_j_2177 = abort
                        )
                ) : (
                    ab_j_2170 = abort
                )
        ));
is_leaf = is_leaf_j_2191;
item_exn_j_2212 = fun x_j_217 -> (
    bool_j_2192 = false;
    fail_b_332 = bool_j_2192;
    var_j_2193 = x_j_217;
    m_match_bool_j_2195 = var_j_2193 ~ {bj_untouched, _};
    m_match_bool_j_2202 = var_j_2193 ~ {bj_actual_rec, _};
    m_match_cond_j_2203 = m_match_bool_j_2202 ? (
            actual_rec_b_356 = var_j_2193.bj_actual_rec;
            var_j_2204 = x_j_217;
            proj_j_2205 = var_j_2204.bj_decl_lbls;
            m_match_bool_j_2207 = proj_j_2205 ~ {item, _};
            m_match_cond_j_2208 = m_match_bool_j_2207 ? (
                    i_j_216 = proj_j_2205.item;
                    var_j_2209 = actual_rec_b_356;
                    proj_j_2210 = var_j_2209.item;
                    i_j_215 = proj_j_2210;
                    var_j_2211 = i_j_215
                ) : (
                    ab_j_2206 = abort
                )
        ) : (
            m_match_cond_j_2196 = m_match_bool_j_2195 ? (
                    var_j_2197 = fail_b_332;
                    assert_pred_j_2198 = var_j_2197;
                    assert_res_j_2199 = assert_pred_j_2198 ? (
                            assert_res_true_j_2200 = {}
                        ) : (
                            ab_j_2201 = abort
                        )
                ) : (
                    ab_j_2194 = abort
                )
        ));
item_exn = item_exn_j_2212;
left_exn_j_2233 = fun x_j_214 -> (
    bool_j_2213 = false;
    fail_b_333 = bool_j_2213;
    var_j_2214 = x_j_214;
    m_match_bool_j_2216 = var_j_2214 ~ {bj_untouched, _};
    m_match_bool_j_2223 = var_j_2214 ~ {bj_actual_rec, _};
    m_match_cond_j_2224 = m_match_bool_j_2223 ? (
            actual_rec_b_357 = var_j_2214.bj_actual_rec;
            var_j_2225 = x_j_214;
            proj_j_2226 = var_j_2225.bj_decl_lbls;
            m_match_bool_j_2228 = proj_j_2226 ~ {left, _};
            m_match_cond_j_2229 = m_match_bool_j_2228 ? (
                    left_j_213 = proj_j_2226.left;
                    var_j_2230 = actual_rec_b_357;
                    proj_j_2231 = var_j_2230.left;
                    left_j_212 = proj_j_2231;
                    var_j_2232 = left_j_212
                ) : (
                    ab_j_2227 = abort
                )
        ) : (
            m_match_cond_j_2217 = m_match_bool_j_2216 ? (
                    var_j_2218 = fail_b_333;
                    assert_pred_j_2219 = var_j_2218;
                    assert_res_j_2220 = assert_pred_j_2219 ? (
                            assert_res_true_j_2221 = {}
                        ) : (
                            ab_j_2222 = abort
                        )
                ) : (
                    ab_j_2215 = abort
                )
        ));
left_exn = left_exn_j_2233;
right_exn_j_2254 = fun x_j_211 -> (
    bool_j_2234 = false;
    fail_b_334 = bool_j_2234;
    var_j_2235 = x_j_211;
    m_match_bool_j_2237 = var_j_2235 ~ {bj_untouched, _};
    m_match_bool_j_2244 = var_j_2235 ~ {bj_actual_rec, _};
    m_match_cond_j_2245 = m_match_bool_j_2244 ? (
            actual_rec_b_358 = var_j_2235.bj_actual_rec;
            var_j_2246 = x_j_211;
            proj_j_2247 = var_j_2246.bj_decl_lbls;
            m_match_bool_j_2249 = proj_j_2247 ~ {right, _};
            m_match_cond_j_2250 = m_match_bool_j_2249 ? (
                    right_j_210 = proj_j_2247.right;
                    var_j_2251 = actual_rec_b_358;
                    proj_j_2252 = var_j_2251.right;
                    right_j_209 = proj_j_2252;
                    var_j_2253 = right_j_209
                ) : (
                    ab_j_2248 = abort
                )
        ) : (
            m_match_cond_j_2238 = m_match_bool_j_2237 ? (
                    var_j_2239 = fail_b_334;
                    assert_pred_j_2240 = var_j_2239;
                    assert_res_j_2241 = assert_pred_j_2240 ? (
                            assert_res_true_j_2242 = {}
                        ) : (
                            ab_j_2243 = abort
                        )
                ) : (
                    ab_j_2236 = abort
                )
        ));
right_exn = right_exn_j_2254;
bool_j_2255 = true;
record_j_2256 = {leaf = bool_j_2255};
record_j_2257 = {};
record_j_2258 = {leaf = record_j_2257};
record_j_2259 = {bj_actual_rec = record_j_2256, bj_decl_lbls = record_j_2258};
empty = record_j_2259;
height_j_204_j_2285 = fun x_j_208 -> (
    bool_j_2260 = false;
    fail_b_335 = bool_j_2260;
    var_j_2261 = x_j_208;
    m_match_bool_j_2263 = var_j_2261 ~ {bj_untouched, _};
    m_match_bool_j_2270 = var_j_2261 ~ {bj_actual_rec, _};
    m_match_cond_j_2271 = m_match_bool_j_2270 ? (
            actual_rec_b_359 = var_j_2261.bj_actual_rec;
            var_j_2272 = x_j_208;
            proj_j_2273 = var_j_2272.bj_decl_lbls;
            m_match_bool_j_2275 = proj_j_2273 ~ {height, _};
            m_match_bool_j_2280 = proj_j_2273 ~ {leaf};
            m_match_cond_j_2281 = m_match_bool_j_2280 ? (
                    b_j_206 = proj_j_2273.leaf;
                    var_j_2282 = actual_rec_b_359;
                    proj_j_2283 = var_j_2282.leaf;
                    b_j_205 = proj_j_2283;
                    int_j_2284 = 0
                ) : (
                    m_match_cond_j_2276 = m_match_bool_j_2275 ? (
                            h_j_207 = proj_j_2273.height;
                            var_j_2277 = actual_rec_b_359;
                            proj_j_2278 = var_j_2277.height;
                            h = proj_j_2278;
                            var_j_2279 = h
                        ) : (
                            ab_j_2274 = abort
                        )
                )
        ) : (
            m_match_cond_j_2264 = m_match_bool_j_2263 ? (
                    var_j_2265 = fail_b_335;
                    assert_pred_j_2266 = var_j_2265;
                    assert_res_j_2267 = assert_pred_j_2266 ? (
                            assert_res_true_j_2268 = {}
                        ) : (
                            ab_j_2269 = abort
                        )
                ) : (
                    ab_j_2262 = abort
                )
        ));
balance_factor_j_2319 = fun x_j_203 -> (
    bool_j_2286 = false;
    fail_b_336 = bool_j_2286;
    var_j_2287 = x_j_203;
    m_match_bool_j_2289 = var_j_2287 ~ {bj_untouched, _};
    m_match_bool_j_2296 = var_j_2287 ~ {bj_actual_rec, _};
    m_match_cond_j_2297 = m_match_bool_j_2296 ? (
            actual_rec_b_360 = var_j_2287.bj_actual_rec;
            var_j_2298 = x_j_203;
            proj_j_2299 = var_j_2298.bj_decl_lbls;
            m_match_bool_j_2301 = proj_j_2299 ~ {left, right, _};
            m_match_bool_j_2314 = proj_j_2299 ~ {leaf};
            m_match_cond_j_2315 = m_match_bool_j_2314 ? (
                    leaf_j_198 = proj_j_2299.leaf;
                    var_j_2316 = actual_rec_b_360;
                    proj_j_2317 = var_j_2316.leaf;
                    leaf_j_197 = proj_j_2317;
                    int_j_2318 = 0
                ) : (
                    m_match_cond_j_2302 = m_match_bool_j_2301 ? (
                            left_j_202 = proj_j_2299.left;
                            right_j_201 = proj_j_2299.right;
                            var_j_2303 = actual_rec_b_360;
                            proj_j_2304 = var_j_2303.right;
                            right_j_200 = proj_j_2304;
                            var_j_2305 = actual_rec_b_360;
                            proj_j_2306 = var_j_2305.left;
                            left_j_199 = proj_j_2306;
                            var_j_2307 = height_j_204_j_2285;
                            var_j_2308 = left_j_199;
                            m_i_2938 = var_j_2307 ~ fun;
                            appl_j_2309 = m_i_2938 ? (
                                    c_appl_i_2939 = var_j_2307 var_j_2308
                                ) : (
                                    ab_i_2940 = abort
                                );
                            var_j_2310 = height_j_204_j_2285;
                            var_j_2311 = right_j_200;
                            m_i_2941 = var_j_2310 ~ fun;
                            appl_j_2312 = m_i_2941 ? (
                                    c_appl_i_2942 = var_j_2310 var_j_2311
                                ) : (
                                    ab_i_2943 = abort
                                );
                            m_bl_i_2944 = appl_j_2309 ~ int;
                            m_br_i_2945 = appl_j_2312 ~ int;
                            m_b_i_2946 = m_bl_i_2944 and m_br_i_2945;
                            binop_j_2313 = m_b_i_2946 ? (
                                    c_binop_i_2947 = appl_j_2309 - appl_j_2312
                                ) : (
                                    ab_i_2948 = abort
                                )
                        ) : (
                            ab_j_2300 = abort
                        )
                )
        ) : (
            m_match_cond_j_2290 = m_match_bool_j_2289 ? (
                    var_j_2291 = fail_b_336;
                    assert_pred_j_2292 = var_j_2291;
                    assert_res_j_2293 = assert_pred_j_2292 ? (
                            assert_res_true_j_2294 = {}
                        ) : (
                            ab_j_2295 = abort
                        )
                ) : (
                    ab_j_2288 = abort
                )
        ));
balance_factor = balance_factor_j_2319;
abs_j_2328 = fun a_j_196 -> (
    int_j_2320 = 0;
    var_j_2321 = a_j_196;
    m_bl_i_2949 = int_j_2320 ~ int;
    m_br_i_2950 = var_j_2321 ~ int;
    m_b_i_2951 = m_bl_i_2949 and m_br_i_2950;
    binop_j_2322 = m_b_i_2951 ? (
            c_binop_i_2952 = int_j_2320 < var_j_2321
        ) : (
            ab_i_2953 = abort
        );
    m_i_2954 = binop_j_2322 ~ bool;
    if_j_2327 = m_i_2954 ? (
            c_cond_i_2960 = binop_j_2322 ? (
                    var_j_2323 = a_j_196
                ) : (
                    int_j_2324 = 0;
                    var_j_2325 = a_j_196;
                    m_bl_i_2955 = int_j_2324 ~ int;
                    m_br_i_2956 = var_j_2325 ~ int;
                    m_b_i_2957 = m_bl_i_2955 and m_br_i_2956;
                    binop_j_2326 = m_b_i_2957 ? (
                            c_binop_i_2958 = int_j_2324 - var_j_2325
                        ) : (
                            ab_i_2959 = abort
                        )
                )
        ) : (
            ab_i_2961 = abort
        ));
abs = abs_j_2328;
flatten_fun_j_2374 = fun is_balanced_j_1 -> (
    flatten_fun_j_2373 = fun x -> (
        var_j_2329 = is_balanced_j_1;
        var_j_2330 = is_balanced_j_1;
        appl_j_2331 = var_j_2329 var_j_2330;
        is_balanced = appl_j_2331;
        bool_j_2332 = false;
        fail_b_337 = bool_j_2332;
        var_j_2333 = x;
        m_match_bool_j_2335 = var_j_2333 ~ {bj_untouched, _};
        m_match_bool_j_2342 = var_j_2333 ~ {bj_actual_rec, _};
        m_match_cond_j_2343 = m_match_bool_j_2342 ? (
                actual_rec_b_361 = var_j_2333.bj_actual_rec;
                var_j_2344 = x;
                proj_j_2345 = var_j_2344.bj_decl_lbls;
                m_match_bool_j_2347 = proj_j_2345 ~ {left, right, _};
                m_match_bool_j_2368 = proj_j_2345 ~ {leaf};
                m_match_cond_j_2369 = m_match_bool_j_2368 ? (
                        leaf_j_136 = proj_j_2345.leaf;
                        var_j_2370 = actual_rec_b_361;
                        proj_j_2371 = var_j_2370.leaf;
                        leaf_j_135 = proj_j_2371;
                        bool_j_2372 = true
                    ) : (
                        m_match_cond_j_2348 = m_match_bool_j_2347 ? (
                                left_j_140 = proj_j_2345.left;
                                right_j_139 = proj_j_2345.right;
                                var_j_2349 = actual_rec_b_361;
                                proj_j_2350 = var_j_2349.right;
                                right_j_138 = proj_j_2350;
                                var_j_2351 = actual_rec_b_361;
                                proj_j_2352 = var_j_2351.left;
                                left_j_137 = proj_j_2352;
                                var_j_2353 = abs;
                                var_j_2354 = balance_factor;
                                var_j_2355 = x;
                                m_i_2962 = var_j_2354 ~ fun;
                                appl_j_2356 = m_i_2962 ? (
                                        c_appl_i_2963 = var_j_2354 var_j_2355
                                    ) : (
                                        ab_i_2964 = abort
                                    );
                                m_i_2965 = var_j_2353 ~ fun;
                                appl_j_2357 = m_i_2965 ? (
                                        c_appl_i_2966 = var_j_2353 appl_j_2356
                                    ) : (
                                        ab_i_2967 = abort
                                    );
                                int_j_2358 = 2;
                                m_bl_i_2968 = appl_j_2357 ~ int;
                                m_br_i_2969 = int_j_2358 ~ int;
                                m_b_i_2970 = m_bl_i_2968 and m_br_i_2969;
                                binop_j_2359 = m_b_i_2970 ? (
                                        c_binop_i_2971 = appl_j_2357 < int_j_2358
                                    ) : (
                                        ab_i_2972 = abort
                                    );
                                var_j_2360 = is_balanced;
                                var_j_2361 = left_j_137;
                                m_i_2973 = var_j_2360 ~ fun;
                                appl_j_2362 = m_i_2973 ? (
                                        c_appl_i_2974 = var_j_2360 var_j_2361
                                    ) : (
                                        ab_i_2975 = abort
                                    );
                                m_bl_i_2976 = binop_j_2359 ~ bool;
                                m_br_i_2977 = appl_j_2362 ~ bool;
                                m_b_i_2978 = m_bl_i_2976 and m_br_i_2977;
                                binop_j_2363 = m_b_i_2978 ? (
                                        c_binop_i_2979 = binop_j_2359 and appl_j_2362
                                    ) : (
                                        ab_i_2980 = abort
                                    );
                                var_j_2364 = is_balanced;
                                var_j_2365 = right_j_138;
                                m_i_2981 = var_j_2364 ~ fun;
                                appl_j_2366 = m_i_2981 ? (
                                        c_appl_i_2982 = var_j_2364 var_j_2365
                                    ) : (
                                        ab_i_2983 = abort
                                    );
                                m_bl_i_2984 = binop_j_2363 ~ bool;
                                m_br_i_2985 = appl_j_2366 ~ bool;
                                m_b_i_2986 = m_bl_i_2984 and m_br_i_2985;
                                binop_j_2367 = m_b_i_2986 ? (
                                        c_binop_i_2987 = binop_j_2363 and appl_j_2366
                                    ) : (
                                        ab_i_2988 = abort
                                    )
                            ) : (
                                ab_j_2346 = abort
                            )
                    )
            ) : (
                m_match_cond_j_2336 = m_match_bool_j_2335 ? (
                        var_j_2337 = fail_b_337;
                        assert_pred_j_2338 = var_j_2337;
                        assert_res_j_2339 = assert_pred_j_2338 ? (
                                assert_res_true_j_2340 = {}
                            ) : (
                                ab_j_2341 = abort
                            )
                    ) : (
                        ab_j_2334 = abort
                    )
            )));
appl_j_2377 = flatten_fun_j_2374 flatten_fun_j_2374;
max_j_2385 = fun a -> (
    max_j_2384 = fun b_j_193 -> (
        var_j_2378 = b_j_193;
        var_j_2379 = a;
        m_bl_i_2989 = var_j_2378 ~ int;
        m_br_i_2990 = var_j_2379 ~ int;
        m_b_i_2991 = m_bl_i_2989 and m_br_i_2990;
        binop_j_2380 = m_b_i_2991 ? (
                c_binop_i_2992 = var_j_2378 < var_j_2379
            ) : (
                ab_i_2993 = abort
            );
        m_i_2994 = binop_j_2380 ~ bool;
        if_j_2383 = m_i_2994 ? (
                c_cond_i_2995 = binop_j_2380 ? (
                        var_j_2381 = a
                    ) : (
                        var_j_2382 = b_j_193
                    )
            ) : (
                ab_i_2996 = abort
            )));
max = max_j_2385;
create_node_j_2409 = fun item_j_192 -> (
    create_node_j_2408 = fun left_j_191 -> (
        create_node_j_2407 = fun right_j_190 -> (
            int_j_2386 = 1;
            var_j_2387 = max;
            var_j_2388 = height_j_204_j_2285;
            var_j_2389 = left_j_191;
            m_i_2997 = var_j_2388 ~ fun;
            appl_j_2390 = m_i_2997 ? (
                    c_appl_i_2998 = var_j_2388 var_j_2389
                ) : (
                    ab_i_2999 = abort
                );
            m_i_3000 = var_j_2387 ~ fun;
            appl_j_2391 = m_i_3000 ? (
                    c_appl_i_3001 = var_j_2387 appl_j_2390
                ) : (
                    ab_i_3002 = abort
                );
            var_j_2392 = height_j_204_j_2285;
            var_j_2393 = right_j_190;
            m_i_3003 = var_j_2392 ~ fun;
            appl_j_2394 = m_i_3003 ? (
                    c_appl_i_3004 = var_j_2392 var_j_2393
                ) : (
                    ab_i_3005 = abort
                );
            m_i_3006 = appl_j_2391 ~ fun;
            appl_j_2395 = m_i_3006 ? (
                    c_appl_i_3007 = appl_j_2391 appl_j_2394
                ) : (
                    ab_i_3008 = abort
                );
            m_bl_i_3009 = int_j_2386 ~ int;
            m_br_i_3010 = appl_j_2395 ~ int;
            m_b_i_3011 = m_bl_i_3009 and m_br_i_3010;
            binop_j_2396 = m_b_i_3011 ? (
                    c_binop_i_3012 = int_j_2386 + appl_j_2395
                ) : (
                    ab_i_3013 = abort
                );
            var_j_2397 = item_j_192;
            var_j_2398 = left_j_191;
            var_j_2399 = right_j_190;
            record_j_2400 = {height = binop_j_2396, item = var_j_2397, left = var_j_2398, right = var_j_2399};
            record_j_2401 = {};
            record_j_2402 = {};
            record_j_2403 = {};
            record_j_2404 = {};
            record_j_2405 = {height = record_j_2401, item = record_j_2402, left = record_j_2403, right = record_j_2404};
            record_j_2406 = {bj_actual_rec = record_j_2400, bj_decl_lbls = record_j_2405})));
create_node = create_node_j_2409;
rotate_left_j_2542 = fun x_j_189 -> (
    flatten_fun_j_2539 = fun x_b_0 -> (
        int_j_2410 = 0;
        input_j_2411 = input;
        m_bl_i_3014 = int_j_2410 ~ int;
        m_br_i_3015 = input_j_2411 ~ int;
        m_b_i_3016 = m_bl_i_3014 and m_br_i_3015;
        binop_j_2412 = m_b_i_3016 ? (
                c_binop_i_3017 = int_j_2410 < input_j_2411
            ) : (
                ab_i_3018 = abort
            );
        if_j_2469 = binop_j_2412 ? (
                flatten_fun_j_2438 = fun expr_b_344 -> (
                    var_j_2413 = appl_j_2167;
                    proj_j_2414 = var_j_2413.checker;
                    var_j_2415 = expr_b_344;
                    appl_j_2416 = proj_j_2414 var_j_2415;
                    t_check_b_345 = appl_j_2416;
                    var_j_2417 = t_check_b_345;
                    if_j_2437 = var_j_2417 ? (
                            bool_j_2418 = false;
                            pred_check_b_346 = bool_j_2418;
                            flatten_fun_j_2430 = fun t_j_177 -> (
                                var_j_2419 = is_leaf;
                                var_j_2420 = t_j_177;
                                m_i_3019 = var_j_2419 ~ fun;
                                appl_j_2421 = m_i_3019 ? (
                                        c_appl_i_3020 = var_j_2419 var_j_2420
                                    ) : (
                                        ab_i_3021 = abort
                                    );
                                m_i_3022 = appl_j_2421 ~ bool;
                                notop_j_2422 = m_i_3022 ? (
                                        c_not_i_3023 = not appl_j_2421
                                    ) : (
                                        ab_i_3024 = abort
                                    );
                                var_j_2423 = is_leaf;
                                var_j_2424 = right_exn;
                                var_j_2425 = t_j_177;
                                m_i_3025 = var_j_2424 ~ fun;
                                appl_j_2426 = m_i_3025 ? (
                                        c_appl_i_3026 = var_j_2424 var_j_2425
                                    ) : (
                                        ab_i_3027 = abort
                                    );
                                m_i_3028 = var_j_2423 ~ fun;
                                appl_j_2427 = m_i_3028 ? (
                                        c_appl_i_3029 = var_j_2423 appl_j_2426
                                    ) : (
                                        ab_i_3030 = abort
                                    );
                                m_i_3031 = appl_j_2427 ~ bool;
                                notop_j_2428 = m_i_3031 ? (
                                        c_not_i_3032 = not appl_j_2427
                                    ) : (
                                        ab_i_3033 = abort
                                    );
                                m_bl_i_3034 = notop_j_2422 ~ bool;
                                m_br_i_3035 = notop_j_2428 ~ bool;
                                m_b_i_3036 = m_bl_i_3034 and m_br_i_3035;
                                binop_j_2429 = m_b_i_3036 ? (
                                        c_binop_i_3037 = notop_j_2422 and notop_j_2428
                                    ) : (
                                        ab_i_3038 = abort
                                    ));
                            var_j_2431 = expr_b_344;
                            appl_j_2432 = flatten_fun_j_2430 var_j_2431;
                            if_j_2435 = appl_j_2432 ? (
                                    bool_j_2433 = true
                                ) : (
                                    var_j_2434 = pred_check_b_346
                                )
                        ) : (
                            var_j_2436 = t_check_b_345
                        ));
                flatten_fun_j_2461 = fun bj_null_j_179 -> (
                    var_j_2439 = appl_j_2167;
                    proj_j_2440 = var_j_2439.generator;
                    int_j_2441 = 0;
                    appl_j_2442 = proj_j_2440 int_j_2441;
                    candidate_b_343 = appl_j_2442;
                    flatten_fun_j_2454 = fun t_j_178 -> (
                        var_j_2443 = is_leaf;
                        var_j_2444 = t_j_178;
                        m_i_3039 = var_j_2443 ~ fun;
                        appl_j_2445 = m_i_3039 ? (
                                c_appl_i_3040 = var_j_2443 var_j_2444
                            ) : (
                                ab_i_3041 = abort
                            );
                        m_i_3042 = appl_j_2445 ~ bool;
                        notop_j_2446 = m_i_3042 ? (
                                c_not_i_3043 = not appl_j_2445
                            ) : (
                                ab_i_3044 = abort
                            );
                        var_j_2447 = is_leaf;
                        var_j_2448 = right_exn;
                        var_j_2449 = t_j_178;
                        m_i_3045 = var_j_2448 ~ fun;
                        appl_j_2450 = m_i_3045 ? (
                                c_appl_i_3046 = var_j_2448 var_j_2449
                            ) : (
                                ab_i_3047 = abort
                            );
                        m_i_3048 = var_j_2447 ~ fun;
                        appl_j_2451 = m_i_3048 ? (
                                c_appl_i_3049 = var_j_2447 appl_j_2450
                            ) : (
                                ab_i_3050 = abort
                            );
                        m_i_3051 = appl_j_2451 ~ bool;
                        notop_j_2452 = m_i_3051 ? (
                                c_not_i_3052 = not appl_j_2451
                            ) : (
                                ab_i_3053 = abort
                            );
                        m_bl_i_3054 = notop_j_2446 ~ bool;
                        m_br_i_3055 = notop_j_2452 ~ bool;
                        m_b_i_3056 = m_bl_i_3054 and m_br_i_3055;
                        binop_j_2453 = m_b_i_3056 ? (
                                c_binop_i_3057 = notop_j_2446 and notop_j_2452
                            ) : (
                                ab_i_3058 = abort
                            ));
                    var_j_2455 = candidate_b_343;
                    appl_j_2456 = flatten_fun_j_2454 var_j_2455;
                    if_j_2460 = appl_j_2456 ? (
                            var_j_2457 = candidate_b_343
                        ) : (
                            bool_j_2458 = false;
                            assume_j_2459 = assume bool_j_2458
                        ));
                flatten_fun_j_2463 = fun expr_b_347 -> (
                    var_j_2462 = expr_b_347);
                record_j_2464 = {checker = flatten_fun_j_2438, generator = flatten_fun_j_2461, wrapper = flatten_fun_j_2463};
                proj_j_2465 = record_j_2464.checker;
                var_j_2466 = x_b_0;
                m_i_3059 = proj_j_2465 ~ fun;
                appl_j_2467 = m_i_3059 ? (
                        c_appl_i_3060 = proj_j_2465 var_j_2466
                    ) : (
                        ab_i_3061 = abort
                    )
            ) : (
                bool_j_2468 = true
            );
        arg_check_b_1 = if_j_2469;
        var_j_2470 = arg_check_b_1;
        if_j_2538 = var_j_2470 ? (
                var_j_2471 = appl_j_2167;
                proj_j_2472 = var_j_2471.wrapper;
                bool_j_2473 = false;
                fail_b_348 = bool_j_2473;
                var_j_2474 = x_j_189;
                m_match_bool_j_2476 = var_j_2474 ~ {bj_untouched, _};
                m_match_bool_j_2483 = var_j_2474 ~ {bj_actual_rec, _};
                m_match_cond_j_2484 = m_match_bool_j_2483 ? (
                        actual_rec_b_370 = var_j_2474.bj_actual_rec;
                        var_j_2485 = x_j_189;
                        proj_j_2486 = var_j_2485.bj_decl_lbls;
                        m_match_bool_j_2488 = proj_j_2486 ~ {item, left, right, _};
                        m_match_cond_j_2489 = m_match_bool_j_2488 ? (
                                item_j_188 = proj_j_2486.item;
                                left_j_187 = proj_j_2486.left;
                                right_j_186 = proj_j_2486.right;
                                var_j_2490 = actual_rec_b_370;
                                proj_j_2491 = var_j_2490.right;
                                right_j_185 = proj_j_2491;
                                var_j_2492 = actual_rec_b_370;
                                proj_j_2493 = var_j_2492.left;
                                left_j_184 = proj_j_2493;
                                var_j_2494 = actual_rec_b_370;
                                proj_j_2495 = var_j_2494.item;
                                item_j_183 = proj_j_2495;
                                bool_j_2496 = false;
                                fail_b_349 = bool_j_2496;
                                var_j_2497 = right_j_185;
                                m_match_bool_j_2499 = var_j_2497 ~ {bj_untouched, _};
                                m_match_bool_j_2506 = var_j_2497 ~ {bj_actual_rec, _};
                                m_match_cond_j_2507 = m_match_bool_j_2506 ? (
                                        actual_rec_b_369 = var_j_2497.bj_actual_rec;
                                        var_j_2508 = right_j_185;
                                        proj_j_2509 = var_j_2508.bj_decl_lbls;
                                        m_match_bool_j_2511 = proj_j_2509 ~ 
                                            {item, left, right, _};
                                        m_match_cond_j_2512 = m_match_bool_j_2511 ? (
                                                ri_j_182 = proj_j_2509.item;
                                                rleft_j_181 = proj_j_2509.left;
                                                rright_j_180 = proj_j_2509.right;
                                                var_j_2513 = actual_rec_b_369;
                                                proj_j_2514 = var_j_2513.right;
                                                rright = proj_j_2514;
                                                var_j_2515 = actual_rec_b_369;
                                                proj_j_2516 = var_j_2515.left;
                                                rleft = proj_j_2516;
                                                var_j_2517 = actual_rec_b_369;
                                                proj_j_2518 = var_j_2517.item;
                                                ri = proj_j_2518;
                                                var_j_2519 = create_node;
                                                var_j_2520 = ri;
                                                m_i_3062 = var_j_2519 ~ fun;
                                                appl_j_2521 = m_i_3062 ? (
                                                        c_appl_i_3063 = var_j_2519 var_j_2520
                                                    ) : (
                                                        ab_i_3064 = abort
                                                    );
                                                var_j_2522 = create_node;
                                                var_j_2523 = item_j_183;
                                                m_i_3065 = var_j_2522 ~ fun;
                                                appl_j_2524 = m_i_3065 ? (
                                                        c_appl_i_3066 = var_j_2522 var_j_2523
                                                    ) : (
                                                        ab_i_3067 = abort
                                                    );
                                                var_j_2525 = left_j_184;
                                                m_i_3068 = appl_j_2524 ~ fun;
                                                appl_j_2526 = m_i_3068 ? (
                                                        c_appl_i_3069 = appl_j_2524 var_j_2525
                                                    ) : (
                                                        ab_i_3070 = abort
                                                    );
                                                var_j_2527 = rleft;
                                                m_i_3071 = appl_j_2526 ~ fun;
                                                appl_j_2528 = m_i_3071 ? (
                                                        c_appl_i_3072 = appl_j_2526 var_j_2527
                                                    ) : (
                                                        ab_i_3073 = abort
                                                    );
                                                m_i_3074 = appl_j_2521 ~ fun;
                                                appl_j_2529 = m_i_3074 ? (
                                                        c_appl_i_3075 = appl_j_2521 appl_j_2528
                                                    ) : (
                                                        ab_i_3076 = abort
                                                    );
                                                var_j_2530 = rright;
                                                m_i_3077 = appl_j_2529 ~ fun;
                                                appl_j_2531 = m_i_3077 ? (
                                                        c_appl_i_3078 = appl_j_2529 var_j_2530
                                                    ) : (
                                                        ab_i_3079 = abort
                                                    )
                                            ) : (
                                                ab_j_2510 = abort
                                            )
                                    ) : (
                                        m_match_cond_j_2500 = m_match_bool_j_2499 ? (
                                                var_j_2501 = fail_b_349;
                                                assert_pred_j_2502 = var_j_2501;
                                                assert_res_j_2503 = assert_pred_j_2502 ? (
                                                        assert_res_true_j_2504 = 
                                                            {}
                                                    ) : (
                                                        ab_j_2505 = abort
                                                    )
                                            ) : (
                                                ab_j_2498 = abort
                                            )
                                    )
                            ) : (
                                ab_j_2487 = abort
                            )
                    ) : (
                        m_match_cond_j_2477 = m_match_bool_j_2476 ? (
                                var_j_2478 = fail_b_348;
                                assert_pred_j_2479 = var_j_2478;
                                assert_res_j_2480 = assert_pred_j_2479 ? (
                                        assert_res_true_j_2481 = {}
                                    ) : (
                                        ab_j_2482 = abort
                                    )
                            ) : (
                                ab_j_2475 = abort
                            )
                    );
                m_i_3080 = proj_j_2472 ~ fun;
                appl_j_2532 = m_i_3080 ? (
                        c_appl_i_3081 = proj_j_2472 m_match_cond_j_2484
                    ) : (
                        ab_i_3082 = abort
                    )
            ) : (
                var_j_2533 = arg_check_b_1;
                assert_pred_j_2534 = var_j_2533;
                assert_res_j_2535 = assert_pred_j_2534 ? (
                        assert_res_true_j_2536 = {}
                    ) : (
                        ab_j_2537 = abort
                    )
            ));
    var_j_2540 = x_j_189;
    appl_j_2541 = flatten_fun_j_2539 var_j_2540);
rotate_left = rotate_left_j_2542;
flatten_fun_j_2568 = fun expr_b_339 -> (
    var_j_2543 = appl_j_2167;
    proj_j_2544 = var_j_2543.checker;
    var_j_2545 = expr_b_339;
    appl_j_2546 = proj_j_2544 var_j_2545;
    t_check_b_340 = appl_j_2546;
    var_j_2547 = t_check_b_340;
    if_j_2567 = var_j_2547 ? (
            bool_j_2548 = false;
            pred_check_b_341 = bool_j_2548;
            flatten_fun_j_2560 = fun t -> (
                var_j_2549 = is_leaf;
                var_j_2550 = t;
                m_i_3083 = var_j_2549 ~ fun;
                appl_j_2551 = m_i_3083 ? (
                        c_appl_i_3084 = var_j_2549 var_j_2550
                    ) : (
                        ab_i_3085 = abort
                    );
                m_i_3086 = appl_j_2551 ~ bool;
                notop_j_2552 = m_i_3086 ? (
                        c_not_i_3087 = not appl_j_2551
                    ) : (
                        ab_i_3088 = abort
                    );
                var_j_2553 = is_leaf;
                var_j_2554 = right_exn;
                var_j_2555 = t;
                m_i_3089 = var_j_2554 ~ fun;
                appl_j_2556 = m_i_3089 ? (
                        c_appl_i_3090 = var_j_2554 var_j_2555
                    ) : (
                        ab_i_3091 = abort
                    );
                m_i_3092 = var_j_2553 ~ fun;
                appl_j_2557 = m_i_3092 ? (
                        c_appl_i_3093 = var_j_2553 appl_j_2556
                    ) : (
                        ab_i_3094 = abort
                    );
                m_i_3095 = appl_j_2557 ~ bool;
                notop_j_2558 = m_i_3095 ? (
                        c_not_i_3096 = not appl_j_2557
                    ) : (
                        ab_i_3097 = abort
                    );
                m_bl_i_3098 = notop_j_2552 ~ bool;
                m_br_i_3099 = notop_j_2558 ~ bool;
                m_b_i_3100 = m_bl_i_3098 and m_br_i_3099;
                binop_j_2559 = m_b_i_3100 ? (
                        c_binop_i_3101 = notop_j_2552 and notop_j_2558
                    ) : (
                        ab_i_3102 = abort
                    ));
            var_j_2561 = expr_b_339;
            appl_j_2562 = flatten_fun_j_2560 var_j_2561;
            if_j_2565 = appl_j_2562 ? (
                    bool_j_2563 = true
                ) : (
                    var_j_2564 = pred_check_b_341
                )
        ) : (
            var_j_2566 = t_check_b_340
        ));
flatten_fun_j_2591 = fun bj_null_j_142 -> (
    var_j_2569 = appl_j_2167;
    proj_j_2570 = var_j_2569.generator;
    int_j_2571 = 0;
    appl_j_2572 = proj_j_2570 int_j_2571;
    candidate_b_338 = appl_j_2572;
    flatten_fun_j_2584 = fun t_j_141 -> (
        var_j_2573 = is_leaf;
        var_j_2574 = t_j_141;
        m_i_3103 = var_j_2573 ~ fun;
        appl_j_2575 = m_i_3103 ? (
                c_appl_i_3104 = var_j_2573 var_j_2574
            ) : (
                ab_i_3105 = abort
            );
        m_i_3106 = appl_j_2575 ~ bool;
        notop_j_2576 = m_i_3106 ? (
                c_not_i_3107 = not appl_j_2575
            ) : (
                ab_i_3108 = abort
            );
        var_j_2577 = is_leaf;
        var_j_2578 = right_exn;
        var_j_2579 = t_j_141;
        m_i_3109 = var_j_2578 ~ fun;
        appl_j_2580 = m_i_3109 ? (
                c_appl_i_3110 = var_j_2578 var_j_2579
            ) : (
                ab_i_3111 = abort
            );
        m_i_3112 = var_j_2577 ~ fun;
        appl_j_2581 = m_i_3112 ? (
                c_appl_i_3113 = var_j_2577 appl_j_2580
            ) : (
                ab_i_3114 = abort
            );
        m_i_3115 = appl_j_2581 ~ bool;
        notop_j_2582 = m_i_3115 ? (
                c_not_i_3116 = not appl_j_2581
            ) : (
                ab_i_3117 = abort
            );
        m_bl_i_3118 = notop_j_2576 ~ bool;
        m_br_i_3119 = notop_j_2582 ~ bool;
        m_b_i_3120 = m_bl_i_3118 and m_br_i_3119;
        binop_j_2583 = m_b_i_3120 ? (
                c_binop_i_3121 = notop_j_2576 and notop_j_2582
            ) : (
                ab_i_3122 = abort
            ));
    var_j_2585 = candidate_b_338;
    appl_j_2586 = flatten_fun_j_2584 var_j_2585;
    if_j_2590 = appl_j_2586 ? (
            var_j_2587 = candidate_b_338
        ) : (
            bool_j_2588 = false;
            assume_j_2589 = assume bool_j_2588
        ));
flatten_fun_j_2593 = fun expr_b_342 -> (
    var_j_2592 = expr_b_342);
record_j_2594 = {checker = flatten_fun_j_2568, generator = flatten_fun_j_2591, wrapper = flatten_fun_j_2593};
proj_j_2595 = record_j_2594.generator;
int_j_2596 = 0;
appl_j_2597 = proj_j_2595 int_j_2596;
x_b_362 = appl_j_2597;
proj_j_2599 = appl_j_2167.checker;
appl_j_2602 = rotate_left x_b_362;
appl_j_2603 = proj_j_2599 appl_j_2602;
check_res_b_368 = appl_j_2603;
if_j_2872 = check_res_b_368 ? (
        rotate_right_j_2664 = fun x_j_176 -> (
            bool_j_2605 = false;
            fail_b_350 = bool_j_2605;
            var_j_2606 = x_j_176;
            m_match_bool_j_2608 = var_j_2606 ~ {bj_untouched, _};
            m_match_bool_j_2615 = var_j_2606 ~ {bj_actual_rec, _};
            m_match_cond_j_2616 = m_match_bool_j_2615 ? (
                    actual_rec_b_364 = var_j_2606.bj_actual_rec;
                    var_j_2617 = x_j_176;
                    proj_j_2618 = var_j_2617.bj_decl_lbls;
                    m_match_bool_j_2620 = proj_j_2618 ~ {item, left, right, _};
                    m_match_cond_j_2621 = m_match_bool_j_2620 ? (
                            item_j_175 = proj_j_2618.item;
                            left_j_174 = proj_j_2618.left;
                            right_j_173 = proj_j_2618.right;
                            var_j_2622 = actual_rec_b_364;
                            proj_j_2623 = var_j_2622.right;
                            right_j_172 = proj_j_2623;
                            var_j_2624 = actual_rec_b_364;
                            proj_j_2625 = var_j_2624.left;
                            left_j_171 = proj_j_2625;
                            var_j_2626 = actual_rec_b_364;
                            proj_j_2627 = var_j_2626.item;
                            item_j_170 = proj_j_2627;
                            bool_j_2628 = false;
                            fail_b_351 = bool_j_2628;
                            var_j_2629 = left_j_171;
                            m_match_bool_j_2631 = var_j_2629 ~ {bj_untouched, _};
                            m_match_bool_j_2638 = var_j_2629 ~ {bj_actual_rec, _};
                            m_match_cond_j_2639 = m_match_bool_j_2638 ? (
                                    actual_rec_b_363 = var_j_2629.bj_actual_rec;
                                    var_j_2640 = left_j_171;
                                    proj_j_2641 = var_j_2640.bj_decl_lbls;
                                    m_match_bool_j_2643 = proj_j_2641 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_2644 = m_match_bool_j_2643 ? (
                                            li_j_169 = proj_j_2641.item;
                                            lleft_j_168 = proj_j_2641.left;
                                            lright_j_167 = proj_j_2641.right;
                                            var_j_2645 = actual_rec_b_363;
                                            proj_j_2646 = var_j_2645.right;
                                            lright = proj_j_2646;
                                            var_j_2647 = actual_rec_b_363;
                                            proj_j_2648 = var_j_2647.left;
                                            lleft = proj_j_2648;
                                            var_j_2649 = actual_rec_b_363;
                                            proj_j_2650 = var_j_2649.item;
                                            li = proj_j_2650;
                                            var_j_2651 = create_node;
                                            var_j_2652 = li;
                                            m_i_3123 = var_j_2651 ~ fun;
                                            appl_j_2653 = m_i_3123 ? (
                                                    c_appl_i_3124 = var_j_2651 var_j_2652
                                                ) : (
                                                    ab_i_3125 = abort
                                                );
                                            var_j_2654 = lleft;
                                            m_i_3126 = appl_j_2653 ~ fun;
                                            appl_j_2655 = m_i_3126 ? (
                                                    c_appl_i_3127 = appl_j_2653 var_j_2654
                                                ) : (
                                                    ab_i_3128 = abort
                                                );
                                            var_j_2656 = create_node;
                                            var_j_2657 = item_j_170;
                                            m_i_3129 = var_j_2656 ~ fun;
                                            appl_j_2658 = m_i_3129 ? (
                                                    c_appl_i_3130 = var_j_2656 var_j_2657
                                                ) : (
                                                    ab_i_3131 = abort
                                                );
                                            var_j_2659 = lright;
                                            m_i_3132 = appl_j_2658 ~ fun;
                                            appl_j_2660 = m_i_3132 ? (
                                                    c_appl_i_3133 = appl_j_2658 var_j_2659
                                                ) : (
                                                    ab_i_3134 = abort
                                                );
                                            var_j_2661 = right_j_172;
                                            m_i_3135 = appl_j_2660 ~ fun;
                                            appl_j_2662 = m_i_3135 ? (
                                                    c_appl_i_3136 = appl_j_2660 var_j_2661
                                                ) : (
                                                    ab_i_3137 = abort
                                                );
                                            m_i_3138 = appl_j_2655 ~ fun;
                                            appl_j_2663 = m_i_3138 ? (
                                                    c_appl_i_3139 = appl_j_2655 appl_j_2662
                                                ) : (
                                                    ab_i_3140 = abort
                                                )
                                        ) : (
                                            ab_j_2642 = abort
                                        )
                                ) : (
                                    m_match_cond_j_2632 = m_match_bool_j_2631 ? (
                                            var_j_2633 = fail_b_351;
                                            assert_pred_j_2634 = var_j_2633;
                                            assert_res_j_2635 = assert_pred_j_2634 ? (
                                                    assert_res_true_j_2636 = 
                                                        {}
                                                ) : (
                                                    ab_j_2637 = abort
                                                )
                                        ) : (
                                            ab_j_2630 = abort
                                        )
                                )
                        ) : (
                            ab_j_2619 = abort
                        )
                ) : (
                    m_match_cond_j_2609 = m_match_bool_j_2608 ? (
                            var_j_2610 = fail_b_350;
                            assert_pred_j_2611 = var_j_2610;
                            assert_res_j_2612 = assert_pred_j_2611 ? (
                                    assert_res_true_j_2613 = {}
                                ) : (
                                    ab_j_2614 = abort
                                )
                        ) : (
                            ab_j_2607 = abort
                        )
                ));
        rotate_right = rotate_right_j_2664;
        rotate_left_right_j_2699 = fun x_j_166 -> (
            bool_j_2665 = false;
            fail_b_352 = bool_j_2665;
            var_j_2666 = x_j_166;
            m_match_bool_j_2668 = var_j_2666 ~ {bj_untouched, _};
            m_match_bool_j_2675 = var_j_2666 ~ {bj_actual_rec, _};
            m_match_cond_j_2676 = m_match_bool_j_2675 ? (
                    actual_rec_b_365 = var_j_2666.bj_actual_rec;
                    var_j_2677 = x_j_166;
                    proj_j_2678 = var_j_2677.bj_decl_lbls;
                    m_match_bool_j_2680 = proj_j_2678 ~ {item, left, right, _};
                    m_match_cond_j_2681 = m_match_bool_j_2680 ? (
                            item_j_165 = proj_j_2678.item;
                            left_j_164 = proj_j_2678.left;
                            right_j_163 = proj_j_2678.right;
                            var_j_2682 = actual_rec_b_365;
                            proj_j_2683 = var_j_2682.right;
                            right_j_162 = proj_j_2683;
                            var_j_2684 = actual_rec_b_365;
                            proj_j_2685 = var_j_2684.left;
                            left_j_161 = proj_j_2685;
                            var_j_2686 = actual_rec_b_365;
                            proj_j_2687 = var_j_2686.item;
                            item_j_160 = proj_j_2687;
                            var_j_2688 = rotate_right;
                            var_j_2689 = create_node;
                            var_j_2690 = item_j_160;
                            m_i_3141 = var_j_2689 ~ fun;
                            appl_j_2691 = m_i_3141 ? (
                                    c_appl_i_3142 = var_j_2689 var_j_2690
                                ) : (
                                    ab_i_3143 = abort
                                );
                            var_j_2692 = rotate_left;
                            var_j_2693 = left_j_161;
                            m_i_3144 = var_j_2692 ~ fun;
                            appl_j_2694 = m_i_3144 ? (
                                    c_appl_i_3145 = var_j_2692 var_j_2693
                                ) : (
                                    ab_i_3146 = abort
                                );
                            m_i_3147 = appl_j_2691 ~ fun;
                            appl_j_2695 = m_i_3147 ? (
                                    c_appl_i_3148 = appl_j_2691 appl_j_2694
                                ) : (
                                    ab_i_3149 = abort
                                );
                            var_j_2696 = right_j_162;
                            m_i_3150 = appl_j_2695 ~ fun;
                            appl_j_2697 = m_i_3150 ? (
                                    c_appl_i_3151 = appl_j_2695 var_j_2696
                                ) : (
                                    ab_i_3152 = abort
                                );
                            m_i_3153 = var_j_2688 ~ fun;
                            appl_j_2698 = m_i_3153 ? (
                                    c_appl_i_3154 = var_j_2688 appl_j_2697
                                ) : (
                                    ab_i_3155 = abort
                                )
                        ) : (
                            ab_j_2679 = abort
                        )
                ) : (
                    m_match_cond_j_2669 = m_match_bool_j_2668 ? (
                            var_j_2670 = fail_b_352;
                            assert_pred_j_2671 = var_j_2670;
                            assert_res_j_2672 = assert_pred_j_2671 ? (
                                    assert_res_true_j_2673 = {}
                                ) : (
                                    ab_j_2674 = abort
                                )
                        ) : (
                            ab_j_2667 = abort
                        )
                ));
        rotate_left_right = rotate_left_right_j_2699;
        rotate_right_left_j_2734 = fun x_j_159 -> (
            bool_j_2700 = false;
            fail_b_353 = bool_j_2700;
            var_j_2701 = x_j_159;
            m_match_bool_j_2703 = var_j_2701 ~ {bj_untouched, _};
            m_match_bool_j_2710 = var_j_2701 ~ {bj_actual_rec, _};
            m_match_cond_j_2711 = m_match_bool_j_2710 ? (
                    actual_rec_b_366 = var_j_2701.bj_actual_rec;
                    var_j_2712 = x_j_159;
                    proj_j_2713 = var_j_2712.bj_decl_lbls;
                    m_match_bool_j_2715 = proj_j_2713 ~ {item, left, right, _};
                    m_match_cond_j_2716 = m_match_bool_j_2715 ? (
                            item_j_158 = proj_j_2713.item;
                            left_j_157 = proj_j_2713.left;
                            right_j_156 = proj_j_2713.right;
                            var_j_2717 = actual_rec_b_366;
                            proj_j_2718 = var_j_2717.right;
                            right_j_155 = proj_j_2718;
                            var_j_2719 = actual_rec_b_366;
                            proj_j_2720 = var_j_2719.left;
                            left_j_154 = proj_j_2720;
                            var_j_2721 = actual_rec_b_366;
                            proj_j_2722 = var_j_2721.item;
                            item_j_153 = proj_j_2722;
                            var_j_2723 = rotate_left;
                            var_j_2724 = create_node;
                            var_j_2725 = item_j_153;
                            m_i_3156 = var_j_2724 ~ fun;
                            appl_j_2726 = m_i_3156 ? (
                                    c_appl_i_3157 = var_j_2724 var_j_2725
                                ) : (
                                    ab_i_3158 = abort
                                );
                            var_j_2727 = left_j_154;
                            m_i_3159 = appl_j_2726 ~ fun;
                            appl_j_2728 = m_i_3159 ? (
                                    c_appl_i_3160 = appl_j_2726 var_j_2727
                                ) : (
                                    ab_i_3161 = abort
                                );
                            var_j_2729 = rotate_right;
                            var_j_2730 = right_j_155;
                            m_i_3162 = var_j_2729 ~ fun;
                            appl_j_2731 = m_i_3162 ? (
                                    c_appl_i_3163 = var_j_2729 var_j_2730
                                ) : (
                                    ab_i_3164 = abort
                                );
                            m_i_3165 = appl_j_2728 ~ fun;
                            appl_j_2732 = m_i_3165 ? (
                                    c_appl_i_3166 = appl_j_2728 appl_j_2731
                                ) : (
                                    ab_i_3167 = abort
                                );
                            m_i_3168 = var_j_2723 ~ fun;
                            appl_j_2733 = m_i_3168 ? (
                                    c_appl_i_3169 = var_j_2723 appl_j_2732
                                ) : (
                                    ab_i_3170 = abort
                                )
                        ) : (
                            ab_j_2714 = abort
                        )
                ) : (
                    m_match_cond_j_2704 = m_match_bool_j_2703 ? (
                            var_j_2705 = fail_b_353;
                            assert_pred_j_2706 = var_j_2705;
                            assert_res_j_2707 = assert_pred_j_2706 ? (
                                    assert_res_true_j_2708 = {}
                                ) : (
                                    ab_j_2709 = abort
                                )
                        ) : (
                            ab_j_2702 = abort
                        )
                ));
        rotate_right_left = rotate_right_left_j_2734;
        flatten_fun_j_2862 = fun insert_j_0 -> (
            flatten_fun_j_2861 = fun tree -> (
                flatten_fun_j_2860 = fun i_j_150 -> (
                    var_j_2735 = insert_j_0;
                    var_j_2736 = insert_j_0;
                    appl_j_2737 = var_j_2735 var_j_2736;
                    insert = appl_j_2737;
                    rebalance_j_2781 = fun i -> (
                        rebalance_j_2780 = fun node -> (
                            var_j_2738 = balance_factor;
                            var_j_2739 = node;
                            m_i_3171 = var_j_2738 ~ fun;
                            appl_j_2740 = m_i_3171 ? (
                                    c_appl_i_3172 = var_j_2738 var_j_2739
                                ) : (
                                    ab_i_3173 = abort
                                );
                            bf = appl_j_2740;
                            int_j_2741 = 1;
                            var_j_2742 = bf;
                            m_bl_i_3174 = int_j_2741 ~ int;
                            m_br_i_3175 = var_j_2742 ~ int;
                            m_b_i_3176 = m_bl_i_3174 and m_br_i_3175;
                            binop_j_2743 = m_b_i_3176 ? (
                                    c_binop_i_3177 = int_j_2741 < var_j_2742
                                ) : (
                                    ab_i_3178 = abort
                                );
                            m_i_3179 = binop_j_2743 ~ bool;
                            if_j_2779 = m_i_3179 ? (
                                    c_cond_i_3233 = binop_j_2743 ? (
                                            var_j_2744 = i;
                                            var_j_2745 = item_exn;
                                            var_j_2746 = left_exn;
                                            var_j_2747 = node;
                                            m_i_3180 = var_j_2746 ~ fun;
                                            appl_j_2748 = m_i_3180 ? (
                                                    c_appl_i_3181 = var_j_2746 var_j_2747
                                                ) : (
                                                    ab_i_3182 = abort
                                                );
                                            m_i_3183 = var_j_2745 ~ fun;
                                            appl_j_2749 = m_i_3183 ? (
                                                    c_appl_i_3184 = var_j_2745 appl_j_2748
                                                ) : (
                                                    ab_i_3185 = abort
                                                );
                                            m_bl_i_3186 = var_j_2744 ~ int;
                                            m_br_i_3187 = appl_j_2749 ~ int;
                                            m_b_i_3188 = m_bl_i_3186 and m_br_i_3187;
                                            binop_j_2750 = m_b_i_3188 ? (
                                                    c_binop_i_3189 = var_j_2744 < appl_j_2749
                                                ) : (
                                                    ab_i_3190 = abort
                                                );
                                            m_i_3191 = binop_j_2750 ~ bool;
                                            if_j_2757 = m_i_3191 ? (
                                                    c_cond_i_3198 = binop_j_2750 ? (
                                                            var_j_2751 = rotate_right;
                                                            var_j_2752 = node;
                                                            m_i_3192 = var_j_2751 ~ fun;
                                                            appl_j_2753 = m_i_3192 ? (
                                                                    c_appl_i_3193 = var_j_2751 var_j_2752
                                                                ) : (
                                                                    ab_i_3194 = abort
                                                                )
                                                        ) : (
                                                            var_j_2754 = rotate_left_right;
                                                            var_j_2755 = node;
                                                            m_i_3195 = var_j_2754 ~ fun;
                                                            appl_j_2756 = m_i_3195 ? (
                                                                    c_appl_i_3196 = var_j_2754 var_j_2755
                                                                ) : (
                                                                    ab_i_3197 = abort
                                                                )
                                                        )
                                                ) : (
                                                    ab_i_3199 = abort
                                                )
                                        ) : (
                                            var_j_2758 = bf;
                                            int_j_2759 = 0;
                                            int_j_2760 = 1;
                                            m_bl_i_3200 = int_j_2759 ~ int;
                                            m_br_i_3201 = int_j_2760 ~ int;
                                            m_b_i_3202 = m_bl_i_3200 and m_br_i_3201;
                                            binop_j_2761 = m_b_i_3202 ? (
                                                    c_binop_i_3203 = int_j_2759 - int_j_2760
                                                ) : (
                                                    ab_i_3204 = abort
                                                );
                                            m_bl_i_3205 = var_j_2758 ~ int;
                                            m_br_i_3206 = binop_j_2761 ~ int;
                                            m_b_i_3207 = m_bl_i_3205 and m_br_i_3206;
                                            binop_j_2762 = m_b_i_3207 ? (
                                                    c_binop_i_3208 = var_j_2758 < binop_j_2761
                                                ) : (
                                                    ab_i_3209 = abort
                                                );
                                            m_i_3210 = binop_j_2762 ~ bool;
                                            if_j_2778 = m_i_3210 ? (
                                                    c_cond_i_3231 = binop_j_2762 ? (
                                                            var_j_2763 = item_exn;
                                                            var_j_2764 = right_exn;
                                                            var_j_2765 = node;
                                                            m_i_3211 = var_j_2764 ~ fun;
                                                            appl_j_2766 = m_i_3211 ? (
                                                                    c_appl_i_3212 = var_j_2764 var_j_2765
                                                                ) : (
                                                                    ab_i_3213 = abort
                                                                );
                                                            m_i_3214 = var_j_2763 ~ fun;
                                                            appl_j_2767 = m_i_3214 ? (
                                                                    c_appl_i_3215 = var_j_2763 appl_j_2766
                                                                ) : (
                                                                    ab_i_3216 = abort
                                                                );
                                                            var_j_2768 = i;
                                                            m_bl_i_3217 = appl_j_2767 ~ int;
                                                            m_br_i_3218 = var_j_2768 ~ int;
                                                            m_b_i_3219 = m_bl_i_3217 and m_br_i_3218;
                                                            binop_j_2769 = m_b_i_3219 ? (
                                                                    c_binop_i_3220 = appl_j_2767 < var_j_2768
                                                                ) : (
                                                                    ab_i_3221 = abort
                                                                );
                                                            m_i_3222 = binop_j_2769 ~ bool;
                                                            if_j_2776 = m_i_3222 ? (
                                                                    c_cond_i_3229 = binop_j_2769 ? (
                                                                        var_j_2770 = rotate_left;
                                                                    var_j_2771 = node;
                                                                    m_i_3223 = var_j_2770 ~ fun;
                                                                    appl_j_2772 = m_i_3223 ? (
                                                                        c_appl_i_3224 = var_j_2770 var_j_2771
                                                                    ) : (
                                                                        ab_i_3225 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_2773 = rotate_right_left;
                                                                    var_j_2774 = node;
                                                                    m_i_3226 = var_j_2773 ~ fun;
                                                                    appl_j_2775 = m_i_3226 ? (
                                                                        c_appl_i_3227 = var_j_2773 var_j_2774
                                                                    ) : (
                                                                        ab_i_3228 = abort
                                                                    )
                                                                    )
                                                                ) : (
                                                                    ab_i_3230 = abort
                                                                )
                                                        ) : (
                                                            var_j_2777 = node
                                                        )
                                                ) : (
                                                    ab_i_3232 = abort
                                                )
                                        )
                                ) : (
                                    ab_i_3234 = abort
                                )));
                    rebalance = rebalance_j_2781;
                    bool_j_2782 = false;
                    fail_b_354 = bool_j_2782;
                    var_j_2783 = tree;
                    m_match_bool_j_2785 = var_j_2783 ~ {bj_untouched, _};
                    m_match_bool_j_2792 = var_j_2783 ~ {bj_actual_rec, _};
                    m_match_cond_j_2793 = m_match_bool_j_2792 ? (
                            actual_rec_b_367 = var_j_2783.bj_actual_rec;
                            var_j_2794 = tree;
                            proj_j_2795 = var_j_2794.bj_decl_lbls;
                            m_match_bool_j_2797 = proj_j_2795 ~ {item, left, right, _};
                            m_match_bool_j_2841 = proj_j_2795 ~ {leaf};
                            m_match_cond_j_2842 = m_match_bool_j_2841 ? (
                                    b_j_143 = proj_j_2795.leaf;
                                    var_j_2843 = actual_rec_b_367;
                                    proj_j_2844 = var_j_2843.leaf;
                                    b = proj_j_2844;
                                    var_j_2845 = create_node;
                                    var_j_2846 = i_j_150;
                                    m_i_3235 = var_j_2845 ~ fun;
                                    appl_j_2847 = m_i_3235 ? (
                                            c_appl_i_3236 = var_j_2845 var_j_2846
                                        ) : (
                                            ab_i_3237 = abort
                                        );
                                    bool_j_2848 = true;
                                    record_j_2849 = {leaf = bool_j_2848};
                                    record_j_2850 = {};
                                    record_j_2851 = {leaf = record_j_2850};
                                    record_j_2852 = {bj_actual_rec = record_j_2849, bj_decl_lbls = record_j_2851};
                                    m_i_3238 = appl_j_2847 ~ fun;
                                    appl_j_2853 = m_i_3238 ? (
                                            c_appl_i_3239 = appl_j_2847 record_j_2852
                                        ) : (
                                            ab_i_3240 = abort
                                        );
                                    bool_j_2854 = true;
                                    record_j_2855 = {leaf = bool_j_2854};
                                    record_j_2856 = {};
                                    record_j_2857 = {leaf = record_j_2856};
                                    record_j_2858 = {bj_actual_rec = record_j_2855, bj_decl_lbls = record_j_2857};
                                    m_i_3241 = appl_j_2853 ~ fun;
                                    appl_j_2859 = m_i_3241 ? (
                                            c_appl_i_3242 = appl_j_2853 record_j_2858
                                        ) : (
                                            ab_i_3243 = abort
                                        )
                                ) : (
                                    m_match_cond_j_2798 = m_match_bool_j_2797 ? (
                                            item_j_149 = proj_j_2795.item;
                                            left_j_148 = proj_j_2795.left;
                                            right_j_147 = proj_j_2795.right;
                                            var_j_2799 = actual_rec_b_367;
                                            proj_j_2800 = var_j_2799.right;
                                            right_j_146 = proj_j_2800;
                                            var_j_2801 = actual_rec_b_367;
                                            proj_j_2802 = var_j_2801.left;
                                            left_j_145 = proj_j_2802;
                                            var_j_2803 = actual_rec_b_367;
                                            proj_j_2804 = var_j_2803.item;
                                            item_j_144 = proj_j_2804;
                                            var_j_2805 = i_j_150;
                                            var_j_2806 = item_j_144;
                                            m_bl_i_3244 = var_j_2805 ~ int;
                                            m_br_i_3245 = var_j_2806 ~ int;
                                            m_b_i_3246 = m_bl_i_3244 and m_br_i_3245;
                                            binop_j_2807 = m_b_i_3246 ? (
                                                    c_binop_i_3247 = var_j_2805 < var_j_2806
                                                ) : (
                                                    ab_i_3248 = abort
                                                );
                                            m_i_3249 = binop_j_2807 ~ bool;
                                            if_j_2835 = m_i_3249 ? (
                                                    c_cond_i_3288 = binop_j_2807 ? (
                                                            var_j_2808 = create_node;
                                                            var_j_2809 = item_j_144;
                                                            m_i_3250 = var_j_2808 ~ fun;
                                                            appl_j_2810 = m_i_3250 ? (
                                                                    c_appl_i_3251 = var_j_2808 var_j_2809
                                                                ) : (
                                                                    ab_i_3252 = abort
                                                                );
                                                            var_j_2811 = insert;
                                                            var_j_2812 = left_j_145;
                                                            m_i_3253 = var_j_2811 ~ fun;
                                                            appl_j_2813 = m_i_3253 ? (
                                                                    c_appl_i_3254 = var_j_2811 var_j_2812
                                                                ) : (
                                                                    ab_i_3255 = abort
                                                                );
                                                            var_j_2814 = i_j_150;
                                                            m_i_3256 = appl_j_2813 ~ fun;
                                                            appl_j_2815 = m_i_3256 ? (
                                                                    c_appl_i_3257 = appl_j_2813 var_j_2814
                                                                ) : (
                                                                    ab_i_3258 = abort
                                                                );
                                                            m_i_3259 = appl_j_2810 ~ fun;
                                                            appl_j_2816 = m_i_3259 ? (
                                                                    c_appl_i_3260 = appl_j_2810 appl_j_2815
                                                                ) : (
                                                                    ab_i_3261 = abort
                                                                );
                                                            var_j_2817 = right_j_146;
                                                            m_i_3262 = appl_j_2816 ~ fun;
                                                            appl_j_2818 = m_i_3262 ? (
                                                                    c_appl_i_3263 = appl_j_2816 var_j_2817
                                                                ) : (
                                                                    ab_i_3264 = abort
                                                                )
                                                        ) : (
                                                            var_j_2819 = item_j_144;
                                                            var_j_2820 = i_j_150;
                                                            m_bl_i_3265 = var_j_2819 ~ int;
                                                            m_br_i_3266 = var_j_2820 ~ int;
                                                            m_b_i_3267 = m_bl_i_3265 and m_br_i_3266;
                                                            binop_j_2821 = m_b_i_3267 ? (
                                                                    c_binop_i_3268 = var_j_2819 < var_j_2820
                                                                ) : (
                                                                    ab_i_3269 = abort
                                                                );
                                                            m_i_3270 = binop_j_2821 ~ bool;
                                                            if_j_2834 = m_i_3270 ? (
                                                                    c_cond_i_3286 = binop_j_2821 ? (
                                                                        var_j_2822 = create_node;
                                                                    var_j_2823 = item_j_144;
                                                                    m_i_3271 = var_j_2822 ~ fun;
                                                                    appl_j_2824 = m_i_3271 ? (
                                                                        c_appl_i_3272 = var_j_2822 var_j_2823
                                                                    ) : (
                                                                        ab_i_3273 = abort
                                                                    );
                                                                    var_j_2825 = left_j_145;
                                                                    m_i_3274 = appl_j_2824 ~ fun;
                                                                    appl_j_2826 = m_i_3274 ? (
                                                                        c_appl_i_3275 = appl_j_2824 var_j_2825
                                                                    ) : (
                                                                        ab_i_3276 = abort
                                                                    );
                                                                    var_j_2827 = insert;
                                                                    var_j_2828 = right_j_146;
                                                                    m_i_3277 = var_j_2827 ~ fun;
                                                                    appl_j_2829 = m_i_3277 ? (
                                                                        c_appl_i_3278 = var_j_2827 var_j_2828
                                                                    ) : (
                                                                        ab_i_3279 = abort
                                                                    );
                                                                    var_j_2830 = i_j_150;
                                                                    m_i_3280 = appl_j_2829 ~ fun;
                                                                    appl_j_2831 = m_i_3280 ? (
                                                                        c_appl_i_3281 = appl_j_2829 var_j_2830
                                                                    ) : (
                                                                        ab_i_3282 = abort
                                                                    );
                                                                    m_i_3283 = appl_j_2826 ~ fun;
                                                                    appl_j_2832 = m_i_3283 ? (
                                                                        c_appl_i_3284 = appl_j_2826 appl_j_2831
                                                                    ) : (
                                                                        ab_i_3285 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_2833 = tree
                                                                    )
                                                                ) : (
                                                                    ab_i_3287 = abort
                                                                )
                                                        )
                                                ) : (
                                                    ab_i_3289 = abort
                                                );
                                            new_node = if_j_2835;
                                            var_j_2836 = rebalance;
                                            var_j_2837 = i_j_150;
                                            m_i_3290 = var_j_2836 ~ fun;
                                            appl_j_2838 = m_i_3290 ? (
                                                    c_appl_i_3291 = var_j_2836 var_j_2837
                                                ) : (
                                                    ab_i_3292 = abort
                                                );
                                            var_j_2839 = new_node;
                                            m_i_3293 = appl_j_2838 ~ fun;
                                            appl_j_2840 = m_i_3293 ? (
                                                    c_appl_i_3294 = appl_j_2838 var_j_2839
                                                ) : (
                                                    ab_i_3295 = abort
                                                )
                                        ) : (
                                            ab_j_2796 = abort
                                        )
                                )
                        ) : (
                            m_match_cond_j_2786 = m_match_bool_j_2785 ? (
                                    var_j_2787 = fail_b_354;
                                    assert_pred_j_2788 = var_j_2787;
                                    assert_res_j_2789 = assert_pred_j_2788 ? (
                                            assert_res_true_j_2790 = 
                                                {}
                                        ) : (
                                            ab_j_2791 = abort
                                        )
                                ) : (
                                    ab_j_2784 = abort
                                )
                        ))));
        insert_j_0_j_152 = flatten_fun_j_2862;
        var_j_2863 = insert_j_0_j_152;
        var_j_2864 = insert_j_0_j_152;
        appl_j_2865 = var_j_2863 var_j_2864;
        insert_j_151 = appl_j_2865;
        var_j_2866 = insert_j_151
    ) : (
        error_var_j_2867 = check_res_b_368;
        assert_pred_j_2868 = error_var_j_2867;
        assert_res_j_2869 = assert_pred_j_2868 ? (
                assert_res_true_j_2870 = {}
            ) : (
                ab_j_2871 = abort
            )
    );
i_result = if_j_2872