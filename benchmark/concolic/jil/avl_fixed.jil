i_first = {};
is_pos_j_367 = fun x_j_363 -> (
    int_j_364 = 0;
    var_j_365 = x_j_363;
    m_bl_i_5644 = int_j_364 ~ int;
    m_br_i_5645 = var_j_365 ~ int;
    m_b_i_5646 = m_bl_i_5644 and m_br_i_5645;
    binop_j_366 = m_b_i_5646 ? (
            c_binop_i_5647 = int_j_364 < var_j_365
        ) : (
            ab_i_5648 = abort
        ));
is_pos = is_pos_j_367;
max_j_375 = fun a_j_362 -> (
    max_j_374 = fun b_j_361 -> (
        var_j_368 = b_j_361;
        var_j_369 = a_j_362;
        m_bl_i_5649 = var_j_368 ~ int;
        m_br_i_5650 = var_j_369 ~ int;
        m_b_i_5651 = m_bl_i_5649 and m_br_i_5650;
        binop_j_370 = m_b_i_5651 ? (
                c_binop_i_5652 = var_j_368 < var_j_369
            ) : (
                ab_i_5653 = abort
            );
        m_i_5654 = binop_j_370 ~ bool;
        if_j_373 = m_i_5654 ? (
                c_cond_i_5655 = binop_j_370 ? (
                        var_j_371 = a_j_362
                    ) : (
                        var_j_372 = b_j_361
                    )
            ) : (
                ab_i_5656 = abort
            )));
max = max_j_375;
height_j_356_j_401 = fun x_j_360 -> (
    bool_j_376 = false;
    fail_b_10 = bool_j_376;
    var_j_377 = x_j_360;
    m_match_bool_j_379 = var_j_377 ~ {bj_untouched, _};
    m_match_bool_j_386 = var_j_377 ~ {bj_actual_rec, _};
    m_match_cond_j_387 = m_match_bool_j_386 ? (
            actual_rec_b_675 = var_j_377.bj_actual_rec;
            var_j_388 = x_j_360;
            proj_j_389 = var_j_388.bj_decl_lbls;
            m_match_bool_j_391 = proj_j_389 ~ {height, _};
            m_match_bool_j_396 = proj_j_389 ~ {leaf};
            m_match_cond_j_397 = m_match_bool_j_396 ? (
                    b_j_358 = proj_j_389.leaf;
                    var_j_398 = actual_rec_b_675;
                    proj_j_399 = var_j_398.leaf;
                    b_j_357 = proj_j_399;
                    int_j_400 = 0
                ) : (
                    m_match_cond_j_392 = m_match_bool_j_391 ? (
                            h_j_359 = proj_j_389.height;
                            var_j_393 = actual_rec_b_675;
                            proj_j_394 = var_j_393.height;
                            h = proj_j_394;
                            var_j_395 = h
                        ) : (
                            ab_j_390 = abort
                        )
                )
        ) : (
            m_match_cond_j_380 = m_match_bool_j_379 ? (
                    var_j_381 = fail_b_10;
                    assert_pred_j_382 = var_j_381;
                    assert_res_j_383 = assert_pred_j_382 ? (
                            assert_res_true_j_384 = {}
                        ) : (
                            ab_j_385 = abort
                        )
                ) : (
                    ab_j_378 = abort
                )
        ));
flatten_fun_j_421 = fun f_b_13 -> (
    flatten_fun_j_410 = fun x_b_12 -> (
        flatten_fun_j_409 = fun freeze_b_14 -> (
            var_j_402 = f_b_13;
            var_j_403 = x_b_12;
            var_j_404 = x_b_12;
            appl_j_405 = var_j_403 var_j_404;
            appl_j_406 = var_j_402 appl_j_405;
            var_j_407 = freeze_b_14;
            appl_j_408 = appl_j_406 var_j_407));
    flatten_fun_j_419 = fun x_b_12_j_3 -> (
        flatten_fun_j_418 = fun freeze_b_14_j_2 -> (
            var_j_411 = f_b_13;
            var_j_412 = x_b_12_j_3;
            var_j_413 = x_b_12_j_3;
            appl_j_414 = var_j_412 var_j_413;
            appl_j_415 = var_j_411 appl_j_414;
            var_j_416 = freeze_b_14_j_2;
            appl_j_417 = appl_j_415 var_j_416));
    appl_j_420 = flatten_fun_j_410 flatten_fun_j_419);
ycomb_b_15 = flatten_fun_j_421;
flatten_fun_j_4517 = fun self_b_11 -> (
    flatten_fun_j_4516 = fun bj_null_j_253 -> (
        flatten_fun_j_2467 = fun expr_b_608 -> (
            flatten_fun_j_2462 = fun tt -> (
                flatten_fun_j_1779 = fun expr_b_604 -> (
                    input_j_423 = input;
                    select_int_b_605 = input_j_423;
                    bool_j_424 = false;
                    fail_b_606 = bool_j_424;
                    int_j_425 = 0;
                    var_j_426 = select_int_b_605;
                    binop_j_427 = int_j_425 <= var_j_426;
                    if_j_1778 = binop_j_427 ? (
                            flatten_fun_j_721 = fun expr_b_491 -> (
                                flatten_fun_j_550 = fun expr_b_472 -> (
                                    bool_j_428 = false;
                                    rec_fail_b_471 = bool_j_428;
                                    bool_j_429 = false;
                                    rec_fail_b_470 = bool_j_429;
                                    bool_j_430 = false;
                                    rec_fail_b_469 = bool_j_430;
                                    var_j_431 = expr_b_472;
                                    m_match_bool_j_433 = var_j_431 ~ any;
                                    m_match_bool_j_436 = var_j_431 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_437 = m_match_bool_j_436 ? (
                                            var_j_438 = expr_b_472;
                                            proj_j_439 = var_j_438.bj_decl_lbls;
                                            m_match_bool_j_441 = proj_j_439 ~ any;
                                            m_match_bool_j_444 = proj_j_439 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_445 = m_match_bool_j_444 ? (
                                                    height_j_10 = proj_j_439.height;
                                                    item_j_9 = proj_j_439.item;
                                                    left_j_8 = proj_j_439.left;
                                                    right_j_7 = proj_j_439.right;
                                                    var_j_446 = expr_b_472;
                                                    proj_j_447 = var_j_446.bj_actual_rec;
                                                    m_match_bool_j_449 = proj_j_447 ~ any;
                                                    m_match_bool_j_452 = proj_j_447 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_453 = m_match_bool_j_452 ? (
                                                            height = proj_j_447.height;
                                                            item = proj_j_447.item;
                                                            left = proj_j_447.left;
                                                            right = proj_j_447.right;
                                                            flatten_fun_j_482 = fun expr_b_486 -> (
                                                                bool_j_454 = false;
                                                                fail_b_484 = bool_j_454;
                                                                flatten_fun_j_463 = fun expr_b_483 -> (
                                                                    var_j_455 = expr_b_483;
                                                                    m_match_bool_j_457 = var_j_455 ~ any;
                                                                    m_match_bool_j_460 = var_j_455 ~ int;
                                                                    m_match_cond_j_461 = m_match_bool_j_460 ? (
                                                                        bool_j_462 = true
                                                                    ) : (
                                                                        m_match_cond_j_458 = m_match_bool_j_457 ? (
                                                                        var_j_459 = fail_b_484
                                                                    ) : (
                                                                        void_j_456 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_465 = fun bj_null -> (
                                                                    input_j_464 = input);
                                                                flatten_fun_j_467 = fun expr_b_485 -> (
                                                                    var_j_466 = expr_b_485);
                                                                record_j_468 = 
                                                                    {checker = flatten_fun_j_463, generator = flatten_fun_j_465, wrapper = flatten_fun_j_467};
                                                                proj_j_469 = record_j_468.checker;
                                                                var_j_470 = expr_b_486;
                                                                appl_j_471 = proj_j_469 var_j_470;
                                                                t_check_b_487 = appl_j_471;
                                                                var_j_472 = t_check_b_487;
                                                                if_j_481 = var_j_472 ? (
                                                                        
                                                                    bool_j_473 = false;
                                                                    pred_check_b_488 = bool_j_473;
                                                                    var_j_474 = is_pos;
                                                                    var_j_475 = expr_b_486;
                                                                    appl_j_476 = var_j_474 var_j_475;
                                                                    if_j_479 = appl_j_476 ? (
                                                                        bool_j_477 = true
                                                                    ) : (
                                                                        var_j_478 = pred_check_b_488
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_480 = t_check_b_487
                                                                    ));
                                                            flatten_fun_j_508 = fun bj_null_j_5 -> (
                                                                bool_j_483 = false;
                                                                fail_b_480 = bool_j_483;
                                                                flatten_fun_j_492 = fun expr_b_479 -> (
                                                                    var_j_484 = expr_b_479;
                                                                    m_match_bool_j_486 = var_j_484 ~ any;
                                                                    m_match_bool_j_489 = var_j_484 ~ int;
                                                                    m_match_cond_j_490 = m_match_bool_j_489 ? (
                                                                        bool_j_491 = true
                                                                    ) : (
                                                                        m_match_cond_j_487 = m_match_bool_j_486 ? (
                                                                        var_j_488 = fail_b_480
                                                                    ) : (
                                                                        void_j_485 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_494 = fun bj_null_j_4 -> (
                                                                    input_j_493 = input);
                                                                flatten_fun_j_496 = fun expr_b_481 -> (
                                                                    var_j_495 = expr_b_481);
                                                                record_j_497 = 
                                                                    {checker = flatten_fun_j_492, generator = flatten_fun_j_494, wrapper = flatten_fun_j_496};
                                                                proj_j_498 = record_j_497.generator;
                                                                int_j_499 = 0;
                                                                appl_j_500 = proj_j_498 int_j_499;
                                                                candidate_b_482 = appl_j_500;
                                                                var_j_501 = is_pos;
                                                                var_j_502 = candidate_b_482;
                                                                appl_j_503 = var_j_501 var_j_502;
                                                                if_j_507 = appl_j_503 ? (
                                                                        
                                                                    var_j_504 = candidate_b_482
                                                                    ) : (
                                                                        
                                                                    bool_j_505 = false;
                                                                    assume_j_506 = assume bool_j_505
                                                                    ));
                                                            flatten_fun_j_510 = fun expr_b_489 -> (
                                                                var_j_509 = expr_b_489);
                                                            record_j_511 = 
                                                                {checker = flatten_fun_j_482, generator = flatten_fun_j_508, wrapper = flatten_fun_j_510};
                                                            proj_j_512 = record_j_511.checker;
                                                            var_j_513 = height;
                                                            appl_j_514 = proj_j_512 var_j_513;
                                                            lbl_check_b_478 = appl_j_514;
                                                            var_j_515 = lbl_check_b_478;
                                                            if_j_549 = var_j_515 ? (
                                                                    bool_j_516 = false;
                                                                    fail_b_476 = bool_j_516;
                                                                    flatten_fun_j_525 = fun expr_b_475 -> (
                                                                    var_j_517 = expr_b_475;
                                                                    m_match_bool_j_519 = var_j_517 ~ any;
                                                                    m_match_bool_j_522 = var_j_517 ~ int;
                                                                    m_match_cond_j_523 = m_match_bool_j_522 ? (
                                                                        bool_j_524 = true
                                                                    ) : (
                                                                        m_match_cond_j_520 = m_match_bool_j_519 ? (
                                                                        var_j_521 = fail_b_476
                                                                    ) : (
                                                                        void_j_518 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_527 = fun bj_null_j_6 -> (
                                                                    input_j_526 = input);
                                                                    flatten_fun_j_529 = fun expr_b_477 -> (
                                                                    var_j_528 = expr_b_477);
                                                                    record_j_530 = 
                                                                    {checker = flatten_fun_j_525, generator = flatten_fun_j_527, wrapper = flatten_fun_j_529};
                                                                    proj_j_531 = record_j_530.checker;
                                                                    var_j_532 = item;
                                                                    appl_j_533 = proj_j_531 var_j_532;
                                                                    lbl_check_b_474 = appl_j_533;
                                                                    var_j_534 = lbl_check_b_474;
                                                                    if_j_547 = var_j_534 ? (
                                                                        var_j_535 = tt;
                                                                    proj_j_536 = var_j_535.checker;
                                                                    var_j_537 = left;
                                                                    appl_j_538 = proj_j_536 var_j_537;
                                                                    lbl_check_b_473 = appl_j_538;
                                                                    var_j_539 = lbl_check_b_473;
                                                                    if_j_545 = var_j_539 ? (
                                                                        var_j_540 = tt;
                                                                    proj_j_541 = var_j_540.checker;
                                                                    var_j_542 = right;
                                                                    appl_j_543 = proj_j_541 var_j_542
                                                                    ) : (
                                                                        var_j_544 = lbl_check_b_473
                                                                    )
                                                                    ) : (
                                                                        var_j_546 = lbl_check_b_474
                                                                    )
                                                                ) : (
                                                                    var_j_548 = lbl_check_b_478
                                                                )
                                                        ) : (
                                                            m_match_cond_j_450 = m_match_bool_j_449 ? (
                                                                    var_j_451 = rec_fail_b_469
                                                                ) : (
                                                                    void_j_448 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_442 = m_match_bool_j_441 ? (
                                                            var_j_443 = rec_fail_b_470
                                                        ) : (
                                                            void_j_440 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_434 = m_match_bool_j_433 ? (
                                                    var_j_435 = rec_fail_b_471
                                                ) : (
                                                    void_j_432 = {}
                                                )
                                        ));
                                flatten_fun_j_649 = fun bj_null_j_15 -> (
                                    var_j_551 = tt;
                                    proj_j_552 = var_j_551.generator;
                                    int_j_553 = 0;
                                    appl_j_554 = proj_j_552 int_j_553;
                                    right_b_454 = appl_j_554;
                                    var_j_555 = tt;
                                    proj_j_556 = var_j_555.generator;
                                    int_j_557 = 0;
                                    appl_j_558 = proj_j_556 int_j_557;
                                    left_b_453 = appl_j_558;
                                    bool_j_559 = false;
                                    fail_b_467 = bool_j_559;
                                    flatten_fun_j_568 = fun expr_b_466 -> (
                                        var_j_560 = expr_b_466;
                                        m_match_bool_j_562 = var_j_560 ~ any;
                                        m_match_bool_j_565 = var_j_560 ~ int;
                                        m_match_cond_j_566 = m_match_bool_j_565 ? (
                                                bool_j_567 = true
                                            ) : (
                                                m_match_cond_j_563 = m_match_bool_j_562 ? (
                                                        var_j_564 = fail_b_467
                                                    ) : (
                                                        void_j_561 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_570 = fun bj_null_j_11 -> (
                                        input_j_569 = input);
                                    flatten_fun_j_572 = fun expr_b_468 -> (
                                        var_j_571 = expr_b_468);
                                    record_j_573 = {checker = flatten_fun_j_568, generator = flatten_fun_j_570, wrapper = flatten_fun_j_572};
                                    proj_j_574 = record_j_573.generator;
                                    int_j_575 = 0;
                                    appl_j_576 = proj_j_574 int_j_575;
                                    item_b_452 = appl_j_576;
                                    flatten_fun_j_605 = fun expr_b_462 -> (
                                        bool_j_577 = false;
                                        fail_b_460 = bool_j_577;
                                        flatten_fun_j_586 = fun expr_b_459 -> (
                                            var_j_578 = expr_b_459;
                                            m_match_bool_j_580 = var_j_578 ~ any;
                                            m_match_bool_j_583 = var_j_578 ~ int;
                                            m_match_cond_j_584 = m_match_bool_j_583 ? (
                                                    bool_j_585 = true
                                                ) : (
                                                    m_match_cond_j_581 = m_match_bool_j_580 ? (
                                                            var_j_582 = fail_b_460
                                                        ) : (
                                                            void_j_579 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_588 = fun bj_null_j_12 -> (
                                            input_j_587 = input);
                                        flatten_fun_j_590 = fun expr_b_461 -> (
                                            var_j_589 = expr_b_461);
                                        record_j_591 = {checker = flatten_fun_j_586, generator = flatten_fun_j_588, wrapper = flatten_fun_j_590};
                                        proj_j_592 = record_j_591.checker;
                                        var_j_593 = expr_b_462;
                                        appl_j_594 = proj_j_592 var_j_593;
                                        t_check_b_463 = appl_j_594;
                                        var_j_595 = t_check_b_463;
                                        if_j_604 = var_j_595 ? (
                                                bool_j_596 = false;
                                                pred_check_b_464 = bool_j_596;
                                                var_j_597 = is_pos;
                                                var_j_598 = expr_b_462;
                                                appl_j_599 = var_j_597 var_j_598;
                                                if_j_602 = appl_j_599 ? (
                                                        bool_j_600 = true
                                                    ) : (
                                                        var_j_601 = pred_check_b_464
                                                    )
                                            ) : (
                                                var_j_603 = t_check_b_463
                                            ));
                                    flatten_fun_j_631 = fun bj_null_j_14 -> (
                                        bool_j_606 = false;
                                        fail_b_456 = bool_j_606;
                                        flatten_fun_j_615 = fun expr_b_455 -> (
                                            var_j_607 = expr_b_455;
                                            m_match_bool_j_609 = var_j_607 ~ any;
                                            m_match_bool_j_612 = var_j_607 ~ int;
                                            m_match_cond_j_613 = m_match_bool_j_612 ? (
                                                    bool_j_614 = true
                                                ) : (
                                                    m_match_cond_j_610 = m_match_bool_j_609 ? (
                                                            var_j_611 = fail_b_456
                                                        ) : (
                                                            void_j_608 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_617 = fun bj_null_j_13 -> (
                                            input_j_616 = input);
                                        flatten_fun_j_619 = fun expr_b_457 -> (
                                            var_j_618 = expr_b_457);
                                        record_j_620 = {checker = flatten_fun_j_615, generator = flatten_fun_j_617, wrapper = flatten_fun_j_619};
                                        proj_j_621 = record_j_620.generator;
                                        int_j_622 = 0;
                                        appl_j_623 = proj_j_621 int_j_622;
                                        candidate_b_458 = appl_j_623;
                                        var_j_624 = is_pos;
                                        var_j_625 = candidate_b_458;
                                        appl_j_626 = var_j_624 var_j_625;
                                        if_j_630 = appl_j_626 ? (
                                                var_j_627 = candidate_b_458
                                            ) : (
                                                bool_j_628 = false;
                                                assume_j_629 = assume bool_j_628
                                            ));
                                    flatten_fun_j_633 = fun expr_b_465 -> (
                                        var_j_632 = expr_b_465);
                                    record_j_634 = {checker = flatten_fun_j_605, generator = flatten_fun_j_631, wrapper = flatten_fun_j_633};
                                    proj_j_635 = record_j_634.generator;
                                    int_j_636 = 0;
                                    appl_j_637 = proj_j_635 int_j_636;
                                    height_b_451 = appl_j_637;
                                    var_j_638 = height_b_451;
                                    var_j_639 = item_b_452;
                                    var_j_640 = left_b_453;
                                    var_j_641 = right_b_454;
                                    record_j_642 = {height = var_j_638, item = var_j_639, left = var_j_640, right = var_j_641};
                                    record_j_643 = {};
                                    record_j_644 = {};
                                    record_j_645 = {};
                                    record_j_646 = {};
                                    record_j_647 = {height = record_j_643, item = record_j_644, left = record_j_645, right = record_j_646};
                                    record_j_648 = {bj_actual_rec = record_j_642, bj_decl_lbls = record_j_647});
                                flatten_fun_j_651 = fun expr_b_490 -> (
                                    var_j_650 = expr_b_490);
                                record_j_652 = {checker = flatten_fun_j_550, generator = flatten_fun_j_649, wrapper = flatten_fun_j_651};
                                proj_j_653 = record_j_652.checker;
                                var_j_654 = expr_b_491;
                                appl_j_655 = proj_j_653 var_j_654;
                                t_check_b_492 = appl_j_655;
                                var_j_656 = t_check_b_492;
                                if_j_720 = var_j_656 ? (
                                        bool_j_657 = false;
                                        pred_check_b_493 = bool_j_657;
                                        flatten_fun_j_713 = fun t -> (
                                            var_j_658 = t;
                                            proj_j_659 = var_j_658.bj_decl_lbls;
                                            m_match_bool_j_661 = proj_j_659 ~ any;
                                            m_match_bool_j_668 = proj_j_659 ~ 
                                                {height, _};
                                            m_match_cond_j_669 = m_match_bool_j_668 ? (
                                                    var_j_670 = t;
                                                    proj_j_671 = var_j_670.bj_actual_rec;
                                                    proj_j_672 = proj_j_671.height
                                                ) : (
                                                    m_match_cond_j_662 = m_match_bool_j_661 ? (
                                                            bool_j_663 = false;
                                                            assert_pred_j_664 = bool_j_663;
                                                            assert_res_j_665 = assert_pred_j_664 ? (
                                                                    assert_res_true_j_666 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_667 = abort
                                                                )
                                                        ) : (
                                                            void_j_660 = 
                                                                {}
                                                        )
                                                );
                                            var_j_673 = max;
                                            var_j_674 = height_j_356_j_401;
                                            var_j_675 = t;
                                            proj_j_676 = var_j_675.bj_decl_lbls;
                                            m_match_bool_j_678 = proj_j_676 ~ any;
                                            m_match_bool_j_685 = proj_j_676 ~ 
                                                {left, _};
                                            m_match_cond_j_686 = m_match_bool_j_685 ? (
                                                    var_j_687 = t;
                                                    proj_j_688 = var_j_687.bj_actual_rec;
                                                    proj_j_689 = proj_j_688.left
                                                ) : (
                                                    m_match_cond_j_679 = m_match_bool_j_678 ? (
                                                            bool_j_680 = false;
                                                            assert_pred_j_681 = bool_j_680;
                                                            assert_res_j_682 = assert_pred_j_681 ? (
                                                                    assert_res_true_j_683 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_684 = abort
                                                                )
                                                        ) : (
                                                            void_j_677 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5657 = var_j_674 ~ fun;
                                            appl_j_690 = m_i_5657 ? (
                                                    c_appl_i_5658 = var_j_674 m_match_cond_j_686
                                                ) : (
                                                    ab_i_5659 = abort
                                                );
                                            m_i_5660 = var_j_673 ~ fun;
                                            appl_j_691 = m_i_5660 ? (
                                                    c_appl_i_5661 = var_j_673 appl_j_690
                                                ) : (
                                                    ab_i_5662 = abort
                                                );
                                            var_j_692 = height_j_356_j_401;
                                            var_j_693 = t;
                                            proj_j_694 = var_j_693.bj_decl_lbls;
                                            m_match_bool_j_696 = proj_j_694 ~ any;
                                            m_match_bool_j_703 = proj_j_694 ~ 
                                                {right, _};
                                            m_match_cond_j_704 = m_match_bool_j_703 ? (
                                                    var_j_705 = t;
                                                    proj_j_706 = var_j_705.bj_actual_rec;
                                                    proj_j_707 = proj_j_706.right
                                                ) : (
                                                    m_match_cond_j_697 = m_match_bool_j_696 ? (
                                                            bool_j_698 = false;
                                                            assert_pred_j_699 = bool_j_698;
                                                            assert_res_j_700 = assert_pred_j_699 ? (
                                                                    assert_res_true_j_701 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_702 = abort
                                                                )
                                                        ) : (
                                                            void_j_695 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5663 = var_j_692 ~ fun;
                                            appl_j_708 = m_i_5663 ? (
                                                    c_appl_i_5664 = var_j_692 m_match_cond_j_704
                                                ) : (
                                                    ab_i_5665 = abort
                                                );
                                            m_i_5666 = appl_j_691 ~ fun;
                                            appl_j_709 = m_i_5666 ? (
                                                    c_appl_i_5667 = appl_j_691 appl_j_708
                                                ) : (
                                                    ab_i_5668 = abort
                                                );
                                            int_j_710 = 1;
                                            m_bl_i_5669 = appl_j_709 ~ int;
                                            m_br_i_5670 = int_j_710 ~ int;
                                            m_b_i_5671 = m_bl_i_5669 and m_br_i_5670;
                                            binop_j_711 = m_b_i_5671 ? (
                                                    c_binop_i_5672 = appl_j_709 + int_j_710
                                                ) : (
                                                    ab_i_5673 = abort
                                                );
                                            m_bl_i_5674 = m_match_cond_j_669 ~ int;
                                            m_br_i_5675 = binop_j_711 ~ int;
                                            m_b_i_5676 = m_bl_i_5674 and m_br_i_5675;
                                            binop_j_712 = m_b_i_5676 ? (
                                                    c_binop_i_5677 = m_match_cond_j_669 == binop_j_711
                                                ) : (
                                                    ab_i_5678 = abort
                                                ));
                                        var_j_714 = expr_b_491;
                                        appl_j_715 = flatten_fun_j_713 var_j_714;
                                        if_j_718 = appl_j_715 ? (
                                                bool_j_716 = true
                                            ) : (
                                                var_j_717 = pred_check_b_493
                                            )
                                    ) : (
                                        var_j_719 = t_check_b_492
                                    ));
                            flatten_fun_j_1012 = fun bj_null_j_34 -> (
                                flatten_fun_j_844 = fun expr_b_431 -> (
                                    bool_j_722 = false;
                                    rec_fail_b_430 = bool_j_722;
                                    bool_j_723 = false;
                                    rec_fail_b_429 = bool_j_723;
                                    bool_j_724 = false;
                                    rec_fail_b_428 = bool_j_724;
                                    var_j_725 = expr_b_431;
                                    m_match_bool_j_727 = var_j_725 ~ any;
                                    m_match_bool_j_730 = var_j_725 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_731 = m_match_bool_j_730 ? (
                                            var_j_732 = expr_b_431;
                                            proj_j_733 = var_j_732.bj_decl_lbls;
                                            m_match_bool_j_735 = proj_j_733 ~ any;
                                            m_match_bool_j_738 = proj_j_733 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_739 = m_match_bool_j_738 ? (
                                                    height_j_27 = proj_j_733.height;
                                                    item_j_26 = proj_j_733.item;
                                                    left_j_25 = proj_j_733.left;
                                                    right_j_24 = proj_j_733.right;
                                                    var_j_740 = expr_b_431;
                                                    proj_j_741 = var_j_740.bj_actual_rec;
                                                    m_match_bool_j_743 = proj_j_741 ~ any;
                                                    m_match_bool_j_746 = proj_j_741 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_747 = m_match_bool_j_746 ? (
                                                            height_j_23 = proj_j_741.height;
                                                            item_j_22 = proj_j_741.item;
                                                            left_j_21 = proj_j_741.left;
                                                            right_j_20 = proj_j_741.right;
                                                            flatten_fun_j_776 = fun expr_b_445 -> (
                                                                bool_j_748 = false;
                                                                fail_b_443 = bool_j_748;
                                                                flatten_fun_j_757 = fun expr_b_442 -> (
                                                                    var_j_749 = expr_b_442;
                                                                    m_match_bool_j_751 = var_j_749 ~ any;
                                                                    m_match_bool_j_754 = var_j_749 ~ int;
                                                                    m_match_cond_j_755 = m_match_bool_j_754 ? (
                                                                        bool_j_756 = true
                                                                    ) : (
                                                                        m_match_cond_j_752 = m_match_bool_j_751 ? (
                                                                        var_j_753 = fail_b_443
                                                                    ) : (
                                                                        void_j_750 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_759 = fun bj_null_j_16 -> (
                                                                    input_j_758 = input);
                                                                flatten_fun_j_761 = fun expr_b_444 -> (
                                                                    var_j_760 = expr_b_444);
                                                                record_j_762 = 
                                                                    {checker = flatten_fun_j_757, generator = flatten_fun_j_759, wrapper = flatten_fun_j_761};
                                                                proj_j_763 = record_j_762.checker;
                                                                var_j_764 = expr_b_445;
                                                                appl_j_765 = proj_j_763 var_j_764;
                                                                t_check_b_446 = appl_j_765;
                                                                var_j_766 = t_check_b_446;
                                                                if_j_775 = var_j_766 ? (
                                                                        
                                                                    bool_j_767 = false;
                                                                    pred_check_b_447 = bool_j_767;
                                                                    var_j_768 = is_pos;
                                                                    var_j_769 = expr_b_445;
                                                                    appl_j_770 = var_j_768 var_j_769;
                                                                    if_j_773 = appl_j_770 ? (
                                                                        bool_j_771 = true
                                                                    ) : (
                                                                        var_j_772 = pred_check_b_447
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_774 = t_check_b_446
                                                                    ));
                                                            flatten_fun_j_802 = fun bj_null_j_18 -> (
                                                                bool_j_777 = false;
                                                                fail_b_439 = bool_j_777;
                                                                flatten_fun_j_786 = fun expr_b_438 -> (
                                                                    var_j_778 = expr_b_438;
                                                                    m_match_bool_j_780 = var_j_778 ~ any;
                                                                    m_match_bool_j_783 = var_j_778 ~ int;
                                                                    m_match_cond_j_784 = m_match_bool_j_783 ? (
                                                                        bool_j_785 = true
                                                                    ) : (
                                                                        m_match_cond_j_781 = m_match_bool_j_780 ? (
                                                                        var_j_782 = fail_b_439
                                                                    ) : (
                                                                        void_j_779 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_788 = fun bj_null_j_17 -> (
                                                                    input_j_787 = input);
                                                                flatten_fun_j_790 = fun expr_b_440 -> (
                                                                    var_j_789 = expr_b_440);
                                                                record_j_791 = 
                                                                    {checker = flatten_fun_j_786, generator = flatten_fun_j_788, wrapper = flatten_fun_j_790};
                                                                proj_j_792 = record_j_791.generator;
                                                                int_j_793 = 0;
                                                                appl_j_794 = proj_j_792 int_j_793;
                                                                candidate_b_441 = appl_j_794;
                                                                var_j_795 = is_pos;
                                                                var_j_796 = candidate_b_441;
                                                                appl_j_797 = var_j_795 var_j_796;
                                                                if_j_801 = appl_j_797 ? (
                                                                        
                                                                    var_j_798 = candidate_b_441
                                                                    ) : (
                                                                        
                                                                    bool_j_799 = false;
                                                                    assume_j_800 = assume bool_j_799
                                                                    ));
                                                            flatten_fun_j_804 = fun expr_b_448 -> (
                                                                var_j_803 = expr_b_448);
                                                            record_j_805 = 
                                                                {checker = flatten_fun_j_776, generator = flatten_fun_j_802, wrapper = flatten_fun_j_804};
                                                            proj_j_806 = record_j_805.checker;
                                                            var_j_807 = height_j_23;
                                                            appl_j_808 = proj_j_806 var_j_807;
                                                            lbl_check_b_437 = appl_j_808;
                                                            var_j_809 = lbl_check_b_437;
                                                            if_j_843 = var_j_809 ? (
                                                                    bool_j_810 = false;
                                                                    fail_b_435 = bool_j_810;
                                                                    flatten_fun_j_819 = fun expr_b_434 -> (
                                                                    var_j_811 = expr_b_434;
                                                                    m_match_bool_j_813 = var_j_811 ~ any;
                                                                    m_match_bool_j_816 = var_j_811 ~ int;
                                                                    m_match_cond_j_817 = m_match_bool_j_816 ? (
                                                                        bool_j_818 = true
                                                                    ) : (
                                                                        m_match_cond_j_814 = m_match_bool_j_813 ? (
                                                                        var_j_815 = fail_b_435
                                                                    ) : (
                                                                        void_j_812 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_821 = fun bj_null_j_19 -> (
                                                                    input_j_820 = input);
                                                                    flatten_fun_j_823 = fun expr_b_436 -> (
                                                                    var_j_822 = expr_b_436);
                                                                    record_j_824 = 
                                                                    {checker = flatten_fun_j_819, generator = flatten_fun_j_821, wrapper = flatten_fun_j_823};
                                                                    proj_j_825 = record_j_824.checker;
                                                                    var_j_826 = item_j_22;
                                                                    appl_j_827 = proj_j_825 var_j_826;
                                                                    lbl_check_b_433 = appl_j_827;
                                                                    var_j_828 = lbl_check_b_433;
                                                                    if_j_841 = var_j_828 ? (
                                                                        var_j_829 = tt;
                                                                    proj_j_830 = var_j_829.checker;
                                                                    var_j_831 = left_j_21;
                                                                    appl_j_832 = proj_j_830 var_j_831;
                                                                    lbl_check_b_432 = appl_j_832;
                                                                    var_j_833 = lbl_check_b_432;
                                                                    if_j_839 = var_j_833 ? (
                                                                        var_j_834 = tt;
                                                                    proj_j_835 = var_j_834.checker;
                                                                    var_j_836 = right_j_20;
                                                                    appl_j_837 = proj_j_835 var_j_836
                                                                    ) : (
                                                                        var_j_838 = lbl_check_b_432
                                                                    )
                                                                    ) : (
                                                                        var_j_840 = lbl_check_b_433
                                                                    )
                                                                ) : (
                                                                    var_j_842 = lbl_check_b_437
                                                                )
                                                        ) : (
                                                            m_match_cond_j_744 = m_match_bool_j_743 ? (
                                                                    var_j_745 = rec_fail_b_428
                                                                ) : (
                                                                    void_j_742 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_736 = m_match_bool_j_735 ? (
                                                            var_j_737 = rec_fail_b_429
                                                        ) : (
                                                            void_j_734 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_728 = m_match_bool_j_727 ? (
                                                    var_j_729 = rec_fail_b_430
                                                ) : (
                                                    void_j_726 = {}
                                                )
                                        ));
                                flatten_fun_j_943 = fun bj_null_j_32 -> (
                                    var_j_845 = tt;
                                    proj_j_846 = var_j_845.generator;
                                    int_j_847 = 0;
                                    appl_j_848 = proj_j_846 int_j_847;
                                    right_b_413 = appl_j_848;
                                    var_j_849 = tt;
                                    proj_j_850 = var_j_849.generator;
                                    int_j_851 = 0;
                                    appl_j_852 = proj_j_850 int_j_851;
                                    left_b_412 = appl_j_852;
                                    bool_j_853 = false;
                                    fail_b_426 = bool_j_853;
                                    flatten_fun_j_862 = fun expr_b_425 -> (
                                        var_j_854 = expr_b_425;
                                        m_match_bool_j_856 = var_j_854 ~ any;
                                        m_match_bool_j_859 = var_j_854 ~ int;
                                        m_match_cond_j_860 = m_match_bool_j_859 ? (
                                                bool_j_861 = true
                                            ) : (
                                                m_match_cond_j_857 = m_match_bool_j_856 ? (
                                                        var_j_858 = fail_b_426
                                                    ) : (
                                                        void_j_855 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_864 = fun bj_null_j_28 -> (
                                        input_j_863 = input);
                                    flatten_fun_j_866 = fun expr_b_427 -> (
                                        var_j_865 = expr_b_427);
                                    record_j_867 = {checker = flatten_fun_j_862, generator = flatten_fun_j_864, wrapper = flatten_fun_j_866};
                                    proj_j_868 = record_j_867.generator;
                                    int_j_869 = 0;
                                    appl_j_870 = proj_j_868 int_j_869;
                                    item_b_411 = appl_j_870;
                                    flatten_fun_j_899 = fun expr_b_421 -> (
                                        bool_j_871 = false;
                                        fail_b_419 = bool_j_871;
                                        flatten_fun_j_880 = fun expr_b_418 -> (
                                            var_j_872 = expr_b_418;
                                            m_match_bool_j_874 = var_j_872 ~ any;
                                            m_match_bool_j_877 = var_j_872 ~ int;
                                            m_match_cond_j_878 = m_match_bool_j_877 ? (
                                                    bool_j_879 = true
                                                ) : (
                                                    m_match_cond_j_875 = m_match_bool_j_874 ? (
                                                            var_j_876 = fail_b_419
                                                        ) : (
                                                            void_j_873 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_882 = fun bj_null_j_29 -> (
                                            input_j_881 = input);
                                        flatten_fun_j_884 = fun expr_b_420 -> (
                                            var_j_883 = expr_b_420);
                                        record_j_885 = {checker = flatten_fun_j_880, generator = flatten_fun_j_882, wrapper = flatten_fun_j_884};
                                        proj_j_886 = record_j_885.checker;
                                        var_j_887 = expr_b_421;
                                        appl_j_888 = proj_j_886 var_j_887;
                                        t_check_b_422 = appl_j_888;
                                        var_j_889 = t_check_b_422;
                                        if_j_898 = var_j_889 ? (
                                                bool_j_890 = false;
                                                pred_check_b_423 = bool_j_890;
                                                var_j_891 = is_pos;
                                                var_j_892 = expr_b_421;
                                                appl_j_893 = var_j_891 var_j_892;
                                                if_j_896 = appl_j_893 ? (
                                                        bool_j_894 = true
                                                    ) : (
                                                        var_j_895 = pred_check_b_423
                                                    )
                                            ) : (
                                                var_j_897 = t_check_b_422
                                            ));
                                    flatten_fun_j_925 = fun bj_null_j_31 -> (
                                        bool_j_900 = false;
                                        fail_b_415 = bool_j_900;
                                        flatten_fun_j_909 = fun expr_b_414 -> (
                                            var_j_901 = expr_b_414;
                                            m_match_bool_j_903 = var_j_901 ~ any;
                                            m_match_bool_j_906 = var_j_901 ~ int;
                                            m_match_cond_j_907 = m_match_bool_j_906 ? (
                                                    bool_j_908 = true
                                                ) : (
                                                    m_match_cond_j_904 = m_match_bool_j_903 ? (
                                                            var_j_905 = fail_b_415
                                                        ) : (
                                                            void_j_902 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_911 = fun bj_null_j_30 -> (
                                            input_j_910 = input);
                                        flatten_fun_j_913 = fun expr_b_416 -> (
                                            var_j_912 = expr_b_416);
                                        record_j_914 = {checker = flatten_fun_j_909, generator = flatten_fun_j_911, wrapper = flatten_fun_j_913};
                                        proj_j_915 = record_j_914.generator;
                                        int_j_916 = 0;
                                        appl_j_917 = proj_j_915 int_j_916;
                                        candidate_b_417 = appl_j_917;
                                        var_j_918 = is_pos;
                                        var_j_919 = candidate_b_417;
                                        appl_j_920 = var_j_918 var_j_919;
                                        if_j_924 = appl_j_920 ? (
                                                var_j_921 = candidate_b_417
                                            ) : (
                                                bool_j_922 = false;
                                                assume_j_923 = assume bool_j_922
                                            ));
                                    flatten_fun_j_927 = fun expr_b_424 -> (
                                        var_j_926 = expr_b_424);
                                    record_j_928 = {checker = flatten_fun_j_899, generator = flatten_fun_j_925, wrapper = flatten_fun_j_927};
                                    proj_j_929 = record_j_928.generator;
                                    int_j_930 = 0;
                                    appl_j_931 = proj_j_929 int_j_930;
                                    height_b_410 = appl_j_931;
                                    var_j_932 = height_b_410;
                                    var_j_933 = item_b_411;
                                    var_j_934 = left_b_412;
                                    var_j_935 = right_b_413;
                                    record_j_936 = {height = var_j_932, item = var_j_933, left = var_j_934, right = var_j_935};
                                    record_j_937 = {};
                                    record_j_938 = {};
                                    record_j_939 = {};
                                    record_j_940 = {};
                                    record_j_941 = {height = record_j_937, item = record_j_938, left = record_j_939, right = record_j_940};
                                    record_j_942 = {bj_actual_rec = record_j_936, bj_decl_lbls = record_j_941});
                                flatten_fun_j_945 = fun expr_b_449 -> (
                                    var_j_944 = expr_b_449);
                                record_j_946 = {checker = flatten_fun_j_844, generator = flatten_fun_j_943, wrapper = flatten_fun_j_945};
                                proj_j_947 = record_j_946.generator;
                                int_j_948 = 0;
                                appl_j_949 = proj_j_947 int_j_948;
                                candidate_b_450 = appl_j_949;
                                flatten_fun_j_1005 = fun t_j_33 -> (
                                    var_j_950 = t_j_33;
                                    proj_j_951 = var_j_950.bj_decl_lbls;
                                    m_match_bool_j_953 = proj_j_951 ~ any;
                                    m_match_bool_j_960 = proj_j_951 ~ 
                                        {height, _};
                                    m_match_cond_j_961 = m_match_bool_j_960 ? (
                                            var_j_962 = t_j_33;
                                            proj_j_963 = var_j_962.bj_actual_rec;
                                            proj_j_964 = proj_j_963.height
                                        ) : (
                                            m_match_cond_j_954 = m_match_bool_j_953 ? (
                                                    bool_j_955 = false;
                                                    assert_pred_j_956 = bool_j_955;
                                                    assert_res_j_957 = assert_pred_j_956 ? (
                                                            assert_res_true_j_958 = 
                                                                {}
                                                        ) : (
                                                            ab_j_959 = abort
                                                        )
                                                ) : (
                                                    void_j_952 = {}
                                                )
                                        );
                                    var_j_965 = max;
                                    var_j_966 = height_j_356_j_401;
                                    var_j_967 = t_j_33;
                                    proj_j_968 = var_j_967.bj_decl_lbls;
                                    m_match_bool_j_970 = proj_j_968 ~ any;
                                    m_match_bool_j_977 = proj_j_968 ~ 
                                        {left, _};
                                    m_match_cond_j_978 = m_match_bool_j_977 ? (
                                            var_j_979 = t_j_33;
                                            proj_j_980 = var_j_979.bj_actual_rec;
                                            proj_j_981 = proj_j_980.left
                                        ) : (
                                            m_match_cond_j_971 = m_match_bool_j_970 ? (
                                                    bool_j_972 = false;
                                                    assert_pred_j_973 = bool_j_972;
                                                    assert_res_j_974 = assert_pred_j_973 ? (
                                                            assert_res_true_j_975 = 
                                                                {}
                                                        ) : (
                                                            ab_j_976 = abort
                                                        )
                                                ) : (
                                                    void_j_969 = {}
                                                )
                                        );
                                    m_i_5679 = var_j_966 ~ fun;
                                    appl_j_982 = m_i_5679 ? (
                                            c_appl_i_5680 = var_j_966 m_match_cond_j_978
                                        ) : (
                                            ab_i_5681 = abort
                                        );
                                    m_i_5682 = var_j_965 ~ fun;
                                    appl_j_983 = m_i_5682 ? (
                                            c_appl_i_5683 = var_j_965 appl_j_982
                                        ) : (
                                            ab_i_5684 = abort
                                        );
                                    var_j_984 = height_j_356_j_401;
                                    var_j_985 = t_j_33;
                                    proj_j_986 = var_j_985.bj_decl_lbls;
                                    m_match_bool_j_988 = proj_j_986 ~ any;
                                    m_match_bool_j_995 = proj_j_986 ~ 
                                        {right, _};
                                    m_match_cond_j_996 = m_match_bool_j_995 ? (
                                            var_j_997 = t_j_33;
                                            proj_j_998 = var_j_997.bj_actual_rec;
                                            proj_j_999 = proj_j_998.right
                                        ) : (
                                            m_match_cond_j_989 = m_match_bool_j_988 ? (
                                                    bool_j_990 = false;
                                                    assert_pred_j_991 = bool_j_990;
                                                    assert_res_j_992 = assert_pred_j_991 ? (
                                                            assert_res_true_j_993 = 
                                                                {}
                                                        ) : (
                                                            ab_j_994 = abort
                                                        )
                                                ) : (
                                                    void_j_987 = {}
                                                )
                                        );
                                    m_i_5685 = var_j_984 ~ fun;
                                    appl_j_1000 = m_i_5685 ? (
                                            c_appl_i_5686 = var_j_984 m_match_cond_j_996
                                        ) : (
                                            ab_i_5687 = abort
                                        );
                                    m_i_5688 = appl_j_983 ~ fun;
                                    appl_j_1001 = m_i_5688 ? (
                                            c_appl_i_5689 = appl_j_983 appl_j_1000
                                        ) : (
                                            ab_i_5690 = abort
                                        );
                                    int_j_1002 = 1;
                                    m_bl_i_5691 = appl_j_1001 ~ int;
                                    m_br_i_5692 = int_j_1002 ~ int;
                                    m_b_i_5693 = m_bl_i_5691 and m_br_i_5692;
                                    binop_j_1003 = m_b_i_5693 ? (
                                            c_binop_i_5694 = appl_j_1001 + int_j_1002
                                        ) : (
                                            ab_i_5695 = abort
                                        );
                                    m_bl_i_5696 = m_match_cond_j_961 ~ int;
                                    m_br_i_5697 = binop_j_1003 ~ int;
                                    m_b_i_5698 = m_bl_i_5696 and m_br_i_5697;
                                    binop_j_1004 = m_b_i_5698 ? (
                                            c_binop_i_5699 = m_match_cond_j_961 == binop_j_1003
                                        ) : (
                                            ab_i_5700 = abort
                                        ));
                                var_j_1006 = candidate_b_450;
                                appl_j_1007 = flatten_fun_j_1005 var_j_1006;
                                if_j_1011 = appl_j_1007 ? (
                                        var_j_1008 = candidate_b_450
                                    ) : (
                                        bool_j_1009 = false;
                                        assume_j_1010 = assume bool_j_1009
                                    ));
                            flatten_fun_j_1014 = fun expr_b_494 -> (
                                var_j_1013 = expr_b_494);
                            record_j_1015 = {checker = flatten_fun_j_721, generator = flatten_fun_j_1012, wrapper = flatten_fun_j_1014};
                            proj_j_1016 = record_j_1015.checker;
                            var_j_1017 = expr_b_604;
                            appl_j_1018 = proj_j_1016 var_j_1017;
                            if_j_1102 = appl_j_1018 ? (
                                    bool_j_1019 = true
                                ) : (
                                    flatten_fun_j_1066 = fun expr_b_502 -> (
                                        bool_j_1020 = false;
                                        rec_fail_b_501 = bool_j_1020;
                                        bool_j_1021 = false;
                                        rec_fail_b_500 = bool_j_1021;
                                        bool_j_1022 = false;
                                        rec_fail_b_499 = bool_j_1022;
                                        var_j_1023 = expr_b_502;
                                        m_match_bool_j_1025 = var_j_1023 ~ any;
                                        m_match_bool_j_1028 = var_j_1023 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_1029 = m_match_bool_j_1028 ? (
                                                var_j_1030 = expr_b_502;
                                                proj_j_1031 = var_j_1030.bj_decl_lbls;
                                                m_match_bool_j_1033 = proj_j_1031 ~ any;
                                                m_match_bool_j_1036 = proj_j_1031 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1037 = m_match_bool_j_1036 ? (
                                                        leaf_j_36 = proj_j_1031.leaf;
                                                        var_j_1038 = expr_b_502;
                                                        proj_j_1039 = var_j_1038.bj_actual_rec;
                                                        m_match_bool_j_1041 = proj_j_1039 ~ any;
                                                        m_match_bool_j_1044 = proj_j_1039 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_1045 = m_match_bool_j_1044 ? (
                                                                leaf = proj_j_1039.leaf;
                                                                bool_j_1046 = false;
                                                                fail_b_504 = bool_j_1046;
                                                                flatten_fun_j_1055 = fun expr_b_503 -> (
                                                                    var_j_1047 = expr_b_503;
                                                                    m_match_bool_j_1049 = var_j_1047 ~ any;
                                                                    m_match_bool_j_1052 = var_j_1047 ~ bool;
                                                                    m_match_cond_j_1053 = m_match_bool_j_1052 ? (
                                                                        bool_j_1054 = true
                                                                    ) : (
                                                                        m_match_cond_j_1050 = m_match_bool_j_1049 ? (
                                                                        var_j_1051 = fail_b_504
                                                                    ) : (
                                                                        void_j_1048 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1059 = fun bj_null_j_35 -> (
                                                                    int_j_1056 = 0;
                                                                    input_j_1057 = input;
                                                                    m_bl_i_5701 = int_j_1056 ~ int;
                                                                    m_br_i_5702 = input_j_1057 ~ int;
                                                                    m_b_i_5703 = m_bl_i_5701 and m_br_i_5702;
                                                                    binop_j_1058 = m_b_i_5703 ? (
                                                                        c_binop_i_5704 = int_j_1056 <= input_j_1057
                                                                    ) : (
                                                                        ab_i_5705 = abort
                                                                    ));
                                                                flatten_fun_j_1061 = fun expr_b_505 -> (
                                                                    var_j_1060 = expr_b_505);
                                                                record_j_1062 = 
                                                                    {checker = flatten_fun_j_1055, generator = flatten_fun_j_1059, wrapper = flatten_fun_j_1061};
                                                                proj_j_1063 = record_j_1062.checker;
                                                                var_j_1064 = leaf;
                                                                appl_j_1065 = proj_j_1063 var_j_1064
                                                            ) : (
                                                                m_match_cond_j_1042 = m_match_bool_j_1041 ? (
                                                                        
                                                                    var_j_1043 = rec_fail_b_499
                                                                    ) : (
                                                                        
                                                                    void_j_1040 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1034 = m_match_bool_j_1033 ? (
                                                                var_j_1035 = rec_fail_b_500
                                                            ) : (
                                                                void_j_1032 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1026 = m_match_bool_j_1025 ? (
                                                        var_j_1027 = rec_fail_b_501
                                                    ) : (
                                                        void_j_1024 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1092 = fun bj_null_j_38 -> (
                                        bool_j_1067 = false;
                                        fail_b_497 = bool_j_1067;
                                        flatten_fun_j_1076 = fun expr_b_496 -> (
                                            var_j_1068 = expr_b_496;
                                            m_match_bool_j_1070 = var_j_1068 ~ any;
                                            m_match_bool_j_1073 = var_j_1068 ~ bool;
                                            m_match_cond_j_1074 = m_match_bool_j_1073 ? (
                                                    bool_j_1075 = true
                                                ) : (
                                                    m_match_cond_j_1071 = m_match_bool_j_1070 ? (
                                                            var_j_1072 = fail_b_497
                                                        ) : (
                                                            void_j_1069 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1080 = fun bj_null_j_37 -> (
                                            int_j_1077 = 0;
                                            input_j_1078 = input;
                                            m_bl_i_5706 = int_j_1077 ~ int;
                                            m_br_i_5707 = input_j_1078 ~ int;
                                            m_b_i_5708 = m_bl_i_5706 and m_br_i_5707;
                                            binop_j_1079 = m_b_i_5708 ? (
                                                    c_binop_i_5709 = int_j_1077 <= input_j_1078
                                                ) : (
                                                    ab_i_5710 = abort
                                                ));
                                        flatten_fun_j_1082 = fun expr_b_498 -> (
                                            var_j_1081 = expr_b_498);
                                        record_j_1083 = {checker = flatten_fun_j_1076, generator = flatten_fun_j_1080, wrapper = flatten_fun_j_1082};
                                        proj_j_1084 = record_j_1083.generator;
                                        int_j_1085 = 0;
                                        appl_j_1086 = proj_j_1084 int_j_1085;
                                        leaf_b_495 = appl_j_1086;
                                        var_j_1087 = leaf_b_495;
                                        record_j_1088 = {leaf = var_j_1087};
                                        record_j_1089 = {};
                                        record_j_1090 = {leaf = record_j_1089};
                                        record_j_1091 = {bj_actual_rec = record_j_1088, bj_decl_lbls = record_j_1090});
                                    flatten_fun_j_1094 = fun expr_b_506 -> (
                                        var_j_1093 = expr_b_506);
                                    record_j_1095 = {checker = flatten_fun_j_1066, generator = flatten_fun_j_1092, wrapper = flatten_fun_j_1094};
                                    proj_j_1096 = record_j_1095.checker;
                                    var_j_1097 = expr_b_604;
                                    appl_j_1098 = proj_j_1096 var_j_1097;
                                    if_j_1101 = appl_j_1098 ? (
                                            bool_j_1099 = true
                                        ) : (
                                            var_j_1100 = fail_b_606
                                        )
                                )
                        ) : (
                            flatten_fun_j_1149 = fun expr_b_599 -> (
                                bool_j_1103 = false;
                                rec_fail_b_598 = bool_j_1103;
                                bool_j_1104 = false;
                                rec_fail_b_597 = bool_j_1104;
                                bool_j_1105 = false;
                                rec_fail_b_596 = bool_j_1105;
                                var_j_1106 = expr_b_599;
                                m_match_bool_j_1108 = var_j_1106 ~ any;
                                m_match_bool_j_1111 = var_j_1106 ~ {bj_actual_rec, _};
                                m_match_cond_j_1112 = m_match_bool_j_1111 ? (
                                        var_j_1113 = expr_b_599;
                                        proj_j_1114 = var_j_1113.bj_decl_lbls;
                                        m_match_bool_j_1116 = proj_j_1114 ~ any;
                                        m_match_bool_j_1119 = proj_j_1114 ~ 
                                            {leaf, _};
                                        m_match_cond_j_1120 = m_match_bool_j_1119 ? (
                                                leaf_j_41 = proj_j_1114.leaf;
                                                var_j_1121 = expr_b_599;
                                                proj_j_1122 = var_j_1121.bj_actual_rec;
                                                m_match_bool_j_1124 = proj_j_1122 ~ any;
                                                m_match_bool_j_1127 = proj_j_1122 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1128 = m_match_bool_j_1127 ? (
                                                        leaf_j_40 = proj_j_1122.leaf;
                                                        bool_j_1129 = false;
                                                        fail_b_601 = bool_j_1129;
                                                        flatten_fun_j_1138 = fun expr_b_600 -> (
                                                            var_j_1130 = expr_b_600;
                                                            m_match_bool_j_1132 = var_j_1130 ~ any;
                                                            m_match_bool_j_1135 = var_j_1130 ~ bool;
                                                            m_match_cond_j_1136 = m_match_bool_j_1135 ? (
                                                                    bool_j_1137 = true
                                                                ) : (
                                                                    m_match_cond_j_1133 = m_match_bool_j_1132 ? (
                                                                        var_j_1134 = fail_b_601
                                                                    ) : (
                                                                        void_j_1131 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_1142 = fun bj_null_j_39 -> (
                                                            int_j_1139 = 0;
                                                            input_j_1140 = input;
                                                            m_bl_i_5711 = int_j_1139 ~ int;
                                                            m_br_i_5712 = input_j_1140 ~ int;
                                                            m_b_i_5713 = m_bl_i_5711 and m_br_i_5712;
                                                            binop_j_1141 = m_b_i_5713 ? (
                                                                    c_binop_i_5714 = int_j_1139 <= input_j_1140
                                                                ) : (
                                                                    ab_i_5715 = abort
                                                                ));
                                                        flatten_fun_j_1144 = fun expr_b_602 -> (
                                                            var_j_1143 = expr_b_602);
                                                        record_j_1145 = 
                                                            {checker = flatten_fun_j_1138, generator = flatten_fun_j_1142, wrapper = flatten_fun_j_1144};
                                                        proj_j_1146 = record_j_1145.checker;
                                                        var_j_1147 = leaf_j_40;
                                                        appl_j_1148 = proj_j_1146 var_j_1147
                                                    ) : (
                                                        m_match_cond_j_1125 = m_match_bool_j_1124 ? (
                                                                var_j_1126 = rec_fail_b_596
                                                            ) : (
                                                                void_j_1123 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1117 = m_match_bool_j_1116 ? (
                                                        var_j_1118 = rec_fail_b_597
                                                    ) : (
                                                        void_j_1115 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1109 = m_match_bool_j_1108 ? (
                                                var_j_1110 = rec_fail_b_598
                                            ) : (
                                                void_j_1107 = {}
                                            )
                                    ));
                            flatten_fun_j_1175 = fun bj_null_j_43 -> (
                                bool_j_1150 = false;
                                fail_b_594 = bool_j_1150;
                                flatten_fun_j_1159 = fun expr_b_593 -> (
                                    var_j_1151 = expr_b_593;
                                    m_match_bool_j_1153 = var_j_1151 ~ any;
                                    m_match_bool_j_1156 = var_j_1151 ~ bool;
                                    m_match_cond_j_1157 = m_match_bool_j_1156 ? (
                                            bool_j_1158 = true
                                        ) : (
                                            m_match_cond_j_1154 = m_match_bool_j_1153 ? (
                                                    var_j_1155 = fail_b_594
                                                ) : (
                                                    void_j_1152 = {}
                                                )
                                        ));
                                flatten_fun_j_1163 = fun bj_null_j_42 -> (
                                    int_j_1160 = 0;
                                    input_j_1161 = input;
                                    m_bl_i_5716 = int_j_1160 ~ int;
                                    m_br_i_5717 = input_j_1161 ~ int;
                                    m_b_i_5718 = m_bl_i_5716 and m_br_i_5717;
                                    binop_j_1162 = m_b_i_5718 ? (
                                            c_binop_i_5719 = int_j_1160 <= input_j_1161
                                        ) : (
                                            ab_i_5720 = abort
                                        ));
                                flatten_fun_j_1165 = fun expr_b_595 -> (
                                    var_j_1164 = expr_b_595);
                                record_j_1166 = {checker = flatten_fun_j_1159, generator = flatten_fun_j_1163, wrapper = flatten_fun_j_1165};
                                proj_j_1167 = record_j_1166.generator;
                                int_j_1168 = 0;
                                appl_j_1169 = proj_j_1167 int_j_1168;
                                leaf_b_592 = appl_j_1169;
                                var_j_1170 = leaf_b_592;
                                record_j_1171 = {leaf = var_j_1170};
                                record_j_1172 = {};
                                record_j_1173 = {leaf = record_j_1172};
                                record_j_1174 = {bj_actual_rec = record_j_1171, bj_decl_lbls = record_j_1173});
                            flatten_fun_j_1177 = fun expr_b_603 -> (
                                var_j_1176 = expr_b_603);
                            record_j_1178 = {checker = flatten_fun_j_1149, generator = flatten_fun_j_1175, wrapper = flatten_fun_j_1177};
                            proj_j_1179 = record_j_1178.checker;
                            var_j_1180 = expr_b_604;
                            appl_j_1181 = proj_j_1179 var_j_1180;
                            if_j_1777 = appl_j_1181 ? (
                                    bool_j_1182 = true
                                ) : (
                                    flatten_fun_j_1476 = fun expr_b_588 -> (
                                        flatten_fun_j_1305 = fun expr_b_569 -> (
                                            bool_j_1183 = false;
                                            rec_fail_b_568 = bool_j_1183;
                                            bool_j_1184 = false;
                                            rec_fail_b_567 = bool_j_1184;
                                            bool_j_1185 = false;
                                            rec_fail_b_566 = bool_j_1185;
                                            var_j_1186 = expr_b_569;
                                            m_match_bool_j_1188 = var_j_1186 ~ any;
                                            m_match_bool_j_1191 = var_j_1186 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_1192 = m_match_bool_j_1191 ? (
                                                    var_j_1193 = expr_b_569;
                                                    proj_j_1194 = var_j_1193.bj_decl_lbls;
                                                    m_match_bool_j_1196 = proj_j_1194 ~ any;
                                                    m_match_bool_j_1199 = proj_j_1194 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1200 = m_match_bool_j_1199 ? (
                                                            height_j_55 = proj_j_1194.height;
                                                            item_j_54 = proj_j_1194.item;
                                                            left_j_53 = proj_j_1194.left;
                                                            right_j_52 = proj_j_1194.right;
                                                            var_j_1201 = expr_b_569;
                                                            proj_j_1202 = var_j_1201.bj_actual_rec;
                                                            m_match_bool_j_1204 = proj_j_1202 ~ any;
                                                            m_match_bool_j_1207 = proj_j_1202 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_1208 = m_match_bool_j_1207 ? (
                                                                    height_j_51 = proj_j_1202.height;
                                                                    item_j_50 = proj_j_1202.item;
                                                                    left_j_49 = proj_j_1202.left;
                                                                    right_j_48 = proj_j_1202.right;
                                                                    flatten_fun_j_1237 = fun expr_b_583 -> (
                                                                    bool_j_1209 = false;
                                                                    fail_b_581 = bool_j_1209;
                                                                    flatten_fun_j_1218 = fun expr_b_580 -> (
                                                                    var_j_1210 = expr_b_580;
                                                                    m_match_bool_j_1212 = var_j_1210 ~ any;
                                                                    m_match_bool_j_1215 = var_j_1210 ~ int;
                                                                    m_match_cond_j_1216 = m_match_bool_j_1215 ? (
                                                                        bool_j_1217 = true
                                                                    ) : (
                                                                        m_match_cond_j_1213 = m_match_bool_j_1212 ? (
                                                                        var_j_1214 = fail_b_581
                                                                    ) : (
                                                                        void_j_1211 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1220 = fun bj_null_j_44 -> (
                                                                    input_j_1219 = input);
                                                                    flatten_fun_j_1222 = fun expr_b_582 -> (
                                                                    var_j_1221 = expr_b_582);
                                                                    record_j_1223 = 
                                                                    {checker = flatten_fun_j_1218, generator = flatten_fun_j_1220, wrapper = flatten_fun_j_1222};
                                                                    proj_j_1224 = record_j_1223.checker;
                                                                    var_j_1225 = expr_b_583;
                                                                    appl_j_1226 = proj_j_1224 var_j_1225;
                                                                    t_check_b_584 = appl_j_1226;
                                                                    var_j_1227 = t_check_b_584;
                                                                    if_j_1236 = var_j_1227 ? (
                                                                        bool_j_1228 = false;
                                                                    pred_check_b_585 = bool_j_1228;
                                                                    var_j_1229 = is_pos;
                                                                    var_j_1230 = expr_b_583;
                                                                    appl_j_1231 = var_j_1229 var_j_1230;
                                                                    if_j_1234 = appl_j_1231 ? (
                                                                        bool_j_1232 = true
                                                                    ) : (
                                                                        var_j_1233 = pred_check_b_585
                                                                    )
                                                                    ) : (
                                                                        var_j_1235 = t_check_b_584
                                                                    ));
                                                                    flatten_fun_j_1263 = fun bj_null_j_46 -> (
                                                                    bool_j_1238 = false;
                                                                    fail_b_577 = bool_j_1238;
                                                                    flatten_fun_j_1247 = fun expr_b_576 -> (
                                                                    var_j_1239 = expr_b_576;
                                                                    m_match_bool_j_1241 = var_j_1239 ~ any;
                                                                    m_match_bool_j_1244 = var_j_1239 ~ int;
                                                                    m_match_cond_j_1245 = m_match_bool_j_1244 ? (
                                                                        bool_j_1246 = true
                                                                    ) : (
                                                                        m_match_cond_j_1242 = m_match_bool_j_1241 ? (
                                                                        var_j_1243 = fail_b_577
                                                                    ) : (
                                                                        void_j_1240 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1249 = fun bj_null_j_45 -> (
                                                                    input_j_1248 = input);
                                                                    flatten_fun_j_1251 = fun expr_b_578 -> (
                                                                    var_j_1250 = expr_b_578);
                                                                    record_j_1252 = 
                                                                    {checker = flatten_fun_j_1247, generator = flatten_fun_j_1249, wrapper = flatten_fun_j_1251};
                                                                    proj_j_1253 = record_j_1252.generator;
                                                                    int_j_1254 = 0;
                                                                    appl_j_1255 = proj_j_1253 int_j_1254;
                                                                    candidate_b_579 = appl_j_1255;
                                                                    var_j_1256 = is_pos;
                                                                    var_j_1257 = candidate_b_579;
                                                                    appl_j_1258 = var_j_1256 var_j_1257;
                                                                    if_j_1262 = appl_j_1258 ? (
                                                                        var_j_1259 = candidate_b_579
                                                                    ) : (
                                                                        bool_j_1260 = false;
                                                                    assume_j_1261 = assume bool_j_1260
                                                                    ));
                                                                    flatten_fun_j_1265 = fun expr_b_586 -> (
                                                                    var_j_1264 = expr_b_586);
                                                                    record_j_1266 = 
                                                                    {checker = flatten_fun_j_1237, generator = flatten_fun_j_1263, wrapper = flatten_fun_j_1265};
                                                                    proj_j_1267 = record_j_1266.checker;
                                                                    var_j_1268 = height_j_51;
                                                                    appl_j_1269 = proj_j_1267 var_j_1268;
                                                                    lbl_check_b_575 = appl_j_1269;
                                                                    var_j_1270 = lbl_check_b_575;
                                                                    if_j_1304 = var_j_1270 ? (
                                                                        bool_j_1271 = false;
                                                                    fail_b_573 = bool_j_1271;
                                                                    flatten_fun_j_1280 = fun expr_b_572 -> (
                                                                    var_j_1272 = expr_b_572;
                                                                    m_match_bool_j_1274 = var_j_1272 ~ any;
                                                                    m_match_bool_j_1277 = var_j_1272 ~ int;
                                                                    m_match_cond_j_1278 = m_match_bool_j_1277 ? (
                                                                        bool_j_1279 = true
                                                                    ) : (
                                                                        m_match_cond_j_1275 = m_match_bool_j_1274 ? (
                                                                        var_j_1276 = fail_b_573
                                                                    ) : (
                                                                        void_j_1273 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1282 = fun bj_null_j_47 -> (
                                                                    input_j_1281 = input);
                                                                    flatten_fun_j_1284 = fun expr_b_574 -> (
                                                                    var_j_1283 = expr_b_574);
                                                                    record_j_1285 = 
                                                                    {checker = flatten_fun_j_1280, generator = flatten_fun_j_1282, wrapper = flatten_fun_j_1284};
                                                                    proj_j_1286 = record_j_1285.checker;
                                                                    var_j_1287 = item_j_50;
                                                                    appl_j_1288 = proj_j_1286 var_j_1287;
                                                                    lbl_check_b_571 = appl_j_1288;
                                                                    var_j_1289 = lbl_check_b_571;
                                                                    if_j_1302 = var_j_1289 ? (
                                                                        var_j_1290 = tt;
                                                                    proj_j_1291 = var_j_1290.checker;
                                                                    var_j_1292 = left_j_49;
                                                                    appl_j_1293 = proj_j_1291 var_j_1292;
                                                                    lbl_check_b_570 = appl_j_1293;
                                                                    var_j_1294 = lbl_check_b_570;
                                                                    if_j_1300 = var_j_1294 ? (
                                                                        var_j_1295 = tt;
                                                                    proj_j_1296 = var_j_1295.checker;
                                                                    var_j_1297 = right_j_48;
                                                                    appl_j_1298 = proj_j_1296 var_j_1297
                                                                    ) : (
                                                                        var_j_1299 = lbl_check_b_570
                                                                    )
                                                                    ) : (
                                                                        var_j_1301 = lbl_check_b_571
                                                                    )
                                                                    ) : (
                                                                        var_j_1303 = lbl_check_b_575
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_1205 = m_match_bool_j_1204 ? (
                                                                        var_j_1206 = rec_fail_b_566
                                                                    ) : (
                                                                        void_j_1203 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1197 = m_match_bool_j_1196 ? (
                                                                    var_j_1198 = rec_fail_b_567
                                                                ) : (
                                                                    void_j_1195 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1189 = m_match_bool_j_1188 ? (
                                                            var_j_1190 = rec_fail_b_568
                                                        ) : (
                                                            void_j_1187 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1404 = fun bj_null_j_60 -> (
                                            var_j_1306 = tt;
                                            proj_j_1307 = var_j_1306.generator;
                                            int_j_1308 = 0;
                                            appl_j_1309 = proj_j_1307 int_j_1308;
                                            right_b_551 = appl_j_1309;
                                            var_j_1310 = tt;
                                            proj_j_1311 = var_j_1310.generator;
                                            int_j_1312 = 0;
                                            appl_j_1313 = proj_j_1311 int_j_1312;
                                            left_b_550 = appl_j_1313;
                                            bool_j_1314 = false;
                                            fail_b_564 = bool_j_1314;
                                            flatten_fun_j_1323 = fun expr_b_563 -> (
                                                var_j_1315 = expr_b_563;
                                                m_match_bool_j_1317 = var_j_1315 ~ any;
                                                m_match_bool_j_1320 = var_j_1315 ~ int;
                                                m_match_cond_j_1321 = m_match_bool_j_1320 ? (
                                                        bool_j_1322 = true
                                                    ) : (
                                                        m_match_cond_j_1318 = m_match_bool_j_1317 ? (
                                                                var_j_1319 = fail_b_564
                                                            ) : (
                                                                void_j_1316 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1325 = fun bj_null_j_56 -> (
                                                input_j_1324 = input);
                                            flatten_fun_j_1327 = fun expr_b_565 -> (
                                                var_j_1326 = expr_b_565);
                                            record_j_1328 = {checker = flatten_fun_j_1323, generator = flatten_fun_j_1325, wrapper = flatten_fun_j_1327};
                                            proj_j_1329 = record_j_1328.generator;
                                            int_j_1330 = 0;
                                            appl_j_1331 = proj_j_1329 int_j_1330;
                                            item_b_549 = appl_j_1331;
                                            flatten_fun_j_1360 = fun expr_b_559 -> (
                                                bool_j_1332 = false;
                                                fail_b_557 = bool_j_1332;
                                                flatten_fun_j_1341 = fun expr_b_556 -> (
                                                    var_j_1333 = expr_b_556;
                                                    m_match_bool_j_1335 = var_j_1333 ~ any;
                                                    m_match_bool_j_1338 = var_j_1333 ~ int;
                                                    m_match_cond_j_1339 = m_match_bool_j_1338 ? (
                                                            bool_j_1340 = true
                                                        ) : (
                                                            m_match_cond_j_1336 = m_match_bool_j_1335 ? (
                                                                    var_j_1337 = fail_b_557
                                                                ) : (
                                                                    void_j_1334 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1343 = fun bj_null_j_57 -> (
                                                    input_j_1342 = input);
                                                flatten_fun_j_1345 = fun expr_b_558 -> (
                                                    var_j_1344 = expr_b_558);
                                                record_j_1346 = {checker = flatten_fun_j_1341, generator = flatten_fun_j_1343, wrapper = flatten_fun_j_1345};
                                                proj_j_1347 = record_j_1346.checker;
                                                var_j_1348 = expr_b_559;
                                                appl_j_1349 = proj_j_1347 var_j_1348;
                                                t_check_b_560 = appl_j_1349;
                                                var_j_1350 = t_check_b_560;
                                                if_j_1359 = var_j_1350 ? (
                                                        bool_j_1351 = false;
                                                        pred_check_b_561 = bool_j_1351;
                                                        var_j_1352 = is_pos;
                                                        var_j_1353 = expr_b_559;
                                                        appl_j_1354 = var_j_1352 var_j_1353;
                                                        if_j_1357 = appl_j_1354 ? (
                                                                bool_j_1355 = true
                                                            ) : (
                                                                var_j_1356 = pred_check_b_561
                                                            )
                                                    ) : (
                                                        var_j_1358 = t_check_b_560
                                                    ));
                                            flatten_fun_j_1386 = fun bj_null_j_59 -> (
                                                bool_j_1361 = false;
                                                fail_b_553 = bool_j_1361;
                                                flatten_fun_j_1370 = fun expr_b_552 -> (
                                                    var_j_1362 = expr_b_552;
                                                    m_match_bool_j_1364 = var_j_1362 ~ any;
                                                    m_match_bool_j_1367 = var_j_1362 ~ int;
                                                    m_match_cond_j_1368 = m_match_bool_j_1367 ? (
                                                            bool_j_1369 = true
                                                        ) : (
                                                            m_match_cond_j_1365 = m_match_bool_j_1364 ? (
                                                                    var_j_1366 = fail_b_553
                                                                ) : (
                                                                    void_j_1363 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1372 = fun bj_null_j_58 -> (
                                                    input_j_1371 = input);
                                                flatten_fun_j_1374 = fun expr_b_554 -> (
                                                    var_j_1373 = expr_b_554);
                                                record_j_1375 = {checker = flatten_fun_j_1370, generator = flatten_fun_j_1372, wrapper = flatten_fun_j_1374};
                                                proj_j_1376 = record_j_1375.generator;
                                                int_j_1377 = 0;
                                                appl_j_1378 = proj_j_1376 int_j_1377;
                                                candidate_b_555 = appl_j_1378;
                                                var_j_1379 = is_pos;
                                                var_j_1380 = candidate_b_555;
                                                appl_j_1381 = var_j_1379 var_j_1380;
                                                if_j_1385 = appl_j_1381 ? (
                                                        var_j_1382 = candidate_b_555
                                                    ) : (
                                                        bool_j_1383 = false;
                                                        assume_j_1384 = assume bool_j_1383
                                                    ));
                                            flatten_fun_j_1388 = fun expr_b_562 -> (
                                                var_j_1387 = expr_b_562);
                                            record_j_1389 = {checker = flatten_fun_j_1360, generator = flatten_fun_j_1386, wrapper = flatten_fun_j_1388};
                                            proj_j_1390 = record_j_1389.generator;
                                            int_j_1391 = 0;
                                            appl_j_1392 = proj_j_1390 int_j_1391;
                                            height_b_548 = appl_j_1392;
                                            var_j_1393 = height_b_548;
                                            var_j_1394 = item_b_549;
                                            var_j_1395 = left_b_550;
                                            var_j_1396 = right_b_551;
                                            record_j_1397 = {height = var_j_1393, item = var_j_1394, left = var_j_1395, right = var_j_1396};
                                            record_j_1398 = {};
                                            record_j_1399 = {};
                                            record_j_1400 = {};
                                            record_j_1401 = {};
                                            record_j_1402 = {height = record_j_1398, item = record_j_1399, left = record_j_1400, right = record_j_1401};
                                            record_j_1403 = {bj_actual_rec = record_j_1397, bj_decl_lbls = record_j_1402});
                                        flatten_fun_j_1406 = fun expr_b_587 -> (
                                            var_j_1405 = expr_b_587);
                                        record_j_1407 = {checker = flatten_fun_j_1305, generator = flatten_fun_j_1404, wrapper = flatten_fun_j_1406};
                                        proj_j_1408 = record_j_1407.checker;
                                        var_j_1409 = expr_b_588;
                                        appl_j_1410 = proj_j_1408 var_j_1409;
                                        t_check_b_589 = appl_j_1410;
                                        var_j_1411 = t_check_b_589;
                                        if_j_1475 = var_j_1411 ? (
                                                bool_j_1412 = false;
                                                pred_check_b_590 = bool_j_1412;
                                                flatten_fun_j_1468 = fun t_j_61 -> (
                                                    var_j_1413 = t_j_61;
                                                    proj_j_1414 = var_j_1413.bj_decl_lbls;
                                                    m_match_bool_j_1416 = proj_j_1414 ~ any;
                                                    m_match_bool_j_1423 = proj_j_1414 ~ 
                                                        {height, _};
                                                    m_match_cond_j_1424 = m_match_bool_j_1423 ? (
                                                            var_j_1425 = t_j_61;
                                                            proj_j_1426 = var_j_1425.bj_actual_rec;
                                                            proj_j_1427 = proj_j_1426.height
                                                        ) : (
                                                            m_match_cond_j_1417 = m_match_bool_j_1416 ? (
                                                                    bool_j_1418 = false;
                                                                    assert_pred_j_1419 = bool_j_1418;
                                                                    assert_res_j_1420 = assert_pred_j_1419 ? (
                                                                        assert_res_true_j_1421 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1422 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1415 = 
                                                                    {}
                                                                )
                                                        );
                                                    var_j_1428 = max;
                                                    var_j_1429 = height_j_356_j_401;
                                                    var_j_1430 = t_j_61;
                                                    proj_j_1431 = var_j_1430.bj_decl_lbls;
                                                    m_match_bool_j_1433 = proj_j_1431 ~ any;
                                                    m_match_bool_j_1440 = proj_j_1431 ~ 
                                                        {left, _};
                                                    m_match_cond_j_1441 = m_match_bool_j_1440 ? (
                                                            var_j_1442 = t_j_61;
                                                            proj_j_1443 = var_j_1442.bj_actual_rec;
                                                            proj_j_1444 = proj_j_1443.left
                                                        ) : (
                                                            m_match_cond_j_1434 = m_match_bool_j_1433 ? (
                                                                    bool_j_1435 = false;
                                                                    assert_pred_j_1436 = bool_j_1435;
                                                                    assert_res_j_1437 = assert_pred_j_1436 ? (
                                                                        assert_res_true_j_1438 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1439 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1432 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5721 = var_j_1429 ~ fun;
                                                    appl_j_1445 = m_i_5721 ? (
                                                            c_appl_i_5722 = var_j_1429 m_match_cond_j_1441
                                                        ) : (
                                                            ab_i_5723 = abort
                                                        );
                                                    m_i_5724 = var_j_1428 ~ fun;
                                                    appl_j_1446 = m_i_5724 ? (
                                                            c_appl_i_5725 = var_j_1428 appl_j_1445
                                                        ) : (
                                                            ab_i_5726 = abort
                                                        );
                                                    var_j_1447 = height_j_356_j_401;
                                                    var_j_1448 = t_j_61;
                                                    proj_j_1449 = var_j_1448.bj_decl_lbls;
                                                    m_match_bool_j_1451 = proj_j_1449 ~ any;
                                                    m_match_bool_j_1458 = proj_j_1449 ~ 
                                                        {right, _};
                                                    m_match_cond_j_1459 = m_match_bool_j_1458 ? (
                                                            var_j_1460 = t_j_61;
                                                            proj_j_1461 = var_j_1460.bj_actual_rec;
                                                            proj_j_1462 = proj_j_1461.right
                                                        ) : (
                                                            m_match_cond_j_1452 = m_match_bool_j_1451 ? (
                                                                    bool_j_1453 = false;
                                                                    assert_pred_j_1454 = bool_j_1453;
                                                                    assert_res_j_1455 = assert_pred_j_1454 ? (
                                                                        assert_res_true_j_1456 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1457 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1450 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5727 = var_j_1447 ~ fun;
                                                    appl_j_1463 = m_i_5727 ? (
                                                            c_appl_i_5728 = var_j_1447 m_match_cond_j_1459
                                                        ) : (
                                                            ab_i_5729 = abort
                                                        );
                                                    m_i_5730 = appl_j_1446 ~ fun;
                                                    appl_j_1464 = m_i_5730 ? (
                                                            c_appl_i_5731 = appl_j_1446 appl_j_1463
                                                        ) : (
                                                            ab_i_5732 = abort
                                                        );
                                                    int_j_1465 = 1;
                                                    m_bl_i_5733 = appl_j_1464 ~ int;
                                                    m_br_i_5734 = int_j_1465 ~ int;
                                                    m_b_i_5735 = m_bl_i_5733 and m_br_i_5734;
                                                    binop_j_1466 = m_b_i_5735 ? (
                                                            c_binop_i_5736 = appl_j_1464 + int_j_1465
                                                        ) : (
                                                            ab_i_5737 = abort
                                                        );
                                                    m_bl_i_5738 = m_match_cond_j_1424 ~ int;
                                                    m_br_i_5739 = binop_j_1466 ~ int;
                                                    m_b_i_5740 = m_bl_i_5738 and m_br_i_5739;
                                                    binop_j_1467 = m_b_i_5740 ? (
                                                            c_binop_i_5741 = m_match_cond_j_1424 == binop_j_1466
                                                        ) : (
                                                            ab_i_5742 = abort
                                                        ));
                                                var_j_1469 = expr_b_588;
                                                appl_j_1470 = flatten_fun_j_1468 var_j_1469;
                                                if_j_1473 = appl_j_1470 ? (
                                                        bool_j_1471 = true
                                                    ) : (
                                                        var_j_1472 = pred_check_b_590
                                                    )
                                            ) : (
                                                var_j_1474 = t_check_b_589
                                            ));
                                    flatten_fun_j_1767 = fun bj_null_j_80 -> (
                                        flatten_fun_j_1599 = fun expr_b_528 -> (
                                            bool_j_1477 = false;
                                            rec_fail_b_527 = bool_j_1477;
                                            bool_j_1478 = false;
                                            rec_fail_b_526 = bool_j_1478;
                                            bool_j_1479 = false;
                                            rec_fail_b_525 = bool_j_1479;
                                            var_j_1480 = expr_b_528;
                                            m_match_bool_j_1482 = var_j_1480 ~ any;
                                            m_match_bool_j_1485 = var_j_1480 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_1486 = m_match_bool_j_1485 ? (
                                                    var_j_1487 = expr_b_528;
                                                    proj_j_1488 = var_j_1487.bj_decl_lbls;
                                                    m_match_bool_j_1490 = proj_j_1488 ~ any;
                                                    m_match_bool_j_1493 = proj_j_1488 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1494 = m_match_bool_j_1493 ? (
                                                            height_j_73 = proj_j_1488.height;
                                                            item_j_72 = proj_j_1488.item;
                                                            left_j_71 = proj_j_1488.left;
                                                            right_j_70 = proj_j_1488.right;
                                                            var_j_1495 = expr_b_528;
                                                            proj_j_1496 = var_j_1495.bj_actual_rec;
                                                            m_match_bool_j_1498 = proj_j_1496 ~ any;
                                                            m_match_bool_j_1501 = proj_j_1496 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_1502 = m_match_bool_j_1501 ? (
                                                                    height_j_69 = proj_j_1496.height;
                                                                    item_j_68 = proj_j_1496.item;
                                                                    left_j_67 = proj_j_1496.left;
                                                                    right_j_66 = proj_j_1496.right;
                                                                    flatten_fun_j_1531 = fun expr_b_542 -> (
                                                                    bool_j_1503 = false;
                                                                    fail_b_540 = bool_j_1503;
                                                                    flatten_fun_j_1512 = fun expr_b_539 -> (
                                                                    var_j_1504 = expr_b_539;
                                                                    m_match_bool_j_1506 = var_j_1504 ~ any;
                                                                    m_match_bool_j_1509 = var_j_1504 ~ int;
                                                                    m_match_cond_j_1510 = m_match_bool_j_1509 ? (
                                                                        bool_j_1511 = true
                                                                    ) : (
                                                                        m_match_cond_j_1507 = m_match_bool_j_1506 ? (
                                                                        var_j_1508 = fail_b_540
                                                                    ) : (
                                                                        void_j_1505 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1514 = fun bj_null_j_62 -> (
                                                                    input_j_1513 = input);
                                                                    flatten_fun_j_1516 = fun expr_b_541 -> (
                                                                    var_j_1515 = expr_b_541);
                                                                    record_j_1517 = 
                                                                    {checker = flatten_fun_j_1512, generator = flatten_fun_j_1514, wrapper = flatten_fun_j_1516};
                                                                    proj_j_1518 = record_j_1517.checker;
                                                                    var_j_1519 = expr_b_542;
                                                                    appl_j_1520 = proj_j_1518 var_j_1519;
                                                                    t_check_b_543 = appl_j_1520;
                                                                    var_j_1521 = t_check_b_543;
                                                                    if_j_1530 = var_j_1521 ? (
                                                                        bool_j_1522 = false;
                                                                    pred_check_b_544 = bool_j_1522;
                                                                    var_j_1523 = is_pos;
                                                                    var_j_1524 = expr_b_542;
                                                                    appl_j_1525 = var_j_1523 var_j_1524;
                                                                    if_j_1528 = appl_j_1525 ? (
                                                                        bool_j_1526 = true
                                                                    ) : (
                                                                        var_j_1527 = pred_check_b_544
                                                                    )
                                                                    ) : (
                                                                        var_j_1529 = t_check_b_543
                                                                    ));
                                                                    flatten_fun_j_1557 = fun bj_null_j_64 -> (
                                                                    bool_j_1532 = false;
                                                                    fail_b_536 = bool_j_1532;
                                                                    flatten_fun_j_1541 = fun expr_b_535 -> (
                                                                    var_j_1533 = expr_b_535;
                                                                    m_match_bool_j_1535 = var_j_1533 ~ any;
                                                                    m_match_bool_j_1538 = var_j_1533 ~ int;
                                                                    m_match_cond_j_1539 = m_match_bool_j_1538 ? (
                                                                        bool_j_1540 = true
                                                                    ) : (
                                                                        m_match_cond_j_1536 = m_match_bool_j_1535 ? (
                                                                        var_j_1537 = fail_b_536
                                                                    ) : (
                                                                        void_j_1534 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1543 = fun bj_null_j_63 -> (
                                                                    input_j_1542 = input);
                                                                    flatten_fun_j_1545 = fun expr_b_537 -> (
                                                                    var_j_1544 = expr_b_537);
                                                                    record_j_1546 = 
                                                                    {checker = flatten_fun_j_1541, generator = flatten_fun_j_1543, wrapper = flatten_fun_j_1545};
                                                                    proj_j_1547 = record_j_1546.generator;
                                                                    int_j_1548 = 0;
                                                                    appl_j_1549 = proj_j_1547 int_j_1548;
                                                                    candidate_b_538 = appl_j_1549;
                                                                    var_j_1550 = is_pos;
                                                                    var_j_1551 = candidate_b_538;
                                                                    appl_j_1552 = var_j_1550 var_j_1551;
                                                                    if_j_1556 = appl_j_1552 ? (
                                                                        var_j_1553 = candidate_b_538
                                                                    ) : (
                                                                        bool_j_1554 = false;
                                                                    assume_j_1555 = assume bool_j_1554
                                                                    ));
                                                                    flatten_fun_j_1559 = fun expr_b_545 -> (
                                                                    var_j_1558 = expr_b_545);
                                                                    record_j_1560 = 
                                                                    {checker = flatten_fun_j_1531, generator = flatten_fun_j_1557, wrapper = flatten_fun_j_1559};
                                                                    proj_j_1561 = record_j_1560.checker;
                                                                    var_j_1562 = height_j_69;
                                                                    appl_j_1563 = proj_j_1561 var_j_1562;
                                                                    lbl_check_b_534 = appl_j_1563;
                                                                    var_j_1564 = lbl_check_b_534;
                                                                    if_j_1598 = var_j_1564 ? (
                                                                        bool_j_1565 = false;
                                                                    fail_b_532 = bool_j_1565;
                                                                    flatten_fun_j_1574 = fun expr_b_531 -> (
                                                                    var_j_1566 = expr_b_531;
                                                                    m_match_bool_j_1568 = var_j_1566 ~ any;
                                                                    m_match_bool_j_1571 = var_j_1566 ~ int;
                                                                    m_match_cond_j_1572 = m_match_bool_j_1571 ? (
                                                                        bool_j_1573 = true
                                                                    ) : (
                                                                        m_match_cond_j_1569 = m_match_bool_j_1568 ? (
                                                                        var_j_1570 = fail_b_532
                                                                    ) : (
                                                                        void_j_1567 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1576 = fun bj_null_j_65 -> (
                                                                    input_j_1575 = input);
                                                                    flatten_fun_j_1578 = fun expr_b_533 -> (
                                                                    var_j_1577 = expr_b_533);
                                                                    record_j_1579 = 
                                                                    {checker = flatten_fun_j_1574, generator = flatten_fun_j_1576, wrapper = flatten_fun_j_1578};
                                                                    proj_j_1580 = record_j_1579.checker;
                                                                    var_j_1581 = item_j_68;
                                                                    appl_j_1582 = proj_j_1580 var_j_1581;
                                                                    lbl_check_b_530 = appl_j_1582;
                                                                    var_j_1583 = lbl_check_b_530;
                                                                    if_j_1596 = var_j_1583 ? (
                                                                        var_j_1584 = tt;
                                                                    proj_j_1585 = var_j_1584.checker;
                                                                    var_j_1586 = left_j_67;
                                                                    appl_j_1587 = proj_j_1585 var_j_1586;
                                                                    lbl_check_b_529 = appl_j_1587;
                                                                    var_j_1588 = lbl_check_b_529;
                                                                    if_j_1594 = var_j_1588 ? (
                                                                        var_j_1589 = tt;
                                                                    proj_j_1590 = var_j_1589.checker;
                                                                    var_j_1591 = right_j_66;
                                                                    appl_j_1592 = proj_j_1590 var_j_1591
                                                                    ) : (
                                                                        var_j_1593 = lbl_check_b_529
                                                                    )
                                                                    ) : (
                                                                        var_j_1595 = lbl_check_b_530
                                                                    )
                                                                    ) : (
                                                                        var_j_1597 = lbl_check_b_534
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_1499 = m_match_bool_j_1498 ? (
                                                                        var_j_1500 = rec_fail_b_525
                                                                    ) : (
                                                                        void_j_1497 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1491 = m_match_bool_j_1490 ? (
                                                                    var_j_1492 = rec_fail_b_526
                                                                ) : (
                                                                    void_j_1489 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1483 = m_match_bool_j_1482 ? (
                                                            var_j_1484 = rec_fail_b_527
                                                        ) : (
                                                            void_j_1481 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1698 = fun bj_null_j_78 -> (
                                            var_j_1600 = tt;
                                            proj_j_1601 = var_j_1600.generator;
                                            int_j_1602 = 0;
                                            appl_j_1603 = proj_j_1601 int_j_1602;
                                            right_b_510 = appl_j_1603;
                                            var_j_1604 = tt;
                                            proj_j_1605 = var_j_1604.generator;
                                            int_j_1606 = 0;
                                            appl_j_1607 = proj_j_1605 int_j_1606;
                                            left_b_509 = appl_j_1607;
                                            bool_j_1608 = false;
                                            fail_b_523 = bool_j_1608;
                                            flatten_fun_j_1617 = fun expr_b_522 -> (
                                                var_j_1609 = expr_b_522;
                                                m_match_bool_j_1611 = var_j_1609 ~ any;
                                                m_match_bool_j_1614 = var_j_1609 ~ int;
                                                m_match_cond_j_1615 = m_match_bool_j_1614 ? (
                                                        bool_j_1616 = true
                                                    ) : (
                                                        m_match_cond_j_1612 = m_match_bool_j_1611 ? (
                                                                var_j_1613 = fail_b_523
                                                            ) : (
                                                                void_j_1610 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1619 = fun bj_null_j_74 -> (
                                                input_j_1618 = input);
                                            flatten_fun_j_1621 = fun expr_b_524 -> (
                                                var_j_1620 = expr_b_524);
                                            record_j_1622 = {checker = flatten_fun_j_1617, generator = flatten_fun_j_1619, wrapper = flatten_fun_j_1621};
                                            proj_j_1623 = record_j_1622.generator;
                                            int_j_1624 = 0;
                                            appl_j_1625 = proj_j_1623 int_j_1624;
                                            item_b_508 = appl_j_1625;
                                            flatten_fun_j_1654 = fun expr_b_518 -> (
                                                bool_j_1626 = false;
                                                fail_b_516 = bool_j_1626;
                                                flatten_fun_j_1635 = fun expr_b_515 -> (
                                                    var_j_1627 = expr_b_515;
                                                    m_match_bool_j_1629 = var_j_1627 ~ any;
                                                    m_match_bool_j_1632 = var_j_1627 ~ int;
                                                    m_match_cond_j_1633 = m_match_bool_j_1632 ? (
                                                            bool_j_1634 = true
                                                        ) : (
                                                            m_match_cond_j_1630 = m_match_bool_j_1629 ? (
                                                                    var_j_1631 = fail_b_516
                                                                ) : (
                                                                    void_j_1628 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1637 = fun bj_null_j_75 -> (
                                                    input_j_1636 = input);
                                                flatten_fun_j_1639 = fun expr_b_517 -> (
                                                    var_j_1638 = expr_b_517);
                                                record_j_1640 = {checker = flatten_fun_j_1635, generator = flatten_fun_j_1637, wrapper = flatten_fun_j_1639};
                                                proj_j_1641 = record_j_1640.checker;
                                                var_j_1642 = expr_b_518;
                                                appl_j_1643 = proj_j_1641 var_j_1642;
                                                t_check_b_519 = appl_j_1643;
                                                var_j_1644 = t_check_b_519;
                                                if_j_1653 = var_j_1644 ? (
                                                        bool_j_1645 = false;
                                                        pred_check_b_520 = bool_j_1645;
                                                        var_j_1646 = is_pos;
                                                        var_j_1647 = expr_b_518;
                                                        appl_j_1648 = var_j_1646 var_j_1647;
                                                        if_j_1651 = appl_j_1648 ? (
                                                                bool_j_1649 = true
                                                            ) : (
                                                                var_j_1650 = pred_check_b_520
                                                            )
                                                    ) : (
                                                        var_j_1652 = t_check_b_519
                                                    ));
                                            flatten_fun_j_1680 = fun bj_null_j_77 -> (
                                                bool_j_1655 = false;
                                                fail_b_512 = bool_j_1655;
                                                flatten_fun_j_1664 = fun expr_b_511 -> (
                                                    var_j_1656 = expr_b_511;
                                                    m_match_bool_j_1658 = var_j_1656 ~ any;
                                                    m_match_bool_j_1661 = var_j_1656 ~ int;
                                                    m_match_cond_j_1662 = m_match_bool_j_1661 ? (
                                                            bool_j_1663 = true
                                                        ) : (
                                                            m_match_cond_j_1659 = m_match_bool_j_1658 ? (
                                                                    var_j_1660 = fail_b_512
                                                                ) : (
                                                                    void_j_1657 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1666 = fun bj_null_j_76 -> (
                                                    input_j_1665 = input);
                                                flatten_fun_j_1668 = fun expr_b_513 -> (
                                                    var_j_1667 = expr_b_513);
                                                record_j_1669 = {checker = flatten_fun_j_1664, generator = flatten_fun_j_1666, wrapper = flatten_fun_j_1668};
                                                proj_j_1670 = record_j_1669.generator;
                                                int_j_1671 = 0;
                                                appl_j_1672 = proj_j_1670 int_j_1671;
                                                candidate_b_514 = appl_j_1672;
                                                var_j_1673 = is_pos;
                                                var_j_1674 = candidate_b_514;
                                                appl_j_1675 = var_j_1673 var_j_1674;
                                                if_j_1679 = appl_j_1675 ? (
                                                        var_j_1676 = candidate_b_514
                                                    ) : (
                                                        bool_j_1677 = false;
                                                        assume_j_1678 = assume bool_j_1677
                                                    ));
                                            flatten_fun_j_1682 = fun expr_b_521 -> (
                                                var_j_1681 = expr_b_521);
                                            record_j_1683 = {checker = flatten_fun_j_1654, generator = flatten_fun_j_1680, wrapper = flatten_fun_j_1682};
                                            proj_j_1684 = record_j_1683.generator;
                                            int_j_1685 = 0;
                                            appl_j_1686 = proj_j_1684 int_j_1685;
                                            height_b_507 = appl_j_1686;
                                            var_j_1687 = height_b_507;
                                            var_j_1688 = item_b_508;
                                            var_j_1689 = left_b_509;
                                            var_j_1690 = right_b_510;
                                            record_j_1691 = {height = var_j_1687, item = var_j_1688, left = var_j_1689, right = var_j_1690};
                                            record_j_1692 = {};
                                            record_j_1693 = {};
                                            record_j_1694 = {};
                                            record_j_1695 = {};
                                            record_j_1696 = {height = record_j_1692, item = record_j_1693, left = record_j_1694, right = record_j_1695};
                                            record_j_1697 = {bj_actual_rec = record_j_1691, bj_decl_lbls = record_j_1696});
                                        flatten_fun_j_1700 = fun expr_b_546 -> (
                                            var_j_1699 = expr_b_546);
                                        record_j_1701 = {checker = flatten_fun_j_1599, generator = flatten_fun_j_1698, wrapper = flatten_fun_j_1700};
                                        proj_j_1702 = record_j_1701.generator;
                                        int_j_1703 = 0;
                                        appl_j_1704 = proj_j_1702 int_j_1703;
                                        candidate_b_547 = appl_j_1704;
                                        flatten_fun_j_1760 = fun t_j_79 -> (
                                            var_j_1705 = t_j_79;
                                            proj_j_1706 = var_j_1705.bj_decl_lbls;
                                            m_match_bool_j_1708 = proj_j_1706 ~ any;
                                            m_match_bool_j_1715 = proj_j_1706 ~ 
                                                {height, _};
                                            m_match_cond_j_1716 = m_match_bool_j_1715 ? (
                                                    var_j_1717 = t_j_79;
                                                    proj_j_1718 = var_j_1717.bj_actual_rec;
                                                    proj_j_1719 = proj_j_1718.height
                                                ) : (
                                                    m_match_cond_j_1709 = m_match_bool_j_1708 ? (
                                                            bool_j_1710 = false;
                                                            assert_pred_j_1711 = bool_j_1710;
                                                            assert_res_j_1712 = assert_pred_j_1711 ? (
                                                                    assert_res_true_j_1713 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1714 = abort
                                                                )
                                                        ) : (
                                                            void_j_1707 = 
                                                                {}
                                                        )
                                                );
                                            var_j_1720 = max;
                                            var_j_1721 = height_j_356_j_401;
                                            var_j_1722 = t_j_79;
                                            proj_j_1723 = var_j_1722.bj_decl_lbls;
                                            m_match_bool_j_1725 = proj_j_1723 ~ any;
                                            m_match_bool_j_1732 = proj_j_1723 ~ 
                                                {left, _};
                                            m_match_cond_j_1733 = m_match_bool_j_1732 ? (
                                                    var_j_1734 = t_j_79;
                                                    proj_j_1735 = var_j_1734.bj_actual_rec;
                                                    proj_j_1736 = proj_j_1735.left
                                                ) : (
                                                    m_match_cond_j_1726 = m_match_bool_j_1725 ? (
                                                            bool_j_1727 = false;
                                                            assert_pred_j_1728 = bool_j_1727;
                                                            assert_res_j_1729 = assert_pred_j_1728 ? (
                                                                    assert_res_true_j_1730 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1731 = abort
                                                                )
                                                        ) : (
                                                            void_j_1724 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5743 = var_j_1721 ~ fun;
                                            appl_j_1737 = m_i_5743 ? (
                                                    c_appl_i_5744 = var_j_1721 m_match_cond_j_1733
                                                ) : (
                                                    ab_i_5745 = abort
                                                );
                                            m_i_5746 = var_j_1720 ~ fun;
                                            appl_j_1738 = m_i_5746 ? (
                                                    c_appl_i_5747 = var_j_1720 appl_j_1737
                                                ) : (
                                                    ab_i_5748 = abort
                                                );
                                            var_j_1739 = height_j_356_j_401;
                                            var_j_1740 = t_j_79;
                                            proj_j_1741 = var_j_1740.bj_decl_lbls;
                                            m_match_bool_j_1743 = proj_j_1741 ~ any;
                                            m_match_bool_j_1750 = proj_j_1741 ~ 
                                                {right, _};
                                            m_match_cond_j_1751 = m_match_bool_j_1750 ? (
                                                    var_j_1752 = t_j_79;
                                                    proj_j_1753 = var_j_1752.bj_actual_rec;
                                                    proj_j_1754 = proj_j_1753.right
                                                ) : (
                                                    m_match_cond_j_1744 = m_match_bool_j_1743 ? (
                                                            bool_j_1745 = false;
                                                            assert_pred_j_1746 = bool_j_1745;
                                                            assert_res_j_1747 = assert_pred_j_1746 ? (
                                                                    assert_res_true_j_1748 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1749 = abort
                                                                )
                                                        ) : (
                                                            void_j_1742 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5749 = var_j_1739 ~ fun;
                                            appl_j_1755 = m_i_5749 ? (
                                                    c_appl_i_5750 = var_j_1739 m_match_cond_j_1751
                                                ) : (
                                                    ab_i_5751 = abort
                                                );
                                            m_i_5752 = appl_j_1738 ~ fun;
                                            appl_j_1756 = m_i_5752 ? (
                                                    c_appl_i_5753 = appl_j_1738 appl_j_1755
                                                ) : (
                                                    ab_i_5754 = abort
                                                );
                                            int_j_1757 = 1;
                                            m_bl_i_5755 = appl_j_1756 ~ int;
                                            m_br_i_5756 = int_j_1757 ~ int;
                                            m_b_i_5757 = m_bl_i_5755 and m_br_i_5756;
                                            binop_j_1758 = m_b_i_5757 ? (
                                                    c_binop_i_5758 = appl_j_1756 + int_j_1757
                                                ) : (
                                                    ab_i_5759 = abort
                                                );
                                            m_bl_i_5760 = m_match_cond_j_1716 ~ int;
                                            m_br_i_5761 = binop_j_1758 ~ int;
                                            m_b_i_5762 = m_bl_i_5760 and m_br_i_5761;
                                            binop_j_1759 = m_b_i_5762 ? (
                                                    c_binop_i_5763 = m_match_cond_j_1716 == binop_j_1758
                                                ) : (
                                                    ab_i_5764 = abort
                                                ));
                                        var_j_1761 = candidate_b_547;
                                        appl_j_1762 = flatten_fun_j_1760 var_j_1761;
                                        if_j_1766 = appl_j_1762 ? (
                                                var_j_1763 = candidate_b_547
                                            ) : (
                                                bool_j_1764 = false;
                                                assume_j_1765 = assume bool_j_1764
                                            ));
                                    flatten_fun_j_1769 = fun expr_b_591 -> (
                                        var_j_1768 = expr_b_591);
                                    record_j_1770 = {checker = flatten_fun_j_1476, generator = flatten_fun_j_1767, wrapper = flatten_fun_j_1769};
                                    proj_j_1771 = record_j_1770.checker;
                                    var_j_1772 = expr_b_604;
                                    appl_j_1773 = proj_j_1771 var_j_1772;
                                    if_j_1776 = appl_j_1773 ? (
                                            bool_j_1774 = true
                                        ) : (
                                            var_j_1775 = fail_b_606
                                        )
                                )
                        ));
                flatten_fun_j_2455 = fun bj_null_j_123 -> (
                    input_j_1780 = input;
                    select_int_b_409 = input_j_1780;
                    int_j_1781 = 0;
                    var_j_1782 = select_int_b_409;
                    binop_j_1783 = int_j_1781 <= var_j_1782;
                    if_j_2454 = binop_j_1783 ? (
                            flatten_fun_j_2077 = fun expr_b_393 -> (
                                flatten_fun_j_1906 = fun expr_b_374 -> (
                                    bool_j_1784 = false;
                                    rec_fail_b_373 = bool_j_1784;
                                    bool_j_1785 = false;
                                    rec_fail_b_372 = bool_j_1785;
                                    bool_j_1786 = false;
                                    rec_fail_b_371 = bool_j_1786;
                                    var_j_1787 = expr_b_374;
                                    m_match_bool_j_1789 = var_j_1787 ~ any;
                                    m_match_bool_j_1792 = var_j_1787 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_1793 = m_match_bool_j_1792 ? (
                                            var_j_1794 = expr_b_374;
                                            proj_j_1795 = var_j_1794.bj_decl_lbls;
                                            m_match_bool_j_1797 = proj_j_1795 ~ any;
                                            m_match_bool_j_1800 = proj_j_1795 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_1801 = m_match_bool_j_1800 ? (
                                                    height_j_92 = proj_j_1795.height;
                                                    item_j_91 = proj_j_1795.item;
                                                    left_j_90 = proj_j_1795.left;
                                                    right_j_89 = proj_j_1795.right;
                                                    var_j_1802 = expr_b_374;
                                                    proj_j_1803 = var_j_1802.bj_actual_rec;
                                                    m_match_bool_j_1805 = proj_j_1803 ~ any;
                                                    m_match_bool_j_1808 = proj_j_1803 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1809 = m_match_bool_j_1808 ? (
                                                            height_j_88 = proj_j_1803.height;
                                                            item_j_87 = proj_j_1803.item;
                                                            left_j_86 = proj_j_1803.left;
                                                            right_j_85 = proj_j_1803.right;
                                                            flatten_fun_j_1838 = fun expr_b_388 -> (
                                                                bool_j_1810 = false;
                                                                fail_b_386 = bool_j_1810;
                                                                flatten_fun_j_1819 = fun expr_b_385 -> (
                                                                    var_j_1811 = expr_b_385;
                                                                    m_match_bool_j_1813 = var_j_1811 ~ any;
                                                                    m_match_bool_j_1816 = var_j_1811 ~ int;
                                                                    m_match_cond_j_1817 = m_match_bool_j_1816 ? (
                                                                        bool_j_1818 = true
                                                                    ) : (
                                                                        m_match_cond_j_1814 = m_match_bool_j_1813 ? (
                                                                        var_j_1815 = fail_b_386
                                                                    ) : (
                                                                        void_j_1812 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1821 = fun bj_null_j_81 -> (
                                                                    input_j_1820 = input);
                                                                flatten_fun_j_1823 = fun expr_b_387 -> (
                                                                    var_j_1822 = expr_b_387);
                                                                record_j_1824 = 
                                                                    {checker = flatten_fun_j_1819, generator = flatten_fun_j_1821, wrapper = flatten_fun_j_1823};
                                                                proj_j_1825 = record_j_1824.checker;
                                                                var_j_1826 = expr_b_388;
                                                                appl_j_1827 = proj_j_1825 var_j_1826;
                                                                t_check_b_389 = appl_j_1827;
                                                                var_j_1828 = t_check_b_389;
                                                                if_j_1837 = var_j_1828 ? (
                                                                        
                                                                    bool_j_1829 = false;
                                                                    pred_check_b_390 = bool_j_1829;
                                                                    var_j_1830 = is_pos;
                                                                    var_j_1831 = expr_b_388;
                                                                    appl_j_1832 = var_j_1830 var_j_1831;
                                                                    if_j_1835 = appl_j_1832 ? (
                                                                        bool_j_1833 = true
                                                                    ) : (
                                                                        var_j_1834 = pred_check_b_390
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1836 = t_check_b_389
                                                                    ));
                                                            flatten_fun_j_1864 = fun bj_null_j_83 -> (
                                                                bool_j_1839 = false;
                                                                fail_b_382 = bool_j_1839;
                                                                flatten_fun_j_1848 = fun expr_b_381 -> (
                                                                    var_j_1840 = expr_b_381;
                                                                    m_match_bool_j_1842 = var_j_1840 ~ any;
                                                                    m_match_bool_j_1845 = var_j_1840 ~ int;
                                                                    m_match_cond_j_1846 = m_match_bool_j_1845 ? (
                                                                        bool_j_1847 = true
                                                                    ) : (
                                                                        m_match_cond_j_1843 = m_match_bool_j_1842 ? (
                                                                        var_j_1844 = fail_b_382
                                                                    ) : (
                                                                        void_j_1841 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1850 = fun bj_null_j_82 -> (
                                                                    input_j_1849 = input);
                                                                flatten_fun_j_1852 = fun expr_b_383 -> (
                                                                    var_j_1851 = expr_b_383);
                                                                record_j_1853 = 
                                                                    {checker = flatten_fun_j_1848, generator = flatten_fun_j_1850, wrapper = flatten_fun_j_1852};
                                                                proj_j_1854 = record_j_1853.generator;
                                                                int_j_1855 = 0;
                                                                appl_j_1856 = proj_j_1854 int_j_1855;
                                                                candidate_b_384 = appl_j_1856;
                                                                var_j_1857 = is_pos;
                                                                var_j_1858 = candidate_b_384;
                                                                appl_j_1859 = var_j_1857 var_j_1858;
                                                                if_j_1863 = appl_j_1859 ? (
                                                                        
                                                                    var_j_1860 = candidate_b_384
                                                                    ) : (
                                                                        
                                                                    bool_j_1861 = false;
                                                                    assume_j_1862 = assume bool_j_1861
                                                                    ));
                                                            flatten_fun_j_1866 = fun expr_b_391 -> (
                                                                var_j_1865 = expr_b_391);
                                                            record_j_1867 = 
                                                                {checker = flatten_fun_j_1838, generator = flatten_fun_j_1864, wrapper = flatten_fun_j_1866};
                                                            proj_j_1868 = record_j_1867.checker;
                                                            var_j_1869 = height_j_88;
                                                            appl_j_1870 = proj_j_1868 var_j_1869;
                                                            lbl_check_b_380 = appl_j_1870;
                                                            var_j_1871 = lbl_check_b_380;
                                                            if_j_1905 = var_j_1871 ? (
                                                                    bool_j_1872 = false;
                                                                    fail_b_378 = bool_j_1872;
                                                                    flatten_fun_j_1881 = fun expr_b_377 -> (
                                                                    var_j_1873 = expr_b_377;
                                                                    m_match_bool_j_1875 = var_j_1873 ~ any;
                                                                    m_match_bool_j_1878 = var_j_1873 ~ int;
                                                                    m_match_cond_j_1879 = m_match_bool_j_1878 ? (
                                                                        bool_j_1880 = true
                                                                    ) : (
                                                                        m_match_cond_j_1876 = m_match_bool_j_1875 ? (
                                                                        var_j_1877 = fail_b_378
                                                                    ) : (
                                                                        void_j_1874 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1883 = fun bj_null_j_84 -> (
                                                                    input_j_1882 = input);
                                                                    flatten_fun_j_1885 = fun expr_b_379 -> (
                                                                    var_j_1884 = expr_b_379);
                                                                    record_j_1886 = 
                                                                    {checker = flatten_fun_j_1881, generator = flatten_fun_j_1883, wrapper = flatten_fun_j_1885};
                                                                    proj_j_1887 = record_j_1886.checker;
                                                                    var_j_1888 = item_j_87;
                                                                    appl_j_1889 = proj_j_1887 var_j_1888;
                                                                    lbl_check_b_376 = appl_j_1889;
                                                                    var_j_1890 = lbl_check_b_376;
                                                                    if_j_1903 = var_j_1890 ? (
                                                                        var_j_1891 = tt;
                                                                    proj_j_1892 = var_j_1891.checker;
                                                                    var_j_1893 = left_j_86;
                                                                    appl_j_1894 = proj_j_1892 var_j_1893;
                                                                    lbl_check_b_375 = appl_j_1894;
                                                                    var_j_1895 = lbl_check_b_375;
                                                                    if_j_1901 = var_j_1895 ? (
                                                                        var_j_1896 = tt;
                                                                    proj_j_1897 = var_j_1896.checker;
                                                                    var_j_1898 = right_j_85;
                                                                    appl_j_1899 = proj_j_1897 var_j_1898
                                                                    ) : (
                                                                        var_j_1900 = lbl_check_b_375
                                                                    )
                                                                    ) : (
                                                                        var_j_1902 = lbl_check_b_376
                                                                    )
                                                                ) : (
                                                                    var_j_1904 = lbl_check_b_380
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1806 = m_match_bool_j_1805 ? (
                                                                    var_j_1807 = rec_fail_b_371
                                                                ) : (
                                                                    void_j_1804 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1798 = m_match_bool_j_1797 ? (
                                                            var_j_1799 = rec_fail_b_372
                                                        ) : (
                                                            void_j_1796 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_1790 = m_match_bool_j_1789 ? (
                                                    var_j_1791 = rec_fail_b_373
                                                ) : (
                                                    void_j_1788 = {}
                                                )
                                        ));
                                flatten_fun_j_2005 = fun bj_null_j_97 -> (
                                    var_j_1907 = tt;
                                    proj_j_1908 = var_j_1907.generator;
                                    int_j_1909 = 0;
                                    appl_j_1910 = proj_j_1908 int_j_1909;
                                    right_b_356 = appl_j_1910;
                                    var_j_1911 = tt;
                                    proj_j_1912 = var_j_1911.generator;
                                    int_j_1913 = 0;
                                    appl_j_1914 = proj_j_1912 int_j_1913;
                                    left_b_355 = appl_j_1914;
                                    bool_j_1915 = false;
                                    fail_b_369 = bool_j_1915;
                                    flatten_fun_j_1924 = fun expr_b_368 -> (
                                        var_j_1916 = expr_b_368;
                                        m_match_bool_j_1918 = var_j_1916 ~ any;
                                        m_match_bool_j_1921 = var_j_1916 ~ int;
                                        m_match_cond_j_1922 = m_match_bool_j_1921 ? (
                                                bool_j_1923 = true
                                            ) : (
                                                m_match_cond_j_1919 = m_match_bool_j_1918 ? (
                                                        var_j_1920 = fail_b_369
                                                    ) : (
                                                        void_j_1917 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1926 = fun bj_null_j_93 -> (
                                        input_j_1925 = input);
                                    flatten_fun_j_1928 = fun expr_b_370 -> (
                                        var_j_1927 = expr_b_370);
                                    record_j_1929 = {checker = flatten_fun_j_1924, generator = flatten_fun_j_1926, wrapper = flatten_fun_j_1928};
                                    proj_j_1930 = record_j_1929.generator;
                                    int_j_1931 = 0;
                                    appl_j_1932 = proj_j_1930 int_j_1931;
                                    item_b_354 = appl_j_1932;
                                    flatten_fun_j_1961 = fun expr_b_364 -> (
                                        bool_j_1933 = false;
                                        fail_b_362 = bool_j_1933;
                                        flatten_fun_j_1942 = fun expr_b_361 -> (
                                            var_j_1934 = expr_b_361;
                                            m_match_bool_j_1936 = var_j_1934 ~ any;
                                            m_match_bool_j_1939 = var_j_1934 ~ int;
                                            m_match_cond_j_1940 = m_match_bool_j_1939 ? (
                                                    bool_j_1941 = true
                                                ) : (
                                                    m_match_cond_j_1937 = m_match_bool_j_1936 ? (
                                                            var_j_1938 = fail_b_362
                                                        ) : (
                                                            void_j_1935 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1944 = fun bj_null_j_94 -> (
                                            input_j_1943 = input);
                                        flatten_fun_j_1946 = fun expr_b_363 -> (
                                            var_j_1945 = expr_b_363);
                                        record_j_1947 = {checker = flatten_fun_j_1942, generator = flatten_fun_j_1944, wrapper = flatten_fun_j_1946};
                                        proj_j_1948 = record_j_1947.checker;
                                        var_j_1949 = expr_b_364;
                                        appl_j_1950 = proj_j_1948 var_j_1949;
                                        t_check_b_365 = appl_j_1950;
                                        var_j_1951 = t_check_b_365;
                                        if_j_1960 = var_j_1951 ? (
                                                bool_j_1952 = false;
                                                pred_check_b_366 = bool_j_1952;
                                                var_j_1953 = is_pos;
                                                var_j_1954 = expr_b_364;
                                                appl_j_1955 = var_j_1953 var_j_1954;
                                                if_j_1958 = appl_j_1955 ? (
                                                        bool_j_1956 = true
                                                    ) : (
                                                        var_j_1957 = pred_check_b_366
                                                    )
                                            ) : (
                                                var_j_1959 = t_check_b_365
                                            ));
                                    flatten_fun_j_1987 = fun bj_null_j_96 -> (
                                        bool_j_1962 = false;
                                        fail_b_358 = bool_j_1962;
                                        flatten_fun_j_1971 = fun expr_b_357 -> (
                                            var_j_1963 = expr_b_357;
                                            m_match_bool_j_1965 = var_j_1963 ~ any;
                                            m_match_bool_j_1968 = var_j_1963 ~ int;
                                            m_match_cond_j_1969 = m_match_bool_j_1968 ? (
                                                    bool_j_1970 = true
                                                ) : (
                                                    m_match_cond_j_1966 = m_match_bool_j_1965 ? (
                                                            var_j_1967 = fail_b_358
                                                        ) : (
                                                            void_j_1964 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1973 = fun bj_null_j_95 -> (
                                            input_j_1972 = input);
                                        flatten_fun_j_1975 = fun expr_b_359 -> (
                                            var_j_1974 = expr_b_359);
                                        record_j_1976 = {checker = flatten_fun_j_1971, generator = flatten_fun_j_1973, wrapper = flatten_fun_j_1975};
                                        proj_j_1977 = record_j_1976.generator;
                                        int_j_1978 = 0;
                                        appl_j_1979 = proj_j_1977 int_j_1978;
                                        candidate_b_360 = appl_j_1979;
                                        var_j_1980 = is_pos;
                                        var_j_1981 = candidate_b_360;
                                        appl_j_1982 = var_j_1980 var_j_1981;
                                        if_j_1986 = appl_j_1982 ? (
                                                var_j_1983 = candidate_b_360
                                            ) : (
                                                bool_j_1984 = false;
                                                assume_j_1985 = assume bool_j_1984
                                            ));
                                    flatten_fun_j_1989 = fun expr_b_367 -> (
                                        var_j_1988 = expr_b_367);
                                    record_j_1990 = {checker = flatten_fun_j_1961, generator = flatten_fun_j_1987, wrapper = flatten_fun_j_1989};
                                    proj_j_1991 = record_j_1990.generator;
                                    int_j_1992 = 0;
                                    appl_j_1993 = proj_j_1991 int_j_1992;
                                    height_b_353 = appl_j_1993;
                                    var_j_1994 = height_b_353;
                                    var_j_1995 = item_b_354;
                                    var_j_1996 = left_b_355;
                                    var_j_1997 = right_b_356;
                                    record_j_1998 = {height = var_j_1994, item = var_j_1995, left = var_j_1996, right = var_j_1997};
                                    record_j_1999 = {};
                                    record_j_2000 = {};
                                    record_j_2001 = {};
                                    record_j_2002 = {};
                                    record_j_2003 = {height = record_j_1999, item = record_j_2000, left = record_j_2001, right = record_j_2002};
                                    record_j_2004 = {bj_actual_rec = record_j_1998, bj_decl_lbls = record_j_2003});
                                flatten_fun_j_2007 = fun expr_b_392 -> (
                                    var_j_2006 = expr_b_392);
                                record_j_2008 = {checker = flatten_fun_j_1906, generator = flatten_fun_j_2005, wrapper = flatten_fun_j_2007};
                                proj_j_2009 = record_j_2008.checker;
                                var_j_2010 = expr_b_393;
                                appl_j_2011 = proj_j_2009 var_j_2010;
                                t_check_b_394 = appl_j_2011;
                                var_j_2012 = t_check_b_394;
                                if_j_2076 = var_j_2012 ? (
                                        bool_j_2013 = false;
                                        pred_check_b_395 = bool_j_2013;
                                        flatten_fun_j_2069 = fun t_j_98 -> (
                                            var_j_2014 = t_j_98;
                                            proj_j_2015 = var_j_2014.bj_decl_lbls;
                                            m_match_bool_j_2017 = proj_j_2015 ~ any;
                                            m_match_bool_j_2024 = proj_j_2015 ~ 
                                                {height, _};
                                            m_match_cond_j_2025 = m_match_bool_j_2024 ? (
                                                    var_j_2026 = t_j_98;
                                                    proj_j_2027 = var_j_2026.bj_actual_rec;
                                                    proj_j_2028 = proj_j_2027.height
                                                ) : (
                                                    m_match_cond_j_2018 = m_match_bool_j_2017 ? (
                                                            bool_j_2019 = false;
                                                            assert_pred_j_2020 = bool_j_2019;
                                                            assert_res_j_2021 = assert_pred_j_2020 ? (
                                                                    assert_res_true_j_2022 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2023 = abort
                                                                )
                                                        ) : (
                                                            void_j_2016 = 
                                                                {}
                                                        )
                                                );
                                            var_j_2029 = max;
                                            var_j_2030 = height_j_356_j_401;
                                            var_j_2031 = t_j_98;
                                            proj_j_2032 = var_j_2031.bj_decl_lbls;
                                            m_match_bool_j_2034 = proj_j_2032 ~ any;
                                            m_match_bool_j_2041 = proj_j_2032 ~ 
                                                {left, _};
                                            m_match_cond_j_2042 = m_match_bool_j_2041 ? (
                                                    var_j_2043 = t_j_98;
                                                    proj_j_2044 = var_j_2043.bj_actual_rec;
                                                    proj_j_2045 = proj_j_2044.left
                                                ) : (
                                                    m_match_cond_j_2035 = m_match_bool_j_2034 ? (
                                                            bool_j_2036 = false;
                                                            assert_pred_j_2037 = bool_j_2036;
                                                            assert_res_j_2038 = assert_pred_j_2037 ? (
                                                                    assert_res_true_j_2039 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2040 = abort
                                                                )
                                                        ) : (
                                                            void_j_2033 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5765 = var_j_2030 ~ fun;
                                            appl_j_2046 = m_i_5765 ? (
                                                    c_appl_i_5766 = var_j_2030 m_match_cond_j_2042
                                                ) : (
                                                    ab_i_5767 = abort
                                                );
                                            m_i_5768 = var_j_2029 ~ fun;
                                            appl_j_2047 = m_i_5768 ? (
                                                    c_appl_i_5769 = var_j_2029 appl_j_2046
                                                ) : (
                                                    ab_i_5770 = abort
                                                );
                                            var_j_2048 = height_j_356_j_401;
                                            var_j_2049 = t_j_98;
                                            proj_j_2050 = var_j_2049.bj_decl_lbls;
                                            m_match_bool_j_2052 = proj_j_2050 ~ any;
                                            m_match_bool_j_2059 = proj_j_2050 ~ 
                                                {right, _};
                                            m_match_cond_j_2060 = m_match_bool_j_2059 ? (
                                                    var_j_2061 = t_j_98;
                                                    proj_j_2062 = var_j_2061.bj_actual_rec;
                                                    proj_j_2063 = proj_j_2062.right
                                                ) : (
                                                    m_match_cond_j_2053 = m_match_bool_j_2052 ? (
                                                            bool_j_2054 = false;
                                                            assert_pred_j_2055 = bool_j_2054;
                                                            assert_res_j_2056 = assert_pred_j_2055 ? (
                                                                    assert_res_true_j_2057 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2058 = abort
                                                                )
                                                        ) : (
                                                            void_j_2051 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5771 = var_j_2048 ~ fun;
                                            appl_j_2064 = m_i_5771 ? (
                                                    c_appl_i_5772 = var_j_2048 m_match_cond_j_2060
                                                ) : (
                                                    ab_i_5773 = abort
                                                );
                                            m_i_5774 = appl_j_2047 ~ fun;
                                            appl_j_2065 = m_i_5774 ? (
                                                    c_appl_i_5775 = appl_j_2047 appl_j_2064
                                                ) : (
                                                    ab_i_5776 = abort
                                                );
                                            int_j_2066 = 1;
                                            m_bl_i_5777 = appl_j_2065 ~ int;
                                            m_br_i_5778 = int_j_2066 ~ int;
                                            m_b_i_5779 = m_bl_i_5777 and m_br_i_5778;
                                            binop_j_2067 = m_b_i_5779 ? (
                                                    c_binop_i_5780 = appl_j_2065 + int_j_2066
                                                ) : (
                                                    ab_i_5781 = abort
                                                );
                                            m_bl_i_5782 = m_match_cond_j_2025 ~ int;
                                            m_br_i_5783 = binop_j_2067 ~ int;
                                            m_b_i_5784 = m_bl_i_5782 and m_br_i_5783;
                                            binop_j_2068 = m_b_i_5784 ? (
                                                    c_binop_i_5785 = m_match_cond_j_2025 == binop_j_2067
                                                ) : (
                                                    ab_i_5786 = abort
                                                ));
                                        var_j_2070 = expr_b_393;
                                        appl_j_2071 = flatten_fun_j_2069 var_j_2070;
                                        if_j_2074 = appl_j_2071 ? (
                                                bool_j_2072 = true
                                            ) : (
                                                var_j_2073 = pred_check_b_395
                                            )
                                    ) : (
                                        var_j_2075 = t_check_b_394
                                    ));
                            flatten_fun_j_2368 = fun bj_null_j_117 -> (
                                flatten_fun_j_2200 = fun expr_b_333 -> (
                                    bool_j_2078 = false;
                                    rec_fail_b_332 = bool_j_2078;
                                    bool_j_2079 = false;
                                    rec_fail_b_331 = bool_j_2079;
                                    bool_j_2080 = false;
                                    rec_fail_b_330 = bool_j_2080;
                                    var_j_2081 = expr_b_333;
                                    m_match_bool_j_2083 = var_j_2081 ~ any;
                                    m_match_bool_j_2086 = var_j_2081 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2087 = m_match_bool_j_2086 ? (
                                            var_j_2088 = expr_b_333;
                                            proj_j_2089 = var_j_2088.bj_decl_lbls;
                                            m_match_bool_j_2091 = proj_j_2089 ~ any;
                                            m_match_bool_j_2094 = proj_j_2089 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2095 = m_match_bool_j_2094 ? (
                                                    height_j_110 = proj_j_2089.height;
                                                    item_j_109 = proj_j_2089.item;
                                                    left_j_108 = proj_j_2089.left;
                                                    right_j_107 = proj_j_2089.right;
                                                    var_j_2096 = expr_b_333;
                                                    proj_j_2097 = var_j_2096.bj_actual_rec;
                                                    m_match_bool_j_2099 = proj_j_2097 ~ any;
                                                    m_match_bool_j_2102 = proj_j_2097 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2103 = m_match_bool_j_2102 ? (
                                                            height_j_106 = proj_j_2097.height;
                                                            item_j_105 = proj_j_2097.item;
                                                            left_j_104 = proj_j_2097.left;
                                                            right_j_103 = proj_j_2097.right;
                                                            flatten_fun_j_2132 = fun expr_b_347 -> (
                                                                bool_j_2104 = false;
                                                                fail_b_345 = bool_j_2104;
                                                                flatten_fun_j_2113 = fun expr_b_344 -> (
                                                                    var_j_2105 = expr_b_344;
                                                                    m_match_bool_j_2107 = var_j_2105 ~ any;
                                                                    m_match_bool_j_2110 = var_j_2105 ~ int;
                                                                    m_match_cond_j_2111 = m_match_bool_j_2110 ? (
                                                                        bool_j_2112 = true
                                                                    ) : (
                                                                        m_match_cond_j_2108 = m_match_bool_j_2107 ? (
                                                                        var_j_2109 = fail_b_345
                                                                    ) : (
                                                                        void_j_2106 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2115 = fun bj_null_j_99 -> (
                                                                    input_j_2114 = input);
                                                                flatten_fun_j_2117 = fun expr_b_346 -> (
                                                                    var_j_2116 = expr_b_346);
                                                                record_j_2118 = 
                                                                    {checker = flatten_fun_j_2113, generator = flatten_fun_j_2115, wrapper = flatten_fun_j_2117};
                                                                proj_j_2119 = record_j_2118.checker;
                                                                var_j_2120 = expr_b_347;
                                                                appl_j_2121 = proj_j_2119 var_j_2120;
                                                                t_check_b_348 = appl_j_2121;
                                                                var_j_2122 = t_check_b_348;
                                                                if_j_2131 = var_j_2122 ? (
                                                                        
                                                                    bool_j_2123 = false;
                                                                    pred_check_b_349 = bool_j_2123;
                                                                    var_j_2124 = is_pos;
                                                                    var_j_2125 = expr_b_347;
                                                                    appl_j_2126 = var_j_2124 var_j_2125;
                                                                    if_j_2129 = appl_j_2126 ? (
                                                                        bool_j_2127 = true
                                                                    ) : (
                                                                        var_j_2128 = pred_check_b_349
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2130 = t_check_b_348
                                                                    ));
                                                            flatten_fun_j_2158 = fun bj_null_j_101 -> (
                                                                bool_j_2133 = false;
                                                                fail_b_341 = bool_j_2133;
                                                                flatten_fun_j_2142 = fun expr_b_340 -> (
                                                                    var_j_2134 = expr_b_340;
                                                                    m_match_bool_j_2136 = var_j_2134 ~ any;
                                                                    m_match_bool_j_2139 = var_j_2134 ~ int;
                                                                    m_match_cond_j_2140 = m_match_bool_j_2139 ? (
                                                                        bool_j_2141 = true
                                                                    ) : (
                                                                        m_match_cond_j_2137 = m_match_bool_j_2136 ? (
                                                                        var_j_2138 = fail_b_341
                                                                    ) : (
                                                                        void_j_2135 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2144 = fun bj_null_j_100 -> (
                                                                    input_j_2143 = input);
                                                                flatten_fun_j_2146 = fun expr_b_342 -> (
                                                                    var_j_2145 = expr_b_342);
                                                                record_j_2147 = 
                                                                    {checker = flatten_fun_j_2142, generator = flatten_fun_j_2144, wrapper = flatten_fun_j_2146};
                                                                proj_j_2148 = record_j_2147.generator;
                                                                int_j_2149 = 0;
                                                                appl_j_2150 = proj_j_2148 int_j_2149;
                                                                candidate_b_343 = appl_j_2150;
                                                                var_j_2151 = is_pos;
                                                                var_j_2152 = candidate_b_343;
                                                                appl_j_2153 = var_j_2151 var_j_2152;
                                                                if_j_2157 = appl_j_2153 ? (
                                                                        
                                                                    var_j_2154 = candidate_b_343
                                                                    ) : (
                                                                        
                                                                    bool_j_2155 = false;
                                                                    assume_j_2156 = assume bool_j_2155
                                                                    ));
                                                            flatten_fun_j_2160 = fun expr_b_350 -> (
                                                                var_j_2159 = expr_b_350);
                                                            record_j_2161 = 
                                                                {checker = flatten_fun_j_2132, generator = flatten_fun_j_2158, wrapper = flatten_fun_j_2160};
                                                            proj_j_2162 = record_j_2161.checker;
                                                            var_j_2163 = height_j_106;
                                                            appl_j_2164 = proj_j_2162 var_j_2163;
                                                            lbl_check_b_339 = appl_j_2164;
                                                            var_j_2165 = lbl_check_b_339;
                                                            if_j_2199 = var_j_2165 ? (
                                                                    bool_j_2166 = false;
                                                                    fail_b_337 = bool_j_2166;
                                                                    flatten_fun_j_2175 = fun expr_b_336 -> (
                                                                    var_j_2167 = expr_b_336;
                                                                    m_match_bool_j_2169 = var_j_2167 ~ any;
                                                                    m_match_bool_j_2172 = var_j_2167 ~ int;
                                                                    m_match_cond_j_2173 = m_match_bool_j_2172 ? (
                                                                        bool_j_2174 = true
                                                                    ) : (
                                                                        m_match_cond_j_2170 = m_match_bool_j_2169 ? (
                                                                        var_j_2171 = fail_b_337
                                                                    ) : (
                                                                        void_j_2168 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2177 = fun bj_null_j_102 -> (
                                                                    input_j_2176 = input);
                                                                    flatten_fun_j_2179 = fun expr_b_338 -> (
                                                                    var_j_2178 = expr_b_338);
                                                                    record_j_2180 = 
                                                                    {checker = flatten_fun_j_2175, generator = flatten_fun_j_2177, wrapper = flatten_fun_j_2179};
                                                                    proj_j_2181 = record_j_2180.checker;
                                                                    var_j_2182 = item_j_105;
                                                                    appl_j_2183 = proj_j_2181 var_j_2182;
                                                                    lbl_check_b_335 = appl_j_2183;
                                                                    var_j_2184 = lbl_check_b_335;
                                                                    if_j_2197 = var_j_2184 ? (
                                                                        var_j_2185 = tt;
                                                                    proj_j_2186 = var_j_2185.checker;
                                                                    var_j_2187 = left_j_104;
                                                                    appl_j_2188 = proj_j_2186 var_j_2187;
                                                                    lbl_check_b_334 = appl_j_2188;
                                                                    var_j_2189 = lbl_check_b_334;
                                                                    if_j_2195 = var_j_2189 ? (
                                                                        var_j_2190 = tt;
                                                                    proj_j_2191 = var_j_2190.checker;
                                                                    var_j_2192 = right_j_103;
                                                                    appl_j_2193 = proj_j_2191 var_j_2192
                                                                    ) : (
                                                                        var_j_2194 = lbl_check_b_334
                                                                    )
                                                                    ) : (
                                                                        var_j_2196 = lbl_check_b_335
                                                                    )
                                                                ) : (
                                                                    var_j_2198 = lbl_check_b_339
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2100 = m_match_bool_j_2099 ? (
                                                                    var_j_2101 = rec_fail_b_330
                                                                ) : (
                                                                    void_j_2098 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2092 = m_match_bool_j_2091 ? (
                                                            var_j_2093 = rec_fail_b_331
                                                        ) : (
                                                            void_j_2090 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2084 = m_match_bool_j_2083 ? (
                                                    var_j_2085 = rec_fail_b_332
                                                ) : (
                                                    void_j_2082 = {}
                                                )
                                        ));
                                flatten_fun_j_2299 = fun bj_null_j_115 -> (
                                    var_j_2201 = tt;
                                    proj_j_2202 = var_j_2201.generator;
                                    int_j_2203 = 0;
                                    appl_j_2204 = proj_j_2202 int_j_2203;
                                    right_b_315 = appl_j_2204;
                                    var_j_2205 = tt;
                                    proj_j_2206 = var_j_2205.generator;
                                    int_j_2207 = 0;
                                    appl_j_2208 = proj_j_2206 int_j_2207;
                                    left_b_314 = appl_j_2208;
                                    bool_j_2209 = false;
                                    fail_b_328 = bool_j_2209;
                                    flatten_fun_j_2218 = fun expr_b_327 -> (
                                        var_j_2210 = expr_b_327;
                                        m_match_bool_j_2212 = var_j_2210 ~ any;
                                        m_match_bool_j_2215 = var_j_2210 ~ int;
                                        m_match_cond_j_2216 = m_match_bool_j_2215 ? (
                                                bool_j_2217 = true
                                            ) : (
                                                m_match_cond_j_2213 = m_match_bool_j_2212 ? (
                                                        var_j_2214 = fail_b_328
                                                    ) : (
                                                        void_j_2211 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2220 = fun bj_null_j_111 -> (
                                        input_j_2219 = input);
                                    flatten_fun_j_2222 = fun expr_b_329 -> (
                                        var_j_2221 = expr_b_329);
                                    record_j_2223 = {checker = flatten_fun_j_2218, generator = flatten_fun_j_2220, wrapper = flatten_fun_j_2222};
                                    proj_j_2224 = record_j_2223.generator;
                                    int_j_2225 = 0;
                                    appl_j_2226 = proj_j_2224 int_j_2225;
                                    item_b_313 = appl_j_2226;
                                    flatten_fun_j_2255 = fun expr_b_323 -> (
                                        bool_j_2227 = false;
                                        fail_b_321 = bool_j_2227;
                                        flatten_fun_j_2236 = fun expr_b_320 -> (
                                            var_j_2228 = expr_b_320;
                                            m_match_bool_j_2230 = var_j_2228 ~ any;
                                            m_match_bool_j_2233 = var_j_2228 ~ int;
                                            m_match_cond_j_2234 = m_match_bool_j_2233 ? (
                                                    bool_j_2235 = true
                                                ) : (
                                                    m_match_cond_j_2231 = m_match_bool_j_2230 ? (
                                                            var_j_2232 = fail_b_321
                                                        ) : (
                                                            void_j_2229 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2238 = fun bj_null_j_112 -> (
                                            input_j_2237 = input);
                                        flatten_fun_j_2240 = fun expr_b_322 -> (
                                            var_j_2239 = expr_b_322);
                                        record_j_2241 = {checker = flatten_fun_j_2236, generator = flatten_fun_j_2238, wrapper = flatten_fun_j_2240};
                                        proj_j_2242 = record_j_2241.checker;
                                        var_j_2243 = expr_b_323;
                                        appl_j_2244 = proj_j_2242 var_j_2243;
                                        t_check_b_324 = appl_j_2244;
                                        var_j_2245 = t_check_b_324;
                                        if_j_2254 = var_j_2245 ? (
                                                bool_j_2246 = false;
                                                pred_check_b_325 = bool_j_2246;
                                                var_j_2247 = is_pos;
                                                var_j_2248 = expr_b_323;
                                                appl_j_2249 = var_j_2247 var_j_2248;
                                                if_j_2252 = appl_j_2249 ? (
                                                        bool_j_2250 = true
                                                    ) : (
                                                        var_j_2251 = pred_check_b_325
                                                    )
                                            ) : (
                                                var_j_2253 = t_check_b_324
                                            ));
                                    flatten_fun_j_2281 = fun bj_null_j_114 -> (
                                        bool_j_2256 = false;
                                        fail_b_317 = bool_j_2256;
                                        flatten_fun_j_2265 = fun expr_b_316 -> (
                                            var_j_2257 = expr_b_316;
                                            m_match_bool_j_2259 = var_j_2257 ~ any;
                                            m_match_bool_j_2262 = var_j_2257 ~ int;
                                            m_match_cond_j_2263 = m_match_bool_j_2262 ? (
                                                    bool_j_2264 = true
                                                ) : (
                                                    m_match_cond_j_2260 = m_match_bool_j_2259 ? (
                                                            var_j_2261 = fail_b_317
                                                        ) : (
                                                            void_j_2258 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2267 = fun bj_null_j_113 -> (
                                            input_j_2266 = input);
                                        flatten_fun_j_2269 = fun expr_b_318 -> (
                                            var_j_2268 = expr_b_318);
                                        record_j_2270 = {checker = flatten_fun_j_2265, generator = flatten_fun_j_2267, wrapper = flatten_fun_j_2269};
                                        proj_j_2271 = record_j_2270.generator;
                                        int_j_2272 = 0;
                                        appl_j_2273 = proj_j_2271 int_j_2272;
                                        candidate_b_319 = appl_j_2273;
                                        var_j_2274 = is_pos;
                                        var_j_2275 = candidate_b_319;
                                        appl_j_2276 = var_j_2274 var_j_2275;
                                        if_j_2280 = appl_j_2276 ? (
                                                var_j_2277 = candidate_b_319
                                            ) : (
                                                bool_j_2278 = false;
                                                assume_j_2279 = assume bool_j_2278
                                            ));
                                    flatten_fun_j_2283 = fun expr_b_326 -> (
                                        var_j_2282 = expr_b_326);
                                    record_j_2284 = {checker = flatten_fun_j_2255, generator = flatten_fun_j_2281, wrapper = flatten_fun_j_2283};
                                    proj_j_2285 = record_j_2284.generator;
                                    int_j_2286 = 0;
                                    appl_j_2287 = proj_j_2285 int_j_2286;
                                    height_b_312 = appl_j_2287;
                                    var_j_2288 = height_b_312;
                                    var_j_2289 = item_b_313;
                                    var_j_2290 = left_b_314;
                                    var_j_2291 = right_b_315;
                                    record_j_2292 = {height = var_j_2288, item = var_j_2289, left = var_j_2290, right = var_j_2291};
                                    record_j_2293 = {};
                                    record_j_2294 = {};
                                    record_j_2295 = {};
                                    record_j_2296 = {};
                                    record_j_2297 = {height = record_j_2293, item = record_j_2294, left = record_j_2295, right = record_j_2296};
                                    record_j_2298 = {bj_actual_rec = record_j_2292, bj_decl_lbls = record_j_2297});
                                flatten_fun_j_2301 = fun expr_b_351 -> (
                                    var_j_2300 = expr_b_351);
                                record_j_2302 = {checker = flatten_fun_j_2200, generator = flatten_fun_j_2299, wrapper = flatten_fun_j_2301};
                                proj_j_2303 = record_j_2302.generator;
                                int_j_2304 = 0;
                                appl_j_2305 = proj_j_2303 int_j_2304;
                                candidate_b_352 = appl_j_2305;
                                flatten_fun_j_2361 = fun t_j_116 -> (
                                    var_j_2306 = t_j_116;
                                    proj_j_2307 = var_j_2306.bj_decl_lbls;
                                    m_match_bool_j_2309 = proj_j_2307 ~ any;
                                    m_match_bool_j_2316 = proj_j_2307 ~ 
                                        {height, _};
                                    m_match_cond_j_2317 = m_match_bool_j_2316 ? (
                                            var_j_2318 = t_j_116;
                                            proj_j_2319 = var_j_2318.bj_actual_rec;
                                            proj_j_2320 = proj_j_2319.height
                                        ) : (
                                            m_match_cond_j_2310 = m_match_bool_j_2309 ? (
                                                    bool_j_2311 = false;
                                                    assert_pred_j_2312 = bool_j_2311;
                                                    assert_res_j_2313 = assert_pred_j_2312 ? (
                                                            assert_res_true_j_2314 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2315 = abort
                                                        )
                                                ) : (
                                                    void_j_2308 = {}
                                                )
                                        );
                                    var_j_2321 = max;
                                    var_j_2322 = height_j_356_j_401;
                                    var_j_2323 = t_j_116;
                                    proj_j_2324 = var_j_2323.bj_decl_lbls;
                                    m_match_bool_j_2326 = proj_j_2324 ~ any;
                                    m_match_bool_j_2333 = proj_j_2324 ~ 
                                        {left, _};
                                    m_match_cond_j_2334 = m_match_bool_j_2333 ? (
                                            var_j_2335 = t_j_116;
                                            proj_j_2336 = var_j_2335.bj_actual_rec;
                                            proj_j_2337 = proj_j_2336.left
                                        ) : (
                                            m_match_cond_j_2327 = m_match_bool_j_2326 ? (
                                                    bool_j_2328 = false;
                                                    assert_pred_j_2329 = bool_j_2328;
                                                    assert_res_j_2330 = assert_pred_j_2329 ? (
                                                            assert_res_true_j_2331 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2332 = abort
                                                        )
                                                ) : (
                                                    void_j_2325 = {}
                                                )
                                        );
                                    m_i_5787 = var_j_2322 ~ fun;
                                    appl_j_2338 = m_i_5787 ? (
                                            c_appl_i_5788 = var_j_2322 m_match_cond_j_2334
                                        ) : (
                                            ab_i_5789 = abort
                                        );
                                    m_i_5790 = var_j_2321 ~ fun;
                                    appl_j_2339 = m_i_5790 ? (
                                            c_appl_i_5791 = var_j_2321 appl_j_2338
                                        ) : (
                                            ab_i_5792 = abort
                                        );
                                    var_j_2340 = height_j_356_j_401;
                                    var_j_2341 = t_j_116;
                                    proj_j_2342 = var_j_2341.bj_decl_lbls;
                                    m_match_bool_j_2344 = proj_j_2342 ~ any;
                                    m_match_bool_j_2351 = proj_j_2342 ~ 
                                        {right, _};
                                    m_match_cond_j_2352 = m_match_bool_j_2351 ? (
                                            var_j_2353 = t_j_116;
                                            proj_j_2354 = var_j_2353.bj_actual_rec;
                                            proj_j_2355 = proj_j_2354.right
                                        ) : (
                                            m_match_cond_j_2345 = m_match_bool_j_2344 ? (
                                                    bool_j_2346 = false;
                                                    assert_pred_j_2347 = bool_j_2346;
                                                    assert_res_j_2348 = assert_pred_j_2347 ? (
                                                            assert_res_true_j_2349 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2350 = abort
                                                        )
                                                ) : (
                                                    void_j_2343 = {}
                                                )
                                        );
                                    m_i_5793 = var_j_2340 ~ fun;
                                    appl_j_2356 = m_i_5793 ? (
                                            c_appl_i_5794 = var_j_2340 m_match_cond_j_2352
                                        ) : (
                                            ab_i_5795 = abort
                                        );
                                    m_i_5796 = appl_j_2339 ~ fun;
                                    appl_j_2357 = m_i_5796 ? (
                                            c_appl_i_5797 = appl_j_2339 appl_j_2356
                                        ) : (
                                            ab_i_5798 = abort
                                        );
                                    int_j_2358 = 1;
                                    m_bl_i_5799 = appl_j_2357 ~ int;
                                    m_br_i_5800 = int_j_2358 ~ int;
                                    m_b_i_5801 = m_bl_i_5799 and m_br_i_5800;
                                    binop_j_2359 = m_b_i_5801 ? (
                                            c_binop_i_5802 = appl_j_2357 + int_j_2358
                                        ) : (
                                            ab_i_5803 = abort
                                        );
                                    m_bl_i_5804 = m_match_cond_j_2317 ~ int;
                                    m_br_i_5805 = binop_j_2359 ~ int;
                                    m_b_i_5806 = m_bl_i_5804 and m_br_i_5805;
                                    binop_j_2360 = m_b_i_5806 ? (
                                            c_binop_i_5807 = m_match_cond_j_2317 == binop_j_2359
                                        ) : (
                                            ab_i_5808 = abort
                                        ));
                                var_j_2362 = candidate_b_352;
                                appl_j_2363 = flatten_fun_j_2361 var_j_2362;
                                if_j_2367 = appl_j_2363 ? (
                                        var_j_2364 = candidate_b_352
                                    ) : (
                                        bool_j_2365 = false;
                                        assume_j_2366 = assume bool_j_2365
                                    ));
                            flatten_fun_j_2370 = fun expr_b_396 -> (
                                var_j_2369 = expr_b_396);
                            record_j_2371 = {checker = flatten_fun_j_2077, generator = flatten_fun_j_2368, wrapper = flatten_fun_j_2370};
                            proj_j_2372 = record_j_2371.generator;
                            int_j_2373 = 0;
                            appl_j_2374 = proj_j_2372 int_j_2373
                        ) : (
                            flatten_fun_j_2421 = fun expr_b_404 -> (
                                bool_j_2375 = false;
                                rec_fail_b_403 = bool_j_2375;
                                bool_j_2376 = false;
                                rec_fail_b_402 = bool_j_2376;
                                bool_j_2377 = false;
                                rec_fail_b_401 = bool_j_2377;
                                var_j_2378 = expr_b_404;
                                m_match_bool_j_2380 = var_j_2378 ~ any;
                                m_match_bool_j_2383 = var_j_2378 ~ {bj_actual_rec, _};
                                m_match_cond_j_2384 = m_match_bool_j_2383 ? (
                                        var_j_2385 = expr_b_404;
                                        proj_j_2386 = var_j_2385.bj_decl_lbls;
                                        m_match_bool_j_2388 = proj_j_2386 ~ any;
                                        m_match_bool_j_2391 = proj_j_2386 ~ 
                                            {leaf, _};
                                        m_match_cond_j_2392 = m_match_bool_j_2391 ? (
                                                leaf_j_120 = proj_j_2386.leaf;
                                                var_j_2393 = expr_b_404;
                                                proj_j_2394 = var_j_2393.bj_actual_rec;
                                                m_match_bool_j_2396 = proj_j_2394 ~ any;
                                                m_match_bool_j_2399 = proj_j_2394 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_2400 = m_match_bool_j_2399 ? (
                                                        leaf_j_119 = proj_j_2394.leaf;
                                                        bool_j_2401 = false;
                                                        fail_b_406 = bool_j_2401;
                                                        flatten_fun_j_2410 = fun expr_b_405 -> (
                                                            var_j_2402 = expr_b_405;
                                                            m_match_bool_j_2404 = var_j_2402 ~ any;
                                                            m_match_bool_j_2407 = var_j_2402 ~ bool;
                                                            m_match_cond_j_2408 = m_match_bool_j_2407 ? (
                                                                    bool_j_2409 = true
                                                                ) : (
                                                                    m_match_cond_j_2405 = m_match_bool_j_2404 ? (
                                                                        var_j_2406 = fail_b_406
                                                                    ) : (
                                                                        void_j_2403 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_2414 = fun bj_null_j_118 -> (
                                                            int_j_2411 = 0;
                                                            input_j_2412 = input;
                                                            m_bl_i_5809 = int_j_2411 ~ int;
                                                            m_br_i_5810 = input_j_2412 ~ int;
                                                            m_b_i_5811 = m_bl_i_5809 and m_br_i_5810;
                                                            binop_j_2413 = m_b_i_5811 ? (
                                                                    c_binop_i_5812 = int_j_2411 <= input_j_2412
                                                                ) : (
                                                                    ab_i_5813 = abort
                                                                ));
                                                        flatten_fun_j_2416 = fun expr_b_407 -> (
                                                            var_j_2415 = expr_b_407);
                                                        record_j_2417 = 
                                                            {checker = flatten_fun_j_2410, generator = flatten_fun_j_2414, wrapper = flatten_fun_j_2416};
                                                        proj_j_2418 = record_j_2417.checker;
                                                        var_j_2419 = leaf_j_119;
                                                        appl_j_2420 = proj_j_2418 var_j_2419
                                                    ) : (
                                                        m_match_cond_j_2397 = m_match_bool_j_2396 ? (
                                                                var_j_2398 = rec_fail_b_401
                                                            ) : (
                                                                void_j_2395 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_2389 = m_match_bool_j_2388 ? (
                                                        var_j_2390 = rec_fail_b_402
                                                    ) : (
                                                        void_j_2387 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_2381 = m_match_bool_j_2380 ? (
                                                var_j_2382 = rec_fail_b_403
                                            ) : (
                                                void_j_2379 = {}
                                            )
                                    ));
                            flatten_fun_j_2447 = fun bj_null_j_122 -> (
                                bool_j_2422 = false;
                                fail_b_399 = bool_j_2422;
                                flatten_fun_j_2431 = fun expr_b_398 -> (
                                    var_j_2423 = expr_b_398;
                                    m_match_bool_j_2425 = var_j_2423 ~ any;
                                    m_match_bool_j_2428 = var_j_2423 ~ bool;
                                    m_match_cond_j_2429 = m_match_bool_j_2428 ? (
                                            bool_j_2430 = true
                                        ) : (
                                            m_match_cond_j_2426 = m_match_bool_j_2425 ? (
                                                    var_j_2427 = fail_b_399
                                                ) : (
                                                    void_j_2424 = {}
                                                )
                                        ));
                                flatten_fun_j_2435 = fun bj_null_j_121 -> (
                                    int_j_2432 = 0;
                                    input_j_2433 = input;
                                    m_bl_i_5814 = int_j_2432 ~ int;
                                    m_br_i_5815 = input_j_2433 ~ int;
                                    m_b_i_5816 = m_bl_i_5814 and m_br_i_5815;
                                    binop_j_2434 = m_b_i_5816 ? (
                                            c_binop_i_5817 = int_j_2432 <= input_j_2433
                                        ) : (
                                            ab_i_5818 = abort
                                        ));
                                flatten_fun_j_2437 = fun expr_b_400 -> (
                                    var_j_2436 = expr_b_400);
                                record_j_2438 = {checker = flatten_fun_j_2431, generator = flatten_fun_j_2435, wrapper = flatten_fun_j_2437};
                                proj_j_2439 = record_j_2438.generator;
                                int_j_2440 = 0;
                                appl_j_2441 = proj_j_2439 int_j_2440;
                                leaf_b_397 = appl_j_2441;
                                var_j_2442 = leaf_b_397;
                                record_j_2443 = {leaf = var_j_2442};
                                record_j_2444 = {};
                                record_j_2445 = {leaf = record_j_2444};
                                record_j_2446 = {bj_actual_rec = record_j_2443, bj_decl_lbls = record_j_2445});
                            flatten_fun_j_2449 = fun expr_b_408 -> (
                                var_j_2448 = expr_b_408);
                            record_j_2450 = {checker = flatten_fun_j_2421, generator = flatten_fun_j_2447, wrapper = flatten_fun_j_2449};
                            proj_j_2451 = record_j_2450.generator;
                            int_j_2452 = 0;
                            appl_j_2453 = proj_j_2451 int_j_2452
                        ));
                flatten_fun_j_2457 = fun expr_b_607 -> (
                    var_j_2456 = expr_b_607);
                record_j_2458 = {checker = flatten_fun_j_1779, generator = flatten_fun_j_2455, wrapper = flatten_fun_j_2457};
                proj_j_2459 = record_j_2458.checker;
                var_j_2460 = expr_b_608;
                appl_j_2461 = proj_j_2459 var_j_2460);
            var_j_2463 = self_b_11;
            int_j_2464 = 0;
            appl_j_2465 = var_j_2463 int_j_2464;
            appl_j_2466 = flatten_fun_j_2462 appl_j_2465);
        flatten_fun_j_4512 = fun bj_null_j_252 -> (
            flatten_fun_j_4507 = fun tt_j_251 -> (
                flatten_fun_j_3824 = fun expr_b_308 -> (
                    input_j_2468 = input;
                    select_int_b_309 = input_j_2468;
                    bool_j_2469 = false;
                    fail_b_310 = bool_j_2469;
                    int_j_2470 = 0;
                    var_j_2471 = select_int_b_309;
                    binop_j_2472 = int_j_2470 <= var_j_2471;
                    if_j_3823 = binop_j_2472 ? (
                            flatten_fun_j_2766 = fun expr_b_195 -> (
                                flatten_fun_j_2595 = fun expr_b_176 -> (
                                    bool_j_2473 = false;
                                    rec_fail_b_175 = bool_j_2473;
                                    bool_j_2474 = false;
                                    rec_fail_b_174 = bool_j_2474;
                                    bool_j_2475 = false;
                                    rec_fail_b_173 = bool_j_2475;
                                    var_j_2476 = expr_b_176;
                                    m_match_bool_j_2478 = var_j_2476 ~ any;
                                    m_match_bool_j_2481 = var_j_2476 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2482 = m_match_bool_j_2481 ? (
                                            var_j_2483 = expr_b_176;
                                            proj_j_2484 = var_j_2483.bj_decl_lbls;
                                            m_match_bool_j_2486 = proj_j_2484 ~ any;
                                            m_match_bool_j_2489 = proj_j_2484 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2490 = m_match_bool_j_2489 ? (
                                                    height_j_135 = proj_j_2484.height;
                                                    item_j_134 = proj_j_2484.item;
                                                    left_j_133 = proj_j_2484.left;
                                                    right_j_132 = proj_j_2484.right;
                                                    var_j_2491 = expr_b_176;
                                                    proj_j_2492 = var_j_2491.bj_actual_rec;
                                                    m_match_bool_j_2494 = proj_j_2492 ~ any;
                                                    m_match_bool_j_2497 = proj_j_2492 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2498 = m_match_bool_j_2497 ? (
                                                            height_j_131 = proj_j_2492.height;
                                                            item_j_130 = proj_j_2492.item;
                                                            left_j_129 = proj_j_2492.left;
                                                            right_j_128 = proj_j_2492.right;
                                                            flatten_fun_j_2527 = fun expr_b_190 -> (
                                                                bool_j_2499 = false;
                                                                fail_b_188 = bool_j_2499;
                                                                flatten_fun_j_2508 = fun expr_b_187 -> (
                                                                    var_j_2500 = expr_b_187;
                                                                    m_match_bool_j_2502 = var_j_2500 ~ any;
                                                                    m_match_bool_j_2505 = var_j_2500 ~ int;
                                                                    m_match_cond_j_2506 = m_match_bool_j_2505 ? (
                                                                        bool_j_2507 = true
                                                                    ) : (
                                                                        m_match_cond_j_2503 = m_match_bool_j_2502 ? (
                                                                        var_j_2504 = fail_b_188
                                                                    ) : (
                                                                        void_j_2501 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2510 = fun bj_null_j_124 -> (
                                                                    input_j_2509 = input);
                                                                flatten_fun_j_2512 = fun expr_b_189 -> (
                                                                    var_j_2511 = expr_b_189);
                                                                record_j_2513 = 
                                                                    {checker = flatten_fun_j_2508, generator = flatten_fun_j_2510, wrapper = flatten_fun_j_2512};
                                                                proj_j_2514 = record_j_2513.checker;
                                                                var_j_2515 = expr_b_190;
                                                                appl_j_2516 = proj_j_2514 var_j_2515;
                                                                t_check_b_191 = appl_j_2516;
                                                                var_j_2517 = t_check_b_191;
                                                                if_j_2526 = var_j_2517 ? (
                                                                        
                                                                    bool_j_2518 = false;
                                                                    pred_check_b_192 = bool_j_2518;
                                                                    var_j_2519 = is_pos;
                                                                    var_j_2520 = expr_b_190;
                                                                    appl_j_2521 = var_j_2519 var_j_2520;
                                                                    if_j_2524 = appl_j_2521 ? (
                                                                        bool_j_2522 = true
                                                                    ) : (
                                                                        var_j_2523 = pred_check_b_192
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2525 = t_check_b_191
                                                                    ));
                                                            flatten_fun_j_2553 = fun bj_null_j_126 -> (
                                                                bool_j_2528 = false;
                                                                fail_b_184 = bool_j_2528;
                                                                flatten_fun_j_2537 = fun expr_b_183 -> (
                                                                    var_j_2529 = expr_b_183;
                                                                    m_match_bool_j_2531 = var_j_2529 ~ any;
                                                                    m_match_bool_j_2534 = var_j_2529 ~ int;
                                                                    m_match_cond_j_2535 = m_match_bool_j_2534 ? (
                                                                        bool_j_2536 = true
                                                                    ) : (
                                                                        m_match_cond_j_2532 = m_match_bool_j_2531 ? (
                                                                        var_j_2533 = fail_b_184
                                                                    ) : (
                                                                        void_j_2530 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2539 = fun bj_null_j_125 -> (
                                                                    input_j_2538 = input);
                                                                flatten_fun_j_2541 = fun expr_b_185 -> (
                                                                    var_j_2540 = expr_b_185);
                                                                record_j_2542 = 
                                                                    {checker = flatten_fun_j_2537, generator = flatten_fun_j_2539, wrapper = flatten_fun_j_2541};
                                                                proj_j_2543 = record_j_2542.generator;
                                                                int_j_2544 = 0;
                                                                appl_j_2545 = proj_j_2543 int_j_2544;
                                                                candidate_b_186 = appl_j_2545;
                                                                var_j_2546 = is_pos;
                                                                var_j_2547 = candidate_b_186;
                                                                appl_j_2548 = var_j_2546 var_j_2547;
                                                                if_j_2552 = appl_j_2548 ? (
                                                                        
                                                                    var_j_2549 = candidate_b_186
                                                                    ) : (
                                                                        
                                                                    bool_j_2550 = false;
                                                                    assume_j_2551 = assume bool_j_2550
                                                                    ));
                                                            flatten_fun_j_2555 = fun expr_b_193 -> (
                                                                var_j_2554 = expr_b_193);
                                                            record_j_2556 = 
                                                                {checker = flatten_fun_j_2527, generator = flatten_fun_j_2553, wrapper = flatten_fun_j_2555};
                                                            proj_j_2557 = record_j_2556.checker;
                                                            var_j_2558 = height_j_131;
                                                            appl_j_2559 = proj_j_2557 var_j_2558;
                                                            lbl_check_b_182 = appl_j_2559;
                                                            var_j_2560 = lbl_check_b_182;
                                                            if_j_2594 = var_j_2560 ? (
                                                                    bool_j_2561 = false;
                                                                    fail_b_180 = bool_j_2561;
                                                                    flatten_fun_j_2570 = fun expr_b_179 -> (
                                                                    var_j_2562 = expr_b_179;
                                                                    m_match_bool_j_2564 = var_j_2562 ~ any;
                                                                    m_match_bool_j_2567 = var_j_2562 ~ int;
                                                                    m_match_cond_j_2568 = m_match_bool_j_2567 ? (
                                                                        bool_j_2569 = true
                                                                    ) : (
                                                                        m_match_cond_j_2565 = m_match_bool_j_2564 ? (
                                                                        var_j_2566 = fail_b_180
                                                                    ) : (
                                                                        void_j_2563 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2572 = fun bj_null_j_127 -> (
                                                                    input_j_2571 = input);
                                                                    flatten_fun_j_2574 = fun expr_b_181 -> (
                                                                    var_j_2573 = expr_b_181);
                                                                    record_j_2575 = 
                                                                    {checker = flatten_fun_j_2570, generator = flatten_fun_j_2572, wrapper = flatten_fun_j_2574};
                                                                    proj_j_2576 = record_j_2575.checker;
                                                                    var_j_2577 = item_j_130;
                                                                    appl_j_2578 = proj_j_2576 var_j_2577;
                                                                    lbl_check_b_178 = appl_j_2578;
                                                                    var_j_2579 = lbl_check_b_178;
                                                                    if_j_2592 = var_j_2579 ? (
                                                                        var_j_2580 = tt_j_251;
                                                                    proj_j_2581 = var_j_2580.checker;
                                                                    var_j_2582 = left_j_129;
                                                                    appl_j_2583 = proj_j_2581 var_j_2582;
                                                                    lbl_check_b_177 = appl_j_2583;
                                                                    var_j_2584 = lbl_check_b_177;
                                                                    if_j_2590 = var_j_2584 ? (
                                                                        var_j_2585 = tt_j_251;
                                                                    proj_j_2586 = var_j_2585.checker;
                                                                    var_j_2587 = right_j_128;
                                                                    appl_j_2588 = proj_j_2586 var_j_2587
                                                                    ) : (
                                                                        var_j_2589 = lbl_check_b_177
                                                                    )
                                                                    ) : (
                                                                        var_j_2591 = lbl_check_b_178
                                                                    )
                                                                ) : (
                                                                    var_j_2593 = lbl_check_b_182
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2495 = m_match_bool_j_2494 ? (
                                                                    var_j_2496 = rec_fail_b_173
                                                                ) : (
                                                                    void_j_2493 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2487 = m_match_bool_j_2486 ? (
                                                            var_j_2488 = rec_fail_b_174
                                                        ) : (
                                                            void_j_2485 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2479 = m_match_bool_j_2478 ? (
                                                    var_j_2480 = rec_fail_b_175
                                                ) : (
                                                    void_j_2477 = {}
                                                )
                                        ));
                                flatten_fun_j_2694 = fun bj_null_j_140 -> (
                                    var_j_2596 = tt_j_251;
                                    proj_j_2597 = var_j_2596.generator;
                                    int_j_2598 = 0;
                                    appl_j_2599 = proj_j_2597 int_j_2598;
                                    right_b_158 = appl_j_2599;
                                    var_j_2600 = tt_j_251;
                                    proj_j_2601 = var_j_2600.generator;
                                    int_j_2602 = 0;
                                    appl_j_2603 = proj_j_2601 int_j_2602;
                                    left_b_157 = appl_j_2603;
                                    bool_j_2604 = false;
                                    fail_b_171 = bool_j_2604;
                                    flatten_fun_j_2613 = fun expr_b_170 -> (
                                        var_j_2605 = expr_b_170;
                                        m_match_bool_j_2607 = var_j_2605 ~ any;
                                        m_match_bool_j_2610 = var_j_2605 ~ int;
                                        m_match_cond_j_2611 = m_match_bool_j_2610 ? (
                                                bool_j_2612 = true
                                            ) : (
                                                m_match_cond_j_2608 = m_match_bool_j_2607 ? (
                                                        var_j_2609 = fail_b_171
                                                    ) : (
                                                        void_j_2606 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2615 = fun bj_null_j_136 -> (
                                        input_j_2614 = input);
                                    flatten_fun_j_2617 = fun expr_b_172 -> (
                                        var_j_2616 = expr_b_172);
                                    record_j_2618 = {checker = flatten_fun_j_2613, generator = flatten_fun_j_2615, wrapper = flatten_fun_j_2617};
                                    proj_j_2619 = record_j_2618.generator;
                                    int_j_2620 = 0;
                                    appl_j_2621 = proj_j_2619 int_j_2620;
                                    item_b_156 = appl_j_2621;
                                    flatten_fun_j_2650 = fun expr_b_166 -> (
                                        bool_j_2622 = false;
                                        fail_b_164 = bool_j_2622;
                                        flatten_fun_j_2631 = fun expr_b_163 -> (
                                            var_j_2623 = expr_b_163;
                                            m_match_bool_j_2625 = var_j_2623 ~ any;
                                            m_match_bool_j_2628 = var_j_2623 ~ int;
                                            m_match_cond_j_2629 = m_match_bool_j_2628 ? (
                                                    bool_j_2630 = true
                                                ) : (
                                                    m_match_cond_j_2626 = m_match_bool_j_2625 ? (
                                                            var_j_2627 = fail_b_164
                                                        ) : (
                                                            void_j_2624 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2633 = fun bj_null_j_137 -> (
                                            input_j_2632 = input);
                                        flatten_fun_j_2635 = fun expr_b_165 -> (
                                            var_j_2634 = expr_b_165);
                                        record_j_2636 = {checker = flatten_fun_j_2631, generator = flatten_fun_j_2633, wrapper = flatten_fun_j_2635};
                                        proj_j_2637 = record_j_2636.checker;
                                        var_j_2638 = expr_b_166;
                                        appl_j_2639 = proj_j_2637 var_j_2638;
                                        t_check_b_167 = appl_j_2639;
                                        var_j_2640 = t_check_b_167;
                                        if_j_2649 = var_j_2640 ? (
                                                bool_j_2641 = false;
                                                pred_check_b_168 = bool_j_2641;
                                                var_j_2642 = is_pos;
                                                var_j_2643 = expr_b_166;
                                                appl_j_2644 = var_j_2642 var_j_2643;
                                                if_j_2647 = appl_j_2644 ? (
                                                        bool_j_2645 = true
                                                    ) : (
                                                        var_j_2646 = pred_check_b_168
                                                    )
                                            ) : (
                                                var_j_2648 = t_check_b_167
                                            ));
                                    flatten_fun_j_2676 = fun bj_null_j_139 -> (
                                        bool_j_2651 = false;
                                        fail_b_160 = bool_j_2651;
                                        flatten_fun_j_2660 = fun expr_b_159 -> (
                                            var_j_2652 = expr_b_159;
                                            m_match_bool_j_2654 = var_j_2652 ~ any;
                                            m_match_bool_j_2657 = var_j_2652 ~ int;
                                            m_match_cond_j_2658 = m_match_bool_j_2657 ? (
                                                    bool_j_2659 = true
                                                ) : (
                                                    m_match_cond_j_2655 = m_match_bool_j_2654 ? (
                                                            var_j_2656 = fail_b_160
                                                        ) : (
                                                            void_j_2653 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2662 = fun bj_null_j_138 -> (
                                            input_j_2661 = input);
                                        flatten_fun_j_2664 = fun expr_b_161 -> (
                                            var_j_2663 = expr_b_161);
                                        record_j_2665 = {checker = flatten_fun_j_2660, generator = flatten_fun_j_2662, wrapper = flatten_fun_j_2664};
                                        proj_j_2666 = record_j_2665.generator;
                                        int_j_2667 = 0;
                                        appl_j_2668 = proj_j_2666 int_j_2667;
                                        candidate_b_162 = appl_j_2668;
                                        var_j_2669 = is_pos;
                                        var_j_2670 = candidate_b_162;
                                        appl_j_2671 = var_j_2669 var_j_2670;
                                        if_j_2675 = appl_j_2671 ? (
                                                var_j_2672 = candidate_b_162
                                            ) : (
                                                bool_j_2673 = false;
                                                assume_j_2674 = assume bool_j_2673
                                            ));
                                    flatten_fun_j_2678 = fun expr_b_169 -> (
                                        var_j_2677 = expr_b_169);
                                    record_j_2679 = {checker = flatten_fun_j_2650, generator = flatten_fun_j_2676, wrapper = flatten_fun_j_2678};
                                    proj_j_2680 = record_j_2679.generator;
                                    int_j_2681 = 0;
                                    appl_j_2682 = proj_j_2680 int_j_2681;
                                    height_b_155 = appl_j_2682;
                                    var_j_2683 = height_b_155;
                                    var_j_2684 = item_b_156;
                                    var_j_2685 = left_b_157;
                                    var_j_2686 = right_b_158;
                                    record_j_2687 = {height = var_j_2683, item = var_j_2684, left = var_j_2685, right = var_j_2686};
                                    record_j_2688 = {};
                                    record_j_2689 = {};
                                    record_j_2690 = {};
                                    record_j_2691 = {};
                                    record_j_2692 = {height = record_j_2688, item = record_j_2689, left = record_j_2690, right = record_j_2691};
                                    record_j_2693 = {bj_actual_rec = record_j_2687, bj_decl_lbls = record_j_2692});
                                flatten_fun_j_2696 = fun expr_b_194 -> (
                                    var_j_2695 = expr_b_194);
                                record_j_2697 = {checker = flatten_fun_j_2595, generator = flatten_fun_j_2694, wrapper = flatten_fun_j_2696};
                                proj_j_2698 = record_j_2697.checker;
                                var_j_2699 = expr_b_195;
                                appl_j_2700 = proj_j_2698 var_j_2699;
                                t_check_b_196 = appl_j_2700;
                                var_j_2701 = t_check_b_196;
                                if_j_2765 = var_j_2701 ? (
                                        bool_j_2702 = false;
                                        pred_check_b_197 = bool_j_2702;
                                        flatten_fun_j_2758 = fun t_j_141 -> (
                                            var_j_2703 = t_j_141;
                                            proj_j_2704 = var_j_2703.bj_decl_lbls;
                                            m_match_bool_j_2706 = proj_j_2704 ~ any;
                                            m_match_bool_j_2713 = proj_j_2704 ~ 
                                                {height, _};
                                            m_match_cond_j_2714 = m_match_bool_j_2713 ? (
                                                    var_j_2715 = t_j_141;
                                                    proj_j_2716 = var_j_2715.bj_actual_rec;
                                                    proj_j_2717 = proj_j_2716.height
                                                ) : (
                                                    m_match_cond_j_2707 = m_match_bool_j_2706 ? (
                                                            bool_j_2708 = false;
                                                            assert_pred_j_2709 = bool_j_2708;
                                                            assert_res_j_2710 = assert_pred_j_2709 ? (
                                                                    assert_res_true_j_2711 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2712 = abort
                                                                )
                                                        ) : (
                                                            void_j_2705 = 
                                                                {}
                                                        )
                                                );
                                            var_j_2718 = max;
                                            var_j_2719 = height_j_356_j_401;
                                            var_j_2720 = t_j_141;
                                            proj_j_2721 = var_j_2720.bj_decl_lbls;
                                            m_match_bool_j_2723 = proj_j_2721 ~ any;
                                            m_match_bool_j_2730 = proj_j_2721 ~ 
                                                {left, _};
                                            m_match_cond_j_2731 = m_match_bool_j_2730 ? (
                                                    var_j_2732 = t_j_141;
                                                    proj_j_2733 = var_j_2732.bj_actual_rec;
                                                    proj_j_2734 = proj_j_2733.left
                                                ) : (
                                                    m_match_cond_j_2724 = m_match_bool_j_2723 ? (
                                                            bool_j_2725 = false;
                                                            assert_pred_j_2726 = bool_j_2725;
                                                            assert_res_j_2727 = assert_pred_j_2726 ? (
                                                                    assert_res_true_j_2728 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2729 = abort
                                                                )
                                                        ) : (
                                                            void_j_2722 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5819 = var_j_2719 ~ fun;
                                            appl_j_2735 = m_i_5819 ? (
                                                    c_appl_i_5820 = var_j_2719 m_match_cond_j_2731
                                                ) : (
                                                    ab_i_5821 = abort
                                                );
                                            m_i_5822 = var_j_2718 ~ fun;
                                            appl_j_2736 = m_i_5822 ? (
                                                    c_appl_i_5823 = var_j_2718 appl_j_2735
                                                ) : (
                                                    ab_i_5824 = abort
                                                );
                                            var_j_2737 = height_j_356_j_401;
                                            var_j_2738 = t_j_141;
                                            proj_j_2739 = var_j_2738.bj_decl_lbls;
                                            m_match_bool_j_2741 = proj_j_2739 ~ any;
                                            m_match_bool_j_2748 = proj_j_2739 ~ 
                                                {right, _};
                                            m_match_cond_j_2749 = m_match_bool_j_2748 ? (
                                                    var_j_2750 = t_j_141;
                                                    proj_j_2751 = var_j_2750.bj_actual_rec;
                                                    proj_j_2752 = proj_j_2751.right
                                                ) : (
                                                    m_match_cond_j_2742 = m_match_bool_j_2741 ? (
                                                            bool_j_2743 = false;
                                                            assert_pred_j_2744 = bool_j_2743;
                                                            assert_res_j_2745 = assert_pred_j_2744 ? (
                                                                    assert_res_true_j_2746 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2747 = abort
                                                                )
                                                        ) : (
                                                            void_j_2740 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5825 = var_j_2737 ~ fun;
                                            appl_j_2753 = m_i_5825 ? (
                                                    c_appl_i_5826 = var_j_2737 m_match_cond_j_2749
                                                ) : (
                                                    ab_i_5827 = abort
                                                );
                                            m_i_5828 = appl_j_2736 ~ fun;
                                            appl_j_2754 = m_i_5828 ? (
                                                    c_appl_i_5829 = appl_j_2736 appl_j_2753
                                                ) : (
                                                    ab_i_5830 = abort
                                                );
                                            int_j_2755 = 1;
                                            m_bl_i_5831 = appl_j_2754 ~ int;
                                            m_br_i_5832 = int_j_2755 ~ int;
                                            m_b_i_5833 = m_bl_i_5831 and m_br_i_5832;
                                            binop_j_2756 = m_b_i_5833 ? (
                                                    c_binop_i_5834 = appl_j_2754 + int_j_2755
                                                ) : (
                                                    ab_i_5835 = abort
                                                );
                                            m_bl_i_5836 = m_match_cond_j_2714 ~ int;
                                            m_br_i_5837 = binop_j_2756 ~ int;
                                            m_b_i_5838 = m_bl_i_5836 and m_br_i_5837;
                                            binop_j_2757 = m_b_i_5838 ? (
                                                    c_binop_i_5839 = m_match_cond_j_2714 == binop_j_2756
                                                ) : (
                                                    ab_i_5840 = abort
                                                ));
                                        var_j_2759 = expr_b_195;
                                        appl_j_2760 = flatten_fun_j_2758 var_j_2759;
                                        if_j_2763 = appl_j_2760 ? (
                                                bool_j_2761 = true
                                            ) : (
                                                var_j_2762 = pred_check_b_197
                                            )
                                    ) : (
                                        var_j_2764 = t_check_b_196
                                    ));
                            flatten_fun_j_3057 = fun bj_null_j_160 -> (
                                flatten_fun_j_2889 = fun expr_b_135 -> (
                                    bool_j_2767 = false;
                                    rec_fail_b_134 = bool_j_2767;
                                    bool_j_2768 = false;
                                    rec_fail_b_133 = bool_j_2768;
                                    bool_j_2769 = false;
                                    rec_fail_b_132 = bool_j_2769;
                                    var_j_2770 = expr_b_135;
                                    m_match_bool_j_2772 = var_j_2770 ~ any;
                                    m_match_bool_j_2775 = var_j_2770 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2776 = m_match_bool_j_2775 ? (
                                            var_j_2777 = expr_b_135;
                                            proj_j_2778 = var_j_2777.bj_decl_lbls;
                                            m_match_bool_j_2780 = proj_j_2778 ~ any;
                                            m_match_bool_j_2783 = proj_j_2778 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2784 = m_match_bool_j_2783 ? (
                                                    height_j_153 = proj_j_2778.height;
                                                    item_j_152 = proj_j_2778.item;
                                                    left_j_151 = proj_j_2778.left;
                                                    right_j_150 = proj_j_2778.right;
                                                    var_j_2785 = expr_b_135;
                                                    proj_j_2786 = var_j_2785.bj_actual_rec;
                                                    m_match_bool_j_2788 = proj_j_2786 ~ any;
                                                    m_match_bool_j_2791 = proj_j_2786 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2792 = m_match_bool_j_2791 ? (
                                                            height_j_149 = proj_j_2786.height;
                                                            item_j_148 = proj_j_2786.item;
                                                            left_j_147 = proj_j_2786.left;
                                                            right_j_146 = proj_j_2786.right;
                                                            flatten_fun_j_2821 = fun expr_b_149 -> (
                                                                bool_j_2793 = false;
                                                                fail_b_147 = bool_j_2793;
                                                                flatten_fun_j_2802 = fun expr_b_146 -> (
                                                                    var_j_2794 = expr_b_146;
                                                                    m_match_bool_j_2796 = var_j_2794 ~ any;
                                                                    m_match_bool_j_2799 = var_j_2794 ~ int;
                                                                    m_match_cond_j_2800 = m_match_bool_j_2799 ? (
                                                                        bool_j_2801 = true
                                                                    ) : (
                                                                        m_match_cond_j_2797 = m_match_bool_j_2796 ? (
                                                                        var_j_2798 = fail_b_147
                                                                    ) : (
                                                                        void_j_2795 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2804 = fun bj_null_j_142 -> (
                                                                    input_j_2803 = input);
                                                                flatten_fun_j_2806 = fun expr_b_148 -> (
                                                                    var_j_2805 = expr_b_148);
                                                                record_j_2807 = 
                                                                    {checker = flatten_fun_j_2802, generator = flatten_fun_j_2804, wrapper = flatten_fun_j_2806};
                                                                proj_j_2808 = record_j_2807.checker;
                                                                var_j_2809 = expr_b_149;
                                                                appl_j_2810 = proj_j_2808 var_j_2809;
                                                                t_check_b_150 = appl_j_2810;
                                                                var_j_2811 = t_check_b_150;
                                                                if_j_2820 = var_j_2811 ? (
                                                                        
                                                                    bool_j_2812 = false;
                                                                    pred_check_b_151 = bool_j_2812;
                                                                    var_j_2813 = is_pos;
                                                                    var_j_2814 = expr_b_149;
                                                                    appl_j_2815 = var_j_2813 var_j_2814;
                                                                    if_j_2818 = appl_j_2815 ? (
                                                                        bool_j_2816 = true
                                                                    ) : (
                                                                        var_j_2817 = pred_check_b_151
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2819 = t_check_b_150
                                                                    ));
                                                            flatten_fun_j_2847 = fun bj_null_j_144 -> (
                                                                bool_j_2822 = false;
                                                                fail_b_143 = bool_j_2822;
                                                                flatten_fun_j_2831 = fun expr_b_142 -> (
                                                                    var_j_2823 = expr_b_142;
                                                                    m_match_bool_j_2825 = var_j_2823 ~ any;
                                                                    m_match_bool_j_2828 = var_j_2823 ~ int;
                                                                    m_match_cond_j_2829 = m_match_bool_j_2828 ? (
                                                                        bool_j_2830 = true
                                                                    ) : (
                                                                        m_match_cond_j_2826 = m_match_bool_j_2825 ? (
                                                                        var_j_2827 = fail_b_143
                                                                    ) : (
                                                                        void_j_2824 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2833 = fun bj_null_j_143 -> (
                                                                    input_j_2832 = input);
                                                                flatten_fun_j_2835 = fun expr_b_144 -> (
                                                                    var_j_2834 = expr_b_144);
                                                                record_j_2836 = 
                                                                    {checker = flatten_fun_j_2831, generator = flatten_fun_j_2833, wrapper = flatten_fun_j_2835};
                                                                proj_j_2837 = record_j_2836.generator;
                                                                int_j_2838 = 0;
                                                                appl_j_2839 = proj_j_2837 int_j_2838;
                                                                candidate_b_145 = appl_j_2839;
                                                                var_j_2840 = is_pos;
                                                                var_j_2841 = candidate_b_145;
                                                                appl_j_2842 = var_j_2840 var_j_2841;
                                                                if_j_2846 = appl_j_2842 ? (
                                                                        
                                                                    var_j_2843 = candidate_b_145
                                                                    ) : (
                                                                        
                                                                    bool_j_2844 = false;
                                                                    assume_j_2845 = assume bool_j_2844
                                                                    ));
                                                            flatten_fun_j_2849 = fun expr_b_152 -> (
                                                                var_j_2848 = expr_b_152);
                                                            record_j_2850 = 
                                                                {checker = flatten_fun_j_2821, generator = flatten_fun_j_2847, wrapper = flatten_fun_j_2849};
                                                            proj_j_2851 = record_j_2850.checker;
                                                            var_j_2852 = height_j_149;
                                                            appl_j_2853 = proj_j_2851 var_j_2852;
                                                            lbl_check_b_141 = appl_j_2853;
                                                            var_j_2854 = lbl_check_b_141;
                                                            if_j_2888 = var_j_2854 ? (
                                                                    bool_j_2855 = false;
                                                                    fail_b_139 = bool_j_2855;
                                                                    flatten_fun_j_2864 = fun expr_b_138 -> (
                                                                    var_j_2856 = expr_b_138;
                                                                    m_match_bool_j_2858 = var_j_2856 ~ any;
                                                                    m_match_bool_j_2861 = var_j_2856 ~ int;
                                                                    m_match_cond_j_2862 = m_match_bool_j_2861 ? (
                                                                        bool_j_2863 = true
                                                                    ) : (
                                                                        m_match_cond_j_2859 = m_match_bool_j_2858 ? (
                                                                        var_j_2860 = fail_b_139
                                                                    ) : (
                                                                        void_j_2857 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2866 = fun bj_null_j_145 -> (
                                                                    input_j_2865 = input);
                                                                    flatten_fun_j_2868 = fun expr_b_140 -> (
                                                                    var_j_2867 = expr_b_140);
                                                                    record_j_2869 = 
                                                                    {checker = flatten_fun_j_2864, generator = flatten_fun_j_2866, wrapper = flatten_fun_j_2868};
                                                                    proj_j_2870 = record_j_2869.checker;
                                                                    var_j_2871 = item_j_148;
                                                                    appl_j_2872 = proj_j_2870 var_j_2871;
                                                                    lbl_check_b_137 = appl_j_2872;
                                                                    var_j_2873 = lbl_check_b_137;
                                                                    if_j_2886 = var_j_2873 ? (
                                                                        var_j_2874 = tt_j_251;
                                                                    proj_j_2875 = var_j_2874.checker;
                                                                    var_j_2876 = left_j_147;
                                                                    appl_j_2877 = proj_j_2875 var_j_2876;
                                                                    lbl_check_b_136 = appl_j_2877;
                                                                    var_j_2878 = lbl_check_b_136;
                                                                    if_j_2884 = var_j_2878 ? (
                                                                        var_j_2879 = tt_j_251;
                                                                    proj_j_2880 = var_j_2879.checker;
                                                                    var_j_2881 = right_j_146;
                                                                    appl_j_2882 = proj_j_2880 var_j_2881
                                                                    ) : (
                                                                        var_j_2883 = lbl_check_b_136
                                                                    )
                                                                    ) : (
                                                                        var_j_2885 = lbl_check_b_137
                                                                    )
                                                                ) : (
                                                                    var_j_2887 = lbl_check_b_141
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2789 = m_match_bool_j_2788 ? (
                                                                    var_j_2790 = rec_fail_b_132
                                                                ) : (
                                                                    void_j_2787 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2781 = m_match_bool_j_2780 ? (
                                                            var_j_2782 = rec_fail_b_133
                                                        ) : (
                                                            void_j_2779 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2773 = m_match_bool_j_2772 ? (
                                                    var_j_2774 = rec_fail_b_134
                                                ) : (
                                                    void_j_2771 = {}
                                                )
                                        ));
                                flatten_fun_j_2988 = fun bj_null_j_158 -> (
                                    var_j_2890 = tt_j_251;
                                    proj_j_2891 = var_j_2890.generator;
                                    int_j_2892 = 0;
                                    appl_j_2893 = proj_j_2891 int_j_2892;
                                    right_b_117 = appl_j_2893;
                                    var_j_2894 = tt_j_251;
                                    proj_j_2895 = var_j_2894.generator;
                                    int_j_2896 = 0;
                                    appl_j_2897 = proj_j_2895 int_j_2896;
                                    left_b_116 = appl_j_2897;
                                    bool_j_2898 = false;
                                    fail_b_130 = bool_j_2898;
                                    flatten_fun_j_2907 = fun expr_b_129 -> (
                                        var_j_2899 = expr_b_129;
                                        m_match_bool_j_2901 = var_j_2899 ~ any;
                                        m_match_bool_j_2904 = var_j_2899 ~ int;
                                        m_match_cond_j_2905 = m_match_bool_j_2904 ? (
                                                bool_j_2906 = true
                                            ) : (
                                                m_match_cond_j_2902 = m_match_bool_j_2901 ? (
                                                        var_j_2903 = fail_b_130
                                                    ) : (
                                                        void_j_2900 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2909 = fun bj_null_j_154 -> (
                                        input_j_2908 = input);
                                    flatten_fun_j_2911 = fun expr_b_131 -> (
                                        var_j_2910 = expr_b_131);
                                    record_j_2912 = {checker = flatten_fun_j_2907, generator = flatten_fun_j_2909, wrapper = flatten_fun_j_2911};
                                    proj_j_2913 = record_j_2912.generator;
                                    int_j_2914 = 0;
                                    appl_j_2915 = proj_j_2913 int_j_2914;
                                    item_b_115 = appl_j_2915;
                                    flatten_fun_j_2944 = fun expr_b_125 -> (
                                        bool_j_2916 = false;
                                        fail_b_123 = bool_j_2916;
                                        flatten_fun_j_2925 = fun expr_b_122 -> (
                                            var_j_2917 = expr_b_122;
                                            m_match_bool_j_2919 = var_j_2917 ~ any;
                                            m_match_bool_j_2922 = var_j_2917 ~ int;
                                            m_match_cond_j_2923 = m_match_bool_j_2922 ? (
                                                    bool_j_2924 = true
                                                ) : (
                                                    m_match_cond_j_2920 = m_match_bool_j_2919 ? (
                                                            var_j_2921 = fail_b_123
                                                        ) : (
                                                            void_j_2918 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2927 = fun bj_null_j_155 -> (
                                            input_j_2926 = input);
                                        flatten_fun_j_2929 = fun expr_b_124 -> (
                                            var_j_2928 = expr_b_124);
                                        record_j_2930 = {checker = flatten_fun_j_2925, generator = flatten_fun_j_2927, wrapper = flatten_fun_j_2929};
                                        proj_j_2931 = record_j_2930.checker;
                                        var_j_2932 = expr_b_125;
                                        appl_j_2933 = proj_j_2931 var_j_2932;
                                        t_check_b_126 = appl_j_2933;
                                        var_j_2934 = t_check_b_126;
                                        if_j_2943 = var_j_2934 ? (
                                                bool_j_2935 = false;
                                                pred_check_b_127 = bool_j_2935;
                                                var_j_2936 = is_pos;
                                                var_j_2937 = expr_b_125;
                                                appl_j_2938 = var_j_2936 var_j_2937;
                                                if_j_2941 = appl_j_2938 ? (
                                                        bool_j_2939 = true
                                                    ) : (
                                                        var_j_2940 = pred_check_b_127
                                                    )
                                            ) : (
                                                var_j_2942 = t_check_b_126
                                            ));
                                    flatten_fun_j_2970 = fun bj_null_j_157 -> (
                                        bool_j_2945 = false;
                                        fail_b_119 = bool_j_2945;
                                        flatten_fun_j_2954 = fun expr_b_118 -> (
                                            var_j_2946 = expr_b_118;
                                            m_match_bool_j_2948 = var_j_2946 ~ any;
                                            m_match_bool_j_2951 = var_j_2946 ~ int;
                                            m_match_cond_j_2952 = m_match_bool_j_2951 ? (
                                                    bool_j_2953 = true
                                                ) : (
                                                    m_match_cond_j_2949 = m_match_bool_j_2948 ? (
                                                            var_j_2950 = fail_b_119
                                                        ) : (
                                                            void_j_2947 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2956 = fun bj_null_j_156 -> (
                                            input_j_2955 = input);
                                        flatten_fun_j_2958 = fun expr_b_120 -> (
                                            var_j_2957 = expr_b_120);
                                        record_j_2959 = {checker = flatten_fun_j_2954, generator = flatten_fun_j_2956, wrapper = flatten_fun_j_2958};
                                        proj_j_2960 = record_j_2959.generator;
                                        int_j_2961 = 0;
                                        appl_j_2962 = proj_j_2960 int_j_2961;
                                        candidate_b_121 = appl_j_2962;
                                        var_j_2963 = is_pos;
                                        var_j_2964 = candidate_b_121;
                                        appl_j_2965 = var_j_2963 var_j_2964;
                                        if_j_2969 = appl_j_2965 ? (
                                                var_j_2966 = candidate_b_121
                                            ) : (
                                                bool_j_2967 = false;
                                                assume_j_2968 = assume bool_j_2967
                                            ));
                                    flatten_fun_j_2972 = fun expr_b_128 -> (
                                        var_j_2971 = expr_b_128);
                                    record_j_2973 = {checker = flatten_fun_j_2944, generator = flatten_fun_j_2970, wrapper = flatten_fun_j_2972};
                                    proj_j_2974 = record_j_2973.generator;
                                    int_j_2975 = 0;
                                    appl_j_2976 = proj_j_2974 int_j_2975;
                                    height_b_114 = appl_j_2976;
                                    var_j_2977 = height_b_114;
                                    var_j_2978 = item_b_115;
                                    var_j_2979 = left_b_116;
                                    var_j_2980 = right_b_117;
                                    record_j_2981 = {height = var_j_2977, item = var_j_2978, left = var_j_2979, right = var_j_2980};
                                    record_j_2982 = {};
                                    record_j_2983 = {};
                                    record_j_2984 = {};
                                    record_j_2985 = {};
                                    record_j_2986 = {height = record_j_2982, item = record_j_2983, left = record_j_2984, right = record_j_2985};
                                    record_j_2987 = {bj_actual_rec = record_j_2981, bj_decl_lbls = record_j_2986});
                                flatten_fun_j_2990 = fun expr_b_153 -> (
                                    var_j_2989 = expr_b_153);
                                record_j_2991 = {checker = flatten_fun_j_2889, generator = flatten_fun_j_2988, wrapper = flatten_fun_j_2990};
                                proj_j_2992 = record_j_2991.generator;
                                int_j_2993 = 0;
                                appl_j_2994 = proj_j_2992 int_j_2993;
                                candidate_b_154 = appl_j_2994;
                                flatten_fun_j_3050 = fun t_j_159 -> (
                                    var_j_2995 = t_j_159;
                                    proj_j_2996 = var_j_2995.bj_decl_lbls;
                                    m_match_bool_j_2998 = proj_j_2996 ~ any;
                                    m_match_bool_j_3005 = proj_j_2996 ~ 
                                        {height, _};
                                    m_match_cond_j_3006 = m_match_bool_j_3005 ? (
                                            var_j_3007 = t_j_159;
                                            proj_j_3008 = var_j_3007.bj_actual_rec;
                                            proj_j_3009 = proj_j_3008.height
                                        ) : (
                                            m_match_cond_j_2999 = m_match_bool_j_2998 ? (
                                                    bool_j_3000 = false;
                                                    assert_pred_j_3001 = bool_j_3000;
                                                    assert_res_j_3002 = assert_pred_j_3001 ? (
                                                            assert_res_true_j_3003 = 
                                                                {}
                                                        ) : (
                                                            ab_j_3004 = abort
                                                        )
                                                ) : (
                                                    void_j_2997 = {}
                                                )
                                        );
                                    var_j_3010 = max;
                                    var_j_3011 = height_j_356_j_401;
                                    var_j_3012 = t_j_159;
                                    proj_j_3013 = var_j_3012.bj_decl_lbls;
                                    m_match_bool_j_3015 = proj_j_3013 ~ any;
                                    m_match_bool_j_3022 = proj_j_3013 ~ 
                                        {left, _};
                                    m_match_cond_j_3023 = m_match_bool_j_3022 ? (
                                            var_j_3024 = t_j_159;
                                            proj_j_3025 = var_j_3024.bj_actual_rec;
                                            proj_j_3026 = proj_j_3025.left
                                        ) : (
                                            m_match_cond_j_3016 = m_match_bool_j_3015 ? (
                                                    bool_j_3017 = false;
                                                    assert_pred_j_3018 = bool_j_3017;
                                                    assert_res_j_3019 = assert_pred_j_3018 ? (
                                                            assert_res_true_j_3020 = 
                                                                {}
                                                        ) : (
                                                            ab_j_3021 = abort
                                                        )
                                                ) : (
                                                    void_j_3014 = {}
                                                )
                                        );
                                    m_i_5841 = var_j_3011 ~ fun;
                                    appl_j_3027 = m_i_5841 ? (
                                            c_appl_i_5842 = var_j_3011 m_match_cond_j_3023
                                        ) : (
                                            ab_i_5843 = abort
                                        );
                                    m_i_5844 = var_j_3010 ~ fun;
                                    appl_j_3028 = m_i_5844 ? (
                                            c_appl_i_5845 = var_j_3010 appl_j_3027
                                        ) : (
                                            ab_i_5846 = abort
                                        );
                                    var_j_3029 = height_j_356_j_401;
                                    var_j_3030 = t_j_159;
                                    proj_j_3031 = var_j_3030.bj_decl_lbls;
                                    m_match_bool_j_3033 = proj_j_3031 ~ any;
                                    m_match_bool_j_3040 = proj_j_3031 ~ 
                                        {right, _};
                                    m_match_cond_j_3041 = m_match_bool_j_3040 ? (
                                            var_j_3042 = t_j_159;
                                            proj_j_3043 = var_j_3042.bj_actual_rec;
                                            proj_j_3044 = proj_j_3043.right
                                        ) : (
                                            m_match_cond_j_3034 = m_match_bool_j_3033 ? (
                                                    bool_j_3035 = false;
                                                    assert_pred_j_3036 = bool_j_3035;
                                                    assert_res_j_3037 = assert_pred_j_3036 ? (
                                                            assert_res_true_j_3038 = 
                                                                {}
                                                        ) : (
                                                            ab_j_3039 = abort
                                                        )
                                                ) : (
                                                    void_j_3032 = {}
                                                )
                                        );
                                    m_i_5847 = var_j_3029 ~ fun;
                                    appl_j_3045 = m_i_5847 ? (
                                            c_appl_i_5848 = var_j_3029 m_match_cond_j_3041
                                        ) : (
                                            ab_i_5849 = abort
                                        );
                                    m_i_5850 = appl_j_3028 ~ fun;
                                    appl_j_3046 = m_i_5850 ? (
                                            c_appl_i_5851 = appl_j_3028 appl_j_3045
                                        ) : (
                                            ab_i_5852 = abort
                                        );
                                    int_j_3047 = 1;
                                    m_bl_i_5853 = appl_j_3046 ~ int;
                                    m_br_i_5854 = int_j_3047 ~ int;
                                    m_b_i_5855 = m_bl_i_5853 and m_br_i_5854;
                                    binop_j_3048 = m_b_i_5855 ? (
                                            c_binop_i_5856 = appl_j_3046 + int_j_3047
                                        ) : (
                                            ab_i_5857 = abort
                                        );
                                    m_bl_i_5858 = m_match_cond_j_3006 ~ int;
                                    m_br_i_5859 = binop_j_3048 ~ int;
                                    m_b_i_5860 = m_bl_i_5858 and m_br_i_5859;
                                    binop_j_3049 = m_b_i_5860 ? (
                                            c_binop_i_5861 = m_match_cond_j_3006 == binop_j_3048
                                        ) : (
                                            ab_i_5862 = abort
                                        ));
                                var_j_3051 = candidate_b_154;
                                appl_j_3052 = flatten_fun_j_3050 var_j_3051;
                                if_j_3056 = appl_j_3052 ? (
                                        var_j_3053 = candidate_b_154
                                    ) : (
                                        bool_j_3054 = false;
                                        assume_j_3055 = assume bool_j_3054
                                    ));
                            flatten_fun_j_3059 = fun expr_b_198 -> (
                                var_j_3058 = expr_b_198);
                            record_j_3060 = {checker = flatten_fun_j_2766, generator = flatten_fun_j_3057, wrapper = flatten_fun_j_3059};
                            proj_j_3061 = record_j_3060.checker;
                            var_j_3062 = expr_b_308;
                            appl_j_3063 = proj_j_3061 var_j_3062;
                            if_j_3147 = appl_j_3063 ? (
                                    bool_j_3064 = true
                                ) : (
                                    flatten_fun_j_3111 = fun expr_b_206 -> (
                                        bool_j_3065 = false;
                                        rec_fail_b_205 = bool_j_3065;
                                        bool_j_3066 = false;
                                        rec_fail_b_204 = bool_j_3066;
                                        bool_j_3067 = false;
                                        rec_fail_b_203 = bool_j_3067;
                                        var_j_3068 = expr_b_206;
                                        m_match_bool_j_3070 = var_j_3068 ~ any;
                                        m_match_bool_j_3073 = var_j_3068 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_3074 = m_match_bool_j_3073 ? (
                                                var_j_3075 = expr_b_206;
                                                proj_j_3076 = var_j_3075.bj_decl_lbls;
                                                m_match_bool_j_3078 = proj_j_3076 ~ any;
                                                m_match_bool_j_3081 = proj_j_3076 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_3082 = m_match_bool_j_3081 ? (
                                                        leaf_j_163 = proj_j_3076.leaf;
                                                        var_j_3083 = expr_b_206;
                                                        proj_j_3084 = var_j_3083.bj_actual_rec;
                                                        m_match_bool_j_3086 = proj_j_3084 ~ any;
                                                        m_match_bool_j_3089 = proj_j_3084 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_3090 = m_match_bool_j_3089 ? (
                                                                leaf_j_162 = proj_j_3084.leaf;
                                                                bool_j_3091 = false;
                                                                fail_b_208 = bool_j_3091;
                                                                flatten_fun_j_3100 = fun expr_b_207 -> (
                                                                    var_j_3092 = expr_b_207;
                                                                    m_match_bool_j_3094 = var_j_3092 ~ any;
                                                                    m_match_bool_j_3097 = var_j_3092 ~ bool;
                                                                    m_match_cond_j_3098 = m_match_bool_j_3097 ? (
                                                                        bool_j_3099 = true
                                                                    ) : (
                                                                        m_match_cond_j_3095 = m_match_bool_j_3094 ? (
                                                                        var_j_3096 = fail_b_208
                                                                    ) : (
                                                                        void_j_3093 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3104 = fun bj_null_j_161 -> (
                                                                    int_j_3101 = 0;
                                                                    input_j_3102 = input;
                                                                    m_bl_i_5863 = int_j_3101 ~ int;
                                                                    m_br_i_5864 = input_j_3102 ~ int;
                                                                    m_b_i_5865 = m_bl_i_5863 and m_br_i_5864;
                                                                    binop_j_3103 = m_b_i_5865 ? (
                                                                        c_binop_i_5866 = int_j_3101 <= input_j_3102
                                                                    ) : (
                                                                        ab_i_5867 = abort
                                                                    ));
                                                                flatten_fun_j_3106 = fun expr_b_209 -> (
                                                                    var_j_3105 = expr_b_209);
                                                                record_j_3107 = 
                                                                    {checker = flatten_fun_j_3100, generator = flatten_fun_j_3104, wrapper = flatten_fun_j_3106};
                                                                proj_j_3108 = record_j_3107.checker;
                                                                var_j_3109 = leaf_j_162;
                                                                appl_j_3110 = proj_j_3108 var_j_3109
                                                            ) : (
                                                                m_match_cond_j_3087 = m_match_bool_j_3086 ? (
                                                                        
                                                                    var_j_3088 = rec_fail_b_203
                                                                    ) : (
                                                                        
                                                                    void_j_3085 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_3079 = m_match_bool_j_3078 ? (
                                                                var_j_3080 = rec_fail_b_204
                                                            ) : (
                                                                void_j_3077 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_3071 = m_match_bool_j_3070 ? (
                                                        var_j_3072 = rec_fail_b_205
                                                    ) : (
                                                        void_j_3069 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_3137 = fun bj_null_j_165 -> (
                                        bool_j_3112 = false;
                                        fail_b_201 = bool_j_3112;
                                        flatten_fun_j_3121 = fun expr_b_200 -> (
                                            var_j_3113 = expr_b_200;
                                            m_match_bool_j_3115 = var_j_3113 ~ any;
                                            m_match_bool_j_3118 = var_j_3113 ~ bool;
                                            m_match_cond_j_3119 = m_match_bool_j_3118 ? (
                                                    bool_j_3120 = true
                                                ) : (
                                                    m_match_cond_j_3116 = m_match_bool_j_3115 ? (
                                                            var_j_3117 = fail_b_201
                                                        ) : (
                                                            void_j_3114 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3125 = fun bj_null_j_164 -> (
                                            int_j_3122 = 0;
                                            input_j_3123 = input;
                                            m_bl_i_5868 = int_j_3122 ~ int;
                                            m_br_i_5869 = input_j_3123 ~ int;
                                            m_b_i_5870 = m_bl_i_5868 and m_br_i_5869;
                                            binop_j_3124 = m_b_i_5870 ? (
                                                    c_binop_i_5871 = int_j_3122 <= input_j_3123
                                                ) : (
                                                    ab_i_5872 = abort
                                                ));
                                        flatten_fun_j_3127 = fun expr_b_202 -> (
                                            var_j_3126 = expr_b_202);
                                        record_j_3128 = {checker = flatten_fun_j_3121, generator = flatten_fun_j_3125, wrapper = flatten_fun_j_3127};
                                        proj_j_3129 = record_j_3128.generator;
                                        int_j_3130 = 0;
                                        appl_j_3131 = proj_j_3129 int_j_3130;
                                        leaf_b_199 = appl_j_3131;
                                        var_j_3132 = leaf_b_199;
                                        record_j_3133 = {leaf = var_j_3132};
                                        record_j_3134 = {};
                                        record_j_3135 = {leaf = record_j_3134};
                                        record_j_3136 = {bj_actual_rec = record_j_3133, bj_decl_lbls = record_j_3135});
                                    flatten_fun_j_3139 = fun expr_b_210 -> (
                                        var_j_3138 = expr_b_210);
                                    record_j_3140 = {checker = flatten_fun_j_3111, generator = flatten_fun_j_3137, wrapper = flatten_fun_j_3139};
                                    proj_j_3141 = record_j_3140.checker;
                                    var_j_3142 = expr_b_308;
                                    appl_j_3143 = proj_j_3141 var_j_3142;
                                    if_j_3146 = appl_j_3143 ? (
                                            bool_j_3144 = true
                                        ) : (
                                            var_j_3145 = fail_b_310
                                        )
                                )
                        ) : (
                            flatten_fun_j_3194 = fun expr_b_303 -> (
                                bool_j_3148 = false;
                                rec_fail_b_302 = bool_j_3148;
                                bool_j_3149 = false;
                                rec_fail_b_301 = bool_j_3149;
                                bool_j_3150 = false;
                                rec_fail_b_300 = bool_j_3150;
                                var_j_3151 = expr_b_303;
                                m_match_bool_j_3153 = var_j_3151 ~ any;
                                m_match_bool_j_3156 = var_j_3151 ~ {bj_actual_rec, _};
                                m_match_cond_j_3157 = m_match_bool_j_3156 ? (
                                        var_j_3158 = expr_b_303;
                                        proj_j_3159 = var_j_3158.bj_decl_lbls;
                                        m_match_bool_j_3161 = proj_j_3159 ~ any;
                                        m_match_bool_j_3164 = proj_j_3159 ~ 
                                            {leaf, _};
                                        m_match_cond_j_3165 = m_match_bool_j_3164 ? (
                                                leaf_j_168 = proj_j_3159.leaf;
                                                var_j_3166 = expr_b_303;
                                                proj_j_3167 = var_j_3166.bj_actual_rec;
                                                m_match_bool_j_3169 = proj_j_3167 ~ any;
                                                m_match_bool_j_3172 = proj_j_3167 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_3173 = m_match_bool_j_3172 ? (
                                                        leaf_j_167 = proj_j_3167.leaf;
                                                        bool_j_3174 = false;
                                                        fail_b_305 = bool_j_3174;
                                                        flatten_fun_j_3183 = fun expr_b_304 -> (
                                                            var_j_3175 = expr_b_304;
                                                            m_match_bool_j_3177 = var_j_3175 ~ any;
                                                            m_match_bool_j_3180 = var_j_3175 ~ bool;
                                                            m_match_cond_j_3181 = m_match_bool_j_3180 ? (
                                                                    bool_j_3182 = true
                                                                ) : (
                                                                    m_match_cond_j_3178 = m_match_bool_j_3177 ? (
                                                                        var_j_3179 = fail_b_305
                                                                    ) : (
                                                                        void_j_3176 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_3187 = fun bj_null_j_166 -> (
                                                            int_j_3184 = 0;
                                                            input_j_3185 = input;
                                                            m_bl_i_5873 = int_j_3184 ~ int;
                                                            m_br_i_5874 = input_j_3185 ~ int;
                                                            m_b_i_5875 = m_bl_i_5873 and m_br_i_5874;
                                                            binop_j_3186 = m_b_i_5875 ? (
                                                                    c_binop_i_5876 = int_j_3184 <= input_j_3185
                                                                ) : (
                                                                    ab_i_5877 = abort
                                                                ));
                                                        flatten_fun_j_3189 = fun expr_b_306 -> (
                                                            var_j_3188 = expr_b_306);
                                                        record_j_3190 = 
                                                            {checker = flatten_fun_j_3183, generator = flatten_fun_j_3187, wrapper = flatten_fun_j_3189};
                                                        proj_j_3191 = record_j_3190.checker;
                                                        var_j_3192 = leaf_j_167;
                                                        appl_j_3193 = proj_j_3191 var_j_3192
                                                    ) : (
                                                        m_match_cond_j_3170 = m_match_bool_j_3169 ? (
                                                                var_j_3171 = rec_fail_b_300
                                                            ) : (
                                                                void_j_3168 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_3162 = m_match_bool_j_3161 ? (
                                                        var_j_3163 = rec_fail_b_301
                                                    ) : (
                                                        void_j_3160 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_3154 = m_match_bool_j_3153 ? (
                                                var_j_3155 = rec_fail_b_302
                                            ) : (
                                                void_j_3152 = {}
                                            )
                                    ));
                            flatten_fun_j_3220 = fun bj_null_j_170 -> (
                                bool_j_3195 = false;
                                fail_b_298 = bool_j_3195;
                                flatten_fun_j_3204 = fun expr_b_297 -> (
                                    var_j_3196 = expr_b_297;
                                    m_match_bool_j_3198 = var_j_3196 ~ any;
                                    m_match_bool_j_3201 = var_j_3196 ~ bool;
                                    m_match_cond_j_3202 = m_match_bool_j_3201 ? (
                                            bool_j_3203 = true
                                        ) : (
                                            m_match_cond_j_3199 = m_match_bool_j_3198 ? (
                                                    var_j_3200 = fail_b_298
                                                ) : (
                                                    void_j_3197 = {}
                                                )
                                        ));
                                flatten_fun_j_3208 = fun bj_null_j_169 -> (
                                    int_j_3205 = 0;
                                    input_j_3206 = input;
                                    m_bl_i_5878 = int_j_3205 ~ int;
                                    m_br_i_5879 = input_j_3206 ~ int;
                                    m_b_i_5880 = m_bl_i_5878 and m_br_i_5879;
                                    binop_j_3207 = m_b_i_5880 ? (
                                            c_binop_i_5881 = int_j_3205 <= input_j_3206
                                        ) : (
                                            ab_i_5882 = abort
                                        ));
                                flatten_fun_j_3210 = fun expr_b_299 -> (
                                    var_j_3209 = expr_b_299);
                                record_j_3211 = {checker = flatten_fun_j_3204, generator = flatten_fun_j_3208, wrapper = flatten_fun_j_3210};
                                proj_j_3212 = record_j_3211.generator;
                                int_j_3213 = 0;
                                appl_j_3214 = proj_j_3212 int_j_3213;
                                leaf_b_296 = appl_j_3214;
                                var_j_3215 = leaf_b_296;
                                record_j_3216 = {leaf = var_j_3215};
                                record_j_3217 = {};
                                record_j_3218 = {leaf = record_j_3217};
                                record_j_3219 = {bj_actual_rec = record_j_3216, bj_decl_lbls = record_j_3218});
                            flatten_fun_j_3222 = fun expr_b_307 -> (
                                var_j_3221 = expr_b_307);
                            record_j_3223 = {checker = flatten_fun_j_3194, generator = flatten_fun_j_3220, wrapper = flatten_fun_j_3222};
                            proj_j_3224 = record_j_3223.checker;
                            var_j_3225 = expr_b_308;
                            appl_j_3226 = proj_j_3224 var_j_3225;
                            if_j_3822 = appl_j_3226 ? (
                                    bool_j_3227 = true
                                ) : (
                                    flatten_fun_j_3521 = fun expr_b_292 -> (
                                        flatten_fun_j_3350 = fun expr_b_273 -> (
                                            bool_j_3228 = false;
                                            rec_fail_b_272 = bool_j_3228;
                                            bool_j_3229 = false;
                                            rec_fail_b_271 = bool_j_3229;
                                            bool_j_3230 = false;
                                            rec_fail_b_270 = bool_j_3230;
                                            var_j_3231 = expr_b_273;
                                            m_match_bool_j_3233 = var_j_3231 ~ any;
                                            m_match_bool_j_3236 = var_j_3231 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_3237 = m_match_bool_j_3236 ? (
                                                    var_j_3238 = expr_b_273;
                                                    proj_j_3239 = var_j_3238.bj_decl_lbls;
                                                    m_match_bool_j_3241 = proj_j_3239 ~ any;
                                                    m_match_bool_j_3244 = proj_j_3239 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3245 = m_match_bool_j_3244 ? (
                                                            height_j_182 = proj_j_3239.height;
                                                            item_j_181 = proj_j_3239.item;
                                                            left_j_180 = proj_j_3239.left;
                                                            right_j_179 = proj_j_3239.right;
                                                            var_j_3246 = expr_b_273;
                                                            proj_j_3247 = var_j_3246.bj_actual_rec;
                                                            m_match_bool_j_3249 = proj_j_3247 ~ any;
                                                            m_match_bool_j_3252 = proj_j_3247 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_3253 = m_match_bool_j_3252 ? (
                                                                    height_j_178 = proj_j_3247.height;
                                                                    item_j_177 = proj_j_3247.item;
                                                                    left_j_176 = proj_j_3247.left;
                                                                    right_j_175 = proj_j_3247.right;
                                                                    flatten_fun_j_3282 = fun expr_b_287 -> (
                                                                    bool_j_3254 = false;
                                                                    fail_b_285 = bool_j_3254;
                                                                    flatten_fun_j_3263 = fun expr_b_284 -> (
                                                                    var_j_3255 = expr_b_284;
                                                                    m_match_bool_j_3257 = var_j_3255 ~ any;
                                                                    m_match_bool_j_3260 = var_j_3255 ~ int;
                                                                    m_match_cond_j_3261 = m_match_bool_j_3260 ? (
                                                                        bool_j_3262 = true
                                                                    ) : (
                                                                        m_match_cond_j_3258 = m_match_bool_j_3257 ? (
                                                                        var_j_3259 = fail_b_285
                                                                    ) : (
                                                                        void_j_3256 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3265 = fun bj_null_j_171 -> (
                                                                    input_j_3264 = input);
                                                                    flatten_fun_j_3267 = fun expr_b_286 -> (
                                                                    var_j_3266 = expr_b_286);
                                                                    record_j_3268 = 
                                                                    {checker = flatten_fun_j_3263, generator = flatten_fun_j_3265, wrapper = flatten_fun_j_3267};
                                                                    proj_j_3269 = record_j_3268.checker;
                                                                    var_j_3270 = expr_b_287;
                                                                    appl_j_3271 = proj_j_3269 var_j_3270;
                                                                    t_check_b_288 = appl_j_3271;
                                                                    var_j_3272 = t_check_b_288;
                                                                    if_j_3281 = var_j_3272 ? (
                                                                        bool_j_3273 = false;
                                                                    pred_check_b_289 = bool_j_3273;
                                                                    var_j_3274 = is_pos;
                                                                    var_j_3275 = expr_b_287;
                                                                    appl_j_3276 = var_j_3274 var_j_3275;
                                                                    if_j_3279 = appl_j_3276 ? (
                                                                        bool_j_3277 = true
                                                                    ) : (
                                                                        var_j_3278 = pred_check_b_289
                                                                    )
                                                                    ) : (
                                                                        var_j_3280 = t_check_b_288
                                                                    ));
                                                                    flatten_fun_j_3308 = fun bj_null_j_173 -> (
                                                                    bool_j_3283 = false;
                                                                    fail_b_281 = bool_j_3283;
                                                                    flatten_fun_j_3292 = fun expr_b_280 -> (
                                                                    var_j_3284 = expr_b_280;
                                                                    m_match_bool_j_3286 = var_j_3284 ~ any;
                                                                    m_match_bool_j_3289 = var_j_3284 ~ int;
                                                                    m_match_cond_j_3290 = m_match_bool_j_3289 ? (
                                                                        bool_j_3291 = true
                                                                    ) : (
                                                                        m_match_cond_j_3287 = m_match_bool_j_3286 ? (
                                                                        var_j_3288 = fail_b_281
                                                                    ) : (
                                                                        void_j_3285 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3294 = fun bj_null_j_172 -> (
                                                                    input_j_3293 = input);
                                                                    flatten_fun_j_3296 = fun expr_b_282 -> (
                                                                    var_j_3295 = expr_b_282);
                                                                    record_j_3297 = 
                                                                    {checker = flatten_fun_j_3292, generator = flatten_fun_j_3294, wrapper = flatten_fun_j_3296};
                                                                    proj_j_3298 = record_j_3297.generator;
                                                                    int_j_3299 = 0;
                                                                    appl_j_3300 = proj_j_3298 int_j_3299;
                                                                    candidate_b_283 = appl_j_3300;
                                                                    var_j_3301 = is_pos;
                                                                    var_j_3302 = candidate_b_283;
                                                                    appl_j_3303 = var_j_3301 var_j_3302;
                                                                    if_j_3307 = appl_j_3303 ? (
                                                                        var_j_3304 = candidate_b_283
                                                                    ) : (
                                                                        bool_j_3305 = false;
                                                                    assume_j_3306 = assume bool_j_3305
                                                                    ));
                                                                    flatten_fun_j_3310 = fun expr_b_290 -> (
                                                                    var_j_3309 = expr_b_290);
                                                                    record_j_3311 = 
                                                                    {checker = flatten_fun_j_3282, generator = flatten_fun_j_3308, wrapper = flatten_fun_j_3310};
                                                                    proj_j_3312 = record_j_3311.checker;
                                                                    var_j_3313 = height_j_178;
                                                                    appl_j_3314 = proj_j_3312 var_j_3313;
                                                                    lbl_check_b_279 = appl_j_3314;
                                                                    var_j_3315 = lbl_check_b_279;
                                                                    if_j_3349 = var_j_3315 ? (
                                                                        bool_j_3316 = false;
                                                                    fail_b_277 = bool_j_3316;
                                                                    flatten_fun_j_3325 = fun expr_b_276 -> (
                                                                    var_j_3317 = expr_b_276;
                                                                    m_match_bool_j_3319 = var_j_3317 ~ any;
                                                                    m_match_bool_j_3322 = var_j_3317 ~ int;
                                                                    m_match_cond_j_3323 = m_match_bool_j_3322 ? (
                                                                        bool_j_3324 = true
                                                                    ) : (
                                                                        m_match_cond_j_3320 = m_match_bool_j_3319 ? (
                                                                        var_j_3321 = fail_b_277
                                                                    ) : (
                                                                        void_j_3318 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3327 = fun bj_null_j_174 -> (
                                                                    input_j_3326 = input);
                                                                    flatten_fun_j_3329 = fun expr_b_278 -> (
                                                                    var_j_3328 = expr_b_278);
                                                                    record_j_3330 = 
                                                                    {checker = flatten_fun_j_3325, generator = flatten_fun_j_3327, wrapper = flatten_fun_j_3329};
                                                                    proj_j_3331 = record_j_3330.checker;
                                                                    var_j_3332 = item_j_177;
                                                                    appl_j_3333 = proj_j_3331 var_j_3332;
                                                                    lbl_check_b_275 = appl_j_3333;
                                                                    var_j_3334 = lbl_check_b_275;
                                                                    if_j_3347 = var_j_3334 ? (
                                                                        var_j_3335 = tt_j_251;
                                                                    proj_j_3336 = var_j_3335.checker;
                                                                    var_j_3337 = left_j_176;
                                                                    appl_j_3338 = proj_j_3336 var_j_3337;
                                                                    lbl_check_b_274 = appl_j_3338;
                                                                    var_j_3339 = lbl_check_b_274;
                                                                    if_j_3345 = var_j_3339 ? (
                                                                        var_j_3340 = tt_j_251;
                                                                    proj_j_3341 = var_j_3340.checker;
                                                                    var_j_3342 = right_j_175;
                                                                    appl_j_3343 = proj_j_3341 var_j_3342
                                                                    ) : (
                                                                        var_j_3344 = lbl_check_b_274
                                                                    )
                                                                    ) : (
                                                                        var_j_3346 = lbl_check_b_275
                                                                    )
                                                                    ) : (
                                                                        var_j_3348 = lbl_check_b_279
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_3250 = m_match_bool_j_3249 ? (
                                                                        var_j_3251 = rec_fail_b_270
                                                                    ) : (
                                                                        void_j_3248 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3242 = m_match_bool_j_3241 ? (
                                                                    var_j_3243 = rec_fail_b_271
                                                                ) : (
                                                                    void_j_3240 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3234 = m_match_bool_j_3233 ? (
                                                            var_j_3235 = rec_fail_b_272
                                                        ) : (
                                                            void_j_3232 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3449 = fun bj_null_j_187 -> (
                                            var_j_3351 = tt_j_251;
                                            proj_j_3352 = var_j_3351.generator;
                                            int_j_3353 = 0;
                                            appl_j_3354 = proj_j_3352 int_j_3353;
                                            right_b_255 = appl_j_3354;
                                            var_j_3355 = tt_j_251;
                                            proj_j_3356 = var_j_3355.generator;
                                            int_j_3357 = 0;
                                            appl_j_3358 = proj_j_3356 int_j_3357;
                                            left_b_254 = appl_j_3358;
                                            bool_j_3359 = false;
                                            fail_b_268 = bool_j_3359;
                                            flatten_fun_j_3368 = fun expr_b_267 -> (
                                                var_j_3360 = expr_b_267;
                                                m_match_bool_j_3362 = var_j_3360 ~ any;
                                                m_match_bool_j_3365 = var_j_3360 ~ int;
                                                m_match_cond_j_3366 = m_match_bool_j_3365 ? (
                                                        bool_j_3367 = true
                                                    ) : (
                                                        m_match_cond_j_3363 = m_match_bool_j_3362 ? (
                                                                var_j_3364 = fail_b_268
                                                            ) : (
                                                                void_j_3361 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_3370 = fun bj_null_j_183 -> (
                                                input_j_3369 = input);
                                            flatten_fun_j_3372 = fun expr_b_269 -> (
                                                var_j_3371 = expr_b_269);
                                            record_j_3373 = {checker = flatten_fun_j_3368, generator = flatten_fun_j_3370, wrapper = flatten_fun_j_3372};
                                            proj_j_3374 = record_j_3373.generator;
                                            int_j_3375 = 0;
                                            appl_j_3376 = proj_j_3374 int_j_3375;
                                            item_b_253 = appl_j_3376;
                                            flatten_fun_j_3405 = fun expr_b_263 -> (
                                                bool_j_3377 = false;
                                                fail_b_261 = bool_j_3377;
                                                flatten_fun_j_3386 = fun expr_b_260 -> (
                                                    var_j_3378 = expr_b_260;
                                                    m_match_bool_j_3380 = var_j_3378 ~ any;
                                                    m_match_bool_j_3383 = var_j_3378 ~ int;
                                                    m_match_cond_j_3384 = m_match_bool_j_3383 ? (
                                                            bool_j_3385 = true
                                                        ) : (
                                                            m_match_cond_j_3381 = m_match_bool_j_3380 ? (
                                                                    var_j_3382 = fail_b_261
                                                                ) : (
                                                                    void_j_3379 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3388 = fun bj_null_j_184 -> (
                                                    input_j_3387 = input);
                                                flatten_fun_j_3390 = fun expr_b_262 -> (
                                                    var_j_3389 = expr_b_262);
                                                record_j_3391 = {checker = flatten_fun_j_3386, generator = flatten_fun_j_3388, wrapper = flatten_fun_j_3390};
                                                proj_j_3392 = record_j_3391.checker;
                                                var_j_3393 = expr_b_263;
                                                appl_j_3394 = proj_j_3392 var_j_3393;
                                                t_check_b_264 = appl_j_3394;
                                                var_j_3395 = t_check_b_264;
                                                if_j_3404 = var_j_3395 ? (
                                                        bool_j_3396 = false;
                                                        pred_check_b_265 = bool_j_3396;
                                                        var_j_3397 = is_pos;
                                                        var_j_3398 = expr_b_263;
                                                        appl_j_3399 = var_j_3397 var_j_3398;
                                                        if_j_3402 = appl_j_3399 ? (
                                                                bool_j_3400 = true
                                                            ) : (
                                                                var_j_3401 = pred_check_b_265
                                                            )
                                                    ) : (
                                                        var_j_3403 = t_check_b_264
                                                    ));
                                            flatten_fun_j_3431 = fun bj_null_j_186 -> (
                                                bool_j_3406 = false;
                                                fail_b_257 = bool_j_3406;
                                                flatten_fun_j_3415 = fun expr_b_256 -> (
                                                    var_j_3407 = expr_b_256;
                                                    m_match_bool_j_3409 = var_j_3407 ~ any;
                                                    m_match_bool_j_3412 = var_j_3407 ~ int;
                                                    m_match_cond_j_3413 = m_match_bool_j_3412 ? (
                                                            bool_j_3414 = true
                                                        ) : (
                                                            m_match_cond_j_3410 = m_match_bool_j_3409 ? (
                                                                    var_j_3411 = fail_b_257
                                                                ) : (
                                                                    void_j_3408 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3417 = fun bj_null_j_185 -> (
                                                    input_j_3416 = input);
                                                flatten_fun_j_3419 = fun expr_b_258 -> (
                                                    var_j_3418 = expr_b_258);
                                                record_j_3420 = {checker = flatten_fun_j_3415, generator = flatten_fun_j_3417, wrapper = flatten_fun_j_3419};
                                                proj_j_3421 = record_j_3420.generator;
                                                int_j_3422 = 0;
                                                appl_j_3423 = proj_j_3421 int_j_3422;
                                                candidate_b_259 = appl_j_3423;
                                                var_j_3424 = is_pos;
                                                var_j_3425 = candidate_b_259;
                                                appl_j_3426 = var_j_3424 var_j_3425;
                                                if_j_3430 = appl_j_3426 ? (
                                                        var_j_3427 = candidate_b_259
                                                    ) : (
                                                        bool_j_3428 = false;
                                                        assume_j_3429 = assume bool_j_3428
                                                    ));
                                            flatten_fun_j_3433 = fun expr_b_266 -> (
                                                var_j_3432 = expr_b_266);
                                            record_j_3434 = {checker = flatten_fun_j_3405, generator = flatten_fun_j_3431, wrapper = flatten_fun_j_3433};
                                            proj_j_3435 = record_j_3434.generator;
                                            int_j_3436 = 0;
                                            appl_j_3437 = proj_j_3435 int_j_3436;
                                            height_b_252 = appl_j_3437;
                                            var_j_3438 = height_b_252;
                                            var_j_3439 = item_b_253;
                                            var_j_3440 = left_b_254;
                                            var_j_3441 = right_b_255;
                                            record_j_3442 = {height = var_j_3438, item = var_j_3439, left = var_j_3440, right = var_j_3441};
                                            record_j_3443 = {};
                                            record_j_3444 = {};
                                            record_j_3445 = {};
                                            record_j_3446 = {};
                                            record_j_3447 = {height = record_j_3443, item = record_j_3444, left = record_j_3445, right = record_j_3446};
                                            record_j_3448 = {bj_actual_rec = record_j_3442, bj_decl_lbls = record_j_3447});
                                        flatten_fun_j_3451 = fun expr_b_291 -> (
                                            var_j_3450 = expr_b_291);
                                        record_j_3452 = {checker = flatten_fun_j_3350, generator = flatten_fun_j_3449, wrapper = flatten_fun_j_3451};
                                        proj_j_3453 = record_j_3452.checker;
                                        var_j_3454 = expr_b_292;
                                        appl_j_3455 = proj_j_3453 var_j_3454;
                                        t_check_b_293 = appl_j_3455;
                                        var_j_3456 = t_check_b_293;
                                        if_j_3520 = var_j_3456 ? (
                                                bool_j_3457 = false;
                                                pred_check_b_294 = bool_j_3457;
                                                flatten_fun_j_3513 = fun t_j_188 -> (
                                                    var_j_3458 = t_j_188;
                                                    proj_j_3459 = var_j_3458.bj_decl_lbls;
                                                    m_match_bool_j_3461 = proj_j_3459 ~ any;
                                                    m_match_bool_j_3468 = proj_j_3459 ~ 
                                                        {height, _};
                                                    m_match_cond_j_3469 = m_match_bool_j_3468 ? (
                                                            var_j_3470 = t_j_188;
                                                            proj_j_3471 = var_j_3470.bj_actual_rec;
                                                            proj_j_3472 = proj_j_3471.height
                                                        ) : (
                                                            m_match_cond_j_3462 = m_match_bool_j_3461 ? (
                                                                    bool_j_3463 = false;
                                                                    assert_pred_j_3464 = bool_j_3463;
                                                                    assert_res_j_3465 = assert_pred_j_3464 ? (
                                                                        assert_res_true_j_3466 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3467 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3460 = 
                                                                    {}
                                                                )
                                                        );
                                                    var_j_3473 = max;
                                                    var_j_3474 = height_j_356_j_401;
                                                    var_j_3475 = t_j_188;
                                                    proj_j_3476 = var_j_3475.bj_decl_lbls;
                                                    m_match_bool_j_3478 = proj_j_3476 ~ any;
                                                    m_match_bool_j_3485 = proj_j_3476 ~ 
                                                        {left, _};
                                                    m_match_cond_j_3486 = m_match_bool_j_3485 ? (
                                                            var_j_3487 = t_j_188;
                                                            proj_j_3488 = var_j_3487.bj_actual_rec;
                                                            proj_j_3489 = proj_j_3488.left
                                                        ) : (
                                                            m_match_cond_j_3479 = m_match_bool_j_3478 ? (
                                                                    bool_j_3480 = false;
                                                                    assert_pred_j_3481 = bool_j_3480;
                                                                    assert_res_j_3482 = assert_pred_j_3481 ? (
                                                                        assert_res_true_j_3483 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3484 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3477 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5883 = var_j_3474 ~ fun;
                                                    appl_j_3490 = m_i_5883 ? (
                                                            c_appl_i_5884 = var_j_3474 m_match_cond_j_3486
                                                        ) : (
                                                            ab_i_5885 = abort
                                                        );
                                                    m_i_5886 = var_j_3473 ~ fun;
                                                    appl_j_3491 = m_i_5886 ? (
                                                            c_appl_i_5887 = var_j_3473 appl_j_3490
                                                        ) : (
                                                            ab_i_5888 = abort
                                                        );
                                                    var_j_3492 = height_j_356_j_401;
                                                    var_j_3493 = t_j_188;
                                                    proj_j_3494 = var_j_3493.bj_decl_lbls;
                                                    m_match_bool_j_3496 = proj_j_3494 ~ any;
                                                    m_match_bool_j_3503 = proj_j_3494 ~ 
                                                        {right, _};
                                                    m_match_cond_j_3504 = m_match_bool_j_3503 ? (
                                                            var_j_3505 = t_j_188;
                                                            proj_j_3506 = var_j_3505.bj_actual_rec;
                                                            proj_j_3507 = proj_j_3506.right
                                                        ) : (
                                                            m_match_cond_j_3497 = m_match_bool_j_3496 ? (
                                                                    bool_j_3498 = false;
                                                                    assert_pred_j_3499 = bool_j_3498;
                                                                    assert_res_j_3500 = assert_pred_j_3499 ? (
                                                                        assert_res_true_j_3501 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3502 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3495 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5889 = var_j_3492 ~ fun;
                                                    appl_j_3508 = m_i_5889 ? (
                                                            c_appl_i_5890 = var_j_3492 m_match_cond_j_3504
                                                        ) : (
                                                            ab_i_5891 = abort
                                                        );
                                                    m_i_5892 = appl_j_3491 ~ fun;
                                                    appl_j_3509 = m_i_5892 ? (
                                                            c_appl_i_5893 = appl_j_3491 appl_j_3508
                                                        ) : (
                                                            ab_i_5894 = abort
                                                        );
                                                    int_j_3510 = 1;
                                                    m_bl_i_5895 = appl_j_3509 ~ int;
                                                    m_br_i_5896 = int_j_3510 ~ int;
                                                    m_b_i_5897 = m_bl_i_5895 and m_br_i_5896;
                                                    binop_j_3511 = m_b_i_5897 ? (
                                                            c_binop_i_5898 = appl_j_3509 + int_j_3510
                                                        ) : (
                                                            ab_i_5899 = abort
                                                        );
                                                    m_bl_i_5900 = m_match_cond_j_3469 ~ int;
                                                    m_br_i_5901 = binop_j_3511 ~ int;
                                                    m_b_i_5902 = m_bl_i_5900 and m_br_i_5901;
                                                    binop_j_3512 = m_b_i_5902 ? (
                                                            c_binop_i_5903 = m_match_cond_j_3469 == binop_j_3511
                                                        ) : (
                                                            ab_i_5904 = abort
                                                        ));
                                                var_j_3514 = expr_b_292;
                                                appl_j_3515 = flatten_fun_j_3513 var_j_3514;
                                                if_j_3518 = appl_j_3515 ? (
                                                        bool_j_3516 = true
                                                    ) : (
                                                        var_j_3517 = pred_check_b_294
                                                    )
                                            ) : (
                                                var_j_3519 = t_check_b_293
                                            ));
                                    flatten_fun_j_3812 = fun bj_null_j_207 -> (
                                        flatten_fun_j_3644 = fun expr_b_232 -> (
                                            bool_j_3522 = false;
                                            rec_fail_b_231 = bool_j_3522;
                                            bool_j_3523 = false;
                                            rec_fail_b_230 = bool_j_3523;
                                            bool_j_3524 = false;
                                            rec_fail_b_229 = bool_j_3524;
                                            var_j_3525 = expr_b_232;
                                            m_match_bool_j_3527 = var_j_3525 ~ any;
                                            m_match_bool_j_3530 = var_j_3525 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_3531 = m_match_bool_j_3530 ? (
                                                    var_j_3532 = expr_b_232;
                                                    proj_j_3533 = var_j_3532.bj_decl_lbls;
                                                    m_match_bool_j_3535 = proj_j_3533 ~ any;
                                                    m_match_bool_j_3538 = proj_j_3533 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3539 = m_match_bool_j_3538 ? (
                                                            height_j_200 = proj_j_3533.height;
                                                            item_j_199 = proj_j_3533.item;
                                                            left_j_198 = proj_j_3533.left;
                                                            right_j_197 = proj_j_3533.right;
                                                            var_j_3540 = expr_b_232;
                                                            proj_j_3541 = var_j_3540.bj_actual_rec;
                                                            m_match_bool_j_3543 = proj_j_3541 ~ any;
                                                            m_match_bool_j_3546 = proj_j_3541 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_3547 = m_match_bool_j_3546 ? (
                                                                    height_j_196 = proj_j_3541.height;
                                                                    item_j_195 = proj_j_3541.item;
                                                                    left_j_194 = proj_j_3541.left;
                                                                    right_j_193 = proj_j_3541.right;
                                                                    flatten_fun_j_3576 = fun expr_b_246 -> (
                                                                    bool_j_3548 = false;
                                                                    fail_b_244 = bool_j_3548;
                                                                    flatten_fun_j_3557 = fun expr_b_243 -> (
                                                                    var_j_3549 = expr_b_243;
                                                                    m_match_bool_j_3551 = var_j_3549 ~ any;
                                                                    m_match_bool_j_3554 = var_j_3549 ~ int;
                                                                    m_match_cond_j_3555 = m_match_bool_j_3554 ? (
                                                                        bool_j_3556 = true
                                                                    ) : (
                                                                        m_match_cond_j_3552 = m_match_bool_j_3551 ? (
                                                                        var_j_3553 = fail_b_244
                                                                    ) : (
                                                                        void_j_3550 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3559 = fun bj_null_j_189 -> (
                                                                    input_j_3558 = input);
                                                                    flatten_fun_j_3561 = fun expr_b_245 -> (
                                                                    var_j_3560 = expr_b_245);
                                                                    record_j_3562 = 
                                                                    {checker = flatten_fun_j_3557, generator = flatten_fun_j_3559, wrapper = flatten_fun_j_3561};
                                                                    proj_j_3563 = record_j_3562.checker;
                                                                    var_j_3564 = expr_b_246;
                                                                    appl_j_3565 = proj_j_3563 var_j_3564;
                                                                    t_check_b_247 = appl_j_3565;
                                                                    var_j_3566 = t_check_b_247;
                                                                    if_j_3575 = var_j_3566 ? (
                                                                        bool_j_3567 = false;
                                                                    pred_check_b_248 = bool_j_3567;
                                                                    var_j_3568 = is_pos;
                                                                    var_j_3569 = expr_b_246;
                                                                    appl_j_3570 = var_j_3568 var_j_3569;
                                                                    if_j_3573 = appl_j_3570 ? (
                                                                        bool_j_3571 = true
                                                                    ) : (
                                                                        var_j_3572 = pred_check_b_248
                                                                    )
                                                                    ) : (
                                                                        var_j_3574 = t_check_b_247
                                                                    ));
                                                                    flatten_fun_j_3602 = fun bj_null_j_191 -> (
                                                                    bool_j_3577 = false;
                                                                    fail_b_240 = bool_j_3577;
                                                                    flatten_fun_j_3586 = fun expr_b_239 -> (
                                                                    var_j_3578 = expr_b_239;
                                                                    m_match_bool_j_3580 = var_j_3578 ~ any;
                                                                    m_match_bool_j_3583 = var_j_3578 ~ int;
                                                                    m_match_cond_j_3584 = m_match_bool_j_3583 ? (
                                                                        bool_j_3585 = true
                                                                    ) : (
                                                                        m_match_cond_j_3581 = m_match_bool_j_3580 ? (
                                                                        var_j_3582 = fail_b_240
                                                                    ) : (
                                                                        void_j_3579 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3588 = fun bj_null_j_190 -> (
                                                                    input_j_3587 = input);
                                                                    flatten_fun_j_3590 = fun expr_b_241 -> (
                                                                    var_j_3589 = expr_b_241);
                                                                    record_j_3591 = 
                                                                    {checker = flatten_fun_j_3586, generator = flatten_fun_j_3588, wrapper = flatten_fun_j_3590};
                                                                    proj_j_3592 = record_j_3591.generator;
                                                                    int_j_3593 = 0;
                                                                    appl_j_3594 = proj_j_3592 int_j_3593;
                                                                    candidate_b_242 = appl_j_3594;
                                                                    var_j_3595 = is_pos;
                                                                    var_j_3596 = candidate_b_242;
                                                                    appl_j_3597 = var_j_3595 var_j_3596;
                                                                    if_j_3601 = appl_j_3597 ? (
                                                                        var_j_3598 = candidate_b_242
                                                                    ) : (
                                                                        bool_j_3599 = false;
                                                                    assume_j_3600 = assume bool_j_3599
                                                                    ));
                                                                    flatten_fun_j_3604 = fun expr_b_249 -> (
                                                                    var_j_3603 = expr_b_249);
                                                                    record_j_3605 = 
                                                                    {checker = flatten_fun_j_3576, generator = flatten_fun_j_3602, wrapper = flatten_fun_j_3604};
                                                                    proj_j_3606 = record_j_3605.checker;
                                                                    var_j_3607 = height_j_196;
                                                                    appl_j_3608 = proj_j_3606 var_j_3607;
                                                                    lbl_check_b_238 = appl_j_3608;
                                                                    var_j_3609 = lbl_check_b_238;
                                                                    if_j_3643 = var_j_3609 ? (
                                                                        bool_j_3610 = false;
                                                                    fail_b_236 = bool_j_3610;
                                                                    flatten_fun_j_3619 = fun expr_b_235 -> (
                                                                    var_j_3611 = expr_b_235;
                                                                    m_match_bool_j_3613 = var_j_3611 ~ any;
                                                                    m_match_bool_j_3616 = var_j_3611 ~ int;
                                                                    m_match_cond_j_3617 = m_match_bool_j_3616 ? (
                                                                        bool_j_3618 = true
                                                                    ) : (
                                                                        m_match_cond_j_3614 = m_match_bool_j_3613 ? (
                                                                        var_j_3615 = fail_b_236
                                                                    ) : (
                                                                        void_j_3612 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3621 = fun bj_null_j_192 -> (
                                                                    input_j_3620 = input);
                                                                    flatten_fun_j_3623 = fun expr_b_237 -> (
                                                                    var_j_3622 = expr_b_237);
                                                                    record_j_3624 = 
                                                                    {checker = flatten_fun_j_3619, generator = flatten_fun_j_3621, wrapper = flatten_fun_j_3623};
                                                                    proj_j_3625 = record_j_3624.checker;
                                                                    var_j_3626 = item_j_195;
                                                                    appl_j_3627 = proj_j_3625 var_j_3626;
                                                                    lbl_check_b_234 = appl_j_3627;
                                                                    var_j_3628 = lbl_check_b_234;
                                                                    if_j_3641 = var_j_3628 ? (
                                                                        var_j_3629 = tt_j_251;
                                                                    proj_j_3630 = var_j_3629.checker;
                                                                    var_j_3631 = left_j_194;
                                                                    appl_j_3632 = proj_j_3630 var_j_3631;
                                                                    lbl_check_b_233 = appl_j_3632;
                                                                    var_j_3633 = lbl_check_b_233;
                                                                    if_j_3639 = var_j_3633 ? (
                                                                        var_j_3634 = tt_j_251;
                                                                    proj_j_3635 = var_j_3634.checker;
                                                                    var_j_3636 = right_j_193;
                                                                    appl_j_3637 = proj_j_3635 var_j_3636
                                                                    ) : (
                                                                        var_j_3638 = lbl_check_b_233
                                                                    )
                                                                    ) : (
                                                                        var_j_3640 = lbl_check_b_234
                                                                    )
                                                                    ) : (
                                                                        var_j_3642 = lbl_check_b_238
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_3544 = m_match_bool_j_3543 ? (
                                                                        var_j_3545 = rec_fail_b_229
                                                                    ) : (
                                                                        void_j_3542 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3536 = m_match_bool_j_3535 ? (
                                                                    var_j_3537 = rec_fail_b_230
                                                                ) : (
                                                                    void_j_3534 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3528 = m_match_bool_j_3527 ? (
                                                            var_j_3529 = rec_fail_b_231
                                                        ) : (
                                                            void_j_3526 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3743 = fun bj_null_j_205 -> (
                                            var_j_3645 = tt_j_251;
                                            proj_j_3646 = var_j_3645.generator;
                                            int_j_3647 = 0;
                                            appl_j_3648 = proj_j_3646 int_j_3647;
                                            right_b_214 = appl_j_3648;
                                            var_j_3649 = tt_j_251;
                                            proj_j_3650 = var_j_3649.generator;
                                            int_j_3651 = 0;
                                            appl_j_3652 = proj_j_3650 int_j_3651;
                                            left_b_213 = appl_j_3652;
                                            bool_j_3653 = false;
                                            fail_b_227 = bool_j_3653;
                                            flatten_fun_j_3662 = fun expr_b_226 -> (
                                                var_j_3654 = expr_b_226;
                                                m_match_bool_j_3656 = var_j_3654 ~ any;
                                                m_match_bool_j_3659 = var_j_3654 ~ int;
                                                m_match_cond_j_3660 = m_match_bool_j_3659 ? (
                                                        bool_j_3661 = true
                                                    ) : (
                                                        m_match_cond_j_3657 = m_match_bool_j_3656 ? (
                                                                var_j_3658 = fail_b_227
                                                            ) : (
                                                                void_j_3655 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_3664 = fun bj_null_j_201 -> (
                                                input_j_3663 = input);
                                            flatten_fun_j_3666 = fun expr_b_228 -> (
                                                var_j_3665 = expr_b_228);
                                            record_j_3667 = {checker = flatten_fun_j_3662, generator = flatten_fun_j_3664, wrapper = flatten_fun_j_3666};
                                            proj_j_3668 = record_j_3667.generator;
                                            int_j_3669 = 0;
                                            appl_j_3670 = proj_j_3668 int_j_3669;
                                            item_b_212 = appl_j_3670;
                                            flatten_fun_j_3699 = fun expr_b_222 -> (
                                                bool_j_3671 = false;
                                                fail_b_220 = bool_j_3671;
                                                flatten_fun_j_3680 = fun expr_b_219 -> (
                                                    var_j_3672 = expr_b_219;
                                                    m_match_bool_j_3674 = var_j_3672 ~ any;
                                                    m_match_bool_j_3677 = var_j_3672 ~ int;
                                                    m_match_cond_j_3678 = m_match_bool_j_3677 ? (
                                                            bool_j_3679 = true
                                                        ) : (
                                                            m_match_cond_j_3675 = m_match_bool_j_3674 ? (
                                                                    var_j_3676 = fail_b_220
                                                                ) : (
                                                                    void_j_3673 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3682 = fun bj_null_j_202 -> (
                                                    input_j_3681 = input);
                                                flatten_fun_j_3684 = fun expr_b_221 -> (
                                                    var_j_3683 = expr_b_221);
                                                record_j_3685 = {checker = flatten_fun_j_3680, generator = flatten_fun_j_3682, wrapper = flatten_fun_j_3684};
                                                proj_j_3686 = record_j_3685.checker;
                                                var_j_3687 = expr_b_222;
                                                appl_j_3688 = proj_j_3686 var_j_3687;
                                                t_check_b_223 = appl_j_3688;
                                                var_j_3689 = t_check_b_223;
                                                if_j_3698 = var_j_3689 ? (
                                                        bool_j_3690 = false;
                                                        pred_check_b_224 = bool_j_3690;
                                                        var_j_3691 = is_pos;
                                                        var_j_3692 = expr_b_222;
                                                        appl_j_3693 = var_j_3691 var_j_3692;
                                                        if_j_3696 = appl_j_3693 ? (
                                                                bool_j_3694 = true
                                                            ) : (
                                                                var_j_3695 = pred_check_b_224
                                                            )
                                                    ) : (
                                                        var_j_3697 = t_check_b_223
                                                    ));
                                            flatten_fun_j_3725 = fun bj_null_j_204 -> (
                                                bool_j_3700 = false;
                                                fail_b_216 = bool_j_3700;
                                                flatten_fun_j_3709 = fun expr_b_215 -> (
                                                    var_j_3701 = expr_b_215;
                                                    m_match_bool_j_3703 = var_j_3701 ~ any;
                                                    m_match_bool_j_3706 = var_j_3701 ~ int;
                                                    m_match_cond_j_3707 = m_match_bool_j_3706 ? (
                                                            bool_j_3708 = true
                                                        ) : (
                                                            m_match_cond_j_3704 = m_match_bool_j_3703 ? (
                                                                    var_j_3705 = fail_b_216
                                                                ) : (
                                                                    void_j_3702 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3711 = fun bj_null_j_203 -> (
                                                    input_j_3710 = input);
                                                flatten_fun_j_3713 = fun expr_b_217 -> (
                                                    var_j_3712 = expr_b_217);
                                                record_j_3714 = {checker = flatten_fun_j_3709, generator = flatten_fun_j_3711, wrapper = flatten_fun_j_3713};
                                                proj_j_3715 = record_j_3714.generator;
                                                int_j_3716 = 0;
                                                appl_j_3717 = proj_j_3715 int_j_3716;
                                                candidate_b_218 = appl_j_3717;
                                                var_j_3718 = is_pos;
                                                var_j_3719 = candidate_b_218;
                                                appl_j_3720 = var_j_3718 var_j_3719;
                                                if_j_3724 = appl_j_3720 ? (
                                                        var_j_3721 = candidate_b_218
                                                    ) : (
                                                        bool_j_3722 = false;
                                                        assume_j_3723 = assume bool_j_3722
                                                    ));
                                            flatten_fun_j_3727 = fun expr_b_225 -> (
                                                var_j_3726 = expr_b_225);
                                            record_j_3728 = {checker = flatten_fun_j_3699, generator = flatten_fun_j_3725, wrapper = flatten_fun_j_3727};
                                            proj_j_3729 = record_j_3728.generator;
                                            int_j_3730 = 0;
                                            appl_j_3731 = proj_j_3729 int_j_3730;
                                            height_b_211 = appl_j_3731;
                                            var_j_3732 = height_b_211;
                                            var_j_3733 = item_b_212;
                                            var_j_3734 = left_b_213;
                                            var_j_3735 = right_b_214;
                                            record_j_3736 = {height = var_j_3732, item = var_j_3733, left = var_j_3734, right = var_j_3735};
                                            record_j_3737 = {};
                                            record_j_3738 = {};
                                            record_j_3739 = {};
                                            record_j_3740 = {};
                                            record_j_3741 = {height = record_j_3737, item = record_j_3738, left = record_j_3739, right = record_j_3740};
                                            record_j_3742 = {bj_actual_rec = record_j_3736, bj_decl_lbls = record_j_3741});
                                        flatten_fun_j_3745 = fun expr_b_250 -> (
                                            var_j_3744 = expr_b_250);
                                        record_j_3746 = {checker = flatten_fun_j_3644, generator = flatten_fun_j_3743, wrapper = flatten_fun_j_3745};
                                        proj_j_3747 = record_j_3746.generator;
                                        int_j_3748 = 0;
                                        appl_j_3749 = proj_j_3747 int_j_3748;
                                        candidate_b_251 = appl_j_3749;
                                        flatten_fun_j_3805 = fun t_j_206 -> (
                                            var_j_3750 = t_j_206;
                                            proj_j_3751 = var_j_3750.bj_decl_lbls;
                                            m_match_bool_j_3753 = proj_j_3751 ~ any;
                                            m_match_bool_j_3760 = proj_j_3751 ~ 
                                                {height, _};
                                            m_match_cond_j_3761 = m_match_bool_j_3760 ? (
                                                    var_j_3762 = t_j_206;
                                                    proj_j_3763 = var_j_3762.bj_actual_rec;
                                                    proj_j_3764 = proj_j_3763.height
                                                ) : (
                                                    m_match_cond_j_3754 = m_match_bool_j_3753 ? (
                                                            bool_j_3755 = false;
                                                            assert_pred_j_3756 = bool_j_3755;
                                                            assert_res_j_3757 = assert_pred_j_3756 ? (
                                                                    assert_res_true_j_3758 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3759 = abort
                                                                )
                                                        ) : (
                                                            void_j_3752 = 
                                                                {}
                                                        )
                                                );
                                            var_j_3765 = max;
                                            var_j_3766 = height_j_356_j_401;
                                            var_j_3767 = t_j_206;
                                            proj_j_3768 = var_j_3767.bj_decl_lbls;
                                            m_match_bool_j_3770 = proj_j_3768 ~ any;
                                            m_match_bool_j_3777 = proj_j_3768 ~ 
                                                {left, _};
                                            m_match_cond_j_3778 = m_match_bool_j_3777 ? (
                                                    var_j_3779 = t_j_206;
                                                    proj_j_3780 = var_j_3779.bj_actual_rec;
                                                    proj_j_3781 = proj_j_3780.left
                                                ) : (
                                                    m_match_cond_j_3771 = m_match_bool_j_3770 ? (
                                                            bool_j_3772 = false;
                                                            assert_pred_j_3773 = bool_j_3772;
                                                            assert_res_j_3774 = assert_pred_j_3773 ? (
                                                                    assert_res_true_j_3775 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3776 = abort
                                                                )
                                                        ) : (
                                                            void_j_3769 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5905 = var_j_3766 ~ fun;
                                            appl_j_3782 = m_i_5905 ? (
                                                    c_appl_i_5906 = var_j_3766 m_match_cond_j_3778
                                                ) : (
                                                    ab_i_5907 = abort
                                                );
                                            m_i_5908 = var_j_3765 ~ fun;
                                            appl_j_3783 = m_i_5908 ? (
                                                    c_appl_i_5909 = var_j_3765 appl_j_3782
                                                ) : (
                                                    ab_i_5910 = abort
                                                );
                                            var_j_3784 = height_j_356_j_401;
                                            var_j_3785 = t_j_206;
                                            proj_j_3786 = var_j_3785.bj_decl_lbls;
                                            m_match_bool_j_3788 = proj_j_3786 ~ any;
                                            m_match_bool_j_3795 = proj_j_3786 ~ 
                                                {right, _};
                                            m_match_cond_j_3796 = m_match_bool_j_3795 ? (
                                                    var_j_3797 = t_j_206;
                                                    proj_j_3798 = var_j_3797.bj_actual_rec;
                                                    proj_j_3799 = proj_j_3798.right
                                                ) : (
                                                    m_match_cond_j_3789 = m_match_bool_j_3788 ? (
                                                            bool_j_3790 = false;
                                                            assert_pred_j_3791 = bool_j_3790;
                                                            assert_res_j_3792 = assert_pred_j_3791 ? (
                                                                    assert_res_true_j_3793 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3794 = abort
                                                                )
                                                        ) : (
                                                            void_j_3787 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5911 = var_j_3784 ~ fun;
                                            appl_j_3800 = m_i_5911 ? (
                                                    c_appl_i_5912 = var_j_3784 m_match_cond_j_3796
                                                ) : (
                                                    ab_i_5913 = abort
                                                );
                                            m_i_5914 = appl_j_3783 ~ fun;
                                            appl_j_3801 = m_i_5914 ? (
                                                    c_appl_i_5915 = appl_j_3783 appl_j_3800
                                                ) : (
                                                    ab_i_5916 = abort
                                                );
                                            int_j_3802 = 1;
                                            m_bl_i_5917 = appl_j_3801 ~ int;
                                            m_br_i_5918 = int_j_3802 ~ int;
                                            m_b_i_5919 = m_bl_i_5917 and m_br_i_5918;
                                            binop_j_3803 = m_b_i_5919 ? (
                                                    c_binop_i_5920 = appl_j_3801 + int_j_3802
                                                ) : (
                                                    ab_i_5921 = abort
                                                );
                                            m_bl_i_5922 = m_match_cond_j_3761 ~ int;
                                            m_br_i_5923 = binop_j_3803 ~ int;
                                            m_b_i_5924 = m_bl_i_5922 and m_br_i_5923;
                                            binop_j_3804 = m_b_i_5924 ? (
                                                    c_binop_i_5925 = m_match_cond_j_3761 == binop_j_3803
                                                ) : (
                                                    ab_i_5926 = abort
                                                ));
                                        var_j_3806 = candidate_b_251;
                                        appl_j_3807 = flatten_fun_j_3805 var_j_3806;
                                        if_j_3811 = appl_j_3807 ? (
                                                var_j_3808 = candidate_b_251
                                            ) : (
                                                bool_j_3809 = false;
                                                assume_j_3810 = assume bool_j_3809
                                            ));
                                    flatten_fun_j_3814 = fun expr_b_295 -> (
                                        var_j_3813 = expr_b_295);
                                    record_j_3815 = {checker = flatten_fun_j_3521, generator = flatten_fun_j_3812, wrapper = flatten_fun_j_3814};
                                    proj_j_3816 = record_j_3815.checker;
                                    var_j_3817 = expr_b_308;
                                    appl_j_3818 = proj_j_3816 var_j_3817;
                                    if_j_3821 = appl_j_3818 ? (
                                            bool_j_3819 = true
                                        ) : (
                                            var_j_3820 = fail_b_310
                                        )
                                )
                        ));
                flatten_fun_j_4500 = fun bj_null_j_250 -> (
                    input_j_3825 = input;
                    select_int_b_113 = input_j_3825;
                    int_j_3826 = 0;
                    var_j_3827 = select_int_b_113;
                    binop_j_3828 = int_j_3826 <= var_j_3827;
                    if_j_4499 = binop_j_3828 ? (
                            flatten_fun_j_4122 = fun expr_b_97 -> (
                                flatten_fun_j_3951 = fun expr_b_78 -> (
                                    bool_j_3829 = false;
                                    rec_fail_b_77 = bool_j_3829;
                                    bool_j_3830 = false;
                                    rec_fail_b_76 = bool_j_3830;
                                    bool_j_3831 = false;
                                    rec_fail_b_75 = bool_j_3831;
                                    var_j_3832 = expr_b_78;
                                    m_match_bool_j_3834 = var_j_3832 ~ any;
                                    m_match_bool_j_3837 = var_j_3832 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_3838 = m_match_bool_j_3837 ? (
                                            var_j_3839 = expr_b_78;
                                            proj_j_3840 = var_j_3839.bj_decl_lbls;
                                            m_match_bool_j_3842 = proj_j_3840 ~ any;
                                            m_match_bool_j_3845 = proj_j_3840 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_3846 = m_match_bool_j_3845 ? (
                                                    height_j_219 = proj_j_3840.height;
                                                    item_j_218 = proj_j_3840.item;
                                                    left_j_217 = proj_j_3840.left;
                                                    right_j_216 = proj_j_3840.right;
                                                    var_j_3847 = expr_b_78;
                                                    proj_j_3848 = var_j_3847.bj_actual_rec;
                                                    m_match_bool_j_3850 = proj_j_3848 ~ any;
                                                    m_match_bool_j_3853 = proj_j_3848 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3854 = m_match_bool_j_3853 ? (
                                                            height_j_215 = proj_j_3848.height;
                                                            item_j_214 = proj_j_3848.item;
                                                            left_j_213 = proj_j_3848.left;
                                                            right_j_212 = proj_j_3848.right;
                                                            flatten_fun_j_3883 = fun expr_b_92 -> (
                                                                bool_j_3855 = false;
                                                                fail_b_90 = bool_j_3855;
                                                                flatten_fun_j_3864 = fun expr_b_89 -> (
                                                                    var_j_3856 = expr_b_89;
                                                                    m_match_bool_j_3858 = var_j_3856 ~ any;
                                                                    m_match_bool_j_3861 = var_j_3856 ~ int;
                                                                    m_match_cond_j_3862 = m_match_bool_j_3861 ? (
                                                                        bool_j_3863 = true
                                                                    ) : (
                                                                        m_match_cond_j_3859 = m_match_bool_j_3858 ? (
                                                                        var_j_3860 = fail_b_90
                                                                    ) : (
                                                                        void_j_3857 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3866 = fun bj_null_j_208 -> (
                                                                    input_j_3865 = input);
                                                                flatten_fun_j_3868 = fun expr_b_91 -> (
                                                                    var_j_3867 = expr_b_91);
                                                                record_j_3869 = 
                                                                    {checker = flatten_fun_j_3864, generator = flatten_fun_j_3866, wrapper = flatten_fun_j_3868};
                                                                proj_j_3870 = record_j_3869.checker;
                                                                var_j_3871 = expr_b_92;
                                                                appl_j_3872 = proj_j_3870 var_j_3871;
                                                                t_check_b_93 = appl_j_3872;
                                                                var_j_3873 = t_check_b_93;
                                                                if_j_3882 = var_j_3873 ? (
                                                                        
                                                                    bool_j_3874 = false;
                                                                    pred_check_b_94 = bool_j_3874;
                                                                    var_j_3875 = is_pos;
                                                                    var_j_3876 = expr_b_92;
                                                                    appl_j_3877 = var_j_3875 var_j_3876;
                                                                    if_j_3880 = appl_j_3877 ? (
                                                                        bool_j_3878 = true
                                                                    ) : (
                                                                        var_j_3879 = pred_check_b_94
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_3881 = t_check_b_93
                                                                    ));
                                                            flatten_fun_j_3909 = fun bj_null_j_210 -> (
                                                                bool_j_3884 = false;
                                                                fail_b_86 = bool_j_3884;
                                                                flatten_fun_j_3893 = fun expr_b_85 -> (
                                                                    var_j_3885 = expr_b_85;
                                                                    m_match_bool_j_3887 = var_j_3885 ~ any;
                                                                    m_match_bool_j_3890 = var_j_3885 ~ int;
                                                                    m_match_cond_j_3891 = m_match_bool_j_3890 ? (
                                                                        bool_j_3892 = true
                                                                    ) : (
                                                                        m_match_cond_j_3888 = m_match_bool_j_3887 ? (
                                                                        var_j_3889 = fail_b_86
                                                                    ) : (
                                                                        void_j_3886 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3895 = fun bj_null_j_209 -> (
                                                                    input_j_3894 = input);
                                                                flatten_fun_j_3897 = fun expr_b_87 -> (
                                                                    var_j_3896 = expr_b_87);
                                                                record_j_3898 = 
                                                                    {checker = flatten_fun_j_3893, generator = flatten_fun_j_3895, wrapper = flatten_fun_j_3897};
                                                                proj_j_3899 = record_j_3898.generator;
                                                                int_j_3900 = 0;
                                                                appl_j_3901 = proj_j_3899 int_j_3900;
                                                                candidate_b_88 = appl_j_3901;
                                                                var_j_3902 = is_pos;
                                                                var_j_3903 = candidate_b_88;
                                                                appl_j_3904 = var_j_3902 var_j_3903;
                                                                if_j_3908 = appl_j_3904 ? (
                                                                        
                                                                    var_j_3905 = candidate_b_88
                                                                    ) : (
                                                                        
                                                                    bool_j_3906 = false;
                                                                    assume_j_3907 = assume bool_j_3906
                                                                    ));
                                                            flatten_fun_j_3911 = fun expr_b_95 -> (
                                                                var_j_3910 = expr_b_95);
                                                            record_j_3912 = 
                                                                {checker = flatten_fun_j_3883, generator = flatten_fun_j_3909, wrapper = flatten_fun_j_3911};
                                                            proj_j_3913 = record_j_3912.checker;
                                                            var_j_3914 = height_j_215;
                                                            appl_j_3915 = proj_j_3913 var_j_3914;
                                                            lbl_check_b_84 = appl_j_3915;
                                                            var_j_3916 = lbl_check_b_84;
                                                            if_j_3950 = var_j_3916 ? (
                                                                    bool_j_3917 = false;
                                                                    fail_b_82 = bool_j_3917;
                                                                    flatten_fun_j_3926 = fun expr_b_81 -> (
                                                                    var_j_3918 = expr_b_81;
                                                                    m_match_bool_j_3920 = var_j_3918 ~ any;
                                                                    m_match_bool_j_3923 = var_j_3918 ~ int;
                                                                    m_match_cond_j_3924 = m_match_bool_j_3923 ? (
                                                                        bool_j_3925 = true
                                                                    ) : (
                                                                        m_match_cond_j_3921 = m_match_bool_j_3920 ? (
                                                                        var_j_3922 = fail_b_82
                                                                    ) : (
                                                                        void_j_3919 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3928 = fun bj_null_j_211 -> (
                                                                    input_j_3927 = input);
                                                                    flatten_fun_j_3930 = fun expr_b_83 -> (
                                                                    var_j_3929 = expr_b_83);
                                                                    record_j_3931 = 
                                                                    {checker = flatten_fun_j_3926, generator = flatten_fun_j_3928, wrapper = flatten_fun_j_3930};
                                                                    proj_j_3932 = record_j_3931.checker;
                                                                    var_j_3933 = item_j_214;
                                                                    appl_j_3934 = proj_j_3932 var_j_3933;
                                                                    lbl_check_b_80 = appl_j_3934;
                                                                    var_j_3935 = lbl_check_b_80;
                                                                    if_j_3948 = var_j_3935 ? (
                                                                        var_j_3936 = tt_j_251;
                                                                    proj_j_3937 = var_j_3936.checker;
                                                                    var_j_3938 = left_j_213;
                                                                    appl_j_3939 = proj_j_3937 var_j_3938;
                                                                    lbl_check_b_79 = appl_j_3939;
                                                                    var_j_3940 = lbl_check_b_79;
                                                                    if_j_3946 = var_j_3940 ? (
                                                                        var_j_3941 = tt_j_251;
                                                                    proj_j_3942 = var_j_3941.checker;
                                                                    var_j_3943 = right_j_212;
                                                                    appl_j_3944 = proj_j_3942 var_j_3943
                                                                    ) : (
                                                                        var_j_3945 = lbl_check_b_79
                                                                    )
                                                                    ) : (
                                                                        var_j_3947 = lbl_check_b_80
                                                                    )
                                                                ) : (
                                                                    var_j_3949 = lbl_check_b_84
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3851 = m_match_bool_j_3850 ? (
                                                                    var_j_3852 = rec_fail_b_75
                                                                ) : (
                                                                    void_j_3849 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3843 = m_match_bool_j_3842 ? (
                                                            var_j_3844 = rec_fail_b_76
                                                        ) : (
                                                            void_j_3841 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_3835 = m_match_bool_j_3834 ? (
                                                    var_j_3836 = rec_fail_b_77
                                                ) : (
                                                    void_j_3833 = {}
                                                )
                                        ));
                                flatten_fun_j_4050 = fun bj_null_j_224 -> (
                                    var_j_3952 = tt_j_251;
                                    proj_j_3953 = var_j_3952.generator;
                                    int_j_3954 = 0;
                                    appl_j_3955 = proj_j_3953 int_j_3954;
                                    right_b_60 = appl_j_3955;
                                    var_j_3956 = tt_j_251;
                                    proj_j_3957 = var_j_3956.generator;
                                    int_j_3958 = 0;
                                    appl_j_3959 = proj_j_3957 int_j_3958;
                                    left_b_59 = appl_j_3959;
                                    bool_j_3960 = false;
                                    fail_b_73 = bool_j_3960;
                                    flatten_fun_j_3969 = fun expr_b_72 -> (
                                        var_j_3961 = expr_b_72;
                                        m_match_bool_j_3963 = var_j_3961 ~ any;
                                        m_match_bool_j_3966 = var_j_3961 ~ int;
                                        m_match_cond_j_3967 = m_match_bool_j_3966 ? (
                                                bool_j_3968 = true
                                            ) : (
                                                m_match_cond_j_3964 = m_match_bool_j_3963 ? (
                                                        var_j_3965 = fail_b_73
                                                    ) : (
                                                        void_j_3962 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_3971 = fun bj_null_j_220 -> (
                                        input_j_3970 = input);
                                    flatten_fun_j_3973 = fun expr_b_74 -> (
                                        var_j_3972 = expr_b_74);
                                    record_j_3974 = {checker = flatten_fun_j_3969, generator = flatten_fun_j_3971, wrapper = flatten_fun_j_3973};
                                    proj_j_3975 = record_j_3974.generator;
                                    int_j_3976 = 0;
                                    appl_j_3977 = proj_j_3975 int_j_3976;
                                    item_b_58 = appl_j_3977;
                                    flatten_fun_j_4006 = fun expr_b_68 -> (
                                        bool_j_3978 = false;
                                        fail_b_66 = bool_j_3978;
                                        flatten_fun_j_3987 = fun expr_b_65 -> (
                                            var_j_3979 = expr_b_65;
                                            m_match_bool_j_3981 = var_j_3979 ~ any;
                                            m_match_bool_j_3984 = var_j_3979 ~ int;
                                            m_match_cond_j_3985 = m_match_bool_j_3984 ? (
                                                    bool_j_3986 = true
                                                ) : (
                                                    m_match_cond_j_3982 = m_match_bool_j_3981 ? (
                                                            var_j_3983 = fail_b_66
                                                        ) : (
                                                            void_j_3980 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3989 = fun bj_null_j_221 -> (
                                            input_j_3988 = input);
                                        flatten_fun_j_3991 = fun expr_b_67 -> (
                                            var_j_3990 = expr_b_67);
                                        record_j_3992 = {checker = flatten_fun_j_3987, generator = flatten_fun_j_3989, wrapper = flatten_fun_j_3991};
                                        proj_j_3993 = record_j_3992.checker;
                                        var_j_3994 = expr_b_68;
                                        appl_j_3995 = proj_j_3993 var_j_3994;
                                        t_check_b_69 = appl_j_3995;
                                        var_j_3996 = t_check_b_69;
                                        if_j_4005 = var_j_3996 ? (
                                                bool_j_3997 = false;
                                                pred_check_b_70 = bool_j_3997;
                                                var_j_3998 = is_pos;
                                                var_j_3999 = expr_b_68;
                                                appl_j_4000 = var_j_3998 var_j_3999;
                                                if_j_4003 = appl_j_4000 ? (
                                                        bool_j_4001 = true
                                                    ) : (
                                                        var_j_4002 = pred_check_b_70
                                                    )
                                            ) : (
                                                var_j_4004 = t_check_b_69
                                            ));
                                    flatten_fun_j_4032 = fun bj_null_j_223 -> (
                                        bool_j_4007 = false;
                                        fail_b_62 = bool_j_4007;
                                        flatten_fun_j_4016 = fun expr_b_61 -> (
                                            var_j_4008 = expr_b_61;
                                            m_match_bool_j_4010 = var_j_4008 ~ any;
                                            m_match_bool_j_4013 = var_j_4008 ~ int;
                                            m_match_cond_j_4014 = m_match_bool_j_4013 ? (
                                                    bool_j_4015 = true
                                                ) : (
                                                    m_match_cond_j_4011 = m_match_bool_j_4010 ? (
                                                            var_j_4012 = fail_b_62
                                                        ) : (
                                                            void_j_4009 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4018 = fun bj_null_j_222 -> (
                                            input_j_4017 = input);
                                        flatten_fun_j_4020 = fun expr_b_63 -> (
                                            var_j_4019 = expr_b_63);
                                        record_j_4021 = {checker = flatten_fun_j_4016, generator = flatten_fun_j_4018, wrapper = flatten_fun_j_4020};
                                        proj_j_4022 = record_j_4021.generator;
                                        int_j_4023 = 0;
                                        appl_j_4024 = proj_j_4022 int_j_4023;
                                        candidate_b_64 = appl_j_4024;
                                        var_j_4025 = is_pos;
                                        var_j_4026 = candidate_b_64;
                                        appl_j_4027 = var_j_4025 var_j_4026;
                                        if_j_4031 = appl_j_4027 ? (
                                                var_j_4028 = candidate_b_64
                                            ) : (
                                                bool_j_4029 = false;
                                                assume_j_4030 = assume bool_j_4029
                                            ));
                                    flatten_fun_j_4034 = fun expr_b_71 -> (
                                        var_j_4033 = expr_b_71);
                                    record_j_4035 = {checker = flatten_fun_j_4006, generator = flatten_fun_j_4032, wrapper = flatten_fun_j_4034};
                                    proj_j_4036 = record_j_4035.generator;
                                    int_j_4037 = 0;
                                    appl_j_4038 = proj_j_4036 int_j_4037;
                                    height_b_57 = appl_j_4038;
                                    var_j_4039 = height_b_57;
                                    var_j_4040 = item_b_58;
                                    var_j_4041 = left_b_59;
                                    var_j_4042 = right_b_60;
                                    record_j_4043 = {height = var_j_4039, item = var_j_4040, left = var_j_4041, right = var_j_4042};
                                    record_j_4044 = {};
                                    record_j_4045 = {};
                                    record_j_4046 = {};
                                    record_j_4047 = {};
                                    record_j_4048 = {height = record_j_4044, item = record_j_4045, left = record_j_4046, right = record_j_4047};
                                    record_j_4049 = {bj_actual_rec = record_j_4043, bj_decl_lbls = record_j_4048});
                                flatten_fun_j_4052 = fun expr_b_96 -> (
                                    var_j_4051 = expr_b_96);
                                record_j_4053 = {checker = flatten_fun_j_3951, generator = flatten_fun_j_4050, wrapper = flatten_fun_j_4052};
                                proj_j_4054 = record_j_4053.checker;
                                var_j_4055 = expr_b_97;
                                appl_j_4056 = proj_j_4054 var_j_4055;
                                t_check_b_98 = appl_j_4056;
                                var_j_4057 = t_check_b_98;
                                if_j_4121 = var_j_4057 ? (
                                        bool_j_4058 = false;
                                        pred_check_b_99 = bool_j_4058;
                                        flatten_fun_j_4114 = fun t_j_225 -> (
                                            var_j_4059 = t_j_225;
                                            proj_j_4060 = var_j_4059.bj_decl_lbls;
                                            m_match_bool_j_4062 = proj_j_4060 ~ any;
                                            m_match_bool_j_4069 = proj_j_4060 ~ 
                                                {height, _};
                                            m_match_cond_j_4070 = m_match_bool_j_4069 ? (
                                                    var_j_4071 = t_j_225;
                                                    proj_j_4072 = var_j_4071.bj_actual_rec;
                                                    proj_j_4073 = proj_j_4072.height
                                                ) : (
                                                    m_match_cond_j_4063 = m_match_bool_j_4062 ? (
                                                            bool_j_4064 = false;
                                                            assert_pred_j_4065 = bool_j_4064;
                                                            assert_res_j_4066 = assert_pred_j_4065 ? (
                                                                    assert_res_true_j_4067 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_4068 = abort
                                                                )
                                                        ) : (
                                                            void_j_4061 = 
                                                                {}
                                                        )
                                                );
                                            var_j_4074 = max;
                                            var_j_4075 = height_j_356_j_401;
                                            var_j_4076 = t_j_225;
                                            proj_j_4077 = var_j_4076.bj_decl_lbls;
                                            m_match_bool_j_4079 = proj_j_4077 ~ any;
                                            m_match_bool_j_4086 = proj_j_4077 ~ 
                                                {left, _};
                                            m_match_cond_j_4087 = m_match_bool_j_4086 ? (
                                                    var_j_4088 = t_j_225;
                                                    proj_j_4089 = var_j_4088.bj_actual_rec;
                                                    proj_j_4090 = proj_j_4089.left
                                                ) : (
                                                    m_match_cond_j_4080 = m_match_bool_j_4079 ? (
                                                            bool_j_4081 = false;
                                                            assert_pred_j_4082 = bool_j_4081;
                                                            assert_res_j_4083 = assert_pred_j_4082 ? (
                                                                    assert_res_true_j_4084 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_4085 = abort
                                                                )
                                                        ) : (
                                                            void_j_4078 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5927 = var_j_4075 ~ fun;
                                            appl_j_4091 = m_i_5927 ? (
                                                    c_appl_i_5928 = var_j_4075 m_match_cond_j_4087
                                                ) : (
                                                    ab_i_5929 = abort
                                                );
                                            m_i_5930 = var_j_4074 ~ fun;
                                            appl_j_4092 = m_i_5930 ? (
                                                    c_appl_i_5931 = var_j_4074 appl_j_4091
                                                ) : (
                                                    ab_i_5932 = abort
                                                );
                                            var_j_4093 = height_j_356_j_401;
                                            var_j_4094 = t_j_225;
                                            proj_j_4095 = var_j_4094.bj_decl_lbls;
                                            m_match_bool_j_4097 = proj_j_4095 ~ any;
                                            m_match_bool_j_4104 = proj_j_4095 ~ 
                                                {right, _};
                                            m_match_cond_j_4105 = m_match_bool_j_4104 ? (
                                                    var_j_4106 = t_j_225;
                                                    proj_j_4107 = var_j_4106.bj_actual_rec;
                                                    proj_j_4108 = proj_j_4107.right
                                                ) : (
                                                    m_match_cond_j_4098 = m_match_bool_j_4097 ? (
                                                            bool_j_4099 = false;
                                                            assert_pred_j_4100 = bool_j_4099;
                                                            assert_res_j_4101 = assert_pred_j_4100 ? (
                                                                    assert_res_true_j_4102 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_4103 = abort
                                                                )
                                                        ) : (
                                                            void_j_4096 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5933 = var_j_4093 ~ fun;
                                            appl_j_4109 = m_i_5933 ? (
                                                    c_appl_i_5934 = var_j_4093 m_match_cond_j_4105
                                                ) : (
                                                    ab_i_5935 = abort
                                                );
                                            m_i_5936 = appl_j_4092 ~ fun;
                                            appl_j_4110 = m_i_5936 ? (
                                                    c_appl_i_5937 = appl_j_4092 appl_j_4109
                                                ) : (
                                                    ab_i_5938 = abort
                                                );
                                            int_j_4111 = 1;
                                            m_bl_i_5939 = appl_j_4110 ~ int;
                                            m_br_i_5940 = int_j_4111 ~ int;
                                            m_b_i_5941 = m_bl_i_5939 and m_br_i_5940;
                                            binop_j_4112 = m_b_i_5941 ? (
                                                    c_binop_i_5942 = appl_j_4110 + int_j_4111
                                                ) : (
                                                    ab_i_5943 = abort
                                                );
                                            m_bl_i_5944 = m_match_cond_j_4070 ~ int;
                                            m_br_i_5945 = binop_j_4112 ~ int;
                                            m_b_i_5946 = m_bl_i_5944 and m_br_i_5945;
                                            binop_j_4113 = m_b_i_5946 ? (
                                                    c_binop_i_5947 = m_match_cond_j_4070 == binop_j_4112
                                                ) : (
                                                    ab_i_5948 = abort
                                                ));
                                        var_j_4115 = expr_b_97;
                                        appl_j_4116 = flatten_fun_j_4114 var_j_4115;
                                        if_j_4119 = appl_j_4116 ? (
                                                bool_j_4117 = true
                                            ) : (
                                                var_j_4118 = pred_check_b_99
                                            )
                                    ) : (
                                        var_j_4120 = t_check_b_98
                                    ));
                            flatten_fun_j_4413 = fun bj_null_j_244 -> (
                                flatten_fun_j_4245 = fun expr_b_37 -> (
                                    bool_j_4123 = false;
                                    rec_fail_b_36 = bool_j_4123;
                                    bool_j_4124 = false;
                                    rec_fail_b_35 = bool_j_4124;
                                    bool_j_4125 = false;
                                    rec_fail_b_34 = bool_j_4125;
                                    var_j_4126 = expr_b_37;
                                    m_match_bool_j_4128 = var_j_4126 ~ any;
                                    m_match_bool_j_4131 = var_j_4126 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_4132 = m_match_bool_j_4131 ? (
                                            var_j_4133 = expr_b_37;
                                            proj_j_4134 = var_j_4133.bj_decl_lbls;
                                            m_match_bool_j_4136 = proj_j_4134 ~ any;
                                            m_match_bool_j_4139 = proj_j_4134 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_4140 = m_match_bool_j_4139 ? (
                                                    height_j_237 = proj_j_4134.height;
                                                    item_j_236 = proj_j_4134.item;
                                                    left_j_235 = proj_j_4134.left;
                                                    right_j_234 = proj_j_4134.right;
                                                    var_j_4141 = expr_b_37;
                                                    proj_j_4142 = var_j_4141.bj_actual_rec;
                                                    m_match_bool_j_4144 = proj_j_4142 ~ any;
                                                    m_match_bool_j_4147 = proj_j_4142 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_4148 = m_match_bool_j_4147 ? (
                                                            height_j_233 = proj_j_4142.height;
                                                            item_j_232 = proj_j_4142.item;
                                                            left_j_231 = proj_j_4142.left;
                                                            right_j_230 = proj_j_4142.right;
                                                            flatten_fun_j_4177 = fun expr_b_51 -> (
                                                                bool_j_4149 = false;
                                                                fail_b_49 = bool_j_4149;
                                                                flatten_fun_j_4158 = fun expr_b_48 -> (
                                                                    var_j_4150 = expr_b_48;
                                                                    m_match_bool_j_4152 = var_j_4150 ~ any;
                                                                    m_match_bool_j_4155 = var_j_4150 ~ int;
                                                                    m_match_cond_j_4156 = m_match_bool_j_4155 ? (
                                                                        bool_j_4157 = true
                                                                    ) : (
                                                                        m_match_cond_j_4153 = m_match_bool_j_4152 ? (
                                                                        var_j_4154 = fail_b_49
                                                                    ) : (
                                                                        void_j_4151 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_4160 = fun bj_null_j_226 -> (
                                                                    input_j_4159 = input);
                                                                flatten_fun_j_4162 = fun expr_b_50 -> (
                                                                    var_j_4161 = expr_b_50);
                                                                record_j_4163 = 
                                                                    {checker = flatten_fun_j_4158, generator = flatten_fun_j_4160, wrapper = flatten_fun_j_4162};
                                                                proj_j_4164 = record_j_4163.checker;
                                                                var_j_4165 = expr_b_51;
                                                                appl_j_4166 = proj_j_4164 var_j_4165;
                                                                t_check_b_52 = appl_j_4166;
                                                                var_j_4167 = t_check_b_52;
                                                                if_j_4176 = var_j_4167 ? (
                                                                        
                                                                    bool_j_4168 = false;
                                                                    pred_check_b_53 = bool_j_4168;
                                                                    var_j_4169 = is_pos;
                                                                    var_j_4170 = expr_b_51;
                                                                    appl_j_4171 = var_j_4169 var_j_4170;
                                                                    if_j_4174 = appl_j_4171 ? (
                                                                        bool_j_4172 = true
                                                                    ) : (
                                                                        var_j_4173 = pred_check_b_53
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_4175 = t_check_b_52
                                                                    ));
                                                            flatten_fun_j_4203 = fun bj_null_j_228 -> (
                                                                bool_j_4178 = false;
                                                                fail_b_45 = bool_j_4178;
                                                                flatten_fun_j_4187 = fun expr_b_44 -> (
                                                                    var_j_4179 = expr_b_44;
                                                                    m_match_bool_j_4181 = var_j_4179 ~ any;
                                                                    m_match_bool_j_4184 = var_j_4179 ~ int;
                                                                    m_match_cond_j_4185 = m_match_bool_j_4184 ? (
                                                                        bool_j_4186 = true
                                                                    ) : (
                                                                        m_match_cond_j_4182 = m_match_bool_j_4181 ? (
                                                                        var_j_4183 = fail_b_45
                                                                    ) : (
                                                                        void_j_4180 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_4189 = fun bj_null_j_227 -> (
                                                                    input_j_4188 = input);
                                                                flatten_fun_j_4191 = fun expr_b_46 -> (
                                                                    var_j_4190 = expr_b_46);
                                                                record_j_4192 = 
                                                                    {checker = flatten_fun_j_4187, generator = flatten_fun_j_4189, wrapper = flatten_fun_j_4191};
                                                                proj_j_4193 = record_j_4192.generator;
                                                                int_j_4194 = 0;
                                                                appl_j_4195 = proj_j_4193 int_j_4194;
                                                                candidate_b_47 = appl_j_4195;
                                                                var_j_4196 = is_pos;
                                                                var_j_4197 = candidate_b_47;
                                                                appl_j_4198 = var_j_4196 var_j_4197;
                                                                if_j_4202 = appl_j_4198 ? (
                                                                        
                                                                    var_j_4199 = candidate_b_47
                                                                    ) : (
                                                                        
                                                                    bool_j_4200 = false;
                                                                    assume_j_4201 = assume bool_j_4200
                                                                    ));
                                                            flatten_fun_j_4205 = fun expr_b_54 -> (
                                                                var_j_4204 = expr_b_54);
                                                            record_j_4206 = 
                                                                {checker = flatten_fun_j_4177, generator = flatten_fun_j_4203, wrapper = flatten_fun_j_4205};
                                                            proj_j_4207 = record_j_4206.checker;
                                                            var_j_4208 = height_j_233;
                                                            appl_j_4209 = proj_j_4207 var_j_4208;
                                                            lbl_check_b_43 = appl_j_4209;
                                                            var_j_4210 = lbl_check_b_43;
                                                            if_j_4244 = var_j_4210 ? (
                                                                    bool_j_4211 = false;
                                                                    fail_b_41 = bool_j_4211;
                                                                    flatten_fun_j_4220 = fun expr_b_40 -> (
                                                                    var_j_4212 = expr_b_40;
                                                                    m_match_bool_j_4214 = var_j_4212 ~ any;
                                                                    m_match_bool_j_4217 = var_j_4212 ~ int;
                                                                    m_match_cond_j_4218 = m_match_bool_j_4217 ? (
                                                                        bool_j_4219 = true
                                                                    ) : (
                                                                        m_match_cond_j_4215 = m_match_bool_j_4214 ? (
                                                                        var_j_4216 = fail_b_41
                                                                    ) : (
                                                                        void_j_4213 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_4222 = fun bj_null_j_229 -> (
                                                                    input_j_4221 = input);
                                                                    flatten_fun_j_4224 = fun expr_b_42 -> (
                                                                    var_j_4223 = expr_b_42);
                                                                    record_j_4225 = 
                                                                    {checker = flatten_fun_j_4220, generator = flatten_fun_j_4222, wrapper = flatten_fun_j_4224};
                                                                    proj_j_4226 = record_j_4225.checker;
                                                                    var_j_4227 = item_j_232;
                                                                    appl_j_4228 = proj_j_4226 var_j_4227;
                                                                    lbl_check_b_39 = appl_j_4228;
                                                                    var_j_4229 = lbl_check_b_39;
                                                                    if_j_4242 = var_j_4229 ? (
                                                                        var_j_4230 = tt_j_251;
                                                                    proj_j_4231 = var_j_4230.checker;
                                                                    var_j_4232 = left_j_231;
                                                                    appl_j_4233 = proj_j_4231 var_j_4232;
                                                                    lbl_check_b_38 = appl_j_4233;
                                                                    var_j_4234 = lbl_check_b_38;
                                                                    if_j_4240 = var_j_4234 ? (
                                                                        var_j_4235 = tt_j_251;
                                                                    proj_j_4236 = var_j_4235.checker;
                                                                    var_j_4237 = right_j_230;
                                                                    appl_j_4238 = proj_j_4236 var_j_4237
                                                                    ) : (
                                                                        var_j_4239 = lbl_check_b_38
                                                                    )
                                                                    ) : (
                                                                        var_j_4241 = lbl_check_b_39
                                                                    )
                                                                ) : (
                                                                    var_j_4243 = lbl_check_b_43
                                                                )
                                                        ) : (
                                                            m_match_cond_j_4145 = m_match_bool_j_4144 ? (
                                                                    var_j_4146 = rec_fail_b_34
                                                                ) : (
                                                                    void_j_4143 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_4137 = m_match_bool_j_4136 ? (
                                                            var_j_4138 = rec_fail_b_35
                                                        ) : (
                                                            void_j_4135 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_4129 = m_match_bool_j_4128 ? (
                                                    var_j_4130 = rec_fail_b_36
                                                ) : (
                                                    void_j_4127 = {}
                                                )
                                        ));
                                flatten_fun_j_4344 = fun bj_null_j_242 -> (
                                    var_j_4246 = tt_j_251;
                                    proj_j_4247 = var_j_4246.generator;
                                    int_j_4248 = 0;
                                    appl_j_4249 = proj_j_4247 int_j_4248;
                                    right_b_19 = appl_j_4249;
                                    var_j_4250 = tt_j_251;
                                    proj_j_4251 = var_j_4250.generator;
                                    int_j_4252 = 0;
                                    appl_j_4253 = proj_j_4251 int_j_4252;
                                    left_b_18 = appl_j_4253;
                                    bool_j_4254 = false;
                                    fail_b_32 = bool_j_4254;
                                    flatten_fun_j_4263 = fun expr_b_31 -> (
                                        var_j_4255 = expr_b_31;
                                        m_match_bool_j_4257 = var_j_4255 ~ any;
                                        m_match_bool_j_4260 = var_j_4255 ~ int;
                                        m_match_cond_j_4261 = m_match_bool_j_4260 ? (
                                                bool_j_4262 = true
                                            ) : (
                                                m_match_cond_j_4258 = m_match_bool_j_4257 ? (
                                                        var_j_4259 = fail_b_32
                                                    ) : (
                                                        void_j_4256 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_4265 = fun bj_null_j_238 -> (
                                        input_j_4264 = input);
                                    flatten_fun_j_4267 = fun expr_b_33 -> (
                                        var_j_4266 = expr_b_33);
                                    record_j_4268 = {checker = flatten_fun_j_4263, generator = flatten_fun_j_4265, wrapper = flatten_fun_j_4267};
                                    proj_j_4269 = record_j_4268.generator;
                                    int_j_4270 = 0;
                                    appl_j_4271 = proj_j_4269 int_j_4270;
                                    item_b_17 = appl_j_4271;
                                    flatten_fun_j_4300 = fun expr_b_27 -> (
                                        bool_j_4272 = false;
                                        fail_b_25 = bool_j_4272;
                                        flatten_fun_j_4281 = fun expr_b_24 -> (
                                            var_j_4273 = expr_b_24;
                                            m_match_bool_j_4275 = var_j_4273 ~ any;
                                            m_match_bool_j_4278 = var_j_4273 ~ int;
                                            m_match_cond_j_4279 = m_match_bool_j_4278 ? (
                                                    bool_j_4280 = true
                                                ) : (
                                                    m_match_cond_j_4276 = m_match_bool_j_4275 ? (
                                                            var_j_4277 = fail_b_25
                                                        ) : (
                                                            void_j_4274 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4283 = fun bj_null_j_239 -> (
                                            input_j_4282 = input);
                                        flatten_fun_j_4285 = fun expr_b_26 -> (
                                            var_j_4284 = expr_b_26);
                                        record_j_4286 = {checker = flatten_fun_j_4281, generator = flatten_fun_j_4283, wrapper = flatten_fun_j_4285};
                                        proj_j_4287 = record_j_4286.checker;
                                        var_j_4288 = expr_b_27;
                                        appl_j_4289 = proj_j_4287 var_j_4288;
                                        t_check_b_28 = appl_j_4289;
                                        var_j_4290 = t_check_b_28;
                                        if_j_4299 = var_j_4290 ? (
                                                bool_j_4291 = false;
                                                pred_check_b_29 = bool_j_4291;
                                                var_j_4292 = is_pos;
                                                var_j_4293 = expr_b_27;
                                                appl_j_4294 = var_j_4292 var_j_4293;
                                                if_j_4297 = appl_j_4294 ? (
                                                        bool_j_4295 = true
                                                    ) : (
                                                        var_j_4296 = pred_check_b_29
                                                    )
                                            ) : (
                                                var_j_4298 = t_check_b_28
                                            ));
                                    flatten_fun_j_4326 = fun bj_null_j_241 -> (
                                        bool_j_4301 = false;
                                        fail_b_21 = bool_j_4301;
                                        flatten_fun_j_4310 = fun expr_b_20 -> (
                                            var_j_4302 = expr_b_20;
                                            m_match_bool_j_4304 = var_j_4302 ~ any;
                                            m_match_bool_j_4307 = var_j_4302 ~ int;
                                            m_match_cond_j_4308 = m_match_bool_j_4307 ? (
                                                    bool_j_4309 = true
                                                ) : (
                                                    m_match_cond_j_4305 = m_match_bool_j_4304 ? (
                                                            var_j_4306 = fail_b_21
                                                        ) : (
                                                            void_j_4303 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4312 = fun bj_null_j_240 -> (
                                            input_j_4311 = input);
                                        flatten_fun_j_4314 = fun expr_b_22 -> (
                                            var_j_4313 = expr_b_22);
                                        record_j_4315 = {checker = flatten_fun_j_4310, generator = flatten_fun_j_4312, wrapper = flatten_fun_j_4314};
                                        proj_j_4316 = record_j_4315.generator;
                                        int_j_4317 = 0;
                                        appl_j_4318 = proj_j_4316 int_j_4317;
                                        candidate_b_23 = appl_j_4318;
                                        var_j_4319 = is_pos;
                                        var_j_4320 = candidate_b_23;
                                        appl_j_4321 = var_j_4319 var_j_4320;
                                        if_j_4325 = appl_j_4321 ? (
                                                var_j_4322 = candidate_b_23
                                            ) : (
                                                bool_j_4323 = false;
                                                assume_j_4324 = assume bool_j_4323
                                            ));
                                    flatten_fun_j_4328 = fun expr_b_30 -> (
                                        var_j_4327 = expr_b_30);
                                    record_j_4329 = {checker = flatten_fun_j_4300, generator = flatten_fun_j_4326, wrapper = flatten_fun_j_4328};
                                    proj_j_4330 = record_j_4329.generator;
                                    int_j_4331 = 0;
                                    appl_j_4332 = proj_j_4330 int_j_4331;
                                    height_b_16 = appl_j_4332;
                                    var_j_4333 = height_b_16;
                                    var_j_4334 = item_b_17;
                                    var_j_4335 = left_b_18;
                                    var_j_4336 = right_b_19;
                                    record_j_4337 = {height = var_j_4333, item = var_j_4334, left = var_j_4335, right = var_j_4336};
                                    record_j_4338 = {};
                                    record_j_4339 = {};
                                    record_j_4340 = {};
                                    record_j_4341 = {};
                                    record_j_4342 = {height = record_j_4338, item = record_j_4339, left = record_j_4340, right = record_j_4341};
                                    record_j_4343 = {bj_actual_rec = record_j_4337, bj_decl_lbls = record_j_4342});
                                flatten_fun_j_4346 = fun expr_b_55 -> (
                                    var_j_4345 = expr_b_55);
                                record_j_4347 = {checker = flatten_fun_j_4245, generator = flatten_fun_j_4344, wrapper = flatten_fun_j_4346};
                                proj_j_4348 = record_j_4347.generator;
                                int_j_4349 = 0;
                                appl_j_4350 = proj_j_4348 int_j_4349;
                                candidate_b_56 = appl_j_4350;
                                flatten_fun_j_4406 = fun t_j_243 -> (
                                    var_j_4351 = t_j_243;
                                    proj_j_4352 = var_j_4351.bj_decl_lbls;
                                    m_match_bool_j_4354 = proj_j_4352 ~ any;
                                    m_match_bool_j_4361 = proj_j_4352 ~ 
                                        {height, _};
                                    m_match_cond_j_4362 = m_match_bool_j_4361 ? (
                                            var_j_4363 = t_j_243;
                                            proj_j_4364 = var_j_4363.bj_actual_rec;
                                            proj_j_4365 = proj_j_4364.height
                                        ) : (
                                            m_match_cond_j_4355 = m_match_bool_j_4354 ? (
                                                    bool_j_4356 = false;
                                                    assert_pred_j_4357 = bool_j_4356;
                                                    assert_res_j_4358 = assert_pred_j_4357 ? (
                                                            assert_res_true_j_4359 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4360 = abort
                                                        )
                                                ) : (
                                                    void_j_4353 = {}
                                                )
                                        );
                                    var_j_4366 = max;
                                    var_j_4367 = height_j_356_j_401;
                                    var_j_4368 = t_j_243;
                                    proj_j_4369 = var_j_4368.bj_decl_lbls;
                                    m_match_bool_j_4371 = proj_j_4369 ~ any;
                                    m_match_bool_j_4378 = proj_j_4369 ~ 
                                        {left, _};
                                    m_match_cond_j_4379 = m_match_bool_j_4378 ? (
                                            var_j_4380 = t_j_243;
                                            proj_j_4381 = var_j_4380.bj_actual_rec;
                                            proj_j_4382 = proj_j_4381.left
                                        ) : (
                                            m_match_cond_j_4372 = m_match_bool_j_4371 ? (
                                                    bool_j_4373 = false;
                                                    assert_pred_j_4374 = bool_j_4373;
                                                    assert_res_j_4375 = assert_pred_j_4374 ? (
                                                            assert_res_true_j_4376 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4377 = abort
                                                        )
                                                ) : (
                                                    void_j_4370 = {}
                                                )
                                        );
                                    m_i_5949 = var_j_4367 ~ fun;
                                    appl_j_4383 = m_i_5949 ? (
                                            c_appl_i_5950 = var_j_4367 m_match_cond_j_4379
                                        ) : (
                                            ab_i_5951 = abort
                                        );
                                    m_i_5952 = var_j_4366 ~ fun;
                                    appl_j_4384 = m_i_5952 ? (
                                            c_appl_i_5953 = var_j_4366 appl_j_4383
                                        ) : (
                                            ab_i_5954 = abort
                                        );
                                    var_j_4385 = height_j_356_j_401;
                                    var_j_4386 = t_j_243;
                                    proj_j_4387 = var_j_4386.bj_decl_lbls;
                                    m_match_bool_j_4389 = proj_j_4387 ~ any;
                                    m_match_bool_j_4396 = proj_j_4387 ~ 
                                        {right, _};
                                    m_match_cond_j_4397 = m_match_bool_j_4396 ? (
                                            var_j_4398 = t_j_243;
                                            proj_j_4399 = var_j_4398.bj_actual_rec;
                                            proj_j_4400 = proj_j_4399.right
                                        ) : (
                                            m_match_cond_j_4390 = m_match_bool_j_4389 ? (
                                                    bool_j_4391 = false;
                                                    assert_pred_j_4392 = bool_j_4391;
                                                    assert_res_j_4393 = assert_pred_j_4392 ? (
                                                            assert_res_true_j_4394 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4395 = abort
                                                        )
                                                ) : (
                                                    void_j_4388 = {}
                                                )
                                        );
                                    m_i_5955 = var_j_4385 ~ fun;
                                    appl_j_4401 = m_i_5955 ? (
                                            c_appl_i_5956 = var_j_4385 m_match_cond_j_4397
                                        ) : (
                                            ab_i_5957 = abort
                                        );
                                    m_i_5958 = appl_j_4384 ~ fun;
                                    appl_j_4402 = m_i_5958 ? (
                                            c_appl_i_5959 = appl_j_4384 appl_j_4401
                                        ) : (
                                            ab_i_5960 = abort
                                        );
                                    int_j_4403 = 1;
                                    m_bl_i_5961 = appl_j_4402 ~ int;
                                    m_br_i_5962 = int_j_4403 ~ int;
                                    m_b_i_5963 = m_bl_i_5961 and m_br_i_5962;
                                    binop_j_4404 = m_b_i_5963 ? (
                                            c_binop_i_5964 = appl_j_4402 + int_j_4403
                                        ) : (
                                            ab_i_5965 = abort
                                        );
                                    m_bl_i_5966 = m_match_cond_j_4362 ~ int;
                                    m_br_i_5967 = binop_j_4404 ~ int;
                                    m_b_i_5968 = m_bl_i_5966 and m_br_i_5967;
                                    binop_j_4405 = m_b_i_5968 ? (
                                            c_binop_i_5969 = m_match_cond_j_4362 == binop_j_4404
                                        ) : (
                                            ab_i_5970 = abort
                                        ));
                                var_j_4407 = candidate_b_56;
                                appl_j_4408 = flatten_fun_j_4406 var_j_4407;
                                if_j_4412 = appl_j_4408 ? (
                                        var_j_4409 = candidate_b_56
                                    ) : (
                                        bool_j_4410 = false;
                                        assume_j_4411 = assume bool_j_4410
                                    ));
                            flatten_fun_j_4415 = fun expr_b_100 -> (
                                var_j_4414 = expr_b_100);
                            record_j_4416 = {checker = flatten_fun_j_4122, generator = flatten_fun_j_4413, wrapper = flatten_fun_j_4415};
                            proj_j_4417 = record_j_4416.generator;
                            int_j_4418 = 0;
                            appl_j_4419 = proj_j_4417 int_j_4418
                        ) : (
                            flatten_fun_j_4466 = fun expr_b_108 -> (
                                bool_j_4420 = false;
                                rec_fail_b_107 = bool_j_4420;
                                bool_j_4421 = false;
                                rec_fail_b_106 = bool_j_4421;
                                bool_j_4422 = false;
                                rec_fail_b_105 = bool_j_4422;
                                var_j_4423 = expr_b_108;
                                m_match_bool_j_4425 = var_j_4423 ~ any;
                                m_match_bool_j_4428 = var_j_4423 ~ {bj_actual_rec, _};
                                m_match_cond_j_4429 = m_match_bool_j_4428 ? (
                                        var_j_4430 = expr_b_108;
                                        proj_j_4431 = var_j_4430.bj_decl_lbls;
                                        m_match_bool_j_4433 = proj_j_4431 ~ any;
                                        m_match_bool_j_4436 = proj_j_4431 ~ 
                                            {leaf, _};
                                        m_match_cond_j_4437 = m_match_bool_j_4436 ? (
                                                leaf_j_247 = proj_j_4431.leaf;
                                                var_j_4438 = expr_b_108;
                                                proj_j_4439 = var_j_4438.bj_actual_rec;
                                                m_match_bool_j_4441 = proj_j_4439 ~ any;
                                                m_match_bool_j_4444 = proj_j_4439 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_4445 = m_match_bool_j_4444 ? (
                                                        leaf_j_246 = proj_j_4439.leaf;
                                                        bool_j_4446 = false;
                                                        fail_b_110 = bool_j_4446;
                                                        flatten_fun_j_4455 = fun expr_b_109 -> (
                                                            var_j_4447 = expr_b_109;
                                                            m_match_bool_j_4449 = var_j_4447 ~ any;
                                                            m_match_bool_j_4452 = var_j_4447 ~ bool;
                                                            m_match_cond_j_4453 = m_match_bool_j_4452 ? (
                                                                    bool_j_4454 = true
                                                                ) : (
                                                                    m_match_cond_j_4450 = m_match_bool_j_4449 ? (
                                                                        var_j_4451 = fail_b_110
                                                                    ) : (
                                                                        void_j_4448 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_4459 = fun bj_null_j_245 -> (
                                                            int_j_4456 = 0;
                                                            input_j_4457 = input;
                                                            m_bl_i_5971 = int_j_4456 ~ int;
                                                            m_br_i_5972 = input_j_4457 ~ int;
                                                            m_b_i_5973 = m_bl_i_5971 and m_br_i_5972;
                                                            binop_j_4458 = m_b_i_5973 ? (
                                                                    c_binop_i_5974 = int_j_4456 <= input_j_4457
                                                                ) : (
                                                                    ab_i_5975 = abort
                                                                ));
                                                        flatten_fun_j_4461 = fun expr_b_111 -> (
                                                            var_j_4460 = expr_b_111);
                                                        record_j_4462 = 
                                                            {checker = flatten_fun_j_4455, generator = flatten_fun_j_4459, wrapper = flatten_fun_j_4461};
                                                        proj_j_4463 = record_j_4462.checker;
                                                        var_j_4464 = leaf_j_246;
                                                        appl_j_4465 = proj_j_4463 var_j_4464
                                                    ) : (
                                                        m_match_cond_j_4442 = m_match_bool_j_4441 ? (
                                                                var_j_4443 = rec_fail_b_105
                                                            ) : (
                                                                void_j_4440 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_4434 = m_match_bool_j_4433 ? (
                                                        var_j_4435 = rec_fail_b_106
                                                    ) : (
                                                        void_j_4432 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_4426 = m_match_bool_j_4425 ? (
                                                var_j_4427 = rec_fail_b_107
                                            ) : (
                                                void_j_4424 = {}
                                            )
                                    ));
                            flatten_fun_j_4492 = fun bj_null_j_249 -> (
                                bool_j_4467 = false;
                                fail_b_103 = bool_j_4467;
                                flatten_fun_j_4476 = fun expr_b_102 -> (
                                    var_j_4468 = expr_b_102;
                                    m_match_bool_j_4470 = var_j_4468 ~ any;
                                    m_match_bool_j_4473 = var_j_4468 ~ bool;
                                    m_match_cond_j_4474 = m_match_bool_j_4473 ? (
                                            bool_j_4475 = true
                                        ) : (
                                            m_match_cond_j_4471 = m_match_bool_j_4470 ? (
                                                    var_j_4472 = fail_b_103
                                                ) : (
                                                    void_j_4469 = {}
                                                )
                                        ));
                                flatten_fun_j_4480 = fun bj_null_j_248 -> (
                                    int_j_4477 = 0;
                                    input_j_4478 = input;
                                    m_bl_i_5976 = int_j_4477 ~ int;
                                    m_br_i_5977 = input_j_4478 ~ int;
                                    m_b_i_5978 = m_bl_i_5976 and m_br_i_5977;
                                    binop_j_4479 = m_b_i_5978 ? (
                                            c_binop_i_5979 = int_j_4477 <= input_j_4478
                                        ) : (
                                            ab_i_5980 = abort
                                        ));
                                flatten_fun_j_4482 = fun expr_b_104 -> (
                                    var_j_4481 = expr_b_104);
                                record_j_4483 = {checker = flatten_fun_j_4476, generator = flatten_fun_j_4480, wrapper = flatten_fun_j_4482};
                                proj_j_4484 = record_j_4483.generator;
                                int_j_4485 = 0;
                                appl_j_4486 = proj_j_4484 int_j_4485;
                                leaf_b_101 = appl_j_4486;
                                var_j_4487 = leaf_b_101;
                                record_j_4488 = {leaf = var_j_4487};
                                record_j_4489 = {};
                                record_j_4490 = {leaf = record_j_4489};
                                record_j_4491 = {bj_actual_rec = record_j_4488, bj_decl_lbls = record_j_4490});
                            flatten_fun_j_4494 = fun expr_b_112 -> (
                                var_j_4493 = expr_b_112);
                            record_j_4495 = {checker = flatten_fun_j_4466, generator = flatten_fun_j_4492, wrapper = flatten_fun_j_4494};
                            proj_j_4496 = record_j_4495.generator;
                            int_j_4497 = 0;
                            appl_j_4498 = proj_j_4496 int_j_4497
                        ));
                flatten_fun_j_4502 = fun expr_b_311 -> (
                    var_j_4501 = expr_b_311);
                record_j_4503 = {checker = flatten_fun_j_3824, generator = flatten_fun_j_4500, wrapper = flatten_fun_j_4502};
                proj_j_4504 = record_j_4503.generator;
                int_j_4505 = 0;
                appl_j_4506 = proj_j_4504 int_j_4505);
            var_j_4508 = self_b_11;
            int_j_4509 = 0;
            appl_j_4510 = var_j_4508 int_j_4509;
            appl_j_4511 = flatten_fun_j_4507 appl_j_4510);
        flatten_fun_j_4514 = fun expr_b_609 -> (
            var_j_4513 = expr_b_609);
        record_j_4515 = {checker = flatten_fun_j_2467, generator = flatten_fun_j_4512, wrapper = flatten_fun_j_4514}));
appl_j_4518 = ycomb_b_15 flatten_fun_j_4517;
int_j_4519 = 0;
appl_j_4520 = appl_j_4518 int_j_4519;
and__j_4528 = fun b1 -> (
    and__j_4527 = fun b2 -> (
        var_j_4521 = b1;
        m_i_5981 = var_j_4521 ~ bool;
        if_j_4526 = m_i_5981 ? (
                c_cond_i_5985 = var_j_4521 ? (
                        var_j_4522 = b2;
                        int_j_4523 = 0;
                        m_i_5982 = var_j_4522 ~ fun;
                        appl_j_4524 = m_i_5982 ? (
                                c_appl_i_5983 = var_j_4522 int_j_4523
                            ) : (
                                ab_i_5984 = abort
                            )
                    ) : (
                        bool_j_4525 = false
                    )
            ) : (
                ab_i_5986 = abort
            )));
and_ = and__j_4528;
is_leaf_j_4590 = fun x_j_354 -> (
    flatten_fun_j_4587 = fun x_b_0 -> (
        int_j_4529 = 0;
        input_j_4530 = input;
        m_bl_i_5987 = int_j_4529 ~ int;
        m_br_i_5988 = input_j_4530 ~ int;
        m_b_i_5989 = m_bl_i_5987 and m_br_i_5988;
        binop_j_4531 = m_b_i_5989 ? (
                c_binop_i_5990 = int_j_4529 < input_j_4530
            ) : (
                ab_i_5991 = abort
            );
        if_j_4537 = binop_j_4531 ? (
                var_j_4532 = appl_j_4520;
                proj_j_4533 = var_j_4532.checker;
                var_j_4534 = x_b_0;
                m_i_5992 = proj_j_4533 ~ fun;
                appl_j_4535 = m_i_5992 ? (
                        c_appl_i_5993 = proj_j_4533 var_j_4534
                    ) : (
                        ab_i_5994 = abort
                    )
            ) : (
                bool_j_4536 = true
            );
        arg_check_b_1 = if_j_4537;
        var_j_4538 = arg_check_b_1;
        if_j_4586 = var_j_4538 ? (
                bool_j_4539 = false;
                fail_b_611 = bool_j_4539;
                flatten_fun_j_4548 = fun expr_b_610 -> (
                    var_j_4540 = expr_b_610;
                    m_match_bool_j_4542 = var_j_4540 ~ any;
                    m_match_bool_j_4545 = var_j_4540 ~ bool;
                    m_match_cond_j_4546 = m_match_bool_j_4545 ? (
                            bool_j_4547 = true
                        ) : (
                            m_match_cond_j_4543 = m_match_bool_j_4542 ? (
                                    var_j_4544 = fail_b_611
                                ) : (
                                    void_j_4541 = {}
                                )
                        ));
                flatten_fun_j_4552 = fun bj_null_j_351 -> (
                    int_j_4549 = 0;
                    input_j_4550 = input;
                    m_bl_i_5995 = int_j_4549 ~ int;
                    m_br_i_5996 = input_j_4550 ~ int;
                    m_b_i_5997 = m_bl_i_5995 and m_br_i_5996;
                    binop_j_4551 = m_b_i_5997 ? (
                            c_binop_i_5998 = int_j_4549 <= input_j_4550
                        ) : (
                            ab_i_5999 = abort
                        ));
                flatten_fun_j_4554 = fun expr_b_612 -> (
                    var_j_4553 = expr_b_612);
                record_j_4555 = {checker = flatten_fun_j_4548, generator = flatten_fun_j_4552, wrapper = flatten_fun_j_4554};
                proj_j_4556 = record_j_4555.wrapper;
                bool_j_4557 = false;
                fail_b_613 = bool_j_4557;
                var_j_4558 = x_j_354;
                m_match_bool_j_4560 = var_j_4558 ~ {bj_untouched, _};
                m_match_bool_j_4567 = var_j_4558 ~ {bj_actual_rec, _};
                m_match_cond_j_4568 = m_match_bool_j_4567 ? (
                        actual_rec_b_697 = var_j_4558.bj_actual_rec;
                        var_j_4569 = x_j_354;
                        proj_j_4570 = var_j_4569.bj_decl_lbls;
                        m_match_bool_j_4572 = proj_j_4570 ~ {_};
                        m_match_bool_j_4575 = proj_j_4570 ~ {leaf};
                        m_match_cond_j_4576 = m_match_bool_j_4575 ? (
                                b_j_353 = proj_j_4570.leaf;
                                var_j_4577 = actual_rec_b_697;
                                proj_j_4578 = var_j_4577.leaf;
                                b_j_352 = proj_j_4578;
                                bool_j_4579 = true
                            ) : (
                                m_match_cond_j_4573 = m_match_bool_j_4572 ? (
                                        bool_j_4574 = false
                                    ) : (
                                        ab_j_4571 = abort
                                    )
                            )
                    ) : (
                        m_match_cond_j_4561 = m_match_bool_j_4560 ? (
                                var_j_4562 = fail_b_613;
                                assert_pred_j_4563 = var_j_4562;
                                assert_res_j_4564 = assert_pred_j_4563 ? (
                                        assert_res_true_j_4565 = {}
                                    ) : (
                                        ab_j_4566 = abort
                                    )
                            ) : (
                                ab_j_4559 = abort
                            )
                    );
                m_i_6000 = proj_j_4556 ~ fun;
                appl_j_4580 = m_i_6000 ? (
                        c_appl_i_6001 = proj_j_4556 m_match_cond_j_4568
                    ) : (
                        ab_i_6002 = abort
                    )
            ) : (
                var_j_4581 = arg_check_b_1;
                assert_pred_j_4582 = var_j_4581;
                assert_res_j_4583 = assert_pred_j_4582 ? (
                        assert_res_true_j_4584 = {}
                    ) : (
                        ab_j_4585 = abort
                    )
            ));
    var_j_4588 = x_j_354;
    appl_j_4589 = flatten_fun_j_4587 var_j_4588);
is_leaf = is_leaf_j_4590;
proj_j_4592 = appl_j_4520.generator;
int_j_4593 = 0;
appl_j_4594 = proj_j_4592 int_j_4593;
x_b_676 = appl_j_4594;
bool_j_4595 = false;
fail_b_615 = bool_j_4595;
flatten_fun_j_4604 = fun expr_b_614 -> (
    var_j_4596 = expr_b_614;
    m_match_bool_j_4598 = var_j_4596 ~ any;
    m_match_bool_j_4601 = var_j_4596 ~ bool;
    m_match_cond_j_4602 = m_match_bool_j_4601 ? (
            bool_j_4603 = true
        ) : (
            m_match_cond_j_4599 = m_match_bool_j_4598 ? (
                    var_j_4600 = fail_b_615
                ) : (
                    void_j_4597 = {}
                )
        ));
flatten_fun_j_4608 = fun bj_null_j_254 -> (
    int_j_4605 = 0;
    input_j_4606 = input;
    m_bl_i_6003 = int_j_4605 ~ int;
    m_br_i_6004 = input_j_4606 ~ int;
    m_b_i_6005 = m_bl_i_6003 and m_br_i_6004;
    binop_j_4607 = m_b_i_6005 ? (
            c_binop_i_6006 = int_j_4605 <= input_j_4606
        ) : (
            ab_i_6007 = abort
        ));
flatten_fun_j_4610 = fun expr_b_616 -> (
    var_j_4609 = expr_b_616);
record_j_4611 = {checker = flatten_fun_j_4604, generator = flatten_fun_j_4608, wrapper = flatten_fun_j_4610};
proj_j_4612 = record_j_4611.checker;
appl_j_4615 = is_leaf x_b_676;
appl_j_4616 = proj_j_4612 appl_j_4615;
check_res_b_696 = appl_j_4616;
if_j_5643 = check_res_b_696 ? (
        item_exn_j_4638 = fun x_j_350 -> (
            bool_j_4618 = false;
            fail_b_617 = bool_j_4618;
            var_j_4619 = x_j_350;
            m_match_bool_j_4621 = var_j_4619 ~ {bj_untouched, _};
            m_match_bool_j_4628 = var_j_4619 ~ {bj_actual_rec, _};
            m_match_cond_j_4629 = m_match_bool_j_4628 ? (
                    actual_rec_b_677 = var_j_4619.bj_actual_rec;
                    var_j_4630 = x_j_350;
                    proj_j_4631 = var_j_4630.bj_decl_lbls;
                    m_match_bool_j_4633 = proj_j_4631 ~ {item, _};
                    m_match_cond_j_4634 = m_match_bool_j_4633 ? (
                            i_j_349 = proj_j_4631.item;
                            var_j_4635 = actual_rec_b_677;
                            proj_j_4636 = var_j_4635.item;
                            i_j_348 = proj_j_4636;
                            var_j_4637 = i_j_348
                        ) : (
                            ab_j_4632 = abort
                        )
                ) : (
                    m_match_cond_j_4622 = m_match_bool_j_4621 ? (
                            var_j_4623 = fail_b_617;
                            assert_pred_j_4624 = var_j_4623;
                            assert_res_j_4625 = assert_pred_j_4624 ? (
                                    assert_res_true_j_4626 = {}
                                ) : (
                                    ab_j_4627 = abort
                                )
                        ) : (
                            ab_j_4620 = abort
                        )
                ));
        item_exn = item_exn_j_4638;
        left_exn_j_4659 = fun x_j_347 -> (
            bool_j_4639 = false;
            fail_b_618 = bool_j_4639;
            var_j_4640 = x_j_347;
            m_match_bool_j_4642 = var_j_4640 ~ {bj_untouched, _};
            m_match_bool_j_4649 = var_j_4640 ~ {bj_actual_rec, _};
            m_match_cond_j_4650 = m_match_bool_j_4649 ? (
                    actual_rec_b_678 = var_j_4640.bj_actual_rec;
                    var_j_4651 = x_j_347;
                    proj_j_4652 = var_j_4651.bj_decl_lbls;
                    m_match_bool_j_4654 = proj_j_4652 ~ {left, _};
                    m_match_cond_j_4655 = m_match_bool_j_4654 ? (
                            left_j_346 = proj_j_4652.left;
                            var_j_4656 = actual_rec_b_678;
                            proj_j_4657 = var_j_4656.left;
                            left_j_345 = proj_j_4657;
                            var_j_4658 = left_j_345
                        ) : (
                            ab_j_4653 = abort
                        )
                ) : (
                    m_match_cond_j_4643 = m_match_bool_j_4642 ? (
                            var_j_4644 = fail_b_618;
                            assert_pred_j_4645 = var_j_4644;
                            assert_res_j_4646 = assert_pred_j_4645 ? (
                                    assert_res_true_j_4647 = {}
                                ) : (
                                    ab_j_4648 = abort
                                )
                        ) : (
                            ab_j_4641 = abort
                        )
                ));
        left_exn = left_exn_j_4659;
        right_exn_j_4680 = fun x_j_344 -> (
            bool_j_4660 = false;
            fail_b_619 = bool_j_4660;
            var_j_4661 = x_j_344;
            m_match_bool_j_4663 = var_j_4661 ~ {bj_untouched, _};
            m_match_bool_j_4670 = var_j_4661 ~ {bj_actual_rec, _};
            m_match_cond_j_4671 = m_match_bool_j_4670 ? (
                    actual_rec_b_679 = var_j_4661.bj_actual_rec;
                    var_j_4672 = x_j_344;
                    proj_j_4673 = var_j_4672.bj_decl_lbls;
                    m_match_bool_j_4675 = proj_j_4673 ~ {right, _};
                    m_match_cond_j_4676 = m_match_bool_j_4675 ? (
                            right_j_343 = proj_j_4673.right;
                            var_j_4677 = actual_rec_b_679;
                            proj_j_4678 = var_j_4677.right;
                            right_j_342 = proj_j_4678;
                            var_j_4679 = right_j_342
                        ) : (
                            ab_j_4674 = abort
                        )
                ) : (
                    m_match_cond_j_4664 = m_match_bool_j_4663 ? (
                            var_j_4665 = fail_b_619;
                            assert_pred_j_4666 = var_j_4665;
                            assert_res_j_4667 = assert_pred_j_4666 ? (
                                    assert_res_true_j_4668 = {}
                                ) : (
                                    ab_j_4669 = abort
                                )
                        ) : (
                            ab_j_4662 = abort
                        )
                ));
        right_exn = right_exn_j_4680;
        bool_j_4681 = true;
        record_j_4682 = {leaf = bool_j_4681};
        record_j_4683 = {};
        record_j_4684 = {leaf = record_j_4683};
        record_j_4685 = {bj_actual_rec = record_j_4682, bj_decl_lbls = record_j_4684};
        empty = record_j_4685;
        balance_factor_j_4719 = fun x_j_341 -> (
            bool_j_4686 = false;
            fail_b_620 = bool_j_4686;
            var_j_4687 = x_j_341;
            m_match_bool_j_4689 = var_j_4687 ~ {bj_untouched, _};
            m_match_bool_j_4696 = var_j_4687 ~ {bj_actual_rec, _};
            m_match_cond_j_4697 = m_match_bool_j_4696 ? (
                    actual_rec_b_680 = var_j_4687.bj_actual_rec;
                    var_j_4698 = x_j_341;
                    proj_j_4699 = var_j_4698.bj_decl_lbls;
                    m_match_bool_j_4701 = proj_j_4699 ~ {left, right, _};
                    m_match_bool_j_4714 = proj_j_4699 ~ {leaf};
                    m_match_cond_j_4715 = m_match_bool_j_4714 ? (
                            leaf_j_336 = proj_j_4699.leaf;
                            var_j_4716 = actual_rec_b_680;
                            proj_j_4717 = var_j_4716.leaf;
                            leaf_j_335 = proj_j_4717;
                            int_j_4718 = 0
                        ) : (
                            m_match_cond_j_4702 = m_match_bool_j_4701 ? (
                                    left_j_340 = proj_j_4699.left;
                                    right_j_339 = proj_j_4699.right;
                                    var_j_4703 = actual_rec_b_680;
                                    proj_j_4704 = var_j_4703.right;
                                    right_j_338 = proj_j_4704;
                                    var_j_4705 = actual_rec_b_680;
                                    proj_j_4706 = var_j_4705.left;
                                    left_j_337 = proj_j_4706;
                                    var_j_4707 = height_j_356_j_401;
                                    var_j_4708 = left_j_337;
                                    m_i_6008 = var_j_4707 ~ fun;
                                    appl_j_4709 = m_i_6008 ? (
                                            c_appl_i_6009 = var_j_4707 var_j_4708
                                        ) : (
                                            ab_i_6010 = abort
                                        );
                                    var_j_4710 = height_j_356_j_401;
                                    var_j_4711 = right_j_338;
                                    m_i_6011 = var_j_4710 ~ fun;
                                    appl_j_4712 = m_i_6011 ? (
                                            c_appl_i_6012 = var_j_4710 var_j_4711
                                        ) : (
                                            ab_i_6013 = abort
                                        );
                                    m_bl_i_6014 = appl_j_4709 ~ int;
                                    m_br_i_6015 = appl_j_4712 ~ int;
                                    m_b_i_6016 = m_bl_i_6014 and m_br_i_6015;
                                    binop_j_4713 = m_b_i_6016 ? (
                                            c_binop_i_6017 = appl_j_4709 - appl_j_4712
                                        ) : (
                                            ab_i_6018 = abort
                                        )
                                ) : (
                                    ab_j_4700 = abort
                                )
                        )
                ) : (
                    m_match_cond_j_4690 = m_match_bool_j_4689 ? (
                            var_j_4691 = fail_b_620;
                            assert_pred_j_4692 = var_j_4691;
                            assert_res_j_4693 = assert_pred_j_4692 ? (
                                    assert_res_true_j_4694 = {}
                                ) : (
                                    ab_j_4695 = abort
                                )
                        ) : (
                            ab_j_4688 = abort
                        )
                ));
        balance_factor = balance_factor_j_4719;
        abs_j_4728 = fun a -> (
            int_j_4720 = 0;
            var_j_4721 = a;
            m_bl_i_6019 = int_j_4720 ~ int;
            m_br_i_6020 = var_j_4721 ~ int;
            m_b_i_6021 = m_bl_i_6019 and m_br_i_6020;
            binop_j_4722 = m_b_i_6021 ? (
                    c_binop_i_6022 = int_j_4720 < var_j_4721
                ) : (
                    ab_i_6023 = abort
                );
            m_i_6024 = binop_j_4722 ~ bool;
            if_j_4727 = m_i_6024 ? (
                    c_cond_i_6030 = binop_j_4722 ? (
                            var_j_4723 = a
                        ) : (
                            int_j_4724 = 0;
                            var_j_4725 = a;
                            m_bl_i_6025 = int_j_4724 ~ int;
                            m_br_i_6026 = var_j_4725 ~ int;
                            m_b_i_6027 = m_bl_i_6025 and m_br_i_6026;
                            binop_j_4726 = m_b_i_6027 ? (
                                    c_binop_i_6028 = int_j_4724 - var_j_4725
                                ) : (
                                    ab_i_6029 = abort
                                )
                        )
                ) : (
                    ab_i_6031 = abort
                ));
        abs = abs_j_4728;
        flatten_fun_j_4774 = fun is_balanced_j_1 -> (
            flatten_fun_j_4773 = fun x -> (
                var_j_4729 = is_balanced_j_1;
                var_j_4730 = is_balanced_j_1;
                appl_j_4731 = var_j_4729 var_j_4730;
                is_balanced = appl_j_4731;
                bool_j_4732 = false;
                fail_b_621 = bool_j_4732;
                var_j_4733 = x;
                m_match_bool_j_4735 = var_j_4733 ~ {bj_untouched, _};
                m_match_bool_j_4742 = var_j_4733 ~ {bj_actual_rec, _};
                m_match_cond_j_4743 = m_match_bool_j_4742 ? (
                        actual_rec_b_681 = var_j_4733.bj_actual_rec;
                        var_j_4744 = x;
                        proj_j_4745 = var_j_4744.bj_decl_lbls;
                        m_match_bool_j_4747 = proj_j_4745 ~ {left, right, _};
                        m_match_bool_j_4768 = proj_j_4745 ~ {leaf};
                        m_match_cond_j_4769 = m_match_bool_j_4768 ? (
                                leaf_j_256 = proj_j_4745.leaf;
                                var_j_4770 = actual_rec_b_681;
                                proj_j_4771 = var_j_4770.leaf;
                                leaf_j_255 = proj_j_4771;
                                bool_j_4772 = true
                            ) : (
                                m_match_cond_j_4748 = m_match_bool_j_4747 ? (
                                        left_j_260 = proj_j_4745.left;
                                        right_j_259 = proj_j_4745.right;
                                        var_j_4749 = actual_rec_b_681;
                                        proj_j_4750 = var_j_4749.right;
                                        right_j_258 = proj_j_4750;
                                        var_j_4751 = actual_rec_b_681;
                                        proj_j_4752 = var_j_4751.left;
                                        left_j_257 = proj_j_4752;
                                        var_j_4753 = abs;
                                        var_j_4754 = balance_factor;
                                        var_j_4755 = x;
                                        m_i_6032 = var_j_4754 ~ fun;
                                        appl_j_4756 = m_i_6032 ? (
                                                c_appl_i_6033 = var_j_4754 var_j_4755
                                            ) : (
                                                ab_i_6034 = abort
                                            );
                                        m_i_6035 = var_j_4753 ~ fun;
                                        appl_j_4757 = m_i_6035 ? (
                                                c_appl_i_6036 = var_j_4753 appl_j_4756
                                            ) : (
                                                ab_i_6037 = abort
                                            );
                                        int_j_4758 = 2;
                                        m_bl_i_6038 = appl_j_4757 ~ int;
                                        m_br_i_6039 = int_j_4758 ~ int;
                                        m_b_i_6040 = m_bl_i_6038 and m_br_i_6039;
                                        binop_j_4759 = m_b_i_6040 ? (
                                                c_binop_i_6041 = appl_j_4757 < int_j_4758
                                            ) : (
                                                ab_i_6042 = abort
                                            );
                                        var_j_4760 = is_balanced;
                                        var_j_4761 = left_j_257;
                                        m_i_6043 = var_j_4760 ~ fun;
                                        appl_j_4762 = m_i_6043 ? (
                                                c_appl_i_6044 = var_j_4760 var_j_4761
                                            ) : (
                                                ab_i_6045 = abort
                                            );
                                        m_bl_i_6046 = binop_j_4759 ~ bool;
                                        m_br_i_6047 = appl_j_4762 ~ bool;
                                        m_b_i_6048 = m_bl_i_6046 and m_br_i_6047;
                                        binop_j_4763 = m_b_i_6048 ? (
                                                c_binop_i_6049 = binop_j_4759 and appl_j_4762
                                            ) : (
                                                ab_i_6050 = abort
                                            );
                                        var_j_4764 = is_balanced;
                                        var_j_4765 = right_j_258;
                                        m_i_6051 = var_j_4764 ~ fun;
                                        appl_j_4766 = m_i_6051 ? (
                                                c_appl_i_6052 = var_j_4764 var_j_4765
                                            ) : (
                                                ab_i_6053 = abort
                                            );
                                        m_bl_i_6054 = binop_j_4763 ~ bool;
                                        m_br_i_6055 = appl_j_4766 ~ bool;
                                        m_b_i_6056 = m_bl_i_6054 and m_br_i_6055;
                                        binop_j_4767 = m_b_i_6056 ? (
                                                c_binop_i_6057 = binop_j_4763 and appl_j_4766
                                            ) : (
                                                ab_i_6058 = abort
                                            )
                                    ) : (
                                        ab_j_4746 = abort
                                    )
                            )
                    ) : (
                        m_match_cond_j_4736 = m_match_bool_j_4735 ? (
                                var_j_4737 = fail_b_621;
                                assert_pred_j_4738 = var_j_4737;
                                assert_res_j_4739 = assert_pred_j_4738 ? (
                                        assert_res_true_j_4740 = {}
                                    ) : (
                                        ab_j_4741 = abort
                                    )
                            ) : (
                                ab_j_4734 = abort
                            )
                    )));
        is_balanced_j_1_j_334 = flatten_fun_j_4774;
        var_j_4775 = is_balanced_j_1_j_334;
        var_j_4776 = is_balanced_j_1_j_334;
        appl_j_4777 = var_j_4775 var_j_4776;
        is_balanced_j_333 = appl_j_4777;
        create_node_j_4801 = fun item_j_332 -> (
            create_node_j_4800 = fun left_j_331 -> (
                create_node_j_4799 = fun right_j_330 -> (
                    int_j_4778 = 1;
                    var_j_4779 = max;
                    var_j_4780 = height_j_356_j_401;
                    var_j_4781 = left_j_331;
                    m_i_6059 = var_j_4780 ~ fun;
                    appl_j_4782 = m_i_6059 ? (
                            c_appl_i_6060 = var_j_4780 var_j_4781
                        ) : (
                            ab_i_6061 = abort
                        );
                    m_i_6062 = var_j_4779 ~ fun;
                    appl_j_4783 = m_i_6062 ? (
                            c_appl_i_6063 = var_j_4779 appl_j_4782
                        ) : (
                            ab_i_6064 = abort
                        );
                    var_j_4784 = height_j_356_j_401;
                    var_j_4785 = right_j_330;
                    m_i_6065 = var_j_4784 ~ fun;
                    appl_j_4786 = m_i_6065 ? (
                            c_appl_i_6066 = var_j_4784 var_j_4785
                        ) : (
                            ab_i_6067 = abort
                        );
                    m_i_6068 = appl_j_4783 ~ fun;
                    appl_j_4787 = m_i_6068 ? (
                            c_appl_i_6069 = appl_j_4783 appl_j_4786
                        ) : (
                            ab_i_6070 = abort
                        );
                    m_bl_i_6071 = int_j_4778 ~ int;
                    m_br_i_6072 = appl_j_4787 ~ int;
                    m_b_i_6073 = m_bl_i_6071 and m_br_i_6072;
                    binop_j_4788 = m_b_i_6073 ? (
                            c_binop_i_6074 = int_j_4778 + appl_j_4787
                        ) : (
                            ab_i_6075 = abort
                        );
                    var_j_4789 = item_j_332;
                    var_j_4790 = left_j_331;
                    var_j_4791 = right_j_330;
                    record_j_4792 = {height = binop_j_4788, item = var_j_4789, left = var_j_4790, right = var_j_4791};
                    record_j_4793 = {};
                    record_j_4794 = {};
                    record_j_4795 = {};
                    record_j_4796 = {};
                    record_j_4797 = {height = record_j_4793, item = record_j_4794, left = record_j_4795, right = record_j_4796};
                    record_j_4798 = {bj_actual_rec = record_j_4792, bj_decl_lbls = record_j_4797})));
        create_node = create_node_j_4801;
        rotate_left_j_4940 = fun x_j_329 -> (
            flatten_fun_j_4937 = fun x_b_2 -> (
                int_j_4802 = 0;
                input_j_4803 = input;
                m_bl_i_6076 = int_j_4802 ~ int;
                m_br_i_6077 = input_j_4803 ~ int;
                m_b_i_6078 = m_bl_i_6076 and m_br_i_6077;
                binop_j_4804 = m_b_i_6078 ? (
                        c_binop_i_6079 = int_j_4802 < input_j_4803
                    ) : (
                        ab_i_6080 = abort
                    );
                if_j_4867 = binop_j_4804 ? (
                        flatten_fun_j_4833 = fun expr_b_628 -> (
                            var_j_4805 = appl_j_4520;
                            proj_j_4806 = var_j_4805.checker;
                            var_j_4807 = expr_b_628;
                            appl_j_4808 = proj_j_4806 var_j_4807;
                            t_check_b_629 = appl_j_4808;
                            var_j_4809 = t_check_b_629;
                            if_j_4832 = var_j_4809 ? (
                                    bool_j_4810 = false;
                                    pred_check_b_630 = bool_j_4810;
                                    flatten_fun_j_4825 = fun x_j_316 -> (
                                        var_j_4811 = and_;
                                        var_j_4812 = is_leaf;
                                        var_j_4813 = x_j_316;
                                        m_i_6081 = var_j_4812 ~ fun;
                                        appl_j_4814 = m_i_6081 ? (
                                                c_appl_i_6082 = var_j_4812 var_j_4813
                                            ) : (
                                                ab_i_6083 = abort
                                            );
                                        m_i_6084 = appl_j_4814 ~ bool;
                                        notop_j_4815 = m_i_6084 ? (
                                                c_not_i_6085 = not appl_j_4814
                                            ) : (
                                                ab_i_6086 = abort
                                            );
                                        m_i_6087 = var_j_4811 ~ fun;
                                        appl_j_4816 = m_i_6087 ? (
                                                c_appl_i_6088 = var_j_4811 notop_j_4815
                                            ) : (
                                                ab_i_6089 = abort
                                            );
                                        flatten_fun_j_4823 = fun y_j_315 -> (
                                            var_j_4817 = is_leaf;
                                            var_j_4818 = right_exn;
                                            var_j_4819 = x_j_316;
                                            m_i_6090 = var_j_4818 ~ fun;
                                            appl_j_4820 = m_i_6090 ? (
                                                    c_appl_i_6091 = var_j_4818 var_j_4819
                                                ) : (
                                                    ab_i_6092 = abort
                                                );
                                            m_i_6093 = var_j_4817 ~ fun;
                                            appl_j_4821 = m_i_6093 ? (
                                                    c_appl_i_6094 = var_j_4817 appl_j_4820
                                                ) : (
                                                    ab_i_6095 = abort
                                                );
                                            m_i_6096 = appl_j_4821 ~ bool;
                                            notop_j_4822 = m_i_6096 ? (
                                                    c_not_i_6097 = not appl_j_4821
                                                ) : (
                                                    ab_i_6098 = abort
                                                ));
                                        m_i_6099 = appl_j_4816 ~ fun;
                                        appl_j_4824 = m_i_6099 ? (
                                                c_appl_i_6100 = appl_j_4816 flatten_fun_j_4823
                                            ) : (
                                                ab_i_6101 = abort
                                            ));
                                    var_j_4826 = expr_b_628;
                                    appl_j_4827 = flatten_fun_j_4825 var_j_4826;
                                    if_j_4830 = appl_j_4827 ? (
                                            bool_j_4828 = true
                                        ) : (
                                            var_j_4829 = pred_check_b_630
                                        )
                                ) : (
                                    var_j_4831 = t_check_b_629
                                ));
                        flatten_fun_j_4859 = fun bj_null_j_319 -> (
                            var_j_4834 = appl_j_4520;
                            proj_j_4835 = var_j_4834.generator;
                            int_j_4836 = 0;
                            appl_j_4837 = proj_j_4835 int_j_4836;
                            candidate_b_627 = appl_j_4837;
                            flatten_fun_j_4852 = fun x_j_318 -> (
                                var_j_4838 = and_;
                                var_j_4839 = is_leaf;
                                var_j_4840 = x_j_318;
                                m_i_6102 = var_j_4839 ~ fun;
                                appl_j_4841 = m_i_6102 ? (
                                        c_appl_i_6103 = var_j_4839 var_j_4840
                                    ) : (
                                        ab_i_6104 = abort
                                    );
                                m_i_6105 = appl_j_4841 ~ bool;
                                notop_j_4842 = m_i_6105 ? (
                                        c_not_i_6106 = not appl_j_4841
                                    ) : (
                                        ab_i_6107 = abort
                                    );
                                m_i_6108 = var_j_4838 ~ fun;
                                appl_j_4843 = m_i_6108 ? (
                                        c_appl_i_6109 = var_j_4838 notop_j_4842
                                    ) : (
                                        ab_i_6110 = abort
                                    );
                                flatten_fun_j_4850 = fun y_j_317 -> (
                                    var_j_4844 = is_leaf;
                                    var_j_4845 = right_exn;
                                    var_j_4846 = x_j_318;
                                    m_i_6111 = var_j_4845 ~ fun;
                                    appl_j_4847 = m_i_6111 ? (
                                            c_appl_i_6112 = var_j_4845 var_j_4846
                                        ) : (
                                            ab_i_6113 = abort
                                        );
                                    m_i_6114 = var_j_4844 ~ fun;
                                    appl_j_4848 = m_i_6114 ? (
                                            c_appl_i_6115 = var_j_4844 appl_j_4847
                                        ) : (
                                            ab_i_6116 = abort
                                        );
                                    m_i_6117 = appl_j_4848 ~ bool;
                                    notop_j_4849 = m_i_6117 ? (
                                            c_not_i_6118 = not appl_j_4848
                                        ) : (
                                            ab_i_6119 = abort
                                        ));
                                m_i_6120 = appl_j_4843 ~ fun;
                                appl_j_4851 = m_i_6120 ? (
                                        c_appl_i_6121 = appl_j_4843 flatten_fun_j_4850
                                    ) : (
                                        ab_i_6122 = abort
                                    ));
                            var_j_4853 = candidate_b_627;
                            appl_j_4854 = flatten_fun_j_4852 var_j_4853;
                            if_j_4858 = appl_j_4854 ? (
                                    var_j_4855 = candidate_b_627
                                ) : (
                                    bool_j_4856 = false;
                                    assume_j_4857 = assume bool_j_4856
                                ));
                        flatten_fun_j_4861 = fun expr_b_631 -> (
                            var_j_4860 = expr_b_631);
                        record_j_4862 = {checker = flatten_fun_j_4833, generator = flatten_fun_j_4859, wrapper = flatten_fun_j_4861};
                        proj_j_4863 = record_j_4862.checker;
                        var_j_4864 = x_b_2;
                        m_i_6123 = proj_j_4863 ~ fun;
                        appl_j_4865 = m_i_6123 ? (
                                c_appl_i_6124 = proj_j_4863 var_j_4864
                            ) : (
                                ab_i_6125 = abort
                            )
                    ) : (
                        bool_j_4866 = true
                    );
                arg_check_b_3 = if_j_4867;
                var_j_4868 = arg_check_b_3;
                if_j_4936 = var_j_4868 ? (
                        var_j_4869 = appl_j_4520;
                        proj_j_4870 = var_j_4869.wrapper;
                        bool_j_4871 = false;
                        fail_b_632 = bool_j_4871;
                        var_j_4872 = x_j_329;
                        m_match_bool_j_4874 = var_j_4872 ~ {bj_untouched, _};
                        m_match_bool_j_4881 = var_j_4872 ~ {bj_actual_rec, _};
                        m_match_cond_j_4882 = m_match_bool_j_4881 ? (
                                actual_rec_b_695 = var_j_4872.bj_actual_rec;
                                var_j_4883 = x_j_329;
                                proj_j_4884 = var_j_4883.bj_decl_lbls;
                                m_match_bool_j_4886 = proj_j_4884 ~ {item, left, right, _};
                                m_match_cond_j_4887 = m_match_bool_j_4886 ? (
                                        item_j_328 = proj_j_4884.item;
                                        left_j_327 = proj_j_4884.left;
                                        right_j_326 = proj_j_4884.right;
                                        var_j_4888 = actual_rec_b_695;
                                        proj_j_4889 = var_j_4888.right;
                                        right_j_325 = proj_j_4889;
                                        var_j_4890 = actual_rec_b_695;
                                        proj_j_4891 = var_j_4890.left;
                                        left_j_324 = proj_j_4891;
                                        var_j_4892 = actual_rec_b_695;
                                        proj_j_4893 = var_j_4892.item;
                                        item_j_323 = proj_j_4893;
                                        bool_j_4894 = false;
                                        fail_b_633 = bool_j_4894;
                                        var_j_4895 = right_j_325;
                                        m_match_bool_j_4897 = var_j_4895 ~ 
                                            {bj_untouched, _};
                                        m_match_bool_j_4904 = var_j_4895 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_4905 = m_match_bool_j_4904 ? (
                                                actual_rec_b_694 = var_j_4895.bj_actual_rec;
                                                var_j_4906 = right_j_325;
                                                proj_j_4907 = var_j_4906.bj_decl_lbls;
                                                m_match_bool_j_4909 = proj_j_4907 ~ 
                                                    {item, left, right, _};
                                                m_match_cond_j_4910 = m_match_bool_j_4909 ? (
                                                        ri_j_322 = proj_j_4907.item;
                                                        rleft_j_321 = proj_j_4907.left;
                                                        rright_j_320 = proj_j_4907.right;
                                                        var_j_4911 = actual_rec_b_694;
                                                        proj_j_4912 = var_j_4911.right;
                                                        rright = proj_j_4912;
                                                        var_j_4913 = actual_rec_b_694;
                                                        proj_j_4914 = var_j_4913.left;
                                                        rleft = proj_j_4914;
                                                        var_j_4915 = actual_rec_b_694;
                                                        proj_j_4916 = var_j_4915.item;
                                                        ri = proj_j_4916;
                                                        var_j_4917 = create_node;
                                                        var_j_4918 = ri;
                                                        m_i_6126 = var_j_4917 ~ fun;
                                                        appl_j_4919 = m_i_6126 ? (
                                                                c_appl_i_6127 = var_j_4917 var_j_4918
                                                            ) : (
                                                                ab_i_6128 = abort
                                                            );
                                                        var_j_4920 = create_node;
                                                        var_j_4921 = item_j_323;
                                                        m_i_6129 = var_j_4920 ~ fun;
                                                        appl_j_4922 = m_i_6129 ? (
                                                                c_appl_i_6130 = var_j_4920 var_j_4921
                                                            ) : (
                                                                ab_i_6131 = abort
                                                            );
                                                        var_j_4923 = left_j_324;
                                                        m_i_6132 = appl_j_4922 ~ fun;
                                                        appl_j_4924 = m_i_6132 ? (
                                                                c_appl_i_6133 = appl_j_4922 var_j_4923
                                                            ) : (
                                                                ab_i_6134 = abort
                                                            );
                                                        var_j_4925 = rleft;
                                                        m_i_6135 = appl_j_4924 ~ fun;
                                                        appl_j_4926 = m_i_6135 ? (
                                                                c_appl_i_6136 = appl_j_4924 var_j_4925
                                                            ) : (
                                                                ab_i_6137 = abort
                                                            );
                                                        m_i_6138 = appl_j_4919 ~ fun;
                                                        appl_j_4927 = m_i_6138 ? (
                                                                c_appl_i_6139 = appl_j_4919 appl_j_4926
                                                            ) : (
                                                                ab_i_6140 = abort
                                                            );
                                                        var_j_4928 = rright;
                                                        m_i_6141 = appl_j_4927 ~ fun;
                                                        appl_j_4929 = m_i_6141 ? (
                                                                c_appl_i_6142 = appl_j_4927 var_j_4928
                                                            ) : (
                                                                ab_i_6143 = abort
                                                            )
                                                    ) : (
                                                        ab_j_4908 = abort
                                                    )
                                            ) : (
                                                m_match_cond_j_4898 = m_match_bool_j_4897 ? (
                                                        var_j_4899 = fail_b_633;
                                                        assert_pred_j_4900 = var_j_4899;
                                                        assert_res_j_4901 = assert_pred_j_4900 ? (
                                                                assert_res_true_j_4902 = 
                                                                    {}
                                                            ) : (
                                                                ab_j_4903 = abort
                                                            )
                                                    ) : (
                                                        ab_j_4896 = abort
                                                    )
                                            )
                                    ) : (
                                        ab_j_4885 = abort
                                    )
                            ) : (
                                m_match_cond_j_4875 = m_match_bool_j_4874 ? (
                                        var_j_4876 = fail_b_632;
                                        assert_pred_j_4877 = var_j_4876;
                                        assert_res_j_4878 = assert_pred_j_4877 ? (
                                                assert_res_true_j_4879 = 
                                                    {}
                                            ) : (
                                                ab_j_4880 = abort
                                            )
                                    ) : (
                                        ab_j_4873 = abort
                                    )
                            );
                        m_i_6144 = proj_j_4870 ~ fun;
                        appl_j_4930 = m_i_6144 ? (
                                c_appl_i_6145 = proj_j_4870 m_match_cond_j_4882
                            ) : (
                                ab_i_6146 = abort
                            )
                    ) : (
                        var_j_4931 = arg_check_b_3;
                        assert_pred_j_4932 = var_j_4931;
                        assert_res_j_4933 = assert_pred_j_4932 ? (
                                assert_res_true_j_4934 = {}
                            ) : (
                                ab_j_4935 = abort
                            )
                    ));
            var_j_4938 = x_j_329;
            appl_j_4939 = flatten_fun_j_4937 var_j_4938);
        rotate_left = rotate_left_j_4940;
        flatten_fun_j_4969 = fun expr_b_623 -> (
            var_j_4941 = appl_j_4520;
            proj_j_4942 = var_j_4941.checker;
            var_j_4943 = expr_b_623;
            appl_j_4944 = proj_j_4942 var_j_4943;
            t_check_b_624 = appl_j_4944;
            var_j_4945 = t_check_b_624;
            if_j_4968 = var_j_4945 ? (
                    bool_j_4946 = false;
                    pred_check_b_625 = bool_j_4946;
                    flatten_fun_j_4961 = fun x_j_261 -> (
                        var_j_4947 = and_;
                        var_j_4948 = is_leaf;
                        var_j_4949 = x_j_261;
                        m_i_6147 = var_j_4948 ~ fun;
                        appl_j_4950 = m_i_6147 ? (
                                c_appl_i_6148 = var_j_4948 var_j_4949
                            ) : (
                                ab_i_6149 = abort
                            );
                        m_i_6150 = appl_j_4950 ~ bool;
                        notop_j_4951 = m_i_6150 ? (
                                c_not_i_6151 = not appl_j_4950
                            ) : (
                                ab_i_6152 = abort
                            );
                        m_i_6153 = var_j_4947 ~ fun;
                        appl_j_4952 = m_i_6153 ? (
                                c_appl_i_6154 = var_j_4947 notop_j_4951
                            ) : (
                                ab_i_6155 = abort
                            );
                        flatten_fun_j_4959 = fun y -> (
                            var_j_4953 = is_leaf;
                            var_j_4954 = right_exn;
                            var_j_4955 = x_j_261;
                            m_i_6156 = var_j_4954 ~ fun;
                            appl_j_4956 = m_i_6156 ? (
                                    c_appl_i_6157 = var_j_4954 var_j_4955
                                ) : (
                                    ab_i_6158 = abort
                                );
                            m_i_6159 = var_j_4953 ~ fun;
                            appl_j_4957 = m_i_6159 ? (
                                    c_appl_i_6160 = var_j_4953 appl_j_4956
                                ) : (
                                    ab_i_6161 = abort
                                );
                            m_i_6162 = appl_j_4957 ~ bool;
                            notop_j_4958 = m_i_6162 ? (
                                    c_not_i_6163 = not appl_j_4957
                                ) : (
                                    ab_i_6164 = abort
                                ));
                        m_i_6165 = appl_j_4952 ~ fun;
                        appl_j_4960 = m_i_6165 ? (
                                c_appl_i_6166 = appl_j_4952 flatten_fun_j_4959
                            ) : (
                                ab_i_6167 = abort
                            ));
                    var_j_4962 = expr_b_623;
                    appl_j_4963 = flatten_fun_j_4961 var_j_4962;
                    if_j_4966 = appl_j_4963 ? (
                            bool_j_4964 = true
                        ) : (
                            var_j_4965 = pred_check_b_625
                        )
                ) : (
                    var_j_4967 = t_check_b_624
                ));
        flatten_fun_j_4995 = fun bj_null_j_264 -> (
            var_j_4970 = appl_j_4520;
            proj_j_4971 = var_j_4970.generator;
            int_j_4972 = 0;
            appl_j_4973 = proj_j_4971 int_j_4972;
            candidate_b_622 = appl_j_4973;
            flatten_fun_j_4988 = fun x_j_263 -> (
                var_j_4974 = and_;
                var_j_4975 = is_leaf;
                var_j_4976 = x_j_263;
                m_i_6168 = var_j_4975 ~ fun;
                appl_j_4977 = m_i_6168 ? (
                        c_appl_i_6169 = var_j_4975 var_j_4976
                    ) : (
                        ab_i_6170 = abort
                    );
                m_i_6171 = appl_j_4977 ~ bool;
                notop_j_4978 = m_i_6171 ? (
                        c_not_i_6172 = not appl_j_4977
                    ) : (
                        ab_i_6173 = abort
                    );
                m_i_6174 = var_j_4974 ~ fun;
                appl_j_4979 = m_i_6174 ? (
                        c_appl_i_6175 = var_j_4974 notop_j_4978
                    ) : (
                        ab_i_6176 = abort
                    );
                flatten_fun_j_4986 = fun y_j_262 -> (
                    var_j_4980 = is_leaf;
                    var_j_4981 = right_exn;
                    var_j_4982 = x_j_263;
                    m_i_6177 = var_j_4981 ~ fun;
                    appl_j_4983 = m_i_6177 ? (
                            c_appl_i_6178 = var_j_4981 var_j_4982
                        ) : (
                            ab_i_6179 = abort
                        );
                    m_i_6180 = var_j_4980 ~ fun;
                    appl_j_4984 = m_i_6180 ? (
                            c_appl_i_6181 = var_j_4980 appl_j_4983
                        ) : (
                            ab_i_6182 = abort
                        );
                    m_i_6183 = appl_j_4984 ~ bool;
                    notop_j_4985 = m_i_6183 ? (
                            c_not_i_6184 = not appl_j_4984
                        ) : (
                            ab_i_6185 = abort
                        ));
                m_i_6186 = appl_j_4979 ~ fun;
                appl_j_4987 = m_i_6186 ? (
                        c_appl_i_6187 = appl_j_4979 flatten_fun_j_4986
                    ) : (
                        ab_i_6188 = abort
                    ));
            var_j_4989 = candidate_b_622;
            appl_j_4990 = flatten_fun_j_4988 var_j_4989;
            if_j_4994 = appl_j_4990 ? (
                    var_j_4991 = candidate_b_622
                ) : (
                    bool_j_4992 = false;
                    assume_j_4993 = assume bool_j_4992
                ));
        flatten_fun_j_4997 = fun expr_b_626 -> (
            var_j_4996 = expr_b_626);
        record_j_4998 = {checker = flatten_fun_j_4969, generator = flatten_fun_j_4995, wrapper = flatten_fun_j_4997};
        proj_j_4999 = record_j_4998.generator;
        int_j_5000 = 0;
        appl_j_5001 = proj_j_4999 int_j_5000;
        x_b_682 = appl_j_5001;
        var_j_5002 = appl_j_4520;
        proj_j_5003 = var_j_5002.checker;
        var_j_5004 = rotate_left;
        var_j_5005 = x_b_682;
        appl_j_5006 = var_j_5004 var_j_5005;
        appl_j_5007 = proj_j_5003 appl_j_5006;
        check_res_b_693 = appl_j_5007;
        var_j_5008 = check_res_b_693;
        if_j_5637 = var_j_5008 ? (
                rotate_right_j_5147 = fun x_j_314 -> (
                    flatten_fun_j_5144 = fun x_b_4 -> (
                        int_j_5009 = 0;
                        input_j_5010 = input;
                        m_bl_i_6189 = int_j_5009 ~ int;
                        m_br_i_6190 = input_j_5010 ~ int;
                        m_b_i_6191 = m_bl_i_6189 and m_br_i_6190;
                        binop_j_5011 = m_b_i_6191 ? (
                                c_binop_i_6192 = int_j_5009 < input_j_5010
                            ) : (
                                ab_i_6193 = abort
                            );
                        if_j_5074 = binop_j_5011 ? (
                                flatten_fun_j_5040 = fun expr_b_640 -> (
                                    var_j_5012 = appl_j_4520;
                                    proj_j_5013 = var_j_5012.checker;
                                    var_j_5014 = expr_b_640;
                                    appl_j_5015 = proj_j_5013 var_j_5014;
                                    t_check_b_641 = appl_j_5015;
                                    var_j_5016 = t_check_b_641;
                                    if_j_5039 = var_j_5016 ? (
                                            bool_j_5017 = false;
                                            pred_check_b_642 = bool_j_5017;
                                            flatten_fun_j_5032 = fun x_j_301 -> (
                                                var_j_5018 = and_;
                                                var_j_5019 = is_leaf;
                                                var_j_5020 = x_j_301;
                                                m_i_6194 = var_j_5019 ~ fun;
                                                appl_j_5021 = m_i_6194 ? (
                                                        c_appl_i_6195 = var_j_5019 var_j_5020
                                                    ) : (
                                                        ab_i_6196 = abort
                                                    );
                                                m_i_6197 = appl_j_5021 ~ bool;
                                                notop_j_5022 = m_i_6197 ? (
                                                        c_not_i_6198 = not appl_j_5021
                                                    ) : (
                                                        ab_i_6199 = abort
                                                    );
                                                m_i_6200 = var_j_5018 ~ fun;
                                                appl_j_5023 = m_i_6200 ? (
                                                        c_appl_i_6201 = var_j_5018 notop_j_5022
                                                    ) : (
                                                        ab_i_6202 = abort
                                                    );
                                                flatten_fun_j_5030 = fun y_j_300 -> (
                                                    var_j_5024 = is_leaf;
                                                    var_j_5025 = left_exn;
                                                    var_j_5026 = x_j_301;
                                                    m_i_6203 = var_j_5025 ~ fun;
                                                    appl_j_5027 = m_i_6203 ? (
                                                            c_appl_i_6204 = var_j_5025 var_j_5026
                                                        ) : (
                                                            ab_i_6205 = abort
                                                        );
                                                    m_i_6206 = var_j_5024 ~ fun;
                                                    appl_j_5028 = m_i_6206 ? (
                                                            c_appl_i_6207 = var_j_5024 appl_j_5027
                                                        ) : (
                                                            ab_i_6208 = abort
                                                        );
                                                    m_i_6209 = appl_j_5028 ~ bool;
                                                    notop_j_5029 = m_i_6209 ? (
                                                            c_not_i_6210 = not appl_j_5028
                                                        ) : (
                                                            ab_i_6211 = abort
                                                        ));
                                                m_i_6212 = appl_j_5023 ~ fun;
                                                appl_j_5031 = m_i_6212 ? (
                                                        c_appl_i_6213 = appl_j_5023 flatten_fun_j_5030
                                                    ) : (
                                                        ab_i_6214 = abort
                                                    ));
                                            var_j_5033 = expr_b_640;
                                            appl_j_5034 = flatten_fun_j_5032 var_j_5033;
                                            if_j_5037 = appl_j_5034 ? (
                                                    bool_j_5035 = true
                                                ) : (
                                                    var_j_5036 = pred_check_b_642
                                                )
                                        ) : (
                                            var_j_5038 = t_check_b_641
                                        ));
                                flatten_fun_j_5066 = fun bj_null_j_304 -> (
                                    var_j_5041 = appl_j_4520;
                                    proj_j_5042 = var_j_5041.generator;
                                    int_j_5043 = 0;
                                    appl_j_5044 = proj_j_5042 int_j_5043;
                                    candidate_b_639 = appl_j_5044;
                                    flatten_fun_j_5059 = fun x_j_303 -> (
                                        var_j_5045 = and_;
                                        var_j_5046 = is_leaf;
                                        var_j_5047 = x_j_303;
                                        m_i_6215 = var_j_5046 ~ fun;
                                        appl_j_5048 = m_i_6215 ? (
                                                c_appl_i_6216 = var_j_5046 var_j_5047
                                            ) : (
                                                ab_i_6217 = abort
                                            );
                                        m_i_6218 = appl_j_5048 ~ bool;
                                        notop_j_5049 = m_i_6218 ? (
                                                c_not_i_6219 = not appl_j_5048
                                            ) : (
                                                ab_i_6220 = abort
                                            );
                                        m_i_6221 = var_j_5045 ~ fun;
                                        appl_j_5050 = m_i_6221 ? (
                                                c_appl_i_6222 = var_j_5045 notop_j_5049
                                            ) : (
                                                ab_i_6223 = abort
                                            );
                                        flatten_fun_j_5057 = fun y_j_302 -> (
                                            var_j_5051 = is_leaf;
                                            var_j_5052 = left_exn;
                                            var_j_5053 = x_j_303;
                                            m_i_6224 = var_j_5052 ~ fun;
                                            appl_j_5054 = m_i_6224 ? (
                                                    c_appl_i_6225 = var_j_5052 var_j_5053
                                                ) : (
                                                    ab_i_6226 = abort
                                                );
                                            m_i_6227 = var_j_5051 ~ fun;
                                            appl_j_5055 = m_i_6227 ? (
                                                    c_appl_i_6228 = var_j_5051 appl_j_5054
                                                ) : (
                                                    ab_i_6229 = abort
                                                );
                                            m_i_6230 = appl_j_5055 ~ bool;
                                            notop_j_5056 = m_i_6230 ? (
                                                    c_not_i_6231 = not appl_j_5055
                                                ) : (
                                                    ab_i_6232 = abort
                                                ));
                                        m_i_6233 = appl_j_5050 ~ fun;
                                        appl_j_5058 = m_i_6233 ? (
                                                c_appl_i_6234 = appl_j_5050 flatten_fun_j_5057
                                            ) : (
                                                ab_i_6235 = abort
                                            ));
                                    var_j_5060 = candidate_b_639;
                                    appl_j_5061 = flatten_fun_j_5059 var_j_5060;
                                    if_j_5065 = appl_j_5061 ? (
                                            var_j_5062 = candidate_b_639
                                        ) : (
                                            bool_j_5063 = false;
                                            assume_j_5064 = assume bool_j_5063
                                        ));
                                flatten_fun_j_5068 = fun expr_b_643 -> (
                                    var_j_5067 = expr_b_643);
                                record_j_5069 = {checker = flatten_fun_j_5040, generator = flatten_fun_j_5066, wrapper = flatten_fun_j_5068};
                                proj_j_5070 = record_j_5069.checker;
                                var_j_5071 = x_b_4;
                                m_i_6236 = proj_j_5070 ~ fun;
                                appl_j_5072 = m_i_6236 ? (
                                        c_appl_i_6237 = proj_j_5070 var_j_5071
                                    ) : (
                                        ab_i_6238 = abort
                                    )
                            ) : (
                                bool_j_5073 = true
                            );
                        arg_check_b_5 = if_j_5074;
                        var_j_5075 = arg_check_b_5;
                        if_j_5143 = var_j_5075 ? (
                                var_j_5076 = appl_j_4520;
                                proj_j_5077 = var_j_5076.wrapper;
                                bool_j_5078 = false;
                                fail_b_644 = bool_j_5078;
                                var_j_5079 = x_j_314;
                                m_match_bool_j_5081 = var_j_5079 ~ {bj_untouched, _};
                                m_match_bool_j_5088 = var_j_5079 ~ {bj_actual_rec, _};
                                m_match_cond_j_5089 = m_match_bool_j_5088 ? (
                                        actual_rec_b_692 = var_j_5079.bj_actual_rec;
                                        var_j_5090 = x_j_314;
                                        proj_j_5091 = var_j_5090.bj_decl_lbls;
                                        m_match_bool_j_5093 = proj_j_5091 ~ 
                                            {item, left, right, _};
                                        m_match_cond_j_5094 = m_match_bool_j_5093 ? (
                                                item_j_313 = proj_j_5091.item;
                                                left_j_312 = proj_j_5091.left;
                                                right_j_311 = proj_j_5091.right;
                                                var_j_5095 = actual_rec_b_692;
                                                proj_j_5096 = var_j_5095.right;
                                                right_j_310 = proj_j_5096;
                                                var_j_5097 = actual_rec_b_692;
                                                proj_j_5098 = var_j_5097.left;
                                                left_j_309 = proj_j_5098;
                                                var_j_5099 = actual_rec_b_692;
                                                proj_j_5100 = var_j_5099.item;
                                                item_j_308 = proj_j_5100;
                                                bool_j_5101 = false;
                                                fail_b_645 = bool_j_5101;
                                                var_j_5102 = left_j_309;
                                                m_match_bool_j_5104 = var_j_5102 ~ 
                                                    {bj_untouched, _};
                                                m_match_bool_j_5111 = var_j_5102 ~ 
                                                    {bj_actual_rec, _};
                                                m_match_cond_j_5112 = m_match_bool_j_5111 ? (
                                                        actual_rec_b_691 = var_j_5102.bj_actual_rec;
                                                        var_j_5113 = left_j_309;
                                                        proj_j_5114 = var_j_5113.bj_decl_lbls;
                                                        m_match_bool_j_5116 = proj_j_5114 ~ 
                                                            {item, left, right, _};
                                                        m_match_cond_j_5117 = m_match_bool_j_5116 ? (
                                                                li_j_307 = proj_j_5114.item;
                                                                lleft_j_306 = proj_j_5114.left;
                                                                lright_j_305 = proj_j_5114.right;
                                                                var_j_5118 = actual_rec_b_691;
                                                                proj_j_5119 = var_j_5118.right;
                                                                lright = proj_j_5119;
                                                                var_j_5120 = actual_rec_b_691;
                                                                proj_j_5121 = var_j_5120.left;
                                                                lleft = proj_j_5121;
                                                                var_j_5122 = actual_rec_b_691;
                                                                proj_j_5123 = var_j_5122.item;
                                                                li = proj_j_5123;
                                                                var_j_5124 = create_node;
                                                                var_j_5125 = li;
                                                                m_i_6239 = var_j_5124 ~ fun;
                                                                appl_j_5126 = m_i_6239 ? (
                                                                        
                                                                    c_appl_i_6240 = var_j_5124 var_j_5125
                                                                    ) : (
                                                                        
                                                                    ab_i_6241 = abort
                                                                    );
                                                                var_j_5127 = lleft;
                                                                m_i_6242 = appl_j_5126 ~ fun;
                                                                appl_j_5128 = m_i_6242 ? (
                                                                        
                                                                    c_appl_i_6243 = appl_j_5126 var_j_5127
                                                                    ) : (
                                                                        
                                                                    ab_i_6244 = abort
                                                                    );
                                                                var_j_5129 = create_node;
                                                                var_j_5130 = item_j_308;
                                                                m_i_6245 = var_j_5129 ~ fun;
                                                                appl_j_5131 = m_i_6245 ? (
                                                                        
                                                                    c_appl_i_6246 = var_j_5129 var_j_5130
                                                                    ) : (
                                                                        
                                                                    ab_i_6247 = abort
                                                                    );
                                                                var_j_5132 = lright;
                                                                m_i_6248 = appl_j_5131 ~ fun;
                                                                appl_j_5133 = m_i_6248 ? (
                                                                        
                                                                    c_appl_i_6249 = appl_j_5131 var_j_5132
                                                                    ) : (
                                                                        
                                                                    ab_i_6250 = abort
                                                                    );
                                                                var_j_5134 = right_j_310;
                                                                m_i_6251 = appl_j_5133 ~ fun;
                                                                appl_j_5135 = m_i_6251 ? (
                                                                        
                                                                    c_appl_i_6252 = appl_j_5133 var_j_5134
                                                                    ) : (
                                                                        
                                                                    ab_i_6253 = abort
                                                                    );
                                                                m_i_6254 = appl_j_5128 ~ fun;
                                                                appl_j_5136 = m_i_6254 ? (
                                                                        
                                                                    c_appl_i_6255 = appl_j_5128 appl_j_5135
                                                                    ) : (
                                                                        
                                                                    ab_i_6256 = abort
                                                                    )
                                                            ) : (
                                                                ab_j_5115 = abort
                                                            )
                                                    ) : (
                                                        m_match_cond_j_5105 = m_match_bool_j_5104 ? (
                                                                var_j_5106 = fail_b_645;
                                                                assert_pred_j_5107 = var_j_5106;
                                                                assert_res_j_5108 = assert_pred_j_5107 ? (
                                                                        
                                                                    assert_res_true_j_5109 = 
                                                                    {}
                                                                    ) : (
                                                                        
                                                                    ab_j_5110 = abort
                                                                    )
                                                            ) : (
                                                                ab_j_5103 = abort
                                                            )
                                                    )
                                            ) : (
                                                ab_j_5092 = abort
                                            )
                                    ) : (
                                        m_match_cond_j_5082 = m_match_bool_j_5081 ? (
                                                var_j_5083 = fail_b_644;
                                                assert_pred_j_5084 = var_j_5083;
                                                assert_res_j_5085 = assert_pred_j_5084 ? (
                                                        assert_res_true_j_5086 = 
                                                            {}
                                                    ) : (
                                                        ab_j_5087 = abort
                                                    )
                                            ) : (
                                                ab_j_5080 = abort
                                            )
                                    );
                                m_i_6257 = proj_j_5077 ~ fun;
                                appl_j_5137 = m_i_6257 ? (
                                        c_appl_i_6258 = proj_j_5077 m_match_cond_j_5089
                                    ) : (
                                        ab_i_6259 = abort
                                    )
                            ) : (
                                var_j_5138 = arg_check_b_5;
                                assert_pred_j_5139 = var_j_5138;
                                assert_res_j_5140 = assert_pred_j_5139 ? (
                                        assert_res_true_j_5141 = {}
                                    ) : (
                                        ab_j_5142 = abort
                                    )
                            ));
                    var_j_5145 = x_j_314;
                    appl_j_5146 = flatten_fun_j_5144 var_j_5145);
                rotate_right = rotate_right_j_5147;
                flatten_fun_j_5176 = fun expr_b_635 -> (
                    var_j_5148 = appl_j_4520;
                    proj_j_5149 = var_j_5148.checker;
                    var_j_5150 = expr_b_635;
                    appl_j_5151 = proj_j_5149 var_j_5150;
                    t_check_b_636 = appl_j_5151;
                    var_j_5152 = t_check_b_636;
                    if_j_5175 = var_j_5152 ? (
                            bool_j_5153 = false;
                            pred_check_b_637 = bool_j_5153;
                            flatten_fun_j_5168 = fun x_j_266 -> (
                                var_j_5154 = and_;
                                var_j_5155 = is_leaf;
                                var_j_5156 = x_j_266;
                                m_i_6260 = var_j_5155 ~ fun;
                                appl_j_5157 = m_i_6260 ? (
                                        c_appl_i_6261 = var_j_5155 var_j_5156
                                    ) : (
                                        ab_i_6262 = abort
                                    );
                                m_i_6263 = appl_j_5157 ~ bool;
                                notop_j_5158 = m_i_6263 ? (
                                        c_not_i_6264 = not appl_j_5157
                                    ) : (
                                        ab_i_6265 = abort
                                    );
                                m_i_6266 = var_j_5154 ~ fun;
                                appl_j_5159 = m_i_6266 ? (
                                        c_appl_i_6267 = var_j_5154 notop_j_5158
                                    ) : (
                                        ab_i_6268 = abort
                                    );
                                flatten_fun_j_5166 = fun y_j_265 -> (
                                    var_j_5160 = is_leaf;
                                    var_j_5161 = left_exn;
                                    var_j_5162 = x_j_266;
                                    m_i_6269 = var_j_5161 ~ fun;
                                    appl_j_5163 = m_i_6269 ? (
                                            c_appl_i_6270 = var_j_5161 var_j_5162
                                        ) : (
                                            ab_i_6271 = abort
                                        );
                                    m_i_6272 = var_j_5160 ~ fun;
                                    appl_j_5164 = m_i_6272 ? (
                                            c_appl_i_6273 = var_j_5160 appl_j_5163
                                        ) : (
                                            ab_i_6274 = abort
                                        );
                                    m_i_6275 = appl_j_5164 ~ bool;
                                    notop_j_5165 = m_i_6275 ? (
                                            c_not_i_6276 = not appl_j_5164
                                        ) : (
                                            ab_i_6277 = abort
                                        ));
                                m_i_6278 = appl_j_5159 ~ fun;
                                appl_j_5167 = m_i_6278 ? (
                                        c_appl_i_6279 = appl_j_5159 flatten_fun_j_5166
                                    ) : (
                                        ab_i_6280 = abort
                                    ));
                            var_j_5169 = expr_b_635;
                            appl_j_5170 = flatten_fun_j_5168 var_j_5169;
                            if_j_5173 = appl_j_5170 ? (
                                    bool_j_5171 = true
                                ) : (
                                    var_j_5172 = pred_check_b_637
                                )
                        ) : (
                            var_j_5174 = t_check_b_636
                        ));
                flatten_fun_j_5202 = fun bj_null_j_269 -> (
                    var_j_5177 = appl_j_4520;
                    proj_j_5178 = var_j_5177.generator;
                    int_j_5179 = 0;
                    appl_j_5180 = proj_j_5178 int_j_5179;
                    candidate_b_634 = appl_j_5180;
                    flatten_fun_j_5195 = fun x_j_268 -> (
                        var_j_5181 = and_;
                        var_j_5182 = is_leaf;
                        var_j_5183 = x_j_268;
                        m_i_6281 = var_j_5182 ~ fun;
                        appl_j_5184 = m_i_6281 ? (
                                c_appl_i_6282 = var_j_5182 var_j_5183
                            ) : (
                                ab_i_6283 = abort
                            );
                        m_i_6284 = appl_j_5184 ~ bool;
                        notop_j_5185 = m_i_6284 ? (
                                c_not_i_6285 = not appl_j_5184
                            ) : (
                                ab_i_6286 = abort
                            );
                        m_i_6287 = var_j_5181 ~ fun;
                        appl_j_5186 = m_i_6287 ? (
                                c_appl_i_6288 = var_j_5181 notop_j_5185
                            ) : (
                                ab_i_6289 = abort
                            );
                        flatten_fun_j_5193 = fun y_j_267 -> (
                            var_j_5187 = is_leaf;
                            var_j_5188 = left_exn;
                            var_j_5189 = x_j_268;
                            m_i_6290 = var_j_5188 ~ fun;
                            appl_j_5190 = m_i_6290 ? (
                                    c_appl_i_6291 = var_j_5188 var_j_5189
                                ) : (
                                    ab_i_6292 = abort
                                );
                            m_i_6293 = var_j_5187 ~ fun;
                            appl_j_5191 = m_i_6293 ? (
                                    c_appl_i_6294 = var_j_5187 appl_j_5190
                                ) : (
                                    ab_i_6295 = abort
                                );
                            m_i_6296 = appl_j_5191 ~ bool;
                            notop_j_5192 = m_i_6296 ? (
                                    c_not_i_6297 = not appl_j_5191
                                ) : (
                                    ab_i_6298 = abort
                                ));
                        m_i_6299 = appl_j_5186 ~ fun;
                        appl_j_5194 = m_i_6299 ? (
                                c_appl_i_6300 = appl_j_5186 flatten_fun_j_5193
                            ) : (
                                ab_i_6301 = abort
                            ));
                    var_j_5196 = candidate_b_634;
                    appl_j_5197 = flatten_fun_j_5195 var_j_5196;
                    if_j_5201 = appl_j_5197 ? (
                            var_j_5198 = candidate_b_634
                        ) : (
                            bool_j_5199 = false;
                            assume_j_5200 = assume bool_j_5199
                        ));
                flatten_fun_j_5204 = fun expr_b_638 -> (
                    var_j_5203 = expr_b_638);
                record_j_5205 = {checker = flatten_fun_j_5176, generator = flatten_fun_j_5202, wrapper = flatten_fun_j_5204};
                proj_j_5206 = record_j_5205.generator;
                int_j_5207 = 0;
                appl_j_5208 = proj_j_5206 int_j_5207;
                x_b_683 = appl_j_5208;
                var_j_5209 = appl_j_4520;
                proj_j_5210 = var_j_5209.checker;
                var_j_5211 = rotate_right;
                var_j_5212 = x_b_683;
                appl_j_5213 = var_j_5211 var_j_5212;
                appl_j_5214 = proj_j_5210 appl_j_5213;
                check_res_b_690 = appl_j_5214;
                var_j_5215 = check_res_b_690;
                if_j_5631 = var_j_5215 ? (
                        rotate_left_right_j_5250 = fun x_j_299 -> (
                            bool_j_5216 = false;
                            fail_b_646 = bool_j_5216;
                            var_j_5217 = x_j_299;
                            m_match_bool_j_5219 = var_j_5217 ~ {bj_untouched, _};
                            m_match_bool_j_5226 = var_j_5217 ~ {bj_actual_rec, _};
                            m_match_cond_j_5227 = m_match_bool_j_5226 ? (
                                    actual_rec_b_684 = var_j_5217.bj_actual_rec;
                                    var_j_5228 = x_j_299;
                                    proj_j_5229 = var_j_5228.bj_decl_lbls;
                                    m_match_bool_j_5231 = proj_j_5229 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_5232 = m_match_bool_j_5231 ? (
                                            item_j_298 = proj_j_5229.item;
                                            left_j_297 = proj_j_5229.left;
                                            right_j_296 = proj_j_5229.right;
                                            var_j_5233 = actual_rec_b_684;
                                            proj_j_5234 = var_j_5233.right;
                                            right_j_295 = proj_j_5234;
                                            var_j_5235 = actual_rec_b_684;
                                            proj_j_5236 = var_j_5235.left;
                                            left_j_294 = proj_j_5236;
                                            var_j_5237 = actual_rec_b_684;
                                            proj_j_5238 = var_j_5237.item;
                                            item_j_293 = proj_j_5238;
                                            var_j_5239 = rotate_right;
                                            var_j_5240 = create_node;
                                            var_j_5241 = item_j_293;
                                            m_i_6302 = var_j_5240 ~ fun;
                                            appl_j_5242 = m_i_6302 ? (
                                                    c_appl_i_6303 = var_j_5240 var_j_5241
                                                ) : (
                                                    ab_i_6304 = abort
                                                );
                                            var_j_5243 = rotate_left;
                                            var_j_5244 = left_j_294;
                                            m_i_6305 = var_j_5243 ~ fun;
                                            appl_j_5245 = m_i_6305 ? (
                                                    c_appl_i_6306 = var_j_5243 var_j_5244
                                                ) : (
                                                    ab_i_6307 = abort
                                                );
                                            m_i_6308 = appl_j_5242 ~ fun;
                                            appl_j_5246 = m_i_6308 ? (
                                                    c_appl_i_6309 = appl_j_5242 appl_j_5245
                                                ) : (
                                                    ab_i_6310 = abort
                                                );
                                            var_j_5247 = right_j_295;
                                            m_i_6311 = appl_j_5246 ~ fun;
                                            appl_j_5248 = m_i_6311 ? (
                                                    c_appl_i_6312 = appl_j_5246 var_j_5247
                                                ) : (
                                                    ab_i_6313 = abort
                                                );
                                            m_i_6314 = var_j_5239 ~ fun;
                                            appl_j_5249 = m_i_6314 ? (
                                                    c_appl_i_6315 = var_j_5239 appl_j_5248
                                                ) : (
                                                    ab_i_6316 = abort
                                                )
                                        ) : (
                                            ab_j_5230 = abort
                                        )
                                ) : (
                                    m_match_cond_j_5220 = m_match_bool_j_5219 ? (
                                            var_j_5221 = fail_b_646;
                                            assert_pred_j_5222 = var_j_5221;
                                            assert_res_j_5223 = assert_pred_j_5222 ? (
                                                    assert_res_true_j_5224 = 
                                                        {}
                                                ) : (
                                                    ab_j_5225 = abort
                                                )
                                        ) : (
                                            ab_j_5218 = abort
                                        )
                                ));
                        rotate_left_right = rotate_left_right_j_5250;
                        rotate_right_left_j_5285 = fun x_j_292 -> (
                            bool_j_5251 = false;
                            fail_b_647 = bool_j_5251;
                            var_j_5252 = x_j_292;
                            m_match_bool_j_5254 = var_j_5252 ~ {bj_untouched, _};
                            m_match_bool_j_5261 = var_j_5252 ~ {bj_actual_rec, _};
                            m_match_cond_j_5262 = m_match_bool_j_5261 ? (
                                    actual_rec_b_685 = var_j_5252.bj_actual_rec;
                                    var_j_5263 = x_j_292;
                                    proj_j_5264 = var_j_5263.bj_decl_lbls;
                                    m_match_bool_j_5266 = proj_j_5264 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_5267 = m_match_bool_j_5266 ? (
                                            item_j_291 = proj_j_5264.item;
                                            left_j_290 = proj_j_5264.left;
                                            right_j_289 = proj_j_5264.right;
                                            var_j_5268 = actual_rec_b_685;
                                            proj_j_5269 = var_j_5268.right;
                                            right_j_288 = proj_j_5269;
                                            var_j_5270 = actual_rec_b_685;
                                            proj_j_5271 = var_j_5270.left;
                                            left_j_287 = proj_j_5271;
                                            var_j_5272 = actual_rec_b_685;
                                            proj_j_5273 = var_j_5272.item;
                                            item_j_286 = proj_j_5273;
                                            var_j_5274 = rotate_left;
                                            var_j_5275 = create_node;
                                            var_j_5276 = item_j_286;
                                            m_i_6317 = var_j_5275 ~ fun;
                                            appl_j_5277 = m_i_6317 ? (
                                                    c_appl_i_6318 = var_j_5275 var_j_5276
                                                ) : (
                                                    ab_i_6319 = abort
                                                );
                                            var_j_5278 = left_j_287;
                                            m_i_6320 = appl_j_5277 ~ fun;
                                            appl_j_5279 = m_i_6320 ? (
                                                    c_appl_i_6321 = appl_j_5277 var_j_5278
                                                ) : (
                                                    ab_i_6322 = abort
                                                );
                                            var_j_5280 = rotate_right;
                                            var_j_5281 = right_j_288;
                                            m_i_6323 = var_j_5280 ~ fun;
                                            appl_j_5282 = m_i_6323 ? (
                                                    c_appl_i_6324 = var_j_5280 var_j_5281
                                                ) : (
                                                    ab_i_6325 = abort
                                                );
                                            m_i_6326 = appl_j_5279 ~ fun;
                                            appl_j_5283 = m_i_6326 ? (
                                                    c_appl_i_6327 = appl_j_5279 appl_j_5282
                                                ) : (
                                                    ab_i_6328 = abort
                                                );
                                            m_i_6329 = var_j_5274 ~ fun;
                                            appl_j_5284 = m_i_6329 ? (
                                                    c_appl_i_6330 = var_j_5274 appl_j_5283
                                                ) : (
                                                    ab_i_6331 = abort
                                                )
                                        ) : (
                                            ab_j_5265 = abort
                                        )
                                ) : (
                                    m_match_cond_j_5255 = m_match_bool_j_5254 ? (
                                            var_j_5256 = fail_b_647;
                                            assert_pred_j_5257 = var_j_5256;
                                            assert_res_j_5258 = assert_pred_j_5257 ? (
                                                    assert_res_true_j_5259 = 
                                                        {}
                                                ) : (
                                                    ab_j_5260 = abort
                                                )
                                        ) : (
                                            ab_j_5253 = abort
                                        )
                                ));
                        rotate_right_left = rotate_right_left_j_5285;
                        flatten_fun_j_5526 = fun insert_j_0 -> (
                            flatten_fun_j_5525 = fun tree -> (
                                flatten_fun_j_5524 = fun i_j_280 -> (
                                    var_j_5286 = insert_j_0;
                                    var_j_5287 = insert_j_0;
                                    appl_j_5288 = var_j_5286 var_j_5287;
                                    insert = appl_j_5288;
                                    flatten_fun_j_5521 = fun tree_b_8 -> (
                                        int_j_5289 = 0;
                                        input_j_5290 = input;
                                        m_bl_i_6332 = int_j_5289 ~ int;
                                        m_br_i_6333 = input_j_5290 ~ int;
                                        m_b_i_6334 = m_bl_i_6332 and m_br_i_6333;
                                        binop_j_5291 = m_b_i_6334 ? (
                                                c_binop_i_6335 = int_j_5289 < input_j_5290
                                            ) : (
                                                ab_i_6336 = abort
                                            );
                                        if_j_5326 = binop_j_5291 ? (
                                                flatten_fun_j_5306 = fun expr_b_657 -> (
                                                    var_j_5292 = appl_j_4520;
                                                    proj_j_5293 = var_j_5292.checker;
                                                    var_j_5294 = expr_b_657;
                                                    appl_j_5295 = proj_j_5293 var_j_5294;
                                                    t_check_b_658 = appl_j_5295;
                                                    var_j_5296 = t_check_b_658;
                                                    if_j_5305 = var_j_5296 ? (
                                                            bool_j_5297 = false;
                                                            pred_check_b_659 = bool_j_5297;
                                                            var_j_5298 = is_balanced_j_333;
                                                            var_j_5299 = expr_b_657;
                                                            appl_j_5300 = var_j_5298 var_j_5299;
                                                            if_j_5303 = appl_j_5300 ? (
                                                                    bool_j_5301 = true
                                                                ) : (
                                                                    var_j_5302 = pred_check_b_659
                                                                )
                                                        ) : (
                                                            var_j_5304 = t_check_b_658
                                                        ));
                                                flatten_fun_j_5318 = fun bj_null_j_270 -> (
                                                    var_j_5307 = appl_j_4520;
                                                    proj_j_5308 = var_j_5307.generator;
                                                    int_j_5309 = 0;
                                                    appl_j_5310 = proj_j_5308 int_j_5309;
                                                    candidate_b_656 = appl_j_5310;
                                                    var_j_5311 = is_balanced_j_333;
                                                    var_j_5312 = candidate_b_656;
                                                    appl_j_5313 = var_j_5311 var_j_5312;
                                                    if_j_5317 = appl_j_5313 ? (
                                                            var_j_5314 = candidate_b_656
                                                        ) : (
                                                            bool_j_5315 = false;
                                                            assume_j_5316 = assume bool_j_5315
                                                        ));
                                                flatten_fun_j_5320 = fun expr_b_660 -> (
                                                    var_j_5319 = expr_b_660);
                                                record_j_5321 = {checker = flatten_fun_j_5306, generator = flatten_fun_j_5318, wrapper = flatten_fun_j_5320};
                                                proj_j_5322 = record_j_5321.checker;
                                                var_j_5323 = tree_b_8;
                                                m_i_6337 = proj_j_5322 ~ fun;
                                                appl_j_5324 = m_i_6337 ? (
                                                        c_appl_i_6338 = proj_j_5322 var_j_5323
                                                    ) : (
                                                        ab_i_6339 = abort
                                                    )
                                            ) : (
                                                bool_j_5325 = true
                                            );
                                        arg_check_b_9 = if_j_5326;
                                        var_j_5327 = arg_check_b_9;
                                        if_j_5520 = var_j_5327 ? (
                                                flatten_fun_j_5512 = fun i_b_6 -> (
                                                    int_j_5328 = 0;
                                                    input_j_5329 = input;
                                                    m_bl_i_6340 = int_j_5328 ~ int;
                                                    m_br_i_6341 = input_j_5329 ~ int;
                                                    m_b_i_6342 = m_bl_i_6340 and m_br_i_6341;
                                                    binop_j_5330 = m_b_i_6342 ? (
                                                            c_binop_i_6343 = int_j_5328 < input_j_5329
                                                        ) : (
                                                            ab_i_6344 = abort
                                                        );
                                                    if_j_5350 = binop_j_5330 ? (
                                                            bool_j_5331 = false;
                                                            fail_b_662 = bool_j_5331;
                                                            flatten_fun_j_5340 = fun expr_b_661 -> (
                                                                var_j_5332 = expr_b_661;
                                                                m_match_bool_j_5334 = var_j_5332 ~ any;
                                                                m_match_bool_j_5337 = var_j_5332 ~ int;
                                                                m_match_cond_j_5338 = m_match_bool_j_5337 ? (
                                                                        
                                                                    bool_j_5339 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_5335 = m_match_bool_j_5334 ? (
                                                                        var_j_5336 = fail_b_662
                                                                    ) : (
                                                                        void_j_5333 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                            flatten_fun_j_5342 = fun bj_null_j_271 -> (
                                                                input_j_5341 = input);
                                                            flatten_fun_j_5344 = fun expr_b_663 -> (
                                                                var_j_5343 = expr_b_663);
                                                            record_j_5345 = 
                                                                {checker = flatten_fun_j_5340, generator = flatten_fun_j_5342, wrapper = flatten_fun_j_5344};
                                                            proj_j_5346 = record_j_5345.checker;
                                                            var_j_5347 = i_b_6;
                                                            m_i_6345 = proj_j_5346 ~ fun;
                                                            appl_j_5348 = m_i_6345 ? (
                                                                    c_appl_i_6346 = proj_j_5346 var_j_5347
                                                                ) : (
                                                                    ab_i_6347 = abort
                                                                )
                                                        ) : (
                                                            bool_j_5349 = true
                                                        );
                                                    arg_check_b_7 = if_j_5350;
                                                    var_j_5351 = arg_check_b_7;
                                                    if_j_5511 = var_j_5351 ? (
                                                            flatten_fun_j_5366 = fun expr_b_665 -> (
                                                                var_j_5352 = appl_j_4520;
                                                                proj_j_5353 = var_j_5352.checker;
                                                                var_j_5354 = expr_b_665;
                                                                appl_j_5355 = proj_j_5353 var_j_5354;
                                                                t_check_b_666 = appl_j_5355;
                                                                var_j_5356 = t_check_b_666;
                                                                if_j_5365 = var_j_5356 ? (
                                                                        
                                                                    bool_j_5357 = false;
                                                                    pred_check_b_667 = bool_j_5357;
                                                                    var_j_5358 = is_balanced_j_333;
                                                                    var_j_5359 = expr_b_665;
                                                                    appl_j_5360 = var_j_5358 var_j_5359;
                                                                    if_j_5363 = appl_j_5360 ? (
                                                                        bool_j_5361 = true
                                                                    ) : (
                                                                        var_j_5362 = pred_check_b_667
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_5364 = t_check_b_666
                                                                    ));
                                                            flatten_fun_j_5378 = fun bj_null_j_272 -> (
                                                                var_j_5367 = appl_j_4520;
                                                                proj_j_5368 = var_j_5367.generator;
                                                                int_j_5369 = 0;
                                                                appl_j_5370 = proj_j_5368 int_j_5369;
                                                                candidate_b_664 = appl_j_5370;
                                                                var_j_5371 = is_balanced_j_333;
                                                                var_j_5372 = candidate_b_664;
                                                                appl_j_5373 = var_j_5371 var_j_5372;
                                                                if_j_5377 = appl_j_5373 ? (
                                                                        
                                                                    var_j_5374 = candidate_b_664
                                                                    ) : (
                                                                        
                                                                    bool_j_5375 = false;
                                                                    assume_j_5376 = assume bool_j_5375
                                                                    ));
                                                            flatten_fun_j_5380 = fun expr_b_668 -> (
                                                                var_j_5379 = expr_b_668);
                                                            record_j_5381 = 
                                                                {checker = flatten_fun_j_5366, generator = flatten_fun_j_5378, wrapper = flatten_fun_j_5380};
                                                            proj_j_5382 = record_j_5381.wrapper;
                                                            rebalance_j_5426 = fun i -> (
                                                                rebalance_j_5425 = fun node -> (
                                                                    var_j_5383 = balance_factor;
                                                                    var_j_5384 = node;
                                                                    m_i_6348 = var_j_5383 ~ fun;
                                                                    appl_j_5385 = m_i_6348 ? (
                                                                        c_appl_i_6349 = var_j_5383 var_j_5384
                                                                    ) : (
                                                                        ab_i_6350 = abort
                                                                    );
                                                                    bf = appl_j_5385;
                                                                    int_j_5386 = 1;
                                                                    var_j_5387 = bf;
                                                                    m_bl_i_6351 = int_j_5386 ~ int;
                                                                    m_br_i_6352 = var_j_5387 ~ int;
                                                                    m_b_i_6353 = m_bl_i_6351 and m_br_i_6352;
                                                                    binop_j_5388 = m_b_i_6353 ? (
                                                                        c_binop_i_6354 = int_j_5386 < var_j_5387
                                                                    ) : (
                                                                        ab_i_6355 = abort
                                                                    );
                                                                    m_i_6356 = binop_j_5388 ~ bool;
                                                                    if_j_5424 = m_i_6356 ? (
                                                                        c_cond_i_6410 = binop_j_5388 ? (
                                                                        var_j_5389 = i;
                                                                    var_j_5390 = item_exn;
                                                                    var_j_5391 = left_exn;
                                                                    var_j_5392 = node;
                                                                    m_i_6357 = var_j_5391 ~ fun;
                                                                    appl_j_5393 = m_i_6357 ? (
                                                                        c_appl_i_6358 = var_j_5391 var_j_5392
                                                                    ) : (
                                                                        ab_i_6359 = abort
                                                                    );
                                                                    m_i_6360 = var_j_5390 ~ fun;
                                                                    appl_j_5394 = m_i_6360 ? (
                                                                        c_appl_i_6361 = var_j_5390 appl_j_5393
                                                                    ) : (
                                                                        ab_i_6362 = abort
                                                                    );
                                                                    m_bl_i_6363 = var_j_5389 ~ int;
                                                                    m_br_i_6364 = appl_j_5394 ~ int;
                                                                    m_b_i_6365 = m_bl_i_6363 and m_br_i_6364;
                                                                    binop_j_5395 = m_b_i_6365 ? (
                                                                        c_binop_i_6366 = var_j_5389 < appl_j_5394
                                                                    ) : (
                                                                        ab_i_6367 = abort
                                                                    );
                                                                    m_i_6368 = binop_j_5395 ~ bool;
                                                                    if_j_5402 = m_i_6368 ? (
                                                                        c_cond_i_6375 = binop_j_5395 ? (
                                                                        var_j_5396 = rotate_left;
                                                                    var_j_5397 = node;
                                                                    m_i_6369 = var_j_5396 ~ fun;
                                                                    appl_j_5398 = m_i_6369 ? (
                                                                        c_appl_i_6370 = var_j_5396 var_j_5397
                                                                    ) : (
                                                                        ab_i_6371 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5399 = rotate_left_right;
                                                                    var_j_5400 = node;
                                                                    m_i_6372 = var_j_5399 ~ fun;
                                                                    appl_j_5401 = m_i_6372 ? (
                                                                        c_appl_i_6373 = var_j_5399 var_j_5400
                                                                    ) : (
                                                                        ab_i_6374 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_6376 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5403 = bf;
                                                                    int_j_5404 = 0;
                                                                    int_j_5405 = 1;
                                                                    m_bl_i_6377 = int_j_5404 ~ int;
                                                                    m_br_i_6378 = int_j_5405 ~ int;
                                                                    m_b_i_6379 = m_bl_i_6377 and m_br_i_6378;
                                                                    binop_j_5406 = m_b_i_6379 ? (
                                                                        c_binop_i_6380 = int_j_5404 - int_j_5405
                                                                    ) : (
                                                                        ab_i_6381 = abort
                                                                    );
                                                                    m_bl_i_6382 = var_j_5403 ~ int;
                                                                    m_br_i_6383 = binop_j_5406 ~ int;
                                                                    m_b_i_6384 = m_bl_i_6382 and m_br_i_6383;
                                                                    binop_j_5407 = m_b_i_6384 ? (
                                                                        c_binop_i_6385 = var_j_5403 < binop_j_5406
                                                                    ) : (
                                                                        ab_i_6386 = abort
                                                                    );
                                                                    m_i_6387 = binop_j_5407 ~ bool;
                                                                    if_j_5423 = m_i_6387 ? (
                                                                        c_cond_i_6408 = binop_j_5407 ? (
                                                                        var_j_5408 = item_exn;
                                                                    var_j_5409 = right_exn;
                                                                    var_j_5410 = node;
                                                                    m_i_6388 = var_j_5409 ~ fun;
                                                                    appl_j_5411 = m_i_6388 ? (
                                                                        c_appl_i_6389 = var_j_5409 var_j_5410
                                                                    ) : (
                                                                        ab_i_6390 = abort
                                                                    );
                                                                    m_i_6391 = var_j_5408 ~ fun;
                                                                    appl_j_5412 = m_i_6391 ? (
                                                                        c_appl_i_6392 = var_j_5408 appl_j_5411
                                                                    ) : (
                                                                        ab_i_6393 = abort
                                                                    );
                                                                    var_j_5413 = i;
                                                                    m_bl_i_6394 = appl_j_5412 ~ int;
                                                                    m_br_i_6395 = var_j_5413 ~ int;
                                                                    m_b_i_6396 = m_bl_i_6394 and m_br_i_6395;
                                                                    binop_j_5414 = m_b_i_6396 ? (
                                                                        c_binop_i_6397 = appl_j_5412 < var_j_5413
                                                                    ) : (
                                                                        ab_i_6398 = abort
                                                                    );
                                                                    m_i_6399 = binop_j_5414 ~ bool;
                                                                    if_j_5421 = m_i_6399 ? (
                                                                        c_cond_i_6406 = binop_j_5414 ? (
                                                                        var_j_5415 = rotate_left;
                                                                    var_j_5416 = node;
                                                                    m_i_6400 = var_j_5415 ~ fun;
                                                                    appl_j_5417 = m_i_6400 ? (
                                                                        c_appl_i_6401 = var_j_5415 var_j_5416
                                                                    ) : (
                                                                        ab_i_6402 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5418 = rotate_right_left;
                                                                    var_j_5419 = node;
                                                                    m_i_6403 = var_j_5418 ~ fun;
                                                                    appl_j_5420 = m_i_6403 ? (
                                                                        c_appl_i_6404 = var_j_5418 var_j_5419
                                                                    ) : (
                                                                        ab_i_6405 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_6407 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5422 = node
                                                                    )
                                                                    ) : (
                                                                        ab_i_6409 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_6411 = abort
                                                                    )));
                                                            rebalance = rebalance_j_5426;
                                                            bool_j_5427 = false;
                                                            fail_b_669 = bool_j_5427;
                                                            var_j_5428 = tree;
                                                            m_match_bool_j_5430 = var_j_5428 ~ 
                                                                {bj_untouched, _};
                                                            m_match_bool_j_5437 = var_j_5428 ~ 
                                                                {bj_actual_rec, _};
                                                            m_match_cond_j_5438 = m_match_bool_j_5437 ? (
                                                                    actual_rec_b_689 = var_j_5428.bj_actual_rec;
                                                                    var_j_5439 = tree;
                                                                    proj_j_5440 = var_j_5439.bj_decl_lbls;
                                                                    m_match_bool_j_5442 = proj_j_5440 ~ 
                                                                    {item, left, right, _};
                                                                    m_match_bool_j_5486 = proj_j_5440 ~ 
                                                                    {leaf};
                                                                    m_match_cond_j_5487 = m_match_bool_j_5486 ? (
                                                                        b_j_273 = proj_j_5440.leaf;
                                                                    var_j_5488 = actual_rec_b_689;
                                                                    proj_j_5489 = var_j_5488.leaf;
                                                                    b = proj_j_5489;
                                                                    var_j_5490 = create_node;
                                                                    var_j_5491 = i_j_280;
                                                                    m_i_6412 = var_j_5490 ~ fun;
                                                                    appl_j_5492 = m_i_6412 ? (
                                                                        c_appl_i_6413 = var_j_5490 var_j_5491
                                                                    ) : (
                                                                        ab_i_6414 = abort
                                                                    );
                                                                    bool_j_5493 = true;
                                                                    record_j_5494 = 
                                                                    {leaf = bool_j_5493};
                                                                    record_j_5495 = 
                                                                    {};
                                                                    record_j_5496 = 
                                                                    {leaf = record_j_5495};
                                                                    record_j_5497 = 
                                                                    {bj_actual_rec = record_j_5494, bj_decl_lbls = record_j_5496};
                                                                    m_i_6415 = appl_j_5492 ~ fun;
                                                                    appl_j_5498 = m_i_6415 ? (
                                                                        c_appl_i_6416 = appl_j_5492 record_j_5497
                                                                    ) : (
                                                                        ab_i_6417 = abort
                                                                    );
                                                                    bool_j_5499 = true;
                                                                    record_j_5500 = 
                                                                    {leaf = bool_j_5499};
                                                                    record_j_5501 = 
                                                                    {};
                                                                    record_j_5502 = 
                                                                    {leaf = record_j_5501};
                                                                    record_j_5503 = 
                                                                    {bj_actual_rec = record_j_5500, bj_decl_lbls = record_j_5502};
                                                                    m_i_6418 = appl_j_5498 ~ fun;
                                                                    appl_j_5504 = m_i_6418 ? (
                                                                        c_appl_i_6419 = appl_j_5498 record_j_5503
                                                                    ) : (
                                                                        ab_i_6420 = abort
                                                                    )
                                                                    ) : (
                                                                        m_match_cond_j_5443 = m_match_bool_j_5442 ? (
                                                                        item_j_279 = proj_j_5440.item;
                                                                    left_j_278 = proj_j_5440.left;
                                                                    right_j_277 = proj_j_5440.right;
                                                                    var_j_5444 = actual_rec_b_689;
                                                                    proj_j_5445 = var_j_5444.right;
                                                                    right_j_276 = proj_j_5445;
                                                                    var_j_5446 = actual_rec_b_689;
                                                                    proj_j_5447 = var_j_5446.left;
                                                                    left_j_275 = proj_j_5447;
                                                                    var_j_5448 = actual_rec_b_689;
                                                                    proj_j_5449 = var_j_5448.item;
                                                                    item_j_274 = proj_j_5449;
                                                                    var_j_5450 = i_j_280;
                                                                    var_j_5451 = item_j_274;
                                                                    m_bl_i_6421 = var_j_5450 ~ int;
                                                                    m_br_i_6422 = var_j_5451 ~ int;
                                                                    m_b_i_6423 = m_bl_i_6421 and m_br_i_6422;
                                                                    binop_j_5452 = m_b_i_6423 ? (
                                                                        c_binop_i_6424 = var_j_5450 < var_j_5451
                                                                    ) : (
                                                                        ab_i_6425 = abort
                                                                    );
                                                                    m_i_6426 = binop_j_5452 ~ bool;
                                                                    if_j_5480 = m_i_6426 ? (
                                                                        c_cond_i_6465 = binop_j_5452 ? (
                                                                        var_j_5453 = create_node;
                                                                    var_j_5454 = item_j_274;
                                                                    m_i_6427 = var_j_5453 ~ fun;
                                                                    appl_j_5455 = m_i_6427 ? (
                                                                        c_appl_i_6428 = var_j_5453 var_j_5454
                                                                    ) : (
                                                                        ab_i_6429 = abort
                                                                    );
                                                                    var_j_5456 = insert;
                                                                    var_j_5457 = left_j_275;
                                                                    m_i_6430 = var_j_5456 ~ fun;
                                                                    appl_j_5458 = m_i_6430 ? (
                                                                        c_appl_i_6431 = var_j_5456 var_j_5457
                                                                    ) : (
                                                                        ab_i_6432 = abort
                                                                    );
                                                                    var_j_5459 = i_j_280;
                                                                    m_i_6433 = appl_j_5458 ~ fun;
                                                                    appl_j_5460 = m_i_6433 ? (
                                                                        c_appl_i_6434 = appl_j_5458 var_j_5459
                                                                    ) : (
                                                                        ab_i_6435 = abort
                                                                    );
                                                                    m_i_6436 = appl_j_5455 ~ fun;
                                                                    appl_j_5461 = m_i_6436 ? (
                                                                        c_appl_i_6437 = appl_j_5455 appl_j_5460
                                                                    ) : (
                                                                        ab_i_6438 = abort
                                                                    );
                                                                    var_j_5462 = right_j_276;
                                                                    m_i_6439 = appl_j_5461 ~ fun;
                                                                    appl_j_5463 = m_i_6439 ? (
                                                                        c_appl_i_6440 = appl_j_5461 var_j_5462
                                                                    ) : (
                                                                        ab_i_6441 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5464 = item_j_274;
                                                                    var_j_5465 = i_j_280;
                                                                    m_bl_i_6442 = var_j_5464 ~ int;
                                                                    m_br_i_6443 = var_j_5465 ~ int;
                                                                    m_b_i_6444 = m_bl_i_6442 and m_br_i_6443;
                                                                    binop_j_5466 = m_b_i_6444 ? (
                                                                        c_binop_i_6445 = var_j_5464 < var_j_5465
                                                                    ) : (
                                                                        ab_i_6446 = abort
                                                                    );
                                                                    m_i_6447 = binop_j_5466 ~ bool;
                                                                    if_j_5479 = m_i_6447 ? (
                                                                        c_cond_i_6463 = binop_j_5466 ? (
                                                                        var_j_5467 = create_node;
                                                                    var_j_5468 = item_j_274;
                                                                    m_i_6448 = var_j_5467 ~ fun;
                                                                    appl_j_5469 = m_i_6448 ? (
                                                                        c_appl_i_6449 = var_j_5467 var_j_5468
                                                                    ) : (
                                                                        ab_i_6450 = abort
                                                                    );
                                                                    var_j_5470 = left_j_275;
                                                                    m_i_6451 = appl_j_5469 ~ fun;
                                                                    appl_j_5471 = m_i_6451 ? (
                                                                        c_appl_i_6452 = appl_j_5469 var_j_5470
                                                                    ) : (
                                                                        ab_i_6453 = abort
                                                                    );
                                                                    var_j_5472 = insert;
                                                                    var_j_5473 = right_j_276;
                                                                    m_i_6454 = var_j_5472 ~ fun;
                                                                    appl_j_5474 = m_i_6454 ? (
                                                                        c_appl_i_6455 = var_j_5472 var_j_5473
                                                                    ) : (
                                                                        ab_i_6456 = abort
                                                                    );
                                                                    var_j_5475 = i_j_280;
                                                                    m_i_6457 = appl_j_5474 ~ fun;
                                                                    appl_j_5476 = m_i_6457 ? (
                                                                        c_appl_i_6458 = appl_j_5474 var_j_5475
                                                                    ) : (
                                                                        ab_i_6459 = abort
                                                                    );
                                                                    m_i_6460 = appl_j_5471 ~ fun;
                                                                    appl_j_5477 = m_i_6460 ? (
                                                                        c_appl_i_6461 = appl_j_5471 appl_j_5476
                                                                    ) : (
                                                                        ab_i_6462 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5478 = tree
                                                                    )
                                                                    ) : (
                                                                        ab_i_6464 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_6466 = abort
                                                                    );
                                                                    new_node = if_j_5480;
                                                                    var_j_5481 = rebalance;
                                                                    var_j_5482 = i_j_280;
                                                                    m_i_6467 = var_j_5481 ~ fun;
                                                                    appl_j_5483 = m_i_6467 ? (
                                                                        c_appl_i_6468 = var_j_5481 var_j_5482
                                                                    ) : (
                                                                        ab_i_6469 = abort
                                                                    );
                                                                    var_j_5484 = new_node;
                                                                    m_i_6470 = appl_j_5483 ~ fun;
                                                                    appl_j_5485 = m_i_6470 ? (
                                                                        c_appl_i_6471 = appl_j_5483 var_j_5484
                                                                    ) : (
                                                                        ab_i_6472 = abort
                                                                    )
                                                                    ) : (
                                                                        ab_j_5441 = abort
                                                                    )
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_5431 = m_match_bool_j_5430 ? (
                                                                        var_j_5432 = fail_b_669;
                                                                    assert_pred_j_5433 = var_j_5432;
                                                                    assert_res_j_5434 = assert_pred_j_5433 ? (
                                                                        assert_res_true_j_5435 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_5436 = abort
                                                                    )
                                                                    ) : (
                                                                        ab_j_5429 = abort
                                                                    )
                                                                );
                                                            m_i_6473 = proj_j_5382 ~ fun;
                                                            appl_j_5505 = m_i_6473 ? (
                                                                    c_appl_i_6474 = proj_j_5382 m_match_cond_j_5438
                                                                ) : (
                                                                    ab_i_6475 = abort
                                                                )
                                                        ) : (
                                                            var_j_5506 = arg_check_b_7;
                                                            assert_pred_j_5507 = var_j_5506;
                                                            assert_res_j_5508 = assert_pred_j_5507 ? (
                                                                    assert_res_true_j_5509 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_5510 = abort
                                                                )
                                                        ));
                                                var_j_5513 = i_j_280;
                                                appl_j_5514 = flatten_fun_j_5512 var_j_5513
                                            ) : (
                                                var_j_5515 = arg_check_b_9;
                                                assert_pred_j_5516 = var_j_5515;
                                                assert_res_j_5517 = assert_pred_j_5516 ? (
                                                        assert_res_true_j_5518 = 
                                                            {}
                                                    ) : (
                                                        ab_j_5519 = abort
                                                    )
                                            ));
                                    var_j_5522 = tree;
                                    appl_j_5523 = flatten_fun_j_5521 var_j_5522)));
                        insert_j_0_j_285 = flatten_fun_j_5526;
                        var_j_5527 = insert_j_0_j_285;
                        var_j_5528 = insert_j_0_j_285;
                        appl_j_5529 = var_j_5527 var_j_5528;
                        insert_j_284 = appl_j_5529;
                        flatten_fun_j_5544 = fun expr_b_649 -> (
                            var_j_5530 = appl_j_4520;
                            proj_j_5531 = var_j_5530.checker;
                            var_j_5532 = expr_b_649;
                            appl_j_5533 = proj_j_5531 var_j_5532;
                            t_check_b_650 = appl_j_5533;
                            var_j_5534 = t_check_b_650;
                            if_j_5543 = var_j_5534 ? (
                                    bool_j_5535 = false;
                                    pred_check_b_651 = bool_j_5535;
                                    var_j_5536 = is_balanced_j_333;
                                    var_j_5537 = expr_b_649;
                                    appl_j_5538 = var_j_5536 var_j_5537;
                                    if_j_5541 = appl_j_5538 ? (
                                            bool_j_5539 = true
                                        ) : (
                                            var_j_5540 = pred_check_b_651
                                        )
                                ) : (
                                    var_j_5542 = t_check_b_650
                                ));
                        flatten_fun_j_5556 = fun bj_null_j_281 -> (
                            var_j_5545 = appl_j_4520;
                            proj_j_5546 = var_j_5545.generator;
                            int_j_5547 = 0;
                            appl_j_5548 = proj_j_5546 int_j_5547;
                            candidate_b_648 = appl_j_5548;
                            var_j_5549 = is_balanced_j_333;
                            var_j_5550 = candidate_b_648;
                            appl_j_5551 = var_j_5549 var_j_5550;
                            if_j_5555 = appl_j_5551 ? (
                                    var_j_5552 = candidate_b_648
                                ) : (
                                    bool_j_5553 = false;
                                    assume_j_5554 = assume bool_j_5553
                                ));
                        flatten_fun_j_5558 = fun expr_b_652 -> (
                            var_j_5557 = expr_b_652);
                        record_j_5559 = {checker = flatten_fun_j_5544, generator = flatten_fun_j_5556, wrapper = flatten_fun_j_5558};
                        proj_j_5560 = record_j_5559.generator;
                        int_j_5561 = 0;
                        appl_j_5562 = proj_j_5560 int_j_5561;
                        tree_b_688 = appl_j_5562;
                        bool_j_5563 = false;
                        fail_b_654 = bool_j_5563;
                        flatten_fun_j_5572 = fun expr_b_653 -> (
                            var_j_5564 = expr_b_653;
                            m_match_bool_j_5566 = var_j_5564 ~ any;
                            m_match_bool_j_5569 = var_j_5564 ~ int;
                            m_match_cond_j_5570 = m_match_bool_j_5569 ? (
                                    bool_j_5571 = true
                                ) : (
                                    m_match_cond_j_5567 = m_match_bool_j_5566 ? (
                                            var_j_5568 = fail_b_654
                                        ) : (
                                            void_j_5565 = {}
                                        )
                                ));
                        flatten_fun_j_5574 = fun bj_null_j_282 -> (
                            input_j_5573 = input);
                        flatten_fun_j_5576 = fun expr_b_655 -> (
                            var_j_5575 = expr_b_655);
                        record_j_5577 = {checker = flatten_fun_j_5572, generator = flatten_fun_j_5574, wrapper = flatten_fun_j_5576};
                        proj_j_5578 = record_j_5577.generator;
                        int_j_5579 = 0;
                        appl_j_5580 = proj_j_5578 int_j_5579;
                        i_b_687 = appl_j_5580;
                        flatten_fun_j_5595 = fun expr_b_671 -> (
                            var_j_5581 = appl_j_4520;
                            proj_j_5582 = var_j_5581.checker;
                            var_j_5583 = expr_b_671;
                            appl_j_5584 = proj_j_5582 var_j_5583;
                            t_check_b_672 = appl_j_5584;
                            var_j_5585 = t_check_b_672;
                            if_j_5594 = var_j_5585 ? (
                                    bool_j_5586 = false;
                                    pred_check_b_673 = bool_j_5586;
                                    var_j_5587 = is_balanced_j_333;
                                    var_j_5588 = expr_b_671;
                                    appl_j_5589 = var_j_5587 var_j_5588;
                                    if_j_5592 = appl_j_5589 ? (
                                            bool_j_5590 = true
                                        ) : (
                                            var_j_5591 = pred_check_b_673
                                        )
                                ) : (
                                    var_j_5593 = t_check_b_672
                                ));
                        flatten_fun_j_5607 = fun bj_null_j_283 -> (
                            var_j_5596 = appl_j_4520;
                            proj_j_5597 = var_j_5596.generator;
                            int_j_5598 = 0;
                            appl_j_5599 = proj_j_5597 int_j_5598;
                            candidate_b_670 = appl_j_5599;
                            var_j_5600 = is_balanced_j_333;
                            var_j_5601 = candidate_b_670;
                            appl_j_5602 = var_j_5600 var_j_5601;
                            if_j_5606 = appl_j_5602 ? (
                                    var_j_5603 = candidate_b_670
                                ) : (
                                    bool_j_5604 = false;
                                    assume_j_5605 = assume bool_j_5604
                                ));
                        flatten_fun_j_5609 = fun expr_b_674 -> (
                            var_j_5608 = expr_b_674);
                        record_j_5610 = {checker = flatten_fun_j_5595, generator = flatten_fun_j_5607, wrapper = flatten_fun_j_5609};
                        proj_j_5611 = record_j_5610.checker;
                        var_j_5612 = insert_j_284;
                        var_j_5613 = tree_b_688;
                        appl_j_5614 = var_j_5612 var_j_5613;
                        var_j_5615 = i_b_687;
                        appl_j_5616 = appl_j_5614 var_j_5615;
                        appl_j_5617 = proj_j_5611 appl_j_5616;
                        check_res_b_686 = appl_j_5617;
                        var_j_5618 = check_res_b_686;
                        if_j_5625 = var_j_5618 ? (
                                var_j_5619 = insert_j_284
                            ) : (
                                error_var_j_5620 = check_res_b_686;
                                assert_pred_j_5621 = error_var_j_5620;
                                assert_res_j_5622 = assert_pred_j_5621 ? (
                                        assert_res_true_j_5623 = {}
                                    ) : (
                                        ab_j_5624 = abort
                                    )
                            )
                    ) : (
                        error_var_j_5626 = check_res_b_690;
                        assert_pred_j_5627 = error_var_j_5626;
                        assert_res_j_5628 = assert_pred_j_5627 ? (
                                assert_res_true_j_5629 = {}
                            ) : (
                                ab_j_5630 = abort
                            )
                    )
            ) : (
                error_var_j_5632 = check_res_b_693;
                assert_pred_j_5633 = error_var_j_5632;
                assert_res_j_5634 = assert_pred_j_5633 ? (
                        assert_res_true_j_5635 = {}
                    ) : (
                        ab_j_5636 = abort
                    )
            )
    ) : (
        error_var_j_5638 = check_res_b_696;
        assert_pred_j_5639 = error_var_j_5638;
        assert_res_j_5640 = assert_pred_j_5639 ? (
                assert_res_true_j_5641 = {}
            ) : (
                ab_j_5642 = abort
            )
    );
i_result = if_j_5643