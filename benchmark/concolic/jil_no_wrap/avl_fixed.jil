i_first = {};
is_pos_j_344 = fun x_j_340 -> (
    int_j_341 = 0;
    var_j_342 = x_j_340;
    m_bl_i_4886 = int_j_341 ~ int;
    m_br_i_4887 = var_j_342 ~ int;
    m_b_i_4888 = m_bl_i_4886 and m_br_i_4887;
    binop_j_343 = m_b_i_4888 ? (
            c_binop_i_4889 = int_j_341 < var_j_342
        ) : (
            ab_i_4890 = abort
        ));
is_pos = is_pos_j_344;
max_j_352 = fun a_j_339 -> (
    max_j_351 = fun b_j_338 -> (
        var_j_345 = b_j_338;
        var_j_346 = a_j_339;
        m_bl_i_4891 = var_j_345 ~ int;
        m_br_i_4892 = var_j_346 ~ int;
        m_b_i_4893 = m_bl_i_4891 and m_br_i_4892;
        binop_j_347 = m_b_i_4893 ? (
                c_binop_i_4894 = var_j_345 < var_j_346
            ) : (
                ab_i_4895 = abort
            );
        m_i_4896 = binop_j_347 ~ bool;
        if_j_350 = m_i_4896 ? (
                c_cond_i_4897 = binop_j_347 ? (
                        var_j_348 = a_j_339
                    ) : (
                        var_j_349 = b_j_338
                    )
            ) : (
                ab_i_4898 = abort
            )));
max = max_j_352;
height_j_333_j_378 = fun x_j_337 -> (
    bool_j_353 = false;
    fail_b_0 = bool_j_353;
    var_j_354 = x_j_337;
    m_match_bool_j_356 = var_j_354 ~ {bj_untouched, _};
    m_match_bool_j_363 = var_j_354 ~ {bj_actual_rec, _};
    m_match_cond_j_364 = m_match_bool_j_363 ? (
            actual_rec_b_629 = var_j_354.bj_actual_rec;
            var_j_365 = x_j_337;
            proj_j_366 = var_j_365.bj_decl_lbls;
            m_match_bool_j_368 = proj_j_366 ~ {height, _};
            m_match_bool_j_373 = proj_j_366 ~ {leaf};
            m_match_cond_j_374 = m_match_bool_j_373 ? (
                    b_j_335 = proj_j_366.leaf;
                    var_j_375 = actual_rec_b_629;
                    proj_j_376 = var_j_375.leaf;
                    b_j_334 = proj_j_376;
                    int_j_377 = 0
                ) : (
                    m_match_cond_j_369 = m_match_bool_j_368 ? (
                            h_j_336 = proj_j_366.height;
                            var_j_370 = actual_rec_b_629;
                            proj_j_371 = var_j_370.height;
                            h = proj_j_371;
                            var_j_372 = h
                        ) : (
                            ab_j_367 = abort
                        )
                )
        ) : (
            m_match_cond_j_357 = m_match_bool_j_356 ? (
                    var_j_358 = fail_b_0;
                    assert_pred_j_359 = var_j_358;
                    assert_res_j_360 = assert_pred_j_359 ? (
                            assert_res_true_j_361 = {}
                        ) : (
                            ab_j_362 = abort
                        )
                ) : (
                    ab_j_355 = abort
                )
        ));
flatten_fun_j_398 = fun f_b_3 -> (
    flatten_fun_j_387 = fun x_b_2 -> (
        flatten_fun_j_386 = fun freeze_b_4 -> (
            var_j_379 = f_b_3;
            var_j_380 = x_b_2;
            var_j_381 = x_b_2;
            appl_j_382 = var_j_380 var_j_381;
            appl_j_383 = var_j_379 appl_j_382;
            var_j_384 = freeze_b_4;
            appl_j_385 = appl_j_383 var_j_384));
    flatten_fun_j_396 = fun x_b_2_j_3 -> (
        flatten_fun_j_395 = fun freeze_b_4_j_2 -> (
            var_j_388 = f_b_3;
            var_j_389 = x_b_2_j_3;
            var_j_390 = x_b_2_j_3;
            appl_j_391 = var_j_389 var_j_390;
            appl_j_392 = var_j_388 appl_j_391;
            var_j_393 = freeze_b_4_j_2;
            appl_j_394 = appl_j_392 var_j_393));
    appl_j_397 = flatten_fun_j_387 flatten_fun_j_396);
ycomb_b_5 = flatten_fun_j_398;
flatten_fun_j_4224 = fun self_b_1 -> (
    flatten_fun_j_4223 = fun bj_null_j_253 -> (
        flatten_fun_j_2310 = fun expr_b_598 -> (
            flatten_fun_j_2305 = fun tt -> (
                flatten_fun_j_1668 = fun expr_b_594 -> (
                    input_j_400 = input;
                    select_int_b_595 = input_j_400;
                    bool_j_401 = false;
                    fail_b_596 = bool_j_401;
                    int_j_402 = 0;
                    var_j_403 = select_int_b_595;
                    binop_j_404 = int_j_402 <= var_j_403;
                    if_j_1667 = binop_j_404 ? (
                            flatten_fun_j_680 = fun expr_b_481 -> (
                                flatten_fun_j_519 = fun expr_b_462 -> (
                                    bool_j_405 = false;
                                    rec_fail_b_461 = bool_j_405;
                                    bool_j_406 = false;
                                    rec_fail_b_460 = bool_j_406;
                                    bool_j_407 = false;
                                    rec_fail_b_459 = bool_j_407;
                                    var_j_408 = expr_b_462;
                                    m_match_bool_j_410 = var_j_408 ~ any;
                                    m_match_bool_j_413 = var_j_408 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_414 = m_match_bool_j_413 ? (
                                            var_j_415 = expr_b_462;
                                            proj_j_416 = var_j_415.bj_decl_lbls;
                                            m_match_bool_j_418 = proj_j_416 ~ any;
                                            m_match_bool_j_421 = proj_j_416 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_422 = m_match_bool_j_421 ? (
                                                    height_j_10 = proj_j_416.height;
                                                    item_j_9 = proj_j_416.item;
                                                    left_j_8 = proj_j_416.left;
                                                    right_j_7 = proj_j_416.right;
                                                    var_j_423 = expr_b_462;
                                                    proj_j_424 = var_j_423.bj_actual_rec;
                                                    m_match_bool_j_426 = proj_j_424 ~ any;
                                                    m_match_bool_j_429 = proj_j_424 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_430 = m_match_bool_j_429 ? (
                                                            height = proj_j_424.height;
                                                            item = proj_j_424.item;
                                                            left = proj_j_424.left;
                                                            right = proj_j_424.right;
                                                            flatten_fun_j_457 = fun expr_b_476 -> (
                                                                bool_j_431 = false;
                                                                fail_b_474 = bool_j_431;
                                                                flatten_fun_j_440 = fun expr_b_473 -> (
                                                                    var_j_432 = expr_b_473;
                                                                    m_match_bool_j_434 = var_j_432 ~ any;
                                                                    m_match_bool_j_437 = var_j_432 ~ int;
                                                                    m_match_cond_j_438 = m_match_bool_j_437 ? (
                                                                        bool_j_439 = true
                                                                    ) : (
                                                                        m_match_cond_j_435 = m_match_bool_j_434 ? (
                                                                        var_j_436 = fail_b_474
                                                                    ) : (
                                                                        void_j_433 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_442 = fun bj_null -> (
                                                                    input_j_441 = input);
                                                                record_j_443 = 
                                                                    {checker = flatten_fun_j_440, generator = flatten_fun_j_442};
                                                                proj_j_444 = record_j_443.checker;
                                                                var_j_445 = expr_b_476;
                                                                appl_j_446 = proj_j_444 var_j_445;
                                                                t_check_b_477 = appl_j_446;
                                                                var_j_447 = t_check_b_477;
                                                                if_j_456 = var_j_447 ? (
                                                                        
                                                                    bool_j_448 = false;
                                                                    pred_check_b_478 = bool_j_448;
                                                                    var_j_449 = is_pos;
                                                                    var_j_450 = expr_b_476;
                                                                    appl_j_451 = var_j_449 var_j_450;
                                                                    if_j_454 = appl_j_451 ? (
                                                                        bool_j_452 = true
                                                                    ) : (
                                                                        var_j_453 = pred_check_b_478
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_455 = t_check_b_477
                                                                    ));
                                                            flatten_fun_j_481 = fun bj_null_j_5 -> (
                                                                bool_j_458 = false;
                                                                fail_b_470 = bool_j_458;
                                                                flatten_fun_j_467 = fun expr_b_469 -> (
                                                                    var_j_459 = expr_b_469;
                                                                    m_match_bool_j_461 = var_j_459 ~ any;
                                                                    m_match_bool_j_464 = var_j_459 ~ int;
                                                                    m_match_cond_j_465 = m_match_bool_j_464 ? (
                                                                        bool_j_466 = true
                                                                    ) : (
                                                                        m_match_cond_j_462 = m_match_bool_j_461 ? (
                                                                        var_j_463 = fail_b_470
                                                                    ) : (
                                                                        void_j_460 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_469 = fun bj_null_j_4 -> (
                                                                    input_j_468 = input);
                                                                record_j_470 = 
                                                                    {checker = flatten_fun_j_467, generator = flatten_fun_j_469};
                                                                proj_j_471 = record_j_470.generator;
                                                                int_j_472 = 0;
                                                                appl_j_473 = proj_j_471 int_j_472;
                                                                candidate_b_472 = appl_j_473;
                                                                var_j_474 = is_pos;
                                                                var_j_475 = candidate_b_472;
                                                                appl_j_476 = var_j_474 var_j_475;
                                                                if_j_480 = appl_j_476 ? (
                                                                        
                                                                    var_j_477 = candidate_b_472
                                                                    ) : (
                                                                        
                                                                    bool_j_478 = false;
                                                                    assume_j_479 = assume bool_j_478
                                                                    ));
                                                            record_j_482 = 
                                                                {checker = flatten_fun_j_457, generator = flatten_fun_j_481};
                                                            proj_j_483 = record_j_482.checker;
                                                            var_j_484 = height;
                                                            appl_j_485 = proj_j_483 var_j_484;
                                                            lbl_check_b_468 = appl_j_485;
                                                            var_j_486 = lbl_check_b_468;
                                                            if_j_518 = var_j_486 ? (
                                                                    bool_j_487 = false;
                                                                    fail_b_466 = bool_j_487;
                                                                    flatten_fun_j_496 = fun expr_b_465 -> (
                                                                    var_j_488 = expr_b_465;
                                                                    m_match_bool_j_490 = var_j_488 ~ any;
                                                                    m_match_bool_j_493 = var_j_488 ~ int;
                                                                    m_match_cond_j_494 = m_match_bool_j_493 ? (
                                                                        bool_j_495 = true
                                                                    ) : (
                                                                        m_match_cond_j_491 = m_match_bool_j_490 ? (
                                                                        var_j_492 = fail_b_466
                                                                    ) : (
                                                                        void_j_489 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_498 = fun bj_null_j_6 -> (
                                                                    input_j_497 = input);
                                                                    record_j_499 = 
                                                                    {checker = flatten_fun_j_496, generator = flatten_fun_j_498};
                                                                    proj_j_500 = record_j_499.checker;
                                                                    var_j_501 = item;
                                                                    appl_j_502 = proj_j_500 var_j_501;
                                                                    lbl_check_b_464 = appl_j_502;
                                                                    var_j_503 = lbl_check_b_464;
                                                                    if_j_516 = var_j_503 ? (
                                                                        var_j_504 = tt;
                                                                    proj_j_505 = var_j_504.checker;
                                                                    var_j_506 = left;
                                                                    appl_j_507 = proj_j_505 var_j_506;
                                                                    lbl_check_b_463 = appl_j_507;
                                                                    var_j_508 = lbl_check_b_463;
                                                                    if_j_514 = var_j_508 ? (
                                                                        var_j_509 = tt;
                                                                    proj_j_510 = var_j_509.checker;
                                                                    var_j_511 = right;
                                                                    appl_j_512 = proj_j_510 var_j_511
                                                                    ) : (
                                                                        var_j_513 = lbl_check_b_463
                                                                    )
                                                                    ) : (
                                                                        var_j_515 = lbl_check_b_464
                                                                    )
                                                                ) : (
                                                                    var_j_517 = lbl_check_b_468
                                                                )
                                                        ) : (
                                                            m_match_cond_j_427 = m_match_bool_j_426 ? (
                                                                    var_j_428 = rec_fail_b_459
                                                                ) : (
                                                                    void_j_425 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_419 = m_match_bool_j_418 ? (
                                                            var_j_420 = rec_fail_b_460
                                                        ) : (
                                                            void_j_417 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_411 = m_match_bool_j_410 ? (
                                                    var_j_412 = rec_fail_b_461
                                                ) : (
                                                    void_j_409 = {}
                                                )
                                        ));
                                flatten_fun_j_610 = fun bj_null_j_15 -> (
                                    var_j_520 = tt;
                                    proj_j_521 = var_j_520.generator;
                                    int_j_522 = 0;
                                    appl_j_523 = proj_j_521 int_j_522;
                                    right_b_444 = appl_j_523;
                                    var_j_524 = tt;
                                    proj_j_525 = var_j_524.generator;
                                    int_j_526 = 0;
                                    appl_j_527 = proj_j_525 int_j_526;
                                    left_b_443 = appl_j_527;
                                    bool_j_528 = false;
                                    fail_b_457 = bool_j_528;
                                    flatten_fun_j_537 = fun expr_b_456 -> (
                                        var_j_529 = expr_b_456;
                                        m_match_bool_j_531 = var_j_529 ~ any;
                                        m_match_bool_j_534 = var_j_529 ~ int;
                                        m_match_cond_j_535 = m_match_bool_j_534 ? (
                                                bool_j_536 = true
                                            ) : (
                                                m_match_cond_j_532 = m_match_bool_j_531 ? (
                                                        var_j_533 = fail_b_457
                                                    ) : (
                                                        void_j_530 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_539 = fun bj_null_j_11 -> (
                                        input_j_538 = input);
                                    record_j_540 = {checker = flatten_fun_j_537, generator = flatten_fun_j_539};
                                    proj_j_541 = record_j_540.generator;
                                    int_j_542 = 0;
                                    appl_j_543 = proj_j_541 int_j_542;
                                    item_b_442 = appl_j_543;
                                    flatten_fun_j_570 = fun expr_b_452 -> (
                                        bool_j_544 = false;
                                        fail_b_450 = bool_j_544;
                                        flatten_fun_j_553 = fun expr_b_449 -> (
                                            var_j_545 = expr_b_449;
                                            m_match_bool_j_547 = var_j_545 ~ any;
                                            m_match_bool_j_550 = var_j_545 ~ int;
                                            m_match_cond_j_551 = m_match_bool_j_550 ? (
                                                    bool_j_552 = true
                                                ) : (
                                                    m_match_cond_j_548 = m_match_bool_j_547 ? (
                                                            var_j_549 = fail_b_450
                                                        ) : (
                                                            void_j_546 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_555 = fun bj_null_j_12 -> (
                                            input_j_554 = input);
                                        record_j_556 = {checker = flatten_fun_j_553, generator = flatten_fun_j_555};
                                        proj_j_557 = record_j_556.checker;
                                        var_j_558 = expr_b_452;
                                        appl_j_559 = proj_j_557 var_j_558;
                                        t_check_b_453 = appl_j_559;
                                        var_j_560 = t_check_b_453;
                                        if_j_569 = var_j_560 ? (
                                                bool_j_561 = false;
                                                pred_check_b_454 = bool_j_561;
                                                var_j_562 = is_pos;
                                                var_j_563 = expr_b_452;
                                                appl_j_564 = var_j_562 var_j_563;
                                                if_j_567 = appl_j_564 ? (
                                                        bool_j_565 = true
                                                    ) : (
                                                        var_j_566 = pred_check_b_454
                                                    )
                                            ) : (
                                                var_j_568 = t_check_b_453
                                            ));
                                    flatten_fun_j_594 = fun bj_null_j_14 -> (
                                        bool_j_571 = false;
                                        fail_b_446 = bool_j_571;
                                        flatten_fun_j_580 = fun expr_b_445 -> (
                                            var_j_572 = expr_b_445;
                                            m_match_bool_j_574 = var_j_572 ~ any;
                                            m_match_bool_j_577 = var_j_572 ~ int;
                                            m_match_cond_j_578 = m_match_bool_j_577 ? (
                                                    bool_j_579 = true
                                                ) : (
                                                    m_match_cond_j_575 = m_match_bool_j_574 ? (
                                                            var_j_576 = fail_b_446
                                                        ) : (
                                                            void_j_573 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_582 = fun bj_null_j_13 -> (
                                            input_j_581 = input);
                                        record_j_583 = {checker = flatten_fun_j_580, generator = flatten_fun_j_582};
                                        proj_j_584 = record_j_583.generator;
                                        int_j_585 = 0;
                                        appl_j_586 = proj_j_584 int_j_585;
                                        candidate_b_448 = appl_j_586;
                                        var_j_587 = is_pos;
                                        var_j_588 = candidate_b_448;
                                        appl_j_589 = var_j_587 var_j_588;
                                        if_j_593 = appl_j_589 ? (
                                                var_j_590 = candidate_b_448
                                            ) : (
                                                bool_j_591 = false;
                                                assume_j_592 = assume bool_j_591
                                            ));
                                    record_j_595 = {checker = flatten_fun_j_570, generator = flatten_fun_j_594};
                                    proj_j_596 = record_j_595.generator;
                                    int_j_597 = 0;
                                    appl_j_598 = proj_j_596 int_j_597;
                                    height_b_441 = appl_j_598;
                                    var_j_599 = height_b_441;
                                    var_j_600 = item_b_442;
                                    var_j_601 = left_b_443;
                                    var_j_602 = right_b_444;
                                    record_j_603 = {height = var_j_599, item = var_j_600, left = var_j_601, right = var_j_602};
                                    record_j_604 = {};
                                    record_j_605 = {};
                                    record_j_606 = {};
                                    record_j_607 = {};
                                    record_j_608 = {height = record_j_604, item = record_j_605, left = record_j_606, right = record_j_607};
                                    record_j_609 = {bj_actual_rec = record_j_603, bj_decl_lbls = record_j_608});
                                record_j_611 = {checker = flatten_fun_j_519, generator = flatten_fun_j_610};
                                proj_j_612 = record_j_611.checker;
                                var_j_613 = expr_b_481;
                                appl_j_614 = proj_j_612 var_j_613;
                                t_check_b_482 = appl_j_614;
                                var_j_615 = t_check_b_482;
                                if_j_679 = var_j_615 ? (
                                        bool_j_616 = false;
                                        pred_check_b_483 = bool_j_616;
                                        flatten_fun_j_672 = fun t -> (
                                            var_j_617 = t;
                                            proj_j_618 = var_j_617.bj_decl_lbls;
                                            m_match_bool_j_620 = proj_j_618 ~ any;
                                            m_match_bool_j_627 = proj_j_618 ~ 
                                                {height, _};
                                            m_match_cond_j_628 = m_match_bool_j_627 ? (
                                                    var_j_629 = t;
                                                    proj_j_630 = var_j_629.bj_actual_rec;
                                                    proj_j_631 = proj_j_630.height
                                                ) : (
                                                    m_match_cond_j_621 = m_match_bool_j_620 ? (
                                                            bool_j_622 = false;
                                                            assert_pred_j_623 = bool_j_622;
                                                            assert_res_j_624 = assert_pred_j_623 ? (
                                                                    assert_res_true_j_625 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_626 = abort
                                                                )
                                                        ) : (
                                                            void_j_619 = 
                                                                {}
                                                        )
                                                );
                                            var_j_632 = max;
                                            var_j_633 = height_j_333_j_378;
                                            var_j_634 = t;
                                            proj_j_635 = var_j_634.bj_decl_lbls;
                                            m_match_bool_j_637 = proj_j_635 ~ any;
                                            m_match_bool_j_644 = proj_j_635 ~ 
                                                {left, _};
                                            m_match_cond_j_645 = m_match_bool_j_644 ? (
                                                    var_j_646 = t;
                                                    proj_j_647 = var_j_646.bj_actual_rec;
                                                    proj_j_648 = proj_j_647.left
                                                ) : (
                                                    m_match_cond_j_638 = m_match_bool_j_637 ? (
                                                            bool_j_639 = false;
                                                            assert_pred_j_640 = bool_j_639;
                                                            assert_res_j_641 = assert_pred_j_640 ? (
                                                                    assert_res_true_j_642 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_643 = abort
                                                                )
                                                        ) : (
                                                            void_j_636 = 
                                                                {}
                                                        )
                                                );
                                            m_i_4899 = var_j_633 ~ fun;
                                            appl_j_649 = m_i_4899 ? (
                                                    c_appl_i_4900 = var_j_633 m_match_cond_j_645
                                                ) : (
                                                    ab_i_4901 = abort
                                                );
                                            m_i_4902 = var_j_632 ~ fun;
                                            appl_j_650 = m_i_4902 ? (
                                                    c_appl_i_4903 = var_j_632 appl_j_649
                                                ) : (
                                                    ab_i_4904 = abort
                                                );
                                            var_j_651 = height_j_333_j_378;
                                            var_j_652 = t;
                                            proj_j_653 = var_j_652.bj_decl_lbls;
                                            m_match_bool_j_655 = proj_j_653 ~ any;
                                            m_match_bool_j_662 = proj_j_653 ~ 
                                                {right, _};
                                            m_match_cond_j_663 = m_match_bool_j_662 ? (
                                                    var_j_664 = t;
                                                    proj_j_665 = var_j_664.bj_actual_rec;
                                                    proj_j_666 = proj_j_665.right
                                                ) : (
                                                    m_match_cond_j_656 = m_match_bool_j_655 ? (
                                                            bool_j_657 = false;
                                                            assert_pred_j_658 = bool_j_657;
                                                            assert_res_j_659 = assert_pred_j_658 ? (
                                                                    assert_res_true_j_660 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_661 = abort
                                                                )
                                                        ) : (
                                                            void_j_654 = 
                                                                {}
                                                        )
                                                );
                                            m_i_4905 = var_j_651 ~ fun;
                                            appl_j_667 = m_i_4905 ? (
                                                    c_appl_i_4906 = var_j_651 m_match_cond_j_663
                                                ) : (
                                                    ab_i_4907 = abort
                                                );
                                            m_i_4908 = appl_j_650 ~ fun;
                                            appl_j_668 = m_i_4908 ? (
                                                    c_appl_i_4909 = appl_j_650 appl_j_667
                                                ) : (
                                                    ab_i_4910 = abort
                                                );
                                            int_j_669 = 1;
                                            m_bl_i_4911 = appl_j_668 ~ int;
                                            m_br_i_4912 = int_j_669 ~ int;
                                            m_b_i_4913 = m_bl_i_4911 and m_br_i_4912;
                                            binop_j_670 = m_b_i_4913 ? (
                                                    c_binop_i_4914 = appl_j_668 + int_j_669
                                                ) : (
                                                    ab_i_4915 = abort
                                                );
                                            m_bl_i_4916 = m_match_cond_j_628 ~ int;
                                            m_br_i_4917 = binop_j_670 ~ int;
                                            m_b_i_4918 = m_bl_i_4916 and m_br_i_4917;
                                            binop_j_671 = m_b_i_4918 ? (
                                                    c_binop_i_4919 = m_match_cond_j_628 == binop_j_670
                                                ) : (
                                                    ab_i_4920 = abort
                                                ));
                                        var_j_673 = expr_b_481;
                                        appl_j_674 = flatten_fun_j_672 var_j_673;
                                        if_j_677 = appl_j_674 ? (
                                                bool_j_675 = true
                                            ) : (
                                                var_j_676 = pred_check_b_483
                                            )
                                    ) : (
                                        var_j_678 = t_check_b_482
                                    ));
                            flatten_fun_j_953 = fun bj_null_j_34 -> (
                                flatten_fun_j_795 = fun expr_b_421 -> (
                                    bool_j_681 = false;
                                    rec_fail_b_420 = bool_j_681;
                                    bool_j_682 = false;
                                    rec_fail_b_419 = bool_j_682;
                                    bool_j_683 = false;
                                    rec_fail_b_418 = bool_j_683;
                                    var_j_684 = expr_b_421;
                                    m_match_bool_j_686 = var_j_684 ~ any;
                                    m_match_bool_j_689 = var_j_684 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_690 = m_match_bool_j_689 ? (
                                            var_j_691 = expr_b_421;
                                            proj_j_692 = var_j_691.bj_decl_lbls;
                                            m_match_bool_j_694 = proj_j_692 ~ any;
                                            m_match_bool_j_697 = proj_j_692 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_698 = m_match_bool_j_697 ? (
                                                    height_j_27 = proj_j_692.height;
                                                    item_j_26 = proj_j_692.item;
                                                    left_j_25 = proj_j_692.left;
                                                    right_j_24 = proj_j_692.right;
                                                    var_j_699 = expr_b_421;
                                                    proj_j_700 = var_j_699.bj_actual_rec;
                                                    m_match_bool_j_702 = proj_j_700 ~ any;
                                                    m_match_bool_j_705 = proj_j_700 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_706 = m_match_bool_j_705 ? (
                                                            height_j_23 = proj_j_700.height;
                                                            item_j_22 = proj_j_700.item;
                                                            left_j_21 = proj_j_700.left;
                                                            right_j_20 = proj_j_700.right;
                                                            flatten_fun_j_733 = fun expr_b_435 -> (
                                                                bool_j_707 = false;
                                                                fail_b_433 = bool_j_707;
                                                                flatten_fun_j_716 = fun expr_b_432 -> (
                                                                    var_j_708 = expr_b_432;
                                                                    m_match_bool_j_710 = var_j_708 ~ any;
                                                                    m_match_bool_j_713 = var_j_708 ~ int;
                                                                    m_match_cond_j_714 = m_match_bool_j_713 ? (
                                                                        bool_j_715 = true
                                                                    ) : (
                                                                        m_match_cond_j_711 = m_match_bool_j_710 ? (
                                                                        var_j_712 = fail_b_433
                                                                    ) : (
                                                                        void_j_709 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_718 = fun bj_null_j_16 -> (
                                                                    input_j_717 = input);
                                                                record_j_719 = 
                                                                    {checker = flatten_fun_j_716, generator = flatten_fun_j_718};
                                                                proj_j_720 = record_j_719.checker;
                                                                var_j_721 = expr_b_435;
                                                                appl_j_722 = proj_j_720 var_j_721;
                                                                t_check_b_436 = appl_j_722;
                                                                var_j_723 = t_check_b_436;
                                                                if_j_732 = var_j_723 ? (
                                                                        
                                                                    bool_j_724 = false;
                                                                    pred_check_b_437 = bool_j_724;
                                                                    var_j_725 = is_pos;
                                                                    var_j_726 = expr_b_435;
                                                                    appl_j_727 = var_j_725 var_j_726;
                                                                    if_j_730 = appl_j_727 ? (
                                                                        bool_j_728 = true
                                                                    ) : (
                                                                        var_j_729 = pred_check_b_437
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_731 = t_check_b_436
                                                                    ));
                                                            flatten_fun_j_757 = fun bj_null_j_18 -> (
                                                                bool_j_734 = false;
                                                                fail_b_429 = bool_j_734;
                                                                flatten_fun_j_743 = fun expr_b_428 -> (
                                                                    var_j_735 = expr_b_428;
                                                                    m_match_bool_j_737 = var_j_735 ~ any;
                                                                    m_match_bool_j_740 = var_j_735 ~ int;
                                                                    m_match_cond_j_741 = m_match_bool_j_740 ? (
                                                                        bool_j_742 = true
                                                                    ) : (
                                                                        m_match_cond_j_738 = m_match_bool_j_737 ? (
                                                                        var_j_739 = fail_b_429
                                                                    ) : (
                                                                        void_j_736 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_745 = fun bj_null_j_17 -> (
                                                                    input_j_744 = input);
                                                                record_j_746 = 
                                                                    {checker = flatten_fun_j_743, generator = flatten_fun_j_745};
                                                                proj_j_747 = record_j_746.generator;
                                                                int_j_748 = 0;
                                                                appl_j_749 = proj_j_747 int_j_748;
                                                                candidate_b_431 = appl_j_749;
                                                                var_j_750 = is_pos;
                                                                var_j_751 = candidate_b_431;
                                                                appl_j_752 = var_j_750 var_j_751;
                                                                if_j_756 = appl_j_752 ? (
                                                                        
                                                                    var_j_753 = candidate_b_431
                                                                    ) : (
                                                                        
                                                                    bool_j_754 = false;
                                                                    assume_j_755 = assume bool_j_754
                                                                    ));
                                                            record_j_758 = 
                                                                {checker = flatten_fun_j_733, generator = flatten_fun_j_757};
                                                            proj_j_759 = record_j_758.checker;
                                                            var_j_760 = height_j_23;
                                                            appl_j_761 = proj_j_759 var_j_760;
                                                            lbl_check_b_427 = appl_j_761;
                                                            var_j_762 = lbl_check_b_427;
                                                            if_j_794 = var_j_762 ? (
                                                                    bool_j_763 = false;
                                                                    fail_b_425 = bool_j_763;
                                                                    flatten_fun_j_772 = fun expr_b_424 -> (
                                                                    var_j_764 = expr_b_424;
                                                                    m_match_bool_j_766 = var_j_764 ~ any;
                                                                    m_match_bool_j_769 = var_j_764 ~ int;
                                                                    m_match_cond_j_770 = m_match_bool_j_769 ? (
                                                                        bool_j_771 = true
                                                                    ) : (
                                                                        m_match_cond_j_767 = m_match_bool_j_766 ? (
                                                                        var_j_768 = fail_b_425
                                                                    ) : (
                                                                        void_j_765 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_774 = fun bj_null_j_19 -> (
                                                                    input_j_773 = input);
                                                                    record_j_775 = 
                                                                    {checker = flatten_fun_j_772, generator = flatten_fun_j_774};
                                                                    proj_j_776 = record_j_775.checker;
                                                                    var_j_777 = item_j_22;
                                                                    appl_j_778 = proj_j_776 var_j_777;
                                                                    lbl_check_b_423 = appl_j_778;
                                                                    var_j_779 = lbl_check_b_423;
                                                                    if_j_792 = var_j_779 ? (
                                                                        var_j_780 = tt;
                                                                    proj_j_781 = var_j_780.checker;
                                                                    var_j_782 = left_j_21;
                                                                    appl_j_783 = proj_j_781 var_j_782;
                                                                    lbl_check_b_422 = appl_j_783;
                                                                    var_j_784 = lbl_check_b_422;
                                                                    if_j_790 = var_j_784 ? (
                                                                        var_j_785 = tt;
                                                                    proj_j_786 = var_j_785.checker;
                                                                    var_j_787 = right_j_20;
                                                                    appl_j_788 = proj_j_786 var_j_787
                                                                    ) : (
                                                                        var_j_789 = lbl_check_b_422
                                                                    )
                                                                    ) : (
                                                                        var_j_791 = lbl_check_b_423
                                                                    )
                                                                ) : (
                                                                    var_j_793 = lbl_check_b_427
                                                                )
                                                        ) : (
                                                            m_match_cond_j_703 = m_match_bool_j_702 ? (
                                                                    var_j_704 = rec_fail_b_418
                                                                ) : (
                                                                    void_j_701 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_695 = m_match_bool_j_694 ? (
                                                            var_j_696 = rec_fail_b_419
                                                        ) : (
                                                            void_j_693 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_687 = m_match_bool_j_686 ? (
                                                    var_j_688 = rec_fail_b_420
                                                ) : (
                                                    void_j_685 = {}
                                                )
                                        ));
                                flatten_fun_j_886 = fun bj_null_j_32 -> (
                                    var_j_796 = tt;
                                    proj_j_797 = var_j_796.generator;
                                    int_j_798 = 0;
                                    appl_j_799 = proj_j_797 int_j_798;
                                    right_b_403 = appl_j_799;
                                    var_j_800 = tt;
                                    proj_j_801 = var_j_800.generator;
                                    int_j_802 = 0;
                                    appl_j_803 = proj_j_801 int_j_802;
                                    left_b_402 = appl_j_803;
                                    bool_j_804 = false;
                                    fail_b_416 = bool_j_804;
                                    flatten_fun_j_813 = fun expr_b_415 -> (
                                        var_j_805 = expr_b_415;
                                        m_match_bool_j_807 = var_j_805 ~ any;
                                        m_match_bool_j_810 = var_j_805 ~ int;
                                        m_match_cond_j_811 = m_match_bool_j_810 ? (
                                                bool_j_812 = true
                                            ) : (
                                                m_match_cond_j_808 = m_match_bool_j_807 ? (
                                                        var_j_809 = fail_b_416
                                                    ) : (
                                                        void_j_806 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_815 = fun bj_null_j_28 -> (
                                        input_j_814 = input);
                                    record_j_816 = {checker = flatten_fun_j_813, generator = flatten_fun_j_815};
                                    proj_j_817 = record_j_816.generator;
                                    int_j_818 = 0;
                                    appl_j_819 = proj_j_817 int_j_818;
                                    item_b_401 = appl_j_819;
                                    flatten_fun_j_846 = fun expr_b_411 -> (
                                        bool_j_820 = false;
                                        fail_b_409 = bool_j_820;
                                        flatten_fun_j_829 = fun expr_b_408 -> (
                                            var_j_821 = expr_b_408;
                                            m_match_bool_j_823 = var_j_821 ~ any;
                                            m_match_bool_j_826 = var_j_821 ~ int;
                                            m_match_cond_j_827 = m_match_bool_j_826 ? (
                                                    bool_j_828 = true
                                                ) : (
                                                    m_match_cond_j_824 = m_match_bool_j_823 ? (
                                                            var_j_825 = fail_b_409
                                                        ) : (
                                                            void_j_822 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_831 = fun bj_null_j_29 -> (
                                            input_j_830 = input);
                                        record_j_832 = {checker = flatten_fun_j_829, generator = flatten_fun_j_831};
                                        proj_j_833 = record_j_832.checker;
                                        var_j_834 = expr_b_411;
                                        appl_j_835 = proj_j_833 var_j_834;
                                        t_check_b_412 = appl_j_835;
                                        var_j_836 = t_check_b_412;
                                        if_j_845 = var_j_836 ? (
                                                bool_j_837 = false;
                                                pred_check_b_413 = bool_j_837;
                                                var_j_838 = is_pos;
                                                var_j_839 = expr_b_411;
                                                appl_j_840 = var_j_838 var_j_839;
                                                if_j_843 = appl_j_840 ? (
                                                        bool_j_841 = true
                                                    ) : (
                                                        var_j_842 = pred_check_b_413
                                                    )
                                            ) : (
                                                var_j_844 = t_check_b_412
                                            ));
                                    flatten_fun_j_870 = fun bj_null_j_31 -> (
                                        bool_j_847 = false;
                                        fail_b_405 = bool_j_847;
                                        flatten_fun_j_856 = fun expr_b_404 -> (
                                            var_j_848 = expr_b_404;
                                            m_match_bool_j_850 = var_j_848 ~ any;
                                            m_match_bool_j_853 = var_j_848 ~ int;
                                            m_match_cond_j_854 = m_match_bool_j_853 ? (
                                                    bool_j_855 = true
                                                ) : (
                                                    m_match_cond_j_851 = m_match_bool_j_850 ? (
                                                            var_j_852 = fail_b_405
                                                        ) : (
                                                            void_j_849 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_858 = fun bj_null_j_30 -> (
                                            input_j_857 = input);
                                        record_j_859 = {checker = flatten_fun_j_856, generator = flatten_fun_j_858};
                                        proj_j_860 = record_j_859.generator;
                                        int_j_861 = 0;
                                        appl_j_862 = proj_j_860 int_j_861;
                                        candidate_b_407 = appl_j_862;
                                        var_j_863 = is_pos;
                                        var_j_864 = candidate_b_407;
                                        appl_j_865 = var_j_863 var_j_864;
                                        if_j_869 = appl_j_865 ? (
                                                var_j_866 = candidate_b_407
                                            ) : (
                                                bool_j_867 = false;
                                                assume_j_868 = assume bool_j_867
                                            ));
                                    record_j_871 = {checker = flatten_fun_j_846, generator = flatten_fun_j_870};
                                    proj_j_872 = record_j_871.generator;
                                    int_j_873 = 0;
                                    appl_j_874 = proj_j_872 int_j_873;
                                    height_b_400 = appl_j_874;
                                    var_j_875 = height_b_400;
                                    var_j_876 = item_b_401;
                                    var_j_877 = left_b_402;
                                    var_j_878 = right_b_403;
                                    record_j_879 = {height = var_j_875, item = var_j_876, left = var_j_877, right = var_j_878};
                                    record_j_880 = {};
                                    record_j_881 = {};
                                    record_j_882 = {};
                                    record_j_883 = {};
                                    record_j_884 = {height = record_j_880, item = record_j_881, left = record_j_882, right = record_j_883};
                                    record_j_885 = {bj_actual_rec = record_j_879, bj_decl_lbls = record_j_884});
                                record_j_887 = {checker = flatten_fun_j_795, generator = flatten_fun_j_886};
                                proj_j_888 = record_j_887.generator;
                                int_j_889 = 0;
                                appl_j_890 = proj_j_888 int_j_889;
                                candidate_b_440 = appl_j_890;
                                flatten_fun_j_946 = fun t_j_33 -> (
                                    var_j_891 = t_j_33;
                                    proj_j_892 = var_j_891.bj_decl_lbls;
                                    m_match_bool_j_894 = proj_j_892 ~ any;
                                    m_match_bool_j_901 = proj_j_892 ~ 
                                        {height, _};
                                    m_match_cond_j_902 = m_match_bool_j_901 ? (
                                            var_j_903 = t_j_33;
                                            proj_j_904 = var_j_903.bj_actual_rec;
                                            proj_j_905 = proj_j_904.height
                                        ) : (
                                            m_match_cond_j_895 = m_match_bool_j_894 ? (
                                                    bool_j_896 = false;
                                                    assert_pred_j_897 = bool_j_896;
                                                    assert_res_j_898 = assert_pred_j_897 ? (
                                                            assert_res_true_j_899 = 
                                                                {}
                                                        ) : (
                                                            ab_j_900 = abort
                                                        )
                                                ) : (
                                                    void_j_893 = {}
                                                )
                                        );
                                    var_j_906 = max;
                                    var_j_907 = height_j_333_j_378;
                                    var_j_908 = t_j_33;
                                    proj_j_909 = var_j_908.bj_decl_lbls;
                                    m_match_bool_j_911 = proj_j_909 ~ any;
                                    m_match_bool_j_918 = proj_j_909 ~ 
                                        {left, _};
                                    m_match_cond_j_919 = m_match_bool_j_918 ? (
                                            var_j_920 = t_j_33;
                                            proj_j_921 = var_j_920.bj_actual_rec;
                                            proj_j_922 = proj_j_921.left
                                        ) : (
                                            m_match_cond_j_912 = m_match_bool_j_911 ? (
                                                    bool_j_913 = false;
                                                    assert_pred_j_914 = bool_j_913;
                                                    assert_res_j_915 = assert_pred_j_914 ? (
                                                            assert_res_true_j_916 = 
                                                                {}
                                                        ) : (
                                                            ab_j_917 = abort
                                                        )
                                                ) : (
                                                    void_j_910 = {}
                                                )
                                        );
                                    m_i_4921 = var_j_907 ~ fun;
                                    appl_j_923 = m_i_4921 ? (
                                            c_appl_i_4922 = var_j_907 m_match_cond_j_919
                                        ) : (
                                            ab_i_4923 = abort
                                        );
                                    m_i_4924 = var_j_906 ~ fun;
                                    appl_j_924 = m_i_4924 ? (
                                            c_appl_i_4925 = var_j_906 appl_j_923
                                        ) : (
                                            ab_i_4926 = abort
                                        );
                                    var_j_925 = height_j_333_j_378;
                                    var_j_926 = t_j_33;
                                    proj_j_927 = var_j_926.bj_decl_lbls;
                                    m_match_bool_j_929 = proj_j_927 ~ any;
                                    m_match_bool_j_936 = proj_j_927 ~ 
                                        {right, _};
                                    m_match_cond_j_937 = m_match_bool_j_936 ? (
                                            var_j_938 = t_j_33;
                                            proj_j_939 = var_j_938.bj_actual_rec;
                                            proj_j_940 = proj_j_939.right
                                        ) : (
                                            m_match_cond_j_930 = m_match_bool_j_929 ? (
                                                    bool_j_931 = false;
                                                    assert_pred_j_932 = bool_j_931;
                                                    assert_res_j_933 = assert_pred_j_932 ? (
                                                            assert_res_true_j_934 = 
                                                                {}
                                                        ) : (
                                                            ab_j_935 = abort
                                                        )
                                                ) : (
                                                    void_j_928 = {}
                                                )
                                        );
                                    m_i_4927 = var_j_925 ~ fun;
                                    appl_j_941 = m_i_4927 ? (
                                            c_appl_i_4928 = var_j_925 m_match_cond_j_937
                                        ) : (
                                            ab_i_4929 = abort
                                        );
                                    m_i_4930 = appl_j_924 ~ fun;
                                    appl_j_942 = m_i_4930 ? (
                                            c_appl_i_4931 = appl_j_924 appl_j_941
                                        ) : (
                                            ab_i_4932 = abort
                                        );
                                    int_j_943 = 1;
                                    m_bl_i_4933 = appl_j_942 ~ int;
                                    m_br_i_4934 = int_j_943 ~ int;
                                    m_b_i_4935 = m_bl_i_4933 and m_br_i_4934;
                                    binop_j_944 = m_b_i_4935 ? (
                                            c_binop_i_4936 = appl_j_942 + int_j_943
                                        ) : (
                                            ab_i_4937 = abort
                                        );
                                    m_bl_i_4938 = m_match_cond_j_902 ~ int;
                                    m_br_i_4939 = binop_j_944 ~ int;
                                    m_b_i_4940 = m_bl_i_4938 and m_br_i_4939;
                                    binop_j_945 = m_b_i_4940 ? (
                                            c_binop_i_4941 = m_match_cond_j_902 == binop_j_944
                                        ) : (
                                            ab_i_4942 = abort
                                        ));
                                var_j_947 = candidate_b_440;
                                appl_j_948 = flatten_fun_j_946 var_j_947;
                                if_j_952 = appl_j_948 ? (
                                        var_j_949 = candidate_b_440
                                    ) : (
                                        bool_j_950 = false;
                                        assume_j_951 = assume bool_j_950
                                    ));
                            record_j_954 = {checker = flatten_fun_j_680, generator = flatten_fun_j_953};
                            proj_j_955 = record_j_954.checker;
                            var_j_956 = expr_b_594;
                            appl_j_957 = proj_j_955 var_j_956;
                            if_j_1035 = appl_j_957 ? (
                                    bool_j_958 = true
                                ) : (
                                    flatten_fun_j_1003 = fun expr_b_492 -> (
                                        bool_j_959 = false;
                                        rec_fail_b_491 = bool_j_959;
                                        bool_j_960 = false;
                                        rec_fail_b_490 = bool_j_960;
                                        bool_j_961 = false;
                                        rec_fail_b_489 = bool_j_961;
                                        var_j_962 = expr_b_492;
                                        m_match_bool_j_964 = var_j_962 ~ any;
                                        m_match_bool_j_967 = var_j_962 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_968 = m_match_bool_j_967 ? (
                                                var_j_969 = expr_b_492;
                                                proj_j_970 = var_j_969.bj_decl_lbls;
                                                m_match_bool_j_972 = proj_j_970 ~ any;
                                                m_match_bool_j_975 = proj_j_970 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_976 = m_match_bool_j_975 ? (
                                                        leaf_j_36 = proj_j_970.leaf;
                                                        var_j_977 = expr_b_492;
                                                        proj_j_978 = var_j_977.bj_actual_rec;
                                                        m_match_bool_j_980 = proj_j_978 ~ any;
                                                        m_match_bool_j_983 = proj_j_978 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_984 = m_match_bool_j_983 ? (
                                                                leaf = proj_j_978.leaf;
                                                                bool_j_985 = false;
                                                                fail_b_494 = bool_j_985;
                                                                flatten_fun_j_994 = fun expr_b_493 -> (
                                                                    var_j_986 = expr_b_493;
                                                                    m_match_bool_j_988 = var_j_986 ~ any;
                                                                    m_match_bool_j_991 = var_j_986 ~ bool;
                                                                    m_match_cond_j_992 = m_match_bool_j_991 ? (
                                                                        bool_j_993 = true
                                                                    ) : (
                                                                        m_match_cond_j_989 = m_match_bool_j_988 ? (
                                                                        var_j_990 = fail_b_494
                                                                    ) : (
                                                                        void_j_987 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_998 = fun bj_null_j_35 -> (
                                                                    int_j_995 = 0;
                                                                    input_j_996 = input;
                                                                    m_bl_i_4943 = int_j_995 ~ int;
                                                                    m_br_i_4944 = input_j_996 ~ int;
                                                                    m_b_i_4945 = m_bl_i_4943 and m_br_i_4944;
                                                                    binop_j_997 = m_b_i_4945 ? (
                                                                        c_binop_i_4946 = int_j_995 <= input_j_996
                                                                    ) : (
                                                                        ab_i_4947 = abort
                                                                    ));
                                                                record_j_999 = 
                                                                    {checker = flatten_fun_j_994, generator = flatten_fun_j_998};
                                                                proj_j_1000 = record_j_999.checker;
                                                                var_j_1001 = leaf;
                                                                appl_j_1002 = proj_j_1000 var_j_1001
                                                            ) : (
                                                                m_match_cond_j_981 = m_match_bool_j_980 ? (
                                                                        
                                                                    var_j_982 = rec_fail_b_489
                                                                    ) : (
                                                                        
                                                                    void_j_979 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_973 = m_match_bool_j_972 ? (
                                                                var_j_974 = rec_fail_b_490
                                                            ) : (
                                                                void_j_971 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_965 = m_match_bool_j_964 ? (
                                                        var_j_966 = rec_fail_b_491
                                                    ) : (
                                                        void_j_963 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1027 = fun bj_null_j_38 -> (
                                        bool_j_1004 = false;
                                        fail_b_487 = bool_j_1004;
                                        flatten_fun_j_1013 = fun expr_b_486 -> (
                                            var_j_1005 = expr_b_486;
                                            m_match_bool_j_1007 = var_j_1005 ~ any;
                                            m_match_bool_j_1010 = var_j_1005 ~ bool;
                                            m_match_cond_j_1011 = m_match_bool_j_1010 ? (
                                                    bool_j_1012 = true
                                                ) : (
                                                    m_match_cond_j_1008 = m_match_bool_j_1007 ? (
                                                            var_j_1009 = fail_b_487
                                                        ) : (
                                                            void_j_1006 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1017 = fun bj_null_j_37 -> (
                                            int_j_1014 = 0;
                                            input_j_1015 = input;
                                            m_bl_i_4948 = int_j_1014 ~ int;
                                            m_br_i_4949 = input_j_1015 ~ int;
                                            m_b_i_4950 = m_bl_i_4948 and m_br_i_4949;
                                            binop_j_1016 = m_b_i_4950 ? (
                                                    c_binop_i_4951 = int_j_1014 <= input_j_1015
                                                ) : (
                                                    ab_i_4952 = abort
                                                ));
                                        record_j_1018 = {checker = flatten_fun_j_1013, generator = flatten_fun_j_1017};
                                        proj_j_1019 = record_j_1018.generator;
                                        int_j_1020 = 0;
                                        appl_j_1021 = proj_j_1019 int_j_1020;
                                        leaf_b_485 = appl_j_1021;
                                        var_j_1022 = leaf_b_485;
                                        record_j_1023 = {leaf = var_j_1022};
                                        record_j_1024 = {};
                                        record_j_1025 = {leaf = record_j_1024};
                                        record_j_1026 = {bj_actual_rec = record_j_1023, bj_decl_lbls = record_j_1025});
                                    record_j_1028 = {checker = flatten_fun_j_1003, generator = flatten_fun_j_1027};
                                    proj_j_1029 = record_j_1028.checker;
                                    var_j_1030 = expr_b_594;
                                    appl_j_1031 = proj_j_1029 var_j_1030;
                                    if_j_1034 = appl_j_1031 ? (
                                            bool_j_1032 = true
                                        ) : (
                                            var_j_1033 = fail_b_596
                                        )
                                )
                        ) : (
                            flatten_fun_j_1080 = fun expr_b_589 -> (
                                bool_j_1036 = false;
                                rec_fail_b_588 = bool_j_1036;
                                bool_j_1037 = false;
                                rec_fail_b_587 = bool_j_1037;
                                bool_j_1038 = false;
                                rec_fail_b_586 = bool_j_1038;
                                var_j_1039 = expr_b_589;
                                m_match_bool_j_1041 = var_j_1039 ~ any;
                                m_match_bool_j_1044 = var_j_1039 ~ {bj_actual_rec, _};
                                m_match_cond_j_1045 = m_match_bool_j_1044 ? (
                                        var_j_1046 = expr_b_589;
                                        proj_j_1047 = var_j_1046.bj_decl_lbls;
                                        m_match_bool_j_1049 = proj_j_1047 ~ any;
                                        m_match_bool_j_1052 = proj_j_1047 ~ 
                                            {leaf, _};
                                        m_match_cond_j_1053 = m_match_bool_j_1052 ? (
                                                leaf_j_41 = proj_j_1047.leaf;
                                                var_j_1054 = expr_b_589;
                                                proj_j_1055 = var_j_1054.bj_actual_rec;
                                                m_match_bool_j_1057 = proj_j_1055 ~ any;
                                                m_match_bool_j_1060 = proj_j_1055 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1061 = m_match_bool_j_1060 ? (
                                                        leaf_j_40 = proj_j_1055.leaf;
                                                        bool_j_1062 = false;
                                                        fail_b_591 = bool_j_1062;
                                                        flatten_fun_j_1071 = fun expr_b_590 -> (
                                                            var_j_1063 = expr_b_590;
                                                            m_match_bool_j_1065 = var_j_1063 ~ any;
                                                            m_match_bool_j_1068 = var_j_1063 ~ bool;
                                                            m_match_cond_j_1069 = m_match_bool_j_1068 ? (
                                                                    bool_j_1070 = true
                                                                ) : (
                                                                    m_match_cond_j_1066 = m_match_bool_j_1065 ? (
                                                                        var_j_1067 = fail_b_591
                                                                    ) : (
                                                                        void_j_1064 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_1075 = fun bj_null_j_39 -> (
                                                            int_j_1072 = 0;
                                                            input_j_1073 = input;
                                                            m_bl_i_4953 = int_j_1072 ~ int;
                                                            m_br_i_4954 = input_j_1073 ~ int;
                                                            m_b_i_4955 = m_bl_i_4953 and m_br_i_4954;
                                                            binop_j_1074 = m_b_i_4955 ? (
                                                                    c_binop_i_4956 = int_j_1072 <= input_j_1073
                                                                ) : (
                                                                    ab_i_4957 = abort
                                                                ));
                                                        record_j_1076 = 
                                                            {checker = flatten_fun_j_1071, generator = flatten_fun_j_1075};
                                                        proj_j_1077 = record_j_1076.checker;
                                                        var_j_1078 = leaf_j_40;
                                                        appl_j_1079 = proj_j_1077 var_j_1078
                                                    ) : (
                                                        m_match_cond_j_1058 = m_match_bool_j_1057 ? (
                                                                var_j_1059 = rec_fail_b_586
                                                            ) : (
                                                                void_j_1056 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1050 = m_match_bool_j_1049 ? (
                                                        var_j_1051 = rec_fail_b_587
                                                    ) : (
                                                        void_j_1048 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1042 = m_match_bool_j_1041 ? (
                                                var_j_1043 = rec_fail_b_588
                                            ) : (
                                                void_j_1040 = {}
                                            )
                                    ));
                            flatten_fun_j_1104 = fun bj_null_j_43 -> (
                                bool_j_1081 = false;
                                fail_b_584 = bool_j_1081;
                                flatten_fun_j_1090 = fun expr_b_583 -> (
                                    var_j_1082 = expr_b_583;
                                    m_match_bool_j_1084 = var_j_1082 ~ any;
                                    m_match_bool_j_1087 = var_j_1082 ~ bool;
                                    m_match_cond_j_1088 = m_match_bool_j_1087 ? (
                                            bool_j_1089 = true
                                        ) : (
                                            m_match_cond_j_1085 = m_match_bool_j_1084 ? (
                                                    var_j_1086 = fail_b_584
                                                ) : (
                                                    void_j_1083 = {}
                                                )
                                        ));
                                flatten_fun_j_1094 = fun bj_null_j_42 -> (
                                    int_j_1091 = 0;
                                    input_j_1092 = input;
                                    m_bl_i_4958 = int_j_1091 ~ int;
                                    m_br_i_4959 = input_j_1092 ~ int;
                                    m_b_i_4960 = m_bl_i_4958 and m_br_i_4959;
                                    binop_j_1093 = m_b_i_4960 ? (
                                            c_binop_i_4961 = int_j_1091 <= input_j_1092
                                        ) : (
                                            ab_i_4962 = abort
                                        ));
                                record_j_1095 = {checker = flatten_fun_j_1090, generator = flatten_fun_j_1094};
                                proj_j_1096 = record_j_1095.generator;
                                int_j_1097 = 0;
                                appl_j_1098 = proj_j_1096 int_j_1097;
                                leaf_b_582 = appl_j_1098;
                                var_j_1099 = leaf_b_582;
                                record_j_1100 = {leaf = var_j_1099};
                                record_j_1101 = {};
                                record_j_1102 = {leaf = record_j_1101};
                                record_j_1103 = {bj_actual_rec = record_j_1100, bj_decl_lbls = record_j_1102});
                            record_j_1105 = {checker = flatten_fun_j_1080, generator = flatten_fun_j_1104};
                            proj_j_1106 = record_j_1105.checker;
                            var_j_1107 = expr_b_594;
                            appl_j_1108 = proj_j_1106 var_j_1107;
                            if_j_1666 = appl_j_1108 ? (
                                    bool_j_1109 = true
                                ) : (
                                    flatten_fun_j_1385 = fun expr_b_578 -> (
                                        flatten_fun_j_1224 = fun expr_b_559 -> (
                                            bool_j_1110 = false;
                                            rec_fail_b_558 = bool_j_1110;
                                            bool_j_1111 = false;
                                            rec_fail_b_557 = bool_j_1111;
                                            bool_j_1112 = false;
                                            rec_fail_b_556 = bool_j_1112;
                                            var_j_1113 = expr_b_559;
                                            m_match_bool_j_1115 = var_j_1113 ~ any;
                                            m_match_bool_j_1118 = var_j_1113 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_1119 = m_match_bool_j_1118 ? (
                                                    var_j_1120 = expr_b_559;
                                                    proj_j_1121 = var_j_1120.bj_decl_lbls;
                                                    m_match_bool_j_1123 = proj_j_1121 ~ any;
                                                    m_match_bool_j_1126 = proj_j_1121 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1127 = m_match_bool_j_1126 ? (
                                                            height_j_55 = proj_j_1121.height;
                                                            item_j_54 = proj_j_1121.item;
                                                            left_j_53 = proj_j_1121.left;
                                                            right_j_52 = proj_j_1121.right;
                                                            var_j_1128 = expr_b_559;
                                                            proj_j_1129 = var_j_1128.bj_actual_rec;
                                                            m_match_bool_j_1131 = proj_j_1129 ~ any;
                                                            m_match_bool_j_1134 = proj_j_1129 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_1135 = m_match_bool_j_1134 ? (
                                                                    height_j_51 = proj_j_1129.height;
                                                                    item_j_50 = proj_j_1129.item;
                                                                    left_j_49 = proj_j_1129.left;
                                                                    right_j_48 = proj_j_1129.right;
                                                                    flatten_fun_j_1162 = fun expr_b_573 -> (
                                                                    bool_j_1136 = false;
                                                                    fail_b_571 = bool_j_1136;
                                                                    flatten_fun_j_1145 = fun expr_b_570 -> (
                                                                    var_j_1137 = expr_b_570;
                                                                    m_match_bool_j_1139 = var_j_1137 ~ any;
                                                                    m_match_bool_j_1142 = var_j_1137 ~ int;
                                                                    m_match_cond_j_1143 = m_match_bool_j_1142 ? (
                                                                        bool_j_1144 = true
                                                                    ) : (
                                                                        m_match_cond_j_1140 = m_match_bool_j_1139 ? (
                                                                        var_j_1141 = fail_b_571
                                                                    ) : (
                                                                        void_j_1138 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1147 = fun bj_null_j_44 -> (
                                                                    input_j_1146 = input);
                                                                    record_j_1148 = 
                                                                    {checker = flatten_fun_j_1145, generator = flatten_fun_j_1147};
                                                                    proj_j_1149 = record_j_1148.checker;
                                                                    var_j_1150 = expr_b_573;
                                                                    appl_j_1151 = proj_j_1149 var_j_1150;
                                                                    t_check_b_574 = appl_j_1151;
                                                                    var_j_1152 = t_check_b_574;
                                                                    if_j_1161 = var_j_1152 ? (
                                                                        bool_j_1153 = false;
                                                                    pred_check_b_575 = bool_j_1153;
                                                                    var_j_1154 = is_pos;
                                                                    var_j_1155 = expr_b_573;
                                                                    appl_j_1156 = var_j_1154 var_j_1155;
                                                                    if_j_1159 = appl_j_1156 ? (
                                                                        bool_j_1157 = true
                                                                    ) : (
                                                                        var_j_1158 = pred_check_b_575
                                                                    )
                                                                    ) : (
                                                                        var_j_1160 = t_check_b_574
                                                                    ));
                                                                    flatten_fun_j_1186 = fun bj_null_j_46 -> (
                                                                    bool_j_1163 = false;
                                                                    fail_b_567 = bool_j_1163;
                                                                    flatten_fun_j_1172 = fun expr_b_566 -> (
                                                                    var_j_1164 = expr_b_566;
                                                                    m_match_bool_j_1166 = var_j_1164 ~ any;
                                                                    m_match_bool_j_1169 = var_j_1164 ~ int;
                                                                    m_match_cond_j_1170 = m_match_bool_j_1169 ? (
                                                                        bool_j_1171 = true
                                                                    ) : (
                                                                        m_match_cond_j_1167 = m_match_bool_j_1166 ? (
                                                                        var_j_1168 = fail_b_567
                                                                    ) : (
                                                                        void_j_1165 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1174 = fun bj_null_j_45 -> (
                                                                    input_j_1173 = input);
                                                                    record_j_1175 = 
                                                                    {checker = flatten_fun_j_1172, generator = flatten_fun_j_1174};
                                                                    proj_j_1176 = record_j_1175.generator;
                                                                    int_j_1177 = 0;
                                                                    appl_j_1178 = proj_j_1176 int_j_1177;
                                                                    candidate_b_569 = appl_j_1178;
                                                                    var_j_1179 = is_pos;
                                                                    var_j_1180 = candidate_b_569;
                                                                    appl_j_1181 = var_j_1179 var_j_1180;
                                                                    if_j_1185 = appl_j_1181 ? (
                                                                        var_j_1182 = candidate_b_569
                                                                    ) : (
                                                                        bool_j_1183 = false;
                                                                    assume_j_1184 = assume bool_j_1183
                                                                    ));
                                                                    record_j_1187 = 
                                                                    {checker = flatten_fun_j_1162, generator = flatten_fun_j_1186};
                                                                    proj_j_1188 = record_j_1187.checker;
                                                                    var_j_1189 = height_j_51;
                                                                    appl_j_1190 = proj_j_1188 var_j_1189;
                                                                    lbl_check_b_565 = appl_j_1190;
                                                                    var_j_1191 = lbl_check_b_565;
                                                                    if_j_1223 = var_j_1191 ? (
                                                                        bool_j_1192 = false;
                                                                    fail_b_563 = bool_j_1192;
                                                                    flatten_fun_j_1201 = fun expr_b_562 -> (
                                                                    var_j_1193 = expr_b_562;
                                                                    m_match_bool_j_1195 = var_j_1193 ~ any;
                                                                    m_match_bool_j_1198 = var_j_1193 ~ int;
                                                                    m_match_cond_j_1199 = m_match_bool_j_1198 ? (
                                                                        bool_j_1200 = true
                                                                    ) : (
                                                                        m_match_cond_j_1196 = m_match_bool_j_1195 ? (
                                                                        var_j_1197 = fail_b_563
                                                                    ) : (
                                                                        void_j_1194 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1203 = fun bj_null_j_47 -> (
                                                                    input_j_1202 = input);
                                                                    record_j_1204 = 
                                                                    {checker = flatten_fun_j_1201, generator = flatten_fun_j_1203};
                                                                    proj_j_1205 = record_j_1204.checker;
                                                                    var_j_1206 = item_j_50;
                                                                    appl_j_1207 = proj_j_1205 var_j_1206;
                                                                    lbl_check_b_561 = appl_j_1207;
                                                                    var_j_1208 = lbl_check_b_561;
                                                                    if_j_1221 = var_j_1208 ? (
                                                                        var_j_1209 = tt;
                                                                    proj_j_1210 = var_j_1209.checker;
                                                                    var_j_1211 = left_j_49;
                                                                    appl_j_1212 = proj_j_1210 var_j_1211;
                                                                    lbl_check_b_560 = appl_j_1212;
                                                                    var_j_1213 = lbl_check_b_560;
                                                                    if_j_1219 = var_j_1213 ? (
                                                                        var_j_1214 = tt;
                                                                    proj_j_1215 = var_j_1214.checker;
                                                                    var_j_1216 = right_j_48;
                                                                    appl_j_1217 = proj_j_1215 var_j_1216
                                                                    ) : (
                                                                        var_j_1218 = lbl_check_b_560
                                                                    )
                                                                    ) : (
                                                                        var_j_1220 = lbl_check_b_561
                                                                    )
                                                                    ) : (
                                                                        var_j_1222 = lbl_check_b_565
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_1132 = m_match_bool_j_1131 ? (
                                                                        var_j_1133 = rec_fail_b_556
                                                                    ) : (
                                                                        void_j_1130 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1124 = m_match_bool_j_1123 ? (
                                                                    var_j_1125 = rec_fail_b_557
                                                                ) : (
                                                                    void_j_1122 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1116 = m_match_bool_j_1115 ? (
                                                            var_j_1117 = rec_fail_b_558
                                                        ) : (
                                                            void_j_1114 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1315 = fun bj_null_j_60 -> (
                                            var_j_1225 = tt;
                                            proj_j_1226 = var_j_1225.generator;
                                            int_j_1227 = 0;
                                            appl_j_1228 = proj_j_1226 int_j_1227;
                                            right_b_541 = appl_j_1228;
                                            var_j_1229 = tt;
                                            proj_j_1230 = var_j_1229.generator;
                                            int_j_1231 = 0;
                                            appl_j_1232 = proj_j_1230 int_j_1231;
                                            left_b_540 = appl_j_1232;
                                            bool_j_1233 = false;
                                            fail_b_554 = bool_j_1233;
                                            flatten_fun_j_1242 = fun expr_b_553 -> (
                                                var_j_1234 = expr_b_553;
                                                m_match_bool_j_1236 = var_j_1234 ~ any;
                                                m_match_bool_j_1239 = var_j_1234 ~ int;
                                                m_match_cond_j_1240 = m_match_bool_j_1239 ? (
                                                        bool_j_1241 = true
                                                    ) : (
                                                        m_match_cond_j_1237 = m_match_bool_j_1236 ? (
                                                                var_j_1238 = fail_b_554
                                                            ) : (
                                                                void_j_1235 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1244 = fun bj_null_j_56 -> (
                                                input_j_1243 = input);
                                            record_j_1245 = {checker = flatten_fun_j_1242, generator = flatten_fun_j_1244};
                                            proj_j_1246 = record_j_1245.generator;
                                            int_j_1247 = 0;
                                            appl_j_1248 = proj_j_1246 int_j_1247;
                                            item_b_539 = appl_j_1248;
                                            flatten_fun_j_1275 = fun expr_b_549 -> (
                                                bool_j_1249 = false;
                                                fail_b_547 = bool_j_1249;
                                                flatten_fun_j_1258 = fun expr_b_546 -> (
                                                    var_j_1250 = expr_b_546;
                                                    m_match_bool_j_1252 = var_j_1250 ~ any;
                                                    m_match_bool_j_1255 = var_j_1250 ~ int;
                                                    m_match_cond_j_1256 = m_match_bool_j_1255 ? (
                                                            bool_j_1257 = true
                                                        ) : (
                                                            m_match_cond_j_1253 = m_match_bool_j_1252 ? (
                                                                    var_j_1254 = fail_b_547
                                                                ) : (
                                                                    void_j_1251 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1260 = fun bj_null_j_57 -> (
                                                    input_j_1259 = input);
                                                record_j_1261 = {checker = flatten_fun_j_1258, generator = flatten_fun_j_1260};
                                                proj_j_1262 = record_j_1261.checker;
                                                var_j_1263 = expr_b_549;
                                                appl_j_1264 = proj_j_1262 var_j_1263;
                                                t_check_b_550 = appl_j_1264;
                                                var_j_1265 = t_check_b_550;
                                                if_j_1274 = var_j_1265 ? (
                                                        bool_j_1266 = false;
                                                        pred_check_b_551 = bool_j_1266;
                                                        var_j_1267 = is_pos;
                                                        var_j_1268 = expr_b_549;
                                                        appl_j_1269 = var_j_1267 var_j_1268;
                                                        if_j_1272 = appl_j_1269 ? (
                                                                bool_j_1270 = true
                                                            ) : (
                                                                var_j_1271 = pred_check_b_551
                                                            )
                                                    ) : (
                                                        var_j_1273 = t_check_b_550
                                                    ));
                                            flatten_fun_j_1299 = fun bj_null_j_59 -> (
                                                bool_j_1276 = false;
                                                fail_b_543 = bool_j_1276;
                                                flatten_fun_j_1285 = fun expr_b_542 -> (
                                                    var_j_1277 = expr_b_542;
                                                    m_match_bool_j_1279 = var_j_1277 ~ any;
                                                    m_match_bool_j_1282 = var_j_1277 ~ int;
                                                    m_match_cond_j_1283 = m_match_bool_j_1282 ? (
                                                            bool_j_1284 = true
                                                        ) : (
                                                            m_match_cond_j_1280 = m_match_bool_j_1279 ? (
                                                                    var_j_1281 = fail_b_543
                                                                ) : (
                                                                    void_j_1278 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1287 = fun bj_null_j_58 -> (
                                                    input_j_1286 = input);
                                                record_j_1288 = {checker = flatten_fun_j_1285, generator = flatten_fun_j_1287};
                                                proj_j_1289 = record_j_1288.generator;
                                                int_j_1290 = 0;
                                                appl_j_1291 = proj_j_1289 int_j_1290;
                                                candidate_b_545 = appl_j_1291;
                                                var_j_1292 = is_pos;
                                                var_j_1293 = candidate_b_545;
                                                appl_j_1294 = var_j_1292 var_j_1293;
                                                if_j_1298 = appl_j_1294 ? (
                                                        var_j_1295 = candidate_b_545
                                                    ) : (
                                                        bool_j_1296 = false;
                                                        assume_j_1297 = assume bool_j_1296
                                                    ));
                                            record_j_1300 = {checker = flatten_fun_j_1275, generator = flatten_fun_j_1299};
                                            proj_j_1301 = record_j_1300.generator;
                                            int_j_1302 = 0;
                                            appl_j_1303 = proj_j_1301 int_j_1302;
                                            height_b_538 = appl_j_1303;
                                            var_j_1304 = height_b_538;
                                            var_j_1305 = item_b_539;
                                            var_j_1306 = left_b_540;
                                            var_j_1307 = right_b_541;
                                            record_j_1308 = {height = var_j_1304, item = var_j_1305, left = var_j_1306, right = var_j_1307};
                                            record_j_1309 = {};
                                            record_j_1310 = {};
                                            record_j_1311 = {};
                                            record_j_1312 = {};
                                            record_j_1313 = {height = record_j_1309, item = record_j_1310, left = record_j_1311, right = record_j_1312};
                                            record_j_1314 = {bj_actual_rec = record_j_1308, bj_decl_lbls = record_j_1313});
                                        record_j_1316 = {checker = flatten_fun_j_1224, generator = flatten_fun_j_1315};
                                        proj_j_1317 = record_j_1316.checker;
                                        var_j_1318 = expr_b_578;
                                        appl_j_1319 = proj_j_1317 var_j_1318;
                                        t_check_b_579 = appl_j_1319;
                                        var_j_1320 = t_check_b_579;
                                        if_j_1384 = var_j_1320 ? (
                                                bool_j_1321 = false;
                                                pred_check_b_580 = bool_j_1321;
                                                flatten_fun_j_1377 = fun t_j_61 -> (
                                                    var_j_1322 = t_j_61;
                                                    proj_j_1323 = var_j_1322.bj_decl_lbls;
                                                    m_match_bool_j_1325 = proj_j_1323 ~ any;
                                                    m_match_bool_j_1332 = proj_j_1323 ~ 
                                                        {height, _};
                                                    m_match_cond_j_1333 = m_match_bool_j_1332 ? (
                                                            var_j_1334 = t_j_61;
                                                            proj_j_1335 = var_j_1334.bj_actual_rec;
                                                            proj_j_1336 = proj_j_1335.height
                                                        ) : (
                                                            m_match_cond_j_1326 = m_match_bool_j_1325 ? (
                                                                    bool_j_1327 = false;
                                                                    assert_pred_j_1328 = bool_j_1327;
                                                                    assert_res_j_1329 = assert_pred_j_1328 ? (
                                                                        assert_res_true_j_1330 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1331 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1324 = 
                                                                    {}
                                                                )
                                                        );
                                                    var_j_1337 = max;
                                                    var_j_1338 = height_j_333_j_378;
                                                    var_j_1339 = t_j_61;
                                                    proj_j_1340 = var_j_1339.bj_decl_lbls;
                                                    m_match_bool_j_1342 = proj_j_1340 ~ any;
                                                    m_match_bool_j_1349 = proj_j_1340 ~ 
                                                        {left, _};
                                                    m_match_cond_j_1350 = m_match_bool_j_1349 ? (
                                                            var_j_1351 = t_j_61;
                                                            proj_j_1352 = var_j_1351.bj_actual_rec;
                                                            proj_j_1353 = proj_j_1352.left
                                                        ) : (
                                                            m_match_cond_j_1343 = m_match_bool_j_1342 ? (
                                                                    bool_j_1344 = false;
                                                                    assert_pred_j_1345 = bool_j_1344;
                                                                    assert_res_j_1346 = assert_pred_j_1345 ? (
                                                                        assert_res_true_j_1347 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1348 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1341 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_4963 = var_j_1338 ~ fun;
                                                    appl_j_1354 = m_i_4963 ? (
                                                            c_appl_i_4964 = var_j_1338 m_match_cond_j_1350
                                                        ) : (
                                                            ab_i_4965 = abort
                                                        );
                                                    m_i_4966 = var_j_1337 ~ fun;
                                                    appl_j_1355 = m_i_4966 ? (
                                                            c_appl_i_4967 = var_j_1337 appl_j_1354
                                                        ) : (
                                                            ab_i_4968 = abort
                                                        );
                                                    var_j_1356 = height_j_333_j_378;
                                                    var_j_1357 = t_j_61;
                                                    proj_j_1358 = var_j_1357.bj_decl_lbls;
                                                    m_match_bool_j_1360 = proj_j_1358 ~ any;
                                                    m_match_bool_j_1367 = proj_j_1358 ~ 
                                                        {right, _};
                                                    m_match_cond_j_1368 = m_match_bool_j_1367 ? (
                                                            var_j_1369 = t_j_61;
                                                            proj_j_1370 = var_j_1369.bj_actual_rec;
                                                            proj_j_1371 = proj_j_1370.right
                                                        ) : (
                                                            m_match_cond_j_1361 = m_match_bool_j_1360 ? (
                                                                    bool_j_1362 = false;
                                                                    assert_pred_j_1363 = bool_j_1362;
                                                                    assert_res_j_1364 = assert_pred_j_1363 ? (
                                                                        assert_res_true_j_1365 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1366 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1359 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_4969 = var_j_1356 ~ fun;
                                                    appl_j_1372 = m_i_4969 ? (
                                                            c_appl_i_4970 = var_j_1356 m_match_cond_j_1368
                                                        ) : (
                                                            ab_i_4971 = abort
                                                        );
                                                    m_i_4972 = appl_j_1355 ~ fun;
                                                    appl_j_1373 = m_i_4972 ? (
                                                            c_appl_i_4973 = appl_j_1355 appl_j_1372
                                                        ) : (
                                                            ab_i_4974 = abort
                                                        );
                                                    int_j_1374 = 1;
                                                    m_bl_i_4975 = appl_j_1373 ~ int;
                                                    m_br_i_4976 = int_j_1374 ~ int;
                                                    m_b_i_4977 = m_bl_i_4975 and m_br_i_4976;
                                                    binop_j_1375 = m_b_i_4977 ? (
                                                            c_binop_i_4978 = appl_j_1373 + int_j_1374
                                                        ) : (
                                                            ab_i_4979 = abort
                                                        );
                                                    m_bl_i_4980 = m_match_cond_j_1333 ~ int;
                                                    m_br_i_4981 = binop_j_1375 ~ int;
                                                    m_b_i_4982 = m_bl_i_4980 and m_br_i_4981;
                                                    binop_j_1376 = m_b_i_4982 ? (
                                                            c_binop_i_4983 = m_match_cond_j_1333 == binop_j_1375
                                                        ) : (
                                                            ab_i_4984 = abort
                                                        ));
                                                var_j_1378 = expr_b_578;
                                                appl_j_1379 = flatten_fun_j_1377 var_j_1378;
                                                if_j_1382 = appl_j_1379 ? (
                                                        bool_j_1380 = true
                                                    ) : (
                                                        var_j_1381 = pred_check_b_580
                                                    )
                                            ) : (
                                                var_j_1383 = t_check_b_579
                                            ));
                                    flatten_fun_j_1658 = fun bj_null_j_80 -> (
                                        flatten_fun_j_1500 = fun expr_b_518 -> (
                                            bool_j_1386 = false;
                                            rec_fail_b_517 = bool_j_1386;
                                            bool_j_1387 = false;
                                            rec_fail_b_516 = bool_j_1387;
                                            bool_j_1388 = false;
                                            rec_fail_b_515 = bool_j_1388;
                                            var_j_1389 = expr_b_518;
                                            m_match_bool_j_1391 = var_j_1389 ~ any;
                                            m_match_bool_j_1394 = var_j_1389 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_1395 = m_match_bool_j_1394 ? (
                                                    var_j_1396 = expr_b_518;
                                                    proj_j_1397 = var_j_1396.bj_decl_lbls;
                                                    m_match_bool_j_1399 = proj_j_1397 ~ any;
                                                    m_match_bool_j_1402 = proj_j_1397 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1403 = m_match_bool_j_1402 ? (
                                                            height_j_73 = proj_j_1397.height;
                                                            item_j_72 = proj_j_1397.item;
                                                            left_j_71 = proj_j_1397.left;
                                                            right_j_70 = proj_j_1397.right;
                                                            var_j_1404 = expr_b_518;
                                                            proj_j_1405 = var_j_1404.bj_actual_rec;
                                                            m_match_bool_j_1407 = proj_j_1405 ~ any;
                                                            m_match_bool_j_1410 = proj_j_1405 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_1411 = m_match_bool_j_1410 ? (
                                                                    height_j_69 = proj_j_1405.height;
                                                                    item_j_68 = proj_j_1405.item;
                                                                    left_j_67 = proj_j_1405.left;
                                                                    right_j_66 = proj_j_1405.right;
                                                                    flatten_fun_j_1438 = fun expr_b_532 -> (
                                                                    bool_j_1412 = false;
                                                                    fail_b_530 = bool_j_1412;
                                                                    flatten_fun_j_1421 = fun expr_b_529 -> (
                                                                    var_j_1413 = expr_b_529;
                                                                    m_match_bool_j_1415 = var_j_1413 ~ any;
                                                                    m_match_bool_j_1418 = var_j_1413 ~ int;
                                                                    m_match_cond_j_1419 = m_match_bool_j_1418 ? (
                                                                        bool_j_1420 = true
                                                                    ) : (
                                                                        m_match_cond_j_1416 = m_match_bool_j_1415 ? (
                                                                        var_j_1417 = fail_b_530
                                                                    ) : (
                                                                        void_j_1414 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1423 = fun bj_null_j_62 -> (
                                                                    input_j_1422 = input);
                                                                    record_j_1424 = 
                                                                    {checker = flatten_fun_j_1421, generator = flatten_fun_j_1423};
                                                                    proj_j_1425 = record_j_1424.checker;
                                                                    var_j_1426 = expr_b_532;
                                                                    appl_j_1427 = proj_j_1425 var_j_1426;
                                                                    t_check_b_533 = appl_j_1427;
                                                                    var_j_1428 = t_check_b_533;
                                                                    if_j_1437 = var_j_1428 ? (
                                                                        bool_j_1429 = false;
                                                                    pred_check_b_534 = bool_j_1429;
                                                                    var_j_1430 = is_pos;
                                                                    var_j_1431 = expr_b_532;
                                                                    appl_j_1432 = var_j_1430 var_j_1431;
                                                                    if_j_1435 = appl_j_1432 ? (
                                                                        bool_j_1433 = true
                                                                    ) : (
                                                                        var_j_1434 = pred_check_b_534
                                                                    )
                                                                    ) : (
                                                                        var_j_1436 = t_check_b_533
                                                                    ));
                                                                    flatten_fun_j_1462 = fun bj_null_j_64 -> (
                                                                    bool_j_1439 = false;
                                                                    fail_b_526 = bool_j_1439;
                                                                    flatten_fun_j_1448 = fun expr_b_525 -> (
                                                                    var_j_1440 = expr_b_525;
                                                                    m_match_bool_j_1442 = var_j_1440 ~ any;
                                                                    m_match_bool_j_1445 = var_j_1440 ~ int;
                                                                    m_match_cond_j_1446 = m_match_bool_j_1445 ? (
                                                                        bool_j_1447 = true
                                                                    ) : (
                                                                        m_match_cond_j_1443 = m_match_bool_j_1442 ? (
                                                                        var_j_1444 = fail_b_526
                                                                    ) : (
                                                                        void_j_1441 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1450 = fun bj_null_j_63 -> (
                                                                    input_j_1449 = input);
                                                                    record_j_1451 = 
                                                                    {checker = flatten_fun_j_1448, generator = flatten_fun_j_1450};
                                                                    proj_j_1452 = record_j_1451.generator;
                                                                    int_j_1453 = 0;
                                                                    appl_j_1454 = proj_j_1452 int_j_1453;
                                                                    candidate_b_528 = appl_j_1454;
                                                                    var_j_1455 = is_pos;
                                                                    var_j_1456 = candidate_b_528;
                                                                    appl_j_1457 = var_j_1455 var_j_1456;
                                                                    if_j_1461 = appl_j_1457 ? (
                                                                        var_j_1458 = candidate_b_528
                                                                    ) : (
                                                                        bool_j_1459 = false;
                                                                    assume_j_1460 = assume bool_j_1459
                                                                    ));
                                                                    record_j_1463 = 
                                                                    {checker = flatten_fun_j_1438, generator = flatten_fun_j_1462};
                                                                    proj_j_1464 = record_j_1463.checker;
                                                                    var_j_1465 = height_j_69;
                                                                    appl_j_1466 = proj_j_1464 var_j_1465;
                                                                    lbl_check_b_524 = appl_j_1466;
                                                                    var_j_1467 = lbl_check_b_524;
                                                                    if_j_1499 = var_j_1467 ? (
                                                                        bool_j_1468 = false;
                                                                    fail_b_522 = bool_j_1468;
                                                                    flatten_fun_j_1477 = fun expr_b_521 -> (
                                                                    var_j_1469 = expr_b_521;
                                                                    m_match_bool_j_1471 = var_j_1469 ~ any;
                                                                    m_match_bool_j_1474 = var_j_1469 ~ int;
                                                                    m_match_cond_j_1475 = m_match_bool_j_1474 ? (
                                                                        bool_j_1476 = true
                                                                    ) : (
                                                                        m_match_cond_j_1472 = m_match_bool_j_1471 ? (
                                                                        var_j_1473 = fail_b_522
                                                                    ) : (
                                                                        void_j_1470 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1479 = fun bj_null_j_65 -> (
                                                                    input_j_1478 = input);
                                                                    record_j_1480 = 
                                                                    {checker = flatten_fun_j_1477, generator = flatten_fun_j_1479};
                                                                    proj_j_1481 = record_j_1480.checker;
                                                                    var_j_1482 = item_j_68;
                                                                    appl_j_1483 = proj_j_1481 var_j_1482;
                                                                    lbl_check_b_520 = appl_j_1483;
                                                                    var_j_1484 = lbl_check_b_520;
                                                                    if_j_1497 = var_j_1484 ? (
                                                                        var_j_1485 = tt;
                                                                    proj_j_1486 = var_j_1485.checker;
                                                                    var_j_1487 = left_j_67;
                                                                    appl_j_1488 = proj_j_1486 var_j_1487;
                                                                    lbl_check_b_519 = appl_j_1488;
                                                                    var_j_1489 = lbl_check_b_519;
                                                                    if_j_1495 = var_j_1489 ? (
                                                                        var_j_1490 = tt;
                                                                    proj_j_1491 = var_j_1490.checker;
                                                                    var_j_1492 = right_j_66;
                                                                    appl_j_1493 = proj_j_1491 var_j_1492
                                                                    ) : (
                                                                        var_j_1494 = lbl_check_b_519
                                                                    )
                                                                    ) : (
                                                                        var_j_1496 = lbl_check_b_520
                                                                    )
                                                                    ) : (
                                                                        var_j_1498 = lbl_check_b_524
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_1408 = m_match_bool_j_1407 ? (
                                                                        var_j_1409 = rec_fail_b_515
                                                                    ) : (
                                                                        void_j_1406 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1400 = m_match_bool_j_1399 ? (
                                                                    var_j_1401 = rec_fail_b_516
                                                                ) : (
                                                                    void_j_1398 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1392 = m_match_bool_j_1391 ? (
                                                            var_j_1393 = rec_fail_b_517
                                                        ) : (
                                                            void_j_1390 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1591 = fun bj_null_j_78 -> (
                                            var_j_1501 = tt;
                                            proj_j_1502 = var_j_1501.generator;
                                            int_j_1503 = 0;
                                            appl_j_1504 = proj_j_1502 int_j_1503;
                                            right_b_500 = appl_j_1504;
                                            var_j_1505 = tt;
                                            proj_j_1506 = var_j_1505.generator;
                                            int_j_1507 = 0;
                                            appl_j_1508 = proj_j_1506 int_j_1507;
                                            left_b_499 = appl_j_1508;
                                            bool_j_1509 = false;
                                            fail_b_513 = bool_j_1509;
                                            flatten_fun_j_1518 = fun expr_b_512 -> (
                                                var_j_1510 = expr_b_512;
                                                m_match_bool_j_1512 = var_j_1510 ~ any;
                                                m_match_bool_j_1515 = var_j_1510 ~ int;
                                                m_match_cond_j_1516 = m_match_bool_j_1515 ? (
                                                        bool_j_1517 = true
                                                    ) : (
                                                        m_match_cond_j_1513 = m_match_bool_j_1512 ? (
                                                                var_j_1514 = fail_b_513
                                                            ) : (
                                                                void_j_1511 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1520 = fun bj_null_j_74 -> (
                                                input_j_1519 = input);
                                            record_j_1521 = {checker = flatten_fun_j_1518, generator = flatten_fun_j_1520};
                                            proj_j_1522 = record_j_1521.generator;
                                            int_j_1523 = 0;
                                            appl_j_1524 = proj_j_1522 int_j_1523;
                                            item_b_498 = appl_j_1524;
                                            flatten_fun_j_1551 = fun expr_b_508 -> (
                                                bool_j_1525 = false;
                                                fail_b_506 = bool_j_1525;
                                                flatten_fun_j_1534 = fun expr_b_505 -> (
                                                    var_j_1526 = expr_b_505;
                                                    m_match_bool_j_1528 = var_j_1526 ~ any;
                                                    m_match_bool_j_1531 = var_j_1526 ~ int;
                                                    m_match_cond_j_1532 = m_match_bool_j_1531 ? (
                                                            bool_j_1533 = true
                                                        ) : (
                                                            m_match_cond_j_1529 = m_match_bool_j_1528 ? (
                                                                    var_j_1530 = fail_b_506
                                                                ) : (
                                                                    void_j_1527 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1536 = fun bj_null_j_75 -> (
                                                    input_j_1535 = input);
                                                record_j_1537 = {checker = flatten_fun_j_1534, generator = flatten_fun_j_1536};
                                                proj_j_1538 = record_j_1537.checker;
                                                var_j_1539 = expr_b_508;
                                                appl_j_1540 = proj_j_1538 var_j_1539;
                                                t_check_b_509 = appl_j_1540;
                                                var_j_1541 = t_check_b_509;
                                                if_j_1550 = var_j_1541 ? (
                                                        bool_j_1542 = false;
                                                        pred_check_b_510 = bool_j_1542;
                                                        var_j_1543 = is_pos;
                                                        var_j_1544 = expr_b_508;
                                                        appl_j_1545 = var_j_1543 var_j_1544;
                                                        if_j_1548 = appl_j_1545 ? (
                                                                bool_j_1546 = true
                                                            ) : (
                                                                var_j_1547 = pred_check_b_510
                                                            )
                                                    ) : (
                                                        var_j_1549 = t_check_b_509
                                                    ));
                                            flatten_fun_j_1575 = fun bj_null_j_77 -> (
                                                bool_j_1552 = false;
                                                fail_b_502 = bool_j_1552;
                                                flatten_fun_j_1561 = fun expr_b_501 -> (
                                                    var_j_1553 = expr_b_501;
                                                    m_match_bool_j_1555 = var_j_1553 ~ any;
                                                    m_match_bool_j_1558 = var_j_1553 ~ int;
                                                    m_match_cond_j_1559 = m_match_bool_j_1558 ? (
                                                            bool_j_1560 = true
                                                        ) : (
                                                            m_match_cond_j_1556 = m_match_bool_j_1555 ? (
                                                                    var_j_1557 = fail_b_502
                                                                ) : (
                                                                    void_j_1554 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1563 = fun bj_null_j_76 -> (
                                                    input_j_1562 = input);
                                                record_j_1564 = {checker = flatten_fun_j_1561, generator = flatten_fun_j_1563};
                                                proj_j_1565 = record_j_1564.generator;
                                                int_j_1566 = 0;
                                                appl_j_1567 = proj_j_1565 int_j_1566;
                                                candidate_b_504 = appl_j_1567;
                                                var_j_1568 = is_pos;
                                                var_j_1569 = candidate_b_504;
                                                appl_j_1570 = var_j_1568 var_j_1569;
                                                if_j_1574 = appl_j_1570 ? (
                                                        var_j_1571 = candidate_b_504
                                                    ) : (
                                                        bool_j_1572 = false;
                                                        assume_j_1573 = assume bool_j_1572
                                                    ));
                                            record_j_1576 = {checker = flatten_fun_j_1551, generator = flatten_fun_j_1575};
                                            proj_j_1577 = record_j_1576.generator;
                                            int_j_1578 = 0;
                                            appl_j_1579 = proj_j_1577 int_j_1578;
                                            height_b_497 = appl_j_1579;
                                            var_j_1580 = height_b_497;
                                            var_j_1581 = item_b_498;
                                            var_j_1582 = left_b_499;
                                            var_j_1583 = right_b_500;
                                            record_j_1584 = {height = var_j_1580, item = var_j_1581, left = var_j_1582, right = var_j_1583};
                                            record_j_1585 = {};
                                            record_j_1586 = {};
                                            record_j_1587 = {};
                                            record_j_1588 = {};
                                            record_j_1589 = {height = record_j_1585, item = record_j_1586, left = record_j_1587, right = record_j_1588};
                                            record_j_1590 = {bj_actual_rec = record_j_1584, bj_decl_lbls = record_j_1589});
                                        record_j_1592 = {checker = flatten_fun_j_1500, generator = flatten_fun_j_1591};
                                        proj_j_1593 = record_j_1592.generator;
                                        int_j_1594 = 0;
                                        appl_j_1595 = proj_j_1593 int_j_1594;
                                        candidate_b_537 = appl_j_1595;
                                        flatten_fun_j_1651 = fun t_j_79 -> (
                                            var_j_1596 = t_j_79;
                                            proj_j_1597 = var_j_1596.bj_decl_lbls;
                                            m_match_bool_j_1599 = proj_j_1597 ~ any;
                                            m_match_bool_j_1606 = proj_j_1597 ~ 
                                                {height, _};
                                            m_match_cond_j_1607 = m_match_bool_j_1606 ? (
                                                    var_j_1608 = t_j_79;
                                                    proj_j_1609 = var_j_1608.bj_actual_rec;
                                                    proj_j_1610 = proj_j_1609.height
                                                ) : (
                                                    m_match_cond_j_1600 = m_match_bool_j_1599 ? (
                                                            bool_j_1601 = false;
                                                            assert_pred_j_1602 = bool_j_1601;
                                                            assert_res_j_1603 = assert_pred_j_1602 ? (
                                                                    assert_res_true_j_1604 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1605 = abort
                                                                )
                                                        ) : (
                                                            void_j_1598 = 
                                                                {}
                                                        )
                                                );
                                            var_j_1611 = max;
                                            var_j_1612 = height_j_333_j_378;
                                            var_j_1613 = t_j_79;
                                            proj_j_1614 = var_j_1613.bj_decl_lbls;
                                            m_match_bool_j_1616 = proj_j_1614 ~ any;
                                            m_match_bool_j_1623 = proj_j_1614 ~ 
                                                {left, _};
                                            m_match_cond_j_1624 = m_match_bool_j_1623 ? (
                                                    var_j_1625 = t_j_79;
                                                    proj_j_1626 = var_j_1625.bj_actual_rec;
                                                    proj_j_1627 = proj_j_1626.left
                                                ) : (
                                                    m_match_cond_j_1617 = m_match_bool_j_1616 ? (
                                                            bool_j_1618 = false;
                                                            assert_pred_j_1619 = bool_j_1618;
                                                            assert_res_j_1620 = assert_pred_j_1619 ? (
                                                                    assert_res_true_j_1621 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1622 = abort
                                                                )
                                                        ) : (
                                                            void_j_1615 = 
                                                                {}
                                                        )
                                                );
                                            m_i_4985 = var_j_1612 ~ fun;
                                            appl_j_1628 = m_i_4985 ? (
                                                    c_appl_i_4986 = var_j_1612 m_match_cond_j_1624
                                                ) : (
                                                    ab_i_4987 = abort
                                                );
                                            m_i_4988 = var_j_1611 ~ fun;
                                            appl_j_1629 = m_i_4988 ? (
                                                    c_appl_i_4989 = var_j_1611 appl_j_1628
                                                ) : (
                                                    ab_i_4990 = abort
                                                );
                                            var_j_1630 = height_j_333_j_378;
                                            var_j_1631 = t_j_79;
                                            proj_j_1632 = var_j_1631.bj_decl_lbls;
                                            m_match_bool_j_1634 = proj_j_1632 ~ any;
                                            m_match_bool_j_1641 = proj_j_1632 ~ 
                                                {right, _};
                                            m_match_cond_j_1642 = m_match_bool_j_1641 ? (
                                                    var_j_1643 = t_j_79;
                                                    proj_j_1644 = var_j_1643.bj_actual_rec;
                                                    proj_j_1645 = proj_j_1644.right
                                                ) : (
                                                    m_match_cond_j_1635 = m_match_bool_j_1634 ? (
                                                            bool_j_1636 = false;
                                                            assert_pred_j_1637 = bool_j_1636;
                                                            assert_res_j_1638 = assert_pred_j_1637 ? (
                                                                    assert_res_true_j_1639 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1640 = abort
                                                                )
                                                        ) : (
                                                            void_j_1633 = 
                                                                {}
                                                        )
                                                );
                                            m_i_4991 = var_j_1630 ~ fun;
                                            appl_j_1646 = m_i_4991 ? (
                                                    c_appl_i_4992 = var_j_1630 m_match_cond_j_1642
                                                ) : (
                                                    ab_i_4993 = abort
                                                );
                                            m_i_4994 = appl_j_1629 ~ fun;
                                            appl_j_1647 = m_i_4994 ? (
                                                    c_appl_i_4995 = appl_j_1629 appl_j_1646
                                                ) : (
                                                    ab_i_4996 = abort
                                                );
                                            int_j_1648 = 1;
                                            m_bl_i_4997 = appl_j_1647 ~ int;
                                            m_br_i_4998 = int_j_1648 ~ int;
                                            m_b_i_4999 = m_bl_i_4997 and m_br_i_4998;
                                            binop_j_1649 = m_b_i_4999 ? (
                                                    c_binop_i_5000 = appl_j_1647 + int_j_1648
                                                ) : (
                                                    ab_i_5001 = abort
                                                );
                                            m_bl_i_5002 = m_match_cond_j_1607 ~ int;
                                            m_br_i_5003 = binop_j_1649 ~ int;
                                            m_b_i_5004 = m_bl_i_5002 and m_br_i_5003;
                                            binop_j_1650 = m_b_i_5004 ? (
                                                    c_binop_i_5005 = m_match_cond_j_1607 == binop_j_1649
                                                ) : (
                                                    ab_i_5006 = abort
                                                ));
                                        var_j_1652 = candidate_b_537;
                                        appl_j_1653 = flatten_fun_j_1651 var_j_1652;
                                        if_j_1657 = appl_j_1653 ? (
                                                var_j_1654 = candidate_b_537
                                            ) : (
                                                bool_j_1655 = false;
                                                assume_j_1656 = assume bool_j_1655
                                            ));
                                    record_j_1659 = {checker = flatten_fun_j_1385, generator = flatten_fun_j_1658};
                                    proj_j_1660 = record_j_1659.checker;
                                    var_j_1661 = expr_b_594;
                                    appl_j_1662 = proj_j_1660 var_j_1661;
                                    if_j_1665 = appl_j_1662 ? (
                                            bool_j_1663 = true
                                        ) : (
                                            var_j_1664 = fail_b_596
                                        )
                                )
                        ));
                flatten_fun_j_2300 = fun bj_null_j_123 -> (
                    input_j_1669 = input;
                    select_int_b_399 = input_j_1669;
                    int_j_1670 = 0;
                    var_j_1671 = select_int_b_399;
                    binop_j_1672 = int_j_1670 <= var_j_1671;
                    if_j_2299 = binop_j_1672 ? (
                            flatten_fun_j_1948 = fun expr_b_383 -> (
                                flatten_fun_j_1787 = fun expr_b_364 -> (
                                    bool_j_1673 = false;
                                    rec_fail_b_363 = bool_j_1673;
                                    bool_j_1674 = false;
                                    rec_fail_b_362 = bool_j_1674;
                                    bool_j_1675 = false;
                                    rec_fail_b_361 = bool_j_1675;
                                    var_j_1676 = expr_b_364;
                                    m_match_bool_j_1678 = var_j_1676 ~ any;
                                    m_match_bool_j_1681 = var_j_1676 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_1682 = m_match_bool_j_1681 ? (
                                            var_j_1683 = expr_b_364;
                                            proj_j_1684 = var_j_1683.bj_decl_lbls;
                                            m_match_bool_j_1686 = proj_j_1684 ~ any;
                                            m_match_bool_j_1689 = proj_j_1684 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_1690 = m_match_bool_j_1689 ? (
                                                    height_j_92 = proj_j_1684.height;
                                                    item_j_91 = proj_j_1684.item;
                                                    left_j_90 = proj_j_1684.left;
                                                    right_j_89 = proj_j_1684.right;
                                                    var_j_1691 = expr_b_364;
                                                    proj_j_1692 = var_j_1691.bj_actual_rec;
                                                    m_match_bool_j_1694 = proj_j_1692 ~ any;
                                                    m_match_bool_j_1697 = proj_j_1692 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1698 = m_match_bool_j_1697 ? (
                                                            height_j_88 = proj_j_1692.height;
                                                            item_j_87 = proj_j_1692.item;
                                                            left_j_86 = proj_j_1692.left;
                                                            right_j_85 = proj_j_1692.right;
                                                            flatten_fun_j_1725 = fun expr_b_378 -> (
                                                                bool_j_1699 = false;
                                                                fail_b_376 = bool_j_1699;
                                                                flatten_fun_j_1708 = fun expr_b_375 -> (
                                                                    var_j_1700 = expr_b_375;
                                                                    m_match_bool_j_1702 = var_j_1700 ~ any;
                                                                    m_match_bool_j_1705 = var_j_1700 ~ int;
                                                                    m_match_cond_j_1706 = m_match_bool_j_1705 ? (
                                                                        bool_j_1707 = true
                                                                    ) : (
                                                                        m_match_cond_j_1703 = m_match_bool_j_1702 ? (
                                                                        var_j_1704 = fail_b_376
                                                                    ) : (
                                                                        void_j_1701 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1710 = fun bj_null_j_81 -> (
                                                                    input_j_1709 = input);
                                                                record_j_1711 = 
                                                                    {checker = flatten_fun_j_1708, generator = flatten_fun_j_1710};
                                                                proj_j_1712 = record_j_1711.checker;
                                                                var_j_1713 = expr_b_378;
                                                                appl_j_1714 = proj_j_1712 var_j_1713;
                                                                t_check_b_379 = appl_j_1714;
                                                                var_j_1715 = t_check_b_379;
                                                                if_j_1724 = var_j_1715 ? (
                                                                        
                                                                    bool_j_1716 = false;
                                                                    pred_check_b_380 = bool_j_1716;
                                                                    var_j_1717 = is_pos;
                                                                    var_j_1718 = expr_b_378;
                                                                    appl_j_1719 = var_j_1717 var_j_1718;
                                                                    if_j_1722 = appl_j_1719 ? (
                                                                        bool_j_1720 = true
                                                                    ) : (
                                                                        var_j_1721 = pred_check_b_380
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1723 = t_check_b_379
                                                                    ));
                                                            flatten_fun_j_1749 = fun bj_null_j_83 -> (
                                                                bool_j_1726 = false;
                                                                fail_b_372 = bool_j_1726;
                                                                flatten_fun_j_1735 = fun expr_b_371 -> (
                                                                    var_j_1727 = expr_b_371;
                                                                    m_match_bool_j_1729 = var_j_1727 ~ any;
                                                                    m_match_bool_j_1732 = var_j_1727 ~ int;
                                                                    m_match_cond_j_1733 = m_match_bool_j_1732 ? (
                                                                        bool_j_1734 = true
                                                                    ) : (
                                                                        m_match_cond_j_1730 = m_match_bool_j_1729 ? (
                                                                        var_j_1731 = fail_b_372
                                                                    ) : (
                                                                        void_j_1728 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1737 = fun bj_null_j_82 -> (
                                                                    input_j_1736 = input);
                                                                record_j_1738 = 
                                                                    {checker = flatten_fun_j_1735, generator = flatten_fun_j_1737};
                                                                proj_j_1739 = record_j_1738.generator;
                                                                int_j_1740 = 0;
                                                                appl_j_1741 = proj_j_1739 int_j_1740;
                                                                candidate_b_374 = appl_j_1741;
                                                                var_j_1742 = is_pos;
                                                                var_j_1743 = candidate_b_374;
                                                                appl_j_1744 = var_j_1742 var_j_1743;
                                                                if_j_1748 = appl_j_1744 ? (
                                                                        
                                                                    var_j_1745 = candidate_b_374
                                                                    ) : (
                                                                        
                                                                    bool_j_1746 = false;
                                                                    assume_j_1747 = assume bool_j_1746
                                                                    ));
                                                            record_j_1750 = 
                                                                {checker = flatten_fun_j_1725, generator = flatten_fun_j_1749};
                                                            proj_j_1751 = record_j_1750.checker;
                                                            var_j_1752 = height_j_88;
                                                            appl_j_1753 = proj_j_1751 var_j_1752;
                                                            lbl_check_b_370 = appl_j_1753;
                                                            var_j_1754 = lbl_check_b_370;
                                                            if_j_1786 = var_j_1754 ? (
                                                                    bool_j_1755 = false;
                                                                    fail_b_368 = bool_j_1755;
                                                                    flatten_fun_j_1764 = fun expr_b_367 -> (
                                                                    var_j_1756 = expr_b_367;
                                                                    m_match_bool_j_1758 = var_j_1756 ~ any;
                                                                    m_match_bool_j_1761 = var_j_1756 ~ int;
                                                                    m_match_cond_j_1762 = m_match_bool_j_1761 ? (
                                                                        bool_j_1763 = true
                                                                    ) : (
                                                                        m_match_cond_j_1759 = m_match_bool_j_1758 ? (
                                                                        var_j_1760 = fail_b_368
                                                                    ) : (
                                                                        void_j_1757 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1766 = fun bj_null_j_84 -> (
                                                                    input_j_1765 = input);
                                                                    record_j_1767 = 
                                                                    {checker = flatten_fun_j_1764, generator = flatten_fun_j_1766};
                                                                    proj_j_1768 = record_j_1767.checker;
                                                                    var_j_1769 = item_j_87;
                                                                    appl_j_1770 = proj_j_1768 var_j_1769;
                                                                    lbl_check_b_366 = appl_j_1770;
                                                                    var_j_1771 = lbl_check_b_366;
                                                                    if_j_1784 = var_j_1771 ? (
                                                                        var_j_1772 = tt;
                                                                    proj_j_1773 = var_j_1772.checker;
                                                                    var_j_1774 = left_j_86;
                                                                    appl_j_1775 = proj_j_1773 var_j_1774;
                                                                    lbl_check_b_365 = appl_j_1775;
                                                                    var_j_1776 = lbl_check_b_365;
                                                                    if_j_1782 = var_j_1776 ? (
                                                                        var_j_1777 = tt;
                                                                    proj_j_1778 = var_j_1777.checker;
                                                                    var_j_1779 = right_j_85;
                                                                    appl_j_1780 = proj_j_1778 var_j_1779
                                                                    ) : (
                                                                        var_j_1781 = lbl_check_b_365
                                                                    )
                                                                    ) : (
                                                                        var_j_1783 = lbl_check_b_366
                                                                    )
                                                                ) : (
                                                                    var_j_1785 = lbl_check_b_370
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1695 = m_match_bool_j_1694 ? (
                                                                    var_j_1696 = rec_fail_b_361
                                                                ) : (
                                                                    void_j_1693 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1687 = m_match_bool_j_1686 ? (
                                                            var_j_1688 = rec_fail_b_362
                                                        ) : (
                                                            void_j_1685 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_1679 = m_match_bool_j_1678 ? (
                                                    var_j_1680 = rec_fail_b_363
                                                ) : (
                                                    void_j_1677 = {}
                                                )
                                        ));
                                flatten_fun_j_1878 = fun bj_null_j_97 -> (
                                    var_j_1788 = tt;
                                    proj_j_1789 = var_j_1788.generator;
                                    int_j_1790 = 0;
                                    appl_j_1791 = proj_j_1789 int_j_1790;
                                    right_b_346 = appl_j_1791;
                                    var_j_1792 = tt;
                                    proj_j_1793 = var_j_1792.generator;
                                    int_j_1794 = 0;
                                    appl_j_1795 = proj_j_1793 int_j_1794;
                                    left_b_345 = appl_j_1795;
                                    bool_j_1796 = false;
                                    fail_b_359 = bool_j_1796;
                                    flatten_fun_j_1805 = fun expr_b_358 -> (
                                        var_j_1797 = expr_b_358;
                                        m_match_bool_j_1799 = var_j_1797 ~ any;
                                        m_match_bool_j_1802 = var_j_1797 ~ int;
                                        m_match_cond_j_1803 = m_match_bool_j_1802 ? (
                                                bool_j_1804 = true
                                            ) : (
                                                m_match_cond_j_1800 = m_match_bool_j_1799 ? (
                                                        var_j_1801 = fail_b_359
                                                    ) : (
                                                        void_j_1798 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1807 = fun bj_null_j_93 -> (
                                        input_j_1806 = input);
                                    record_j_1808 = {checker = flatten_fun_j_1805, generator = flatten_fun_j_1807};
                                    proj_j_1809 = record_j_1808.generator;
                                    int_j_1810 = 0;
                                    appl_j_1811 = proj_j_1809 int_j_1810;
                                    item_b_344 = appl_j_1811;
                                    flatten_fun_j_1838 = fun expr_b_354 -> (
                                        bool_j_1812 = false;
                                        fail_b_352 = bool_j_1812;
                                        flatten_fun_j_1821 = fun expr_b_351 -> (
                                            var_j_1813 = expr_b_351;
                                            m_match_bool_j_1815 = var_j_1813 ~ any;
                                            m_match_bool_j_1818 = var_j_1813 ~ int;
                                            m_match_cond_j_1819 = m_match_bool_j_1818 ? (
                                                    bool_j_1820 = true
                                                ) : (
                                                    m_match_cond_j_1816 = m_match_bool_j_1815 ? (
                                                            var_j_1817 = fail_b_352
                                                        ) : (
                                                            void_j_1814 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1823 = fun bj_null_j_94 -> (
                                            input_j_1822 = input);
                                        record_j_1824 = {checker = flatten_fun_j_1821, generator = flatten_fun_j_1823};
                                        proj_j_1825 = record_j_1824.checker;
                                        var_j_1826 = expr_b_354;
                                        appl_j_1827 = proj_j_1825 var_j_1826;
                                        t_check_b_355 = appl_j_1827;
                                        var_j_1828 = t_check_b_355;
                                        if_j_1837 = var_j_1828 ? (
                                                bool_j_1829 = false;
                                                pred_check_b_356 = bool_j_1829;
                                                var_j_1830 = is_pos;
                                                var_j_1831 = expr_b_354;
                                                appl_j_1832 = var_j_1830 var_j_1831;
                                                if_j_1835 = appl_j_1832 ? (
                                                        bool_j_1833 = true
                                                    ) : (
                                                        var_j_1834 = pred_check_b_356
                                                    )
                                            ) : (
                                                var_j_1836 = t_check_b_355
                                            ));
                                    flatten_fun_j_1862 = fun bj_null_j_96 -> (
                                        bool_j_1839 = false;
                                        fail_b_348 = bool_j_1839;
                                        flatten_fun_j_1848 = fun expr_b_347 -> (
                                            var_j_1840 = expr_b_347;
                                            m_match_bool_j_1842 = var_j_1840 ~ any;
                                            m_match_bool_j_1845 = var_j_1840 ~ int;
                                            m_match_cond_j_1846 = m_match_bool_j_1845 ? (
                                                    bool_j_1847 = true
                                                ) : (
                                                    m_match_cond_j_1843 = m_match_bool_j_1842 ? (
                                                            var_j_1844 = fail_b_348
                                                        ) : (
                                                            void_j_1841 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1850 = fun bj_null_j_95 -> (
                                            input_j_1849 = input);
                                        record_j_1851 = {checker = flatten_fun_j_1848, generator = flatten_fun_j_1850};
                                        proj_j_1852 = record_j_1851.generator;
                                        int_j_1853 = 0;
                                        appl_j_1854 = proj_j_1852 int_j_1853;
                                        candidate_b_350 = appl_j_1854;
                                        var_j_1855 = is_pos;
                                        var_j_1856 = candidate_b_350;
                                        appl_j_1857 = var_j_1855 var_j_1856;
                                        if_j_1861 = appl_j_1857 ? (
                                                var_j_1858 = candidate_b_350
                                            ) : (
                                                bool_j_1859 = false;
                                                assume_j_1860 = assume bool_j_1859
                                            ));
                                    record_j_1863 = {checker = flatten_fun_j_1838, generator = flatten_fun_j_1862};
                                    proj_j_1864 = record_j_1863.generator;
                                    int_j_1865 = 0;
                                    appl_j_1866 = proj_j_1864 int_j_1865;
                                    height_b_343 = appl_j_1866;
                                    var_j_1867 = height_b_343;
                                    var_j_1868 = item_b_344;
                                    var_j_1869 = left_b_345;
                                    var_j_1870 = right_b_346;
                                    record_j_1871 = {height = var_j_1867, item = var_j_1868, left = var_j_1869, right = var_j_1870};
                                    record_j_1872 = {};
                                    record_j_1873 = {};
                                    record_j_1874 = {};
                                    record_j_1875 = {};
                                    record_j_1876 = {height = record_j_1872, item = record_j_1873, left = record_j_1874, right = record_j_1875};
                                    record_j_1877 = {bj_actual_rec = record_j_1871, bj_decl_lbls = record_j_1876});
                                record_j_1879 = {checker = flatten_fun_j_1787, generator = flatten_fun_j_1878};
                                proj_j_1880 = record_j_1879.checker;
                                var_j_1881 = expr_b_383;
                                appl_j_1882 = proj_j_1880 var_j_1881;
                                t_check_b_384 = appl_j_1882;
                                var_j_1883 = t_check_b_384;
                                if_j_1947 = var_j_1883 ? (
                                        bool_j_1884 = false;
                                        pred_check_b_385 = bool_j_1884;
                                        flatten_fun_j_1940 = fun t_j_98 -> (
                                            var_j_1885 = t_j_98;
                                            proj_j_1886 = var_j_1885.bj_decl_lbls;
                                            m_match_bool_j_1888 = proj_j_1886 ~ any;
                                            m_match_bool_j_1895 = proj_j_1886 ~ 
                                                {height, _};
                                            m_match_cond_j_1896 = m_match_bool_j_1895 ? (
                                                    var_j_1897 = t_j_98;
                                                    proj_j_1898 = var_j_1897.bj_actual_rec;
                                                    proj_j_1899 = proj_j_1898.height
                                                ) : (
                                                    m_match_cond_j_1889 = m_match_bool_j_1888 ? (
                                                            bool_j_1890 = false;
                                                            assert_pred_j_1891 = bool_j_1890;
                                                            assert_res_j_1892 = assert_pred_j_1891 ? (
                                                                    assert_res_true_j_1893 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1894 = abort
                                                                )
                                                        ) : (
                                                            void_j_1887 = 
                                                                {}
                                                        )
                                                );
                                            var_j_1900 = max;
                                            var_j_1901 = height_j_333_j_378;
                                            var_j_1902 = t_j_98;
                                            proj_j_1903 = var_j_1902.bj_decl_lbls;
                                            m_match_bool_j_1905 = proj_j_1903 ~ any;
                                            m_match_bool_j_1912 = proj_j_1903 ~ 
                                                {left, _};
                                            m_match_cond_j_1913 = m_match_bool_j_1912 ? (
                                                    var_j_1914 = t_j_98;
                                                    proj_j_1915 = var_j_1914.bj_actual_rec;
                                                    proj_j_1916 = proj_j_1915.left
                                                ) : (
                                                    m_match_cond_j_1906 = m_match_bool_j_1905 ? (
                                                            bool_j_1907 = false;
                                                            assert_pred_j_1908 = bool_j_1907;
                                                            assert_res_j_1909 = assert_pred_j_1908 ? (
                                                                    assert_res_true_j_1910 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1911 = abort
                                                                )
                                                        ) : (
                                                            void_j_1904 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5007 = var_j_1901 ~ fun;
                                            appl_j_1917 = m_i_5007 ? (
                                                    c_appl_i_5008 = var_j_1901 m_match_cond_j_1913
                                                ) : (
                                                    ab_i_5009 = abort
                                                );
                                            m_i_5010 = var_j_1900 ~ fun;
                                            appl_j_1918 = m_i_5010 ? (
                                                    c_appl_i_5011 = var_j_1900 appl_j_1917
                                                ) : (
                                                    ab_i_5012 = abort
                                                );
                                            var_j_1919 = height_j_333_j_378;
                                            var_j_1920 = t_j_98;
                                            proj_j_1921 = var_j_1920.bj_decl_lbls;
                                            m_match_bool_j_1923 = proj_j_1921 ~ any;
                                            m_match_bool_j_1930 = proj_j_1921 ~ 
                                                {right, _};
                                            m_match_cond_j_1931 = m_match_bool_j_1930 ? (
                                                    var_j_1932 = t_j_98;
                                                    proj_j_1933 = var_j_1932.bj_actual_rec;
                                                    proj_j_1934 = proj_j_1933.right
                                                ) : (
                                                    m_match_cond_j_1924 = m_match_bool_j_1923 ? (
                                                            bool_j_1925 = false;
                                                            assert_pred_j_1926 = bool_j_1925;
                                                            assert_res_j_1927 = assert_pred_j_1926 ? (
                                                                    assert_res_true_j_1928 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1929 = abort
                                                                )
                                                        ) : (
                                                            void_j_1922 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5013 = var_j_1919 ~ fun;
                                            appl_j_1935 = m_i_5013 ? (
                                                    c_appl_i_5014 = var_j_1919 m_match_cond_j_1931
                                                ) : (
                                                    ab_i_5015 = abort
                                                );
                                            m_i_5016 = appl_j_1918 ~ fun;
                                            appl_j_1936 = m_i_5016 ? (
                                                    c_appl_i_5017 = appl_j_1918 appl_j_1935
                                                ) : (
                                                    ab_i_5018 = abort
                                                );
                                            int_j_1937 = 1;
                                            m_bl_i_5019 = appl_j_1936 ~ int;
                                            m_br_i_5020 = int_j_1937 ~ int;
                                            m_b_i_5021 = m_bl_i_5019 and m_br_i_5020;
                                            binop_j_1938 = m_b_i_5021 ? (
                                                    c_binop_i_5022 = appl_j_1936 + int_j_1937
                                                ) : (
                                                    ab_i_5023 = abort
                                                );
                                            m_bl_i_5024 = m_match_cond_j_1896 ~ int;
                                            m_br_i_5025 = binop_j_1938 ~ int;
                                            m_b_i_5026 = m_bl_i_5024 and m_br_i_5025;
                                            binop_j_1939 = m_b_i_5026 ? (
                                                    c_binop_i_5027 = m_match_cond_j_1896 == binop_j_1938
                                                ) : (
                                                    ab_i_5028 = abort
                                                ));
                                        var_j_1941 = expr_b_383;
                                        appl_j_1942 = flatten_fun_j_1940 var_j_1941;
                                        if_j_1945 = appl_j_1942 ? (
                                                bool_j_1943 = true
                                            ) : (
                                                var_j_1944 = pred_check_b_385
                                            )
                                    ) : (
                                        var_j_1946 = t_check_b_384
                                    ));
                            flatten_fun_j_2221 = fun bj_null_j_117 -> (
                                flatten_fun_j_2063 = fun expr_b_323 -> (
                                    bool_j_1949 = false;
                                    rec_fail_b_322 = bool_j_1949;
                                    bool_j_1950 = false;
                                    rec_fail_b_321 = bool_j_1950;
                                    bool_j_1951 = false;
                                    rec_fail_b_320 = bool_j_1951;
                                    var_j_1952 = expr_b_323;
                                    m_match_bool_j_1954 = var_j_1952 ~ any;
                                    m_match_bool_j_1957 = var_j_1952 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_1958 = m_match_bool_j_1957 ? (
                                            var_j_1959 = expr_b_323;
                                            proj_j_1960 = var_j_1959.bj_decl_lbls;
                                            m_match_bool_j_1962 = proj_j_1960 ~ any;
                                            m_match_bool_j_1965 = proj_j_1960 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_1966 = m_match_bool_j_1965 ? (
                                                    height_j_110 = proj_j_1960.height;
                                                    item_j_109 = proj_j_1960.item;
                                                    left_j_108 = proj_j_1960.left;
                                                    right_j_107 = proj_j_1960.right;
                                                    var_j_1967 = expr_b_323;
                                                    proj_j_1968 = var_j_1967.bj_actual_rec;
                                                    m_match_bool_j_1970 = proj_j_1968 ~ any;
                                                    m_match_bool_j_1973 = proj_j_1968 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1974 = m_match_bool_j_1973 ? (
                                                            height_j_106 = proj_j_1968.height;
                                                            item_j_105 = proj_j_1968.item;
                                                            left_j_104 = proj_j_1968.left;
                                                            right_j_103 = proj_j_1968.right;
                                                            flatten_fun_j_2001 = fun expr_b_337 -> (
                                                                bool_j_1975 = false;
                                                                fail_b_335 = bool_j_1975;
                                                                flatten_fun_j_1984 = fun expr_b_334 -> (
                                                                    var_j_1976 = expr_b_334;
                                                                    m_match_bool_j_1978 = var_j_1976 ~ any;
                                                                    m_match_bool_j_1981 = var_j_1976 ~ int;
                                                                    m_match_cond_j_1982 = m_match_bool_j_1981 ? (
                                                                        bool_j_1983 = true
                                                                    ) : (
                                                                        m_match_cond_j_1979 = m_match_bool_j_1978 ? (
                                                                        var_j_1980 = fail_b_335
                                                                    ) : (
                                                                        void_j_1977 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1986 = fun bj_null_j_99 -> (
                                                                    input_j_1985 = input);
                                                                record_j_1987 = 
                                                                    {checker = flatten_fun_j_1984, generator = flatten_fun_j_1986};
                                                                proj_j_1988 = record_j_1987.checker;
                                                                var_j_1989 = expr_b_337;
                                                                appl_j_1990 = proj_j_1988 var_j_1989;
                                                                t_check_b_338 = appl_j_1990;
                                                                var_j_1991 = t_check_b_338;
                                                                if_j_2000 = var_j_1991 ? (
                                                                        
                                                                    bool_j_1992 = false;
                                                                    pred_check_b_339 = bool_j_1992;
                                                                    var_j_1993 = is_pos;
                                                                    var_j_1994 = expr_b_337;
                                                                    appl_j_1995 = var_j_1993 var_j_1994;
                                                                    if_j_1998 = appl_j_1995 ? (
                                                                        bool_j_1996 = true
                                                                    ) : (
                                                                        var_j_1997 = pred_check_b_339
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1999 = t_check_b_338
                                                                    ));
                                                            flatten_fun_j_2025 = fun bj_null_j_101 -> (
                                                                bool_j_2002 = false;
                                                                fail_b_331 = bool_j_2002;
                                                                flatten_fun_j_2011 = fun expr_b_330 -> (
                                                                    var_j_2003 = expr_b_330;
                                                                    m_match_bool_j_2005 = var_j_2003 ~ any;
                                                                    m_match_bool_j_2008 = var_j_2003 ~ int;
                                                                    m_match_cond_j_2009 = m_match_bool_j_2008 ? (
                                                                        bool_j_2010 = true
                                                                    ) : (
                                                                        m_match_cond_j_2006 = m_match_bool_j_2005 ? (
                                                                        var_j_2007 = fail_b_331
                                                                    ) : (
                                                                        void_j_2004 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2013 = fun bj_null_j_100 -> (
                                                                    input_j_2012 = input);
                                                                record_j_2014 = 
                                                                    {checker = flatten_fun_j_2011, generator = flatten_fun_j_2013};
                                                                proj_j_2015 = record_j_2014.generator;
                                                                int_j_2016 = 0;
                                                                appl_j_2017 = proj_j_2015 int_j_2016;
                                                                candidate_b_333 = appl_j_2017;
                                                                var_j_2018 = is_pos;
                                                                var_j_2019 = candidate_b_333;
                                                                appl_j_2020 = var_j_2018 var_j_2019;
                                                                if_j_2024 = appl_j_2020 ? (
                                                                        
                                                                    var_j_2021 = candidate_b_333
                                                                    ) : (
                                                                        
                                                                    bool_j_2022 = false;
                                                                    assume_j_2023 = assume bool_j_2022
                                                                    ));
                                                            record_j_2026 = 
                                                                {checker = flatten_fun_j_2001, generator = flatten_fun_j_2025};
                                                            proj_j_2027 = record_j_2026.checker;
                                                            var_j_2028 = height_j_106;
                                                            appl_j_2029 = proj_j_2027 var_j_2028;
                                                            lbl_check_b_329 = appl_j_2029;
                                                            var_j_2030 = lbl_check_b_329;
                                                            if_j_2062 = var_j_2030 ? (
                                                                    bool_j_2031 = false;
                                                                    fail_b_327 = bool_j_2031;
                                                                    flatten_fun_j_2040 = fun expr_b_326 -> (
                                                                    var_j_2032 = expr_b_326;
                                                                    m_match_bool_j_2034 = var_j_2032 ~ any;
                                                                    m_match_bool_j_2037 = var_j_2032 ~ int;
                                                                    m_match_cond_j_2038 = m_match_bool_j_2037 ? (
                                                                        bool_j_2039 = true
                                                                    ) : (
                                                                        m_match_cond_j_2035 = m_match_bool_j_2034 ? (
                                                                        var_j_2036 = fail_b_327
                                                                    ) : (
                                                                        void_j_2033 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2042 = fun bj_null_j_102 -> (
                                                                    input_j_2041 = input);
                                                                    record_j_2043 = 
                                                                    {checker = flatten_fun_j_2040, generator = flatten_fun_j_2042};
                                                                    proj_j_2044 = record_j_2043.checker;
                                                                    var_j_2045 = item_j_105;
                                                                    appl_j_2046 = proj_j_2044 var_j_2045;
                                                                    lbl_check_b_325 = appl_j_2046;
                                                                    var_j_2047 = lbl_check_b_325;
                                                                    if_j_2060 = var_j_2047 ? (
                                                                        var_j_2048 = tt;
                                                                    proj_j_2049 = var_j_2048.checker;
                                                                    var_j_2050 = left_j_104;
                                                                    appl_j_2051 = proj_j_2049 var_j_2050;
                                                                    lbl_check_b_324 = appl_j_2051;
                                                                    var_j_2052 = lbl_check_b_324;
                                                                    if_j_2058 = var_j_2052 ? (
                                                                        var_j_2053 = tt;
                                                                    proj_j_2054 = var_j_2053.checker;
                                                                    var_j_2055 = right_j_103;
                                                                    appl_j_2056 = proj_j_2054 var_j_2055
                                                                    ) : (
                                                                        var_j_2057 = lbl_check_b_324
                                                                    )
                                                                    ) : (
                                                                        var_j_2059 = lbl_check_b_325
                                                                    )
                                                                ) : (
                                                                    var_j_2061 = lbl_check_b_329
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1971 = m_match_bool_j_1970 ? (
                                                                    var_j_1972 = rec_fail_b_320
                                                                ) : (
                                                                    void_j_1969 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1963 = m_match_bool_j_1962 ? (
                                                            var_j_1964 = rec_fail_b_321
                                                        ) : (
                                                            void_j_1961 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_1955 = m_match_bool_j_1954 ? (
                                                    var_j_1956 = rec_fail_b_322
                                                ) : (
                                                    void_j_1953 = {}
                                                )
                                        ));
                                flatten_fun_j_2154 = fun bj_null_j_115 -> (
                                    var_j_2064 = tt;
                                    proj_j_2065 = var_j_2064.generator;
                                    int_j_2066 = 0;
                                    appl_j_2067 = proj_j_2065 int_j_2066;
                                    right_b_305 = appl_j_2067;
                                    var_j_2068 = tt;
                                    proj_j_2069 = var_j_2068.generator;
                                    int_j_2070 = 0;
                                    appl_j_2071 = proj_j_2069 int_j_2070;
                                    left_b_304 = appl_j_2071;
                                    bool_j_2072 = false;
                                    fail_b_318 = bool_j_2072;
                                    flatten_fun_j_2081 = fun expr_b_317 -> (
                                        var_j_2073 = expr_b_317;
                                        m_match_bool_j_2075 = var_j_2073 ~ any;
                                        m_match_bool_j_2078 = var_j_2073 ~ int;
                                        m_match_cond_j_2079 = m_match_bool_j_2078 ? (
                                                bool_j_2080 = true
                                            ) : (
                                                m_match_cond_j_2076 = m_match_bool_j_2075 ? (
                                                        var_j_2077 = fail_b_318
                                                    ) : (
                                                        void_j_2074 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2083 = fun bj_null_j_111 -> (
                                        input_j_2082 = input);
                                    record_j_2084 = {checker = flatten_fun_j_2081, generator = flatten_fun_j_2083};
                                    proj_j_2085 = record_j_2084.generator;
                                    int_j_2086 = 0;
                                    appl_j_2087 = proj_j_2085 int_j_2086;
                                    item_b_303 = appl_j_2087;
                                    flatten_fun_j_2114 = fun expr_b_313 -> (
                                        bool_j_2088 = false;
                                        fail_b_311 = bool_j_2088;
                                        flatten_fun_j_2097 = fun expr_b_310 -> (
                                            var_j_2089 = expr_b_310;
                                            m_match_bool_j_2091 = var_j_2089 ~ any;
                                            m_match_bool_j_2094 = var_j_2089 ~ int;
                                            m_match_cond_j_2095 = m_match_bool_j_2094 ? (
                                                    bool_j_2096 = true
                                                ) : (
                                                    m_match_cond_j_2092 = m_match_bool_j_2091 ? (
                                                            var_j_2093 = fail_b_311
                                                        ) : (
                                                            void_j_2090 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2099 = fun bj_null_j_112 -> (
                                            input_j_2098 = input);
                                        record_j_2100 = {checker = flatten_fun_j_2097, generator = flatten_fun_j_2099};
                                        proj_j_2101 = record_j_2100.checker;
                                        var_j_2102 = expr_b_313;
                                        appl_j_2103 = proj_j_2101 var_j_2102;
                                        t_check_b_314 = appl_j_2103;
                                        var_j_2104 = t_check_b_314;
                                        if_j_2113 = var_j_2104 ? (
                                                bool_j_2105 = false;
                                                pred_check_b_315 = bool_j_2105;
                                                var_j_2106 = is_pos;
                                                var_j_2107 = expr_b_313;
                                                appl_j_2108 = var_j_2106 var_j_2107;
                                                if_j_2111 = appl_j_2108 ? (
                                                        bool_j_2109 = true
                                                    ) : (
                                                        var_j_2110 = pred_check_b_315
                                                    )
                                            ) : (
                                                var_j_2112 = t_check_b_314
                                            ));
                                    flatten_fun_j_2138 = fun bj_null_j_114 -> (
                                        bool_j_2115 = false;
                                        fail_b_307 = bool_j_2115;
                                        flatten_fun_j_2124 = fun expr_b_306 -> (
                                            var_j_2116 = expr_b_306;
                                            m_match_bool_j_2118 = var_j_2116 ~ any;
                                            m_match_bool_j_2121 = var_j_2116 ~ int;
                                            m_match_cond_j_2122 = m_match_bool_j_2121 ? (
                                                    bool_j_2123 = true
                                                ) : (
                                                    m_match_cond_j_2119 = m_match_bool_j_2118 ? (
                                                            var_j_2120 = fail_b_307
                                                        ) : (
                                                            void_j_2117 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2126 = fun bj_null_j_113 -> (
                                            input_j_2125 = input);
                                        record_j_2127 = {checker = flatten_fun_j_2124, generator = flatten_fun_j_2126};
                                        proj_j_2128 = record_j_2127.generator;
                                        int_j_2129 = 0;
                                        appl_j_2130 = proj_j_2128 int_j_2129;
                                        candidate_b_309 = appl_j_2130;
                                        var_j_2131 = is_pos;
                                        var_j_2132 = candidate_b_309;
                                        appl_j_2133 = var_j_2131 var_j_2132;
                                        if_j_2137 = appl_j_2133 ? (
                                                var_j_2134 = candidate_b_309
                                            ) : (
                                                bool_j_2135 = false;
                                                assume_j_2136 = assume bool_j_2135
                                            ));
                                    record_j_2139 = {checker = flatten_fun_j_2114, generator = flatten_fun_j_2138};
                                    proj_j_2140 = record_j_2139.generator;
                                    int_j_2141 = 0;
                                    appl_j_2142 = proj_j_2140 int_j_2141;
                                    height_b_302 = appl_j_2142;
                                    var_j_2143 = height_b_302;
                                    var_j_2144 = item_b_303;
                                    var_j_2145 = left_b_304;
                                    var_j_2146 = right_b_305;
                                    record_j_2147 = {height = var_j_2143, item = var_j_2144, left = var_j_2145, right = var_j_2146};
                                    record_j_2148 = {};
                                    record_j_2149 = {};
                                    record_j_2150 = {};
                                    record_j_2151 = {};
                                    record_j_2152 = {height = record_j_2148, item = record_j_2149, left = record_j_2150, right = record_j_2151};
                                    record_j_2153 = {bj_actual_rec = record_j_2147, bj_decl_lbls = record_j_2152});
                                record_j_2155 = {checker = flatten_fun_j_2063, generator = flatten_fun_j_2154};
                                proj_j_2156 = record_j_2155.generator;
                                int_j_2157 = 0;
                                appl_j_2158 = proj_j_2156 int_j_2157;
                                candidate_b_342 = appl_j_2158;
                                flatten_fun_j_2214 = fun t_j_116 -> (
                                    var_j_2159 = t_j_116;
                                    proj_j_2160 = var_j_2159.bj_decl_lbls;
                                    m_match_bool_j_2162 = proj_j_2160 ~ any;
                                    m_match_bool_j_2169 = proj_j_2160 ~ 
                                        {height, _};
                                    m_match_cond_j_2170 = m_match_bool_j_2169 ? (
                                            var_j_2171 = t_j_116;
                                            proj_j_2172 = var_j_2171.bj_actual_rec;
                                            proj_j_2173 = proj_j_2172.height
                                        ) : (
                                            m_match_cond_j_2163 = m_match_bool_j_2162 ? (
                                                    bool_j_2164 = false;
                                                    assert_pred_j_2165 = bool_j_2164;
                                                    assert_res_j_2166 = assert_pred_j_2165 ? (
                                                            assert_res_true_j_2167 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2168 = abort
                                                        )
                                                ) : (
                                                    void_j_2161 = {}
                                                )
                                        );
                                    var_j_2174 = max;
                                    var_j_2175 = height_j_333_j_378;
                                    var_j_2176 = t_j_116;
                                    proj_j_2177 = var_j_2176.bj_decl_lbls;
                                    m_match_bool_j_2179 = proj_j_2177 ~ any;
                                    m_match_bool_j_2186 = proj_j_2177 ~ 
                                        {left, _};
                                    m_match_cond_j_2187 = m_match_bool_j_2186 ? (
                                            var_j_2188 = t_j_116;
                                            proj_j_2189 = var_j_2188.bj_actual_rec;
                                            proj_j_2190 = proj_j_2189.left
                                        ) : (
                                            m_match_cond_j_2180 = m_match_bool_j_2179 ? (
                                                    bool_j_2181 = false;
                                                    assert_pred_j_2182 = bool_j_2181;
                                                    assert_res_j_2183 = assert_pred_j_2182 ? (
                                                            assert_res_true_j_2184 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2185 = abort
                                                        )
                                                ) : (
                                                    void_j_2178 = {}
                                                )
                                        );
                                    m_i_5029 = var_j_2175 ~ fun;
                                    appl_j_2191 = m_i_5029 ? (
                                            c_appl_i_5030 = var_j_2175 m_match_cond_j_2187
                                        ) : (
                                            ab_i_5031 = abort
                                        );
                                    m_i_5032 = var_j_2174 ~ fun;
                                    appl_j_2192 = m_i_5032 ? (
                                            c_appl_i_5033 = var_j_2174 appl_j_2191
                                        ) : (
                                            ab_i_5034 = abort
                                        );
                                    var_j_2193 = height_j_333_j_378;
                                    var_j_2194 = t_j_116;
                                    proj_j_2195 = var_j_2194.bj_decl_lbls;
                                    m_match_bool_j_2197 = proj_j_2195 ~ any;
                                    m_match_bool_j_2204 = proj_j_2195 ~ 
                                        {right, _};
                                    m_match_cond_j_2205 = m_match_bool_j_2204 ? (
                                            var_j_2206 = t_j_116;
                                            proj_j_2207 = var_j_2206.bj_actual_rec;
                                            proj_j_2208 = proj_j_2207.right
                                        ) : (
                                            m_match_cond_j_2198 = m_match_bool_j_2197 ? (
                                                    bool_j_2199 = false;
                                                    assert_pred_j_2200 = bool_j_2199;
                                                    assert_res_j_2201 = assert_pred_j_2200 ? (
                                                            assert_res_true_j_2202 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2203 = abort
                                                        )
                                                ) : (
                                                    void_j_2196 = {}
                                                )
                                        );
                                    m_i_5035 = var_j_2193 ~ fun;
                                    appl_j_2209 = m_i_5035 ? (
                                            c_appl_i_5036 = var_j_2193 m_match_cond_j_2205
                                        ) : (
                                            ab_i_5037 = abort
                                        );
                                    m_i_5038 = appl_j_2192 ~ fun;
                                    appl_j_2210 = m_i_5038 ? (
                                            c_appl_i_5039 = appl_j_2192 appl_j_2209
                                        ) : (
                                            ab_i_5040 = abort
                                        );
                                    int_j_2211 = 1;
                                    m_bl_i_5041 = appl_j_2210 ~ int;
                                    m_br_i_5042 = int_j_2211 ~ int;
                                    m_b_i_5043 = m_bl_i_5041 and m_br_i_5042;
                                    binop_j_2212 = m_b_i_5043 ? (
                                            c_binop_i_5044 = appl_j_2210 + int_j_2211
                                        ) : (
                                            ab_i_5045 = abort
                                        );
                                    m_bl_i_5046 = m_match_cond_j_2170 ~ int;
                                    m_br_i_5047 = binop_j_2212 ~ int;
                                    m_b_i_5048 = m_bl_i_5046 and m_br_i_5047;
                                    binop_j_2213 = m_b_i_5048 ? (
                                            c_binop_i_5049 = m_match_cond_j_2170 == binop_j_2212
                                        ) : (
                                            ab_i_5050 = abort
                                        ));
                                var_j_2215 = candidate_b_342;
                                appl_j_2216 = flatten_fun_j_2214 var_j_2215;
                                if_j_2220 = appl_j_2216 ? (
                                        var_j_2217 = candidate_b_342
                                    ) : (
                                        bool_j_2218 = false;
                                        assume_j_2219 = assume bool_j_2218
                                    ));
                            record_j_2222 = {checker = flatten_fun_j_1948, generator = flatten_fun_j_2221};
                            proj_j_2223 = record_j_2222.generator;
                            int_j_2224 = 0;
                            appl_j_2225 = proj_j_2223 int_j_2224
                        ) : (
                            flatten_fun_j_2270 = fun expr_b_394 -> (
                                bool_j_2226 = false;
                                rec_fail_b_393 = bool_j_2226;
                                bool_j_2227 = false;
                                rec_fail_b_392 = bool_j_2227;
                                bool_j_2228 = false;
                                rec_fail_b_391 = bool_j_2228;
                                var_j_2229 = expr_b_394;
                                m_match_bool_j_2231 = var_j_2229 ~ any;
                                m_match_bool_j_2234 = var_j_2229 ~ {bj_actual_rec, _};
                                m_match_cond_j_2235 = m_match_bool_j_2234 ? (
                                        var_j_2236 = expr_b_394;
                                        proj_j_2237 = var_j_2236.bj_decl_lbls;
                                        m_match_bool_j_2239 = proj_j_2237 ~ any;
                                        m_match_bool_j_2242 = proj_j_2237 ~ 
                                            {leaf, _};
                                        m_match_cond_j_2243 = m_match_bool_j_2242 ? (
                                                leaf_j_120 = proj_j_2237.leaf;
                                                var_j_2244 = expr_b_394;
                                                proj_j_2245 = var_j_2244.bj_actual_rec;
                                                m_match_bool_j_2247 = proj_j_2245 ~ any;
                                                m_match_bool_j_2250 = proj_j_2245 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_2251 = m_match_bool_j_2250 ? (
                                                        leaf_j_119 = proj_j_2245.leaf;
                                                        bool_j_2252 = false;
                                                        fail_b_396 = bool_j_2252;
                                                        flatten_fun_j_2261 = fun expr_b_395 -> (
                                                            var_j_2253 = expr_b_395;
                                                            m_match_bool_j_2255 = var_j_2253 ~ any;
                                                            m_match_bool_j_2258 = var_j_2253 ~ bool;
                                                            m_match_cond_j_2259 = m_match_bool_j_2258 ? (
                                                                    bool_j_2260 = true
                                                                ) : (
                                                                    m_match_cond_j_2256 = m_match_bool_j_2255 ? (
                                                                        var_j_2257 = fail_b_396
                                                                    ) : (
                                                                        void_j_2254 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_2265 = fun bj_null_j_118 -> (
                                                            int_j_2262 = 0;
                                                            input_j_2263 = input;
                                                            m_bl_i_5051 = int_j_2262 ~ int;
                                                            m_br_i_5052 = input_j_2263 ~ int;
                                                            m_b_i_5053 = m_bl_i_5051 and m_br_i_5052;
                                                            binop_j_2264 = m_b_i_5053 ? (
                                                                    c_binop_i_5054 = int_j_2262 <= input_j_2263
                                                                ) : (
                                                                    ab_i_5055 = abort
                                                                ));
                                                        record_j_2266 = 
                                                            {checker = flatten_fun_j_2261, generator = flatten_fun_j_2265};
                                                        proj_j_2267 = record_j_2266.checker;
                                                        var_j_2268 = leaf_j_119;
                                                        appl_j_2269 = proj_j_2267 var_j_2268
                                                    ) : (
                                                        m_match_cond_j_2248 = m_match_bool_j_2247 ? (
                                                                var_j_2249 = rec_fail_b_391
                                                            ) : (
                                                                void_j_2246 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_2240 = m_match_bool_j_2239 ? (
                                                        var_j_2241 = rec_fail_b_392
                                                    ) : (
                                                        void_j_2238 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_2232 = m_match_bool_j_2231 ? (
                                                var_j_2233 = rec_fail_b_393
                                            ) : (
                                                void_j_2230 = {}
                                            )
                                    ));
                            flatten_fun_j_2294 = fun bj_null_j_122 -> (
                                bool_j_2271 = false;
                                fail_b_389 = bool_j_2271;
                                flatten_fun_j_2280 = fun expr_b_388 -> (
                                    var_j_2272 = expr_b_388;
                                    m_match_bool_j_2274 = var_j_2272 ~ any;
                                    m_match_bool_j_2277 = var_j_2272 ~ bool;
                                    m_match_cond_j_2278 = m_match_bool_j_2277 ? (
                                            bool_j_2279 = true
                                        ) : (
                                            m_match_cond_j_2275 = m_match_bool_j_2274 ? (
                                                    var_j_2276 = fail_b_389
                                                ) : (
                                                    void_j_2273 = {}
                                                )
                                        ));
                                flatten_fun_j_2284 = fun bj_null_j_121 -> (
                                    int_j_2281 = 0;
                                    input_j_2282 = input;
                                    m_bl_i_5056 = int_j_2281 ~ int;
                                    m_br_i_5057 = input_j_2282 ~ int;
                                    m_b_i_5058 = m_bl_i_5056 and m_br_i_5057;
                                    binop_j_2283 = m_b_i_5058 ? (
                                            c_binop_i_5059 = int_j_2281 <= input_j_2282
                                        ) : (
                                            ab_i_5060 = abort
                                        ));
                                record_j_2285 = {checker = flatten_fun_j_2280, generator = flatten_fun_j_2284};
                                proj_j_2286 = record_j_2285.generator;
                                int_j_2287 = 0;
                                appl_j_2288 = proj_j_2286 int_j_2287;
                                leaf_b_387 = appl_j_2288;
                                var_j_2289 = leaf_b_387;
                                record_j_2290 = {leaf = var_j_2289};
                                record_j_2291 = {};
                                record_j_2292 = {leaf = record_j_2291};
                                record_j_2293 = {bj_actual_rec = record_j_2290, bj_decl_lbls = record_j_2292});
                            record_j_2295 = {checker = flatten_fun_j_2270, generator = flatten_fun_j_2294};
                            proj_j_2296 = record_j_2295.generator;
                            int_j_2297 = 0;
                            appl_j_2298 = proj_j_2296 int_j_2297
                        ));
                record_j_2301 = {checker = flatten_fun_j_1668, generator = flatten_fun_j_2300};
                proj_j_2302 = record_j_2301.checker;
                var_j_2303 = expr_b_598;
                appl_j_2304 = proj_j_2302 var_j_2303);
            var_j_2306 = self_b_1;
            int_j_2307 = 0;
            appl_j_2308 = var_j_2306 int_j_2307;
            appl_j_2309 = flatten_fun_j_2305 appl_j_2308);
        flatten_fun_j_4221 = fun bj_null_j_252 -> (
            flatten_fun_j_4216 = fun tt_j_251 -> (
                flatten_fun_j_3579 = fun expr_b_298 -> (
                    input_j_2311 = input;
                    select_int_b_299 = input_j_2311;
                    bool_j_2312 = false;
                    fail_b_300 = bool_j_2312;
                    int_j_2313 = 0;
                    var_j_2314 = select_int_b_299;
                    binop_j_2315 = int_j_2313 <= var_j_2314;
                    if_j_3578 = binop_j_2315 ? (
                            flatten_fun_j_2591 = fun expr_b_185 -> (
                                flatten_fun_j_2430 = fun expr_b_166 -> (
                                    bool_j_2316 = false;
                                    rec_fail_b_165 = bool_j_2316;
                                    bool_j_2317 = false;
                                    rec_fail_b_164 = bool_j_2317;
                                    bool_j_2318 = false;
                                    rec_fail_b_163 = bool_j_2318;
                                    var_j_2319 = expr_b_166;
                                    m_match_bool_j_2321 = var_j_2319 ~ any;
                                    m_match_bool_j_2324 = var_j_2319 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2325 = m_match_bool_j_2324 ? (
                                            var_j_2326 = expr_b_166;
                                            proj_j_2327 = var_j_2326.bj_decl_lbls;
                                            m_match_bool_j_2329 = proj_j_2327 ~ any;
                                            m_match_bool_j_2332 = proj_j_2327 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2333 = m_match_bool_j_2332 ? (
                                                    height_j_135 = proj_j_2327.height;
                                                    item_j_134 = proj_j_2327.item;
                                                    left_j_133 = proj_j_2327.left;
                                                    right_j_132 = proj_j_2327.right;
                                                    var_j_2334 = expr_b_166;
                                                    proj_j_2335 = var_j_2334.bj_actual_rec;
                                                    m_match_bool_j_2337 = proj_j_2335 ~ any;
                                                    m_match_bool_j_2340 = proj_j_2335 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2341 = m_match_bool_j_2340 ? (
                                                            height_j_131 = proj_j_2335.height;
                                                            item_j_130 = proj_j_2335.item;
                                                            left_j_129 = proj_j_2335.left;
                                                            right_j_128 = proj_j_2335.right;
                                                            flatten_fun_j_2368 = fun expr_b_180 -> (
                                                                bool_j_2342 = false;
                                                                fail_b_178 = bool_j_2342;
                                                                flatten_fun_j_2351 = fun expr_b_177 -> (
                                                                    var_j_2343 = expr_b_177;
                                                                    m_match_bool_j_2345 = var_j_2343 ~ any;
                                                                    m_match_bool_j_2348 = var_j_2343 ~ int;
                                                                    m_match_cond_j_2349 = m_match_bool_j_2348 ? (
                                                                        bool_j_2350 = true
                                                                    ) : (
                                                                        m_match_cond_j_2346 = m_match_bool_j_2345 ? (
                                                                        var_j_2347 = fail_b_178
                                                                    ) : (
                                                                        void_j_2344 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2353 = fun bj_null_j_124 -> (
                                                                    input_j_2352 = input);
                                                                record_j_2354 = 
                                                                    {checker = flatten_fun_j_2351, generator = flatten_fun_j_2353};
                                                                proj_j_2355 = record_j_2354.checker;
                                                                var_j_2356 = expr_b_180;
                                                                appl_j_2357 = proj_j_2355 var_j_2356;
                                                                t_check_b_181 = appl_j_2357;
                                                                var_j_2358 = t_check_b_181;
                                                                if_j_2367 = var_j_2358 ? (
                                                                        
                                                                    bool_j_2359 = false;
                                                                    pred_check_b_182 = bool_j_2359;
                                                                    var_j_2360 = is_pos;
                                                                    var_j_2361 = expr_b_180;
                                                                    appl_j_2362 = var_j_2360 var_j_2361;
                                                                    if_j_2365 = appl_j_2362 ? (
                                                                        bool_j_2363 = true
                                                                    ) : (
                                                                        var_j_2364 = pred_check_b_182
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2366 = t_check_b_181
                                                                    ));
                                                            flatten_fun_j_2392 = fun bj_null_j_126 -> (
                                                                bool_j_2369 = false;
                                                                fail_b_174 = bool_j_2369;
                                                                flatten_fun_j_2378 = fun expr_b_173 -> (
                                                                    var_j_2370 = expr_b_173;
                                                                    m_match_bool_j_2372 = var_j_2370 ~ any;
                                                                    m_match_bool_j_2375 = var_j_2370 ~ int;
                                                                    m_match_cond_j_2376 = m_match_bool_j_2375 ? (
                                                                        bool_j_2377 = true
                                                                    ) : (
                                                                        m_match_cond_j_2373 = m_match_bool_j_2372 ? (
                                                                        var_j_2374 = fail_b_174
                                                                    ) : (
                                                                        void_j_2371 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2380 = fun bj_null_j_125 -> (
                                                                    input_j_2379 = input);
                                                                record_j_2381 = 
                                                                    {checker = flatten_fun_j_2378, generator = flatten_fun_j_2380};
                                                                proj_j_2382 = record_j_2381.generator;
                                                                int_j_2383 = 0;
                                                                appl_j_2384 = proj_j_2382 int_j_2383;
                                                                candidate_b_176 = appl_j_2384;
                                                                var_j_2385 = is_pos;
                                                                var_j_2386 = candidate_b_176;
                                                                appl_j_2387 = var_j_2385 var_j_2386;
                                                                if_j_2391 = appl_j_2387 ? (
                                                                        
                                                                    var_j_2388 = candidate_b_176
                                                                    ) : (
                                                                        
                                                                    bool_j_2389 = false;
                                                                    assume_j_2390 = assume bool_j_2389
                                                                    ));
                                                            record_j_2393 = 
                                                                {checker = flatten_fun_j_2368, generator = flatten_fun_j_2392};
                                                            proj_j_2394 = record_j_2393.checker;
                                                            var_j_2395 = height_j_131;
                                                            appl_j_2396 = proj_j_2394 var_j_2395;
                                                            lbl_check_b_172 = appl_j_2396;
                                                            var_j_2397 = lbl_check_b_172;
                                                            if_j_2429 = var_j_2397 ? (
                                                                    bool_j_2398 = false;
                                                                    fail_b_170 = bool_j_2398;
                                                                    flatten_fun_j_2407 = fun expr_b_169 -> (
                                                                    var_j_2399 = expr_b_169;
                                                                    m_match_bool_j_2401 = var_j_2399 ~ any;
                                                                    m_match_bool_j_2404 = var_j_2399 ~ int;
                                                                    m_match_cond_j_2405 = m_match_bool_j_2404 ? (
                                                                        bool_j_2406 = true
                                                                    ) : (
                                                                        m_match_cond_j_2402 = m_match_bool_j_2401 ? (
                                                                        var_j_2403 = fail_b_170
                                                                    ) : (
                                                                        void_j_2400 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2409 = fun bj_null_j_127 -> (
                                                                    input_j_2408 = input);
                                                                    record_j_2410 = 
                                                                    {checker = flatten_fun_j_2407, generator = flatten_fun_j_2409};
                                                                    proj_j_2411 = record_j_2410.checker;
                                                                    var_j_2412 = item_j_130;
                                                                    appl_j_2413 = proj_j_2411 var_j_2412;
                                                                    lbl_check_b_168 = appl_j_2413;
                                                                    var_j_2414 = lbl_check_b_168;
                                                                    if_j_2427 = var_j_2414 ? (
                                                                        var_j_2415 = tt_j_251;
                                                                    proj_j_2416 = var_j_2415.checker;
                                                                    var_j_2417 = left_j_129;
                                                                    appl_j_2418 = proj_j_2416 var_j_2417;
                                                                    lbl_check_b_167 = appl_j_2418;
                                                                    var_j_2419 = lbl_check_b_167;
                                                                    if_j_2425 = var_j_2419 ? (
                                                                        var_j_2420 = tt_j_251;
                                                                    proj_j_2421 = var_j_2420.checker;
                                                                    var_j_2422 = right_j_128;
                                                                    appl_j_2423 = proj_j_2421 var_j_2422
                                                                    ) : (
                                                                        var_j_2424 = lbl_check_b_167
                                                                    )
                                                                    ) : (
                                                                        var_j_2426 = lbl_check_b_168
                                                                    )
                                                                ) : (
                                                                    var_j_2428 = lbl_check_b_172
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2338 = m_match_bool_j_2337 ? (
                                                                    var_j_2339 = rec_fail_b_163
                                                                ) : (
                                                                    void_j_2336 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2330 = m_match_bool_j_2329 ? (
                                                            var_j_2331 = rec_fail_b_164
                                                        ) : (
                                                            void_j_2328 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2322 = m_match_bool_j_2321 ? (
                                                    var_j_2323 = rec_fail_b_165
                                                ) : (
                                                    void_j_2320 = {}
                                                )
                                        ));
                                flatten_fun_j_2521 = fun bj_null_j_140 -> (
                                    var_j_2431 = tt_j_251;
                                    proj_j_2432 = var_j_2431.generator;
                                    int_j_2433 = 0;
                                    appl_j_2434 = proj_j_2432 int_j_2433;
                                    right_b_148 = appl_j_2434;
                                    var_j_2435 = tt_j_251;
                                    proj_j_2436 = var_j_2435.generator;
                                    int_j_2437 = 0;
                                    appl_j_2438 = proj_j_2436 int_j_2437;
                                    left_b_147 = appl_j_2438;
                                    bool_j_2439 = false;
                                    fail_b_161 = bool_j_2439;
                                    flatten_fun_j_2448 = fun expr_b_160 -> (
                                        var_j_2440 = expr_b_160;
                                        m_match_bool_j_2442 = var_j_2440 ~ any;
                                        m_match_bool_j_2445 = var_j_2440 ~ int;
                                        m_match_cond_j_2446 = m_match_bool_j_2445 ? (
                                                bool_j_2447 = true
                                            ) : (
                                                m_match_cond_j_2443 = m_match_bool_j_2442 ? (
                                                        var_j_2444 = fail_b_161
                                                    ) : (
                                                        void_j_2441 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2450 = fun bj_null_j_136 -> (
                                        input_j_2449 = input);
                                    record_j_2451 = {checker = flatten_fun_j_2448, generator = flatten_fun_j_2450};
                                    proj_j_2452 = record_j_2451.generator;
                                    int_j_2453 = 0;
                                    appl_j_2454 = proj_j_2452 int_j_2453;
                                    item_b_146 = appl_j_2454;
                                    flatten_fun_j_2481 = fun expr_b_156 -> (
                                        bool_j_2455 = false;
                                        fail_b_154 = bool_j_2455;
                                        flatten_fun_j_2464 = fun expr_b_153 -> (
                                            var_j_2456 = expr_b_153;
                                            m_match_bool_j_2458 = var_j_2456 ~ any;
                                            m_match_bool_j_2461 = var_j_2456 ~ int;
                                            m_match_cond_j_2462 = m_match_bool_j_2461 ? (
                                                    bool_j_2463 = true
                                                ) : (
                                                    m_match_cond_j_2459 = m_match_bool_j_2458 ? (
                                                            var_j_2460 = fail_b_154
                                                        ) : (
                                                            void_j_2457 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2466 = fun bj_null_j_137 -> (
                                            input_j_2465 = input);
                                        record_j_2467 = {checker = flatten_fun_j_2464, generator = flatten_fun_j_2466};
                                        proj_j_2468 = record_j_2467.checker;
                                        var_j_2469 = expr_b_156;
                                        appl_j_2470 = proj_j_2468 var_j_2469;
                                        t_check_b_157 = appl_j_2470;
                                        var_j_2471 = t_check_b_157;
                                        if_j_2480 = var_j_2471 ? (
                                                bool_j_2472 = false;
                                                pred_check_b_158 = bool_j_2472;
                                                var_j_2473 = is_pos;
                                                var_j_2474 = expr_b_156;
                                                appl_j_2475 = var_j_2473 var_j_2474;
                                                if_j_2478 = appl_j_2475 ? (
                                                        bool_j_2476 = true
                                                    ) : (
                                                        var_j_2477 = pred_check_b_158
                                                    )
                                            ) : (
                                                var_j_2479 = t_check_b_157
                                            ));
                                    flatten_fun_j_2505 = fun bj_null_j_139 -> (
                                        bool_j_2482 = false;
                                        fail_b_150 = bool_j_2482;
                                        flatten_fun_j_2491 = fun expr_b_149 -> (
                                            var_j_2483 = expr_b_149;
                                            m_match_bool_j_2485 = var_j_2483 ~ any;
                                            m_match_bool_j_2488 = var_j_2483 ~ int;
                                            m_match_cond_j_2489 = m_match_bool_j_2488 ? (
                                                    bool_j_2490 = true
                                                ) : (
                                                    m_match_cond_j_2486 = m_match_bool_j_2485 ? (
                                                            var_j_2487 = fail_b_150
                                                        ) : (
                                                            void_j_2484 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2493 = fun bj_null_j_138 -> (
                                            input_j_2492 = input);
                                        record_j_2494 = {checker = flatten_fun_j_2491, generator = flatten_fun_j_2493};
                                        proj_j_2495 = record_j_2494.generator;
                                        int_j_2496 = 0;
                                        appl_j_2497 = proj_j_2495 int_j_2496;
                                        candidate_b_152 = appl_j_2497;
                                        var_j_2498 = is_pos;
                                        var_j_2499 = candidate_b_152;
                                        appl_j_2500 = var_j_2498 var_j_2499;
                                        if_j_2504 = appl_j_2500 ? (
                                                var_j_2501 = candidate_b_152
                                            ) : (
                                                bool_j_2502 = false;
                                                assume_j_2503 = assume bool_j_2502
                                            ));
                                    record_j_2506 = {checker = flatten_fun_j_2481, generator = flatten_fun_j_2505};
                                    proj_j_2507 = record_j_2506.generator;
                                    int_j_2508 = 0;
                                    appl_j_2509 = proj_j_2507 int_j_2508;
                                    height_b_145 = appl_j_2509;
                                    var_j_2510 = height_b_145;
                                    var_j_2511 = item_b_146;
                                    var_j_2512 = left_b_147;
                                    var_j_2513 = right_b_148;
                                    record_j_2514 = {height = var_j_2510, item = var_j_2511, left = var_j_2512, right = var_j_2513};
                                    record_j_2515 = {};
                                    record_j_2516 = {};
                                    record_j_2517 = {};
                                    record_j_2518 = {};
                                    record_j_2519 = {height = record_j_2515, item = record_j_2516, left = record_j_2517, right = record_j_2518};
                                    record_j_2520 = {bj_actual_rec = record_j_2514, bj_decl_lbls = record_j_2519});
                                record_j_2522 = {checker = flatten_fun_j_2430, generator = flatten_fun_j_2521};
                                proj_j_2523 = record_j_2522.checker;
                                var_j_2524 = expr_b_185;
                                appl_j_2525 = proj_j_2523 var_j_2524;
                                t_check_b_186 = appl_j_2525;
                                var_j_2526 = t_check_b_186;
                                if_j_2590 = var_j_2526 ? (
                                        bool_j_2527 = false;
                                        pred_check_b_187 = bool_j_2527;
                                        flatten_fun_j_2583 = fun t_j_141 -> (
                                            var_j_2528 = t_j_141;
                                            proj_j_2529 = var_j_2528.bj_decl_lbls;
                                            m_match_bool_j_2531 = proj_j_2529 ~ any;
                                            m_match_bool_j_2538 = proj_j_2529 ~ 
                                                {height, _};
                                            m_match_cond_j_2539 = m_match_bool_j_2538 ? (
                                                    var_j_2540 = t_j_141;
                                                    proj_j_2541 = var_j_2540.bj_actual_rec;
                                                    proj_j_2542 = proj_j_2541.height
                                                ) : (
                                                    m_match_cond_j_2532 = m_match_bool_j_2531 ? (
                                                            bool_j_2533 = false;
                                                            assert_pred_j_2534 = bool_j_2533;
                                                            assert_res_j_2535 = assert_pred_j_2534 ? (
                                                                    assert_res_true_j_2536 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2537 = abort
                                                                )
                                                        ) : (
                                                            void_j_2530 = 
                                                                {}
                                                        )
                                                );
                                            var_j_2543 = max;
                                            var_j_2544 = height_j_333_j_378;
                                            var_j_2545 = t_j_141;
                                            proj_j_2546 = var_j_2545.bj_decl_lbls;
                                            m_match_bool_j_2548 = proj_j_2546 ~ any;
                                            m_match_bool_j_2555 = proj_j_2546 ~ 
                                                {left, _};
                                            m_match_cond_j_2556 = m_match_bool_j_2555 ? (
                                                    var_j_2557 = t_j_141;
                                                    proj_j_2558 = var_j_2557.bj_actual_rec;
                                                    proj_j_2559 = proj_j_2558.left
                                                ) : (
                                                    m_match_cond_j_2549 = m_match_bool_j_2548 ? (
                                                            bool_j_2550 = false;
                                                            assert_pred_j_2551 = bool_j_2550;
                                                            assert_res_j_2552 = assert_pred_j_2551 ? (
                                                                    assert_res_true_j_2553 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2554 = abort
                                                                )
                                                        ) : (
                                                            void_j_2547 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5061 = var_j_2544 ~ fun;
                                            appl_j_2560 = m_i_5061 ? (
                                                    c_appl_i_5062 = var_j_2544 m_match_cond_j_2556
                                                ) : (
                                                    ab_i_5063 = abort
                                                );
                                            m_i_5064 = var_j_2543 ~ fun;
                                            appl_j_2561 = m_i_5064 ? (
                                                    c_appl_i_5065 = var_j_2543 appl_j_2560
                                                ) : (
                                                    ab_i_5066 = abort
                                                );
                                            var_j_2562 = height_j_333_j_378;
                                            var_j_2563 = t_j_141;
                                            proj_j_2564 = var_j_2563.bj_decl_lbls;
                                            m_match_bool_j_2566 = proj_j_2564 ~ any;
                                            m_match_bool_j_2573 = proj_j_2564 ~ 
                                                {right, _};
                                            m_match_cond_j_2574 = m_match_bool_j_2573 ? (
                                                    var_j_2575 = t_j_141;
                                                    proj_j_2576 = var_j_2575.bj_actual_rec;
                                                    proj_j_2577 = proj_j_2576.right
                                                ) : (
                                                    m_match_cond_j_2567 = m_match_bool_j_2566 ? (
                                                            bool_j_2568 = false;
                                                            assert_pred_j_2569 = bool_j_2568;
                                                            assert_res_j_2570 = assert_pred_j_2569 ? (
                                                                    assert_res_true_j_2571 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2572 = abort
                                                                )
                                                        ) : (
                                                            void_j_2565 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5067 = var_j_2562 ~ fun;
                                            appl_j_2578 = m_i_5067 ? (
                                                    c_appl_i_5068 = var_j_2562 m_match_cond_j_2574
                                                ) : (
                                                    ab_i_5069 = abort
                                                );
                                            m_i_5070 = appl_j_2561 ~ fun;
                                            appl_j_2579 = m_i_5070 ? (
                                                    c_appl_i_5071 = appl_j_2561 appl_j_2578
                                                ) : (
                                                    ab_i_5072 = abort
                                                );
                                            int_j_2580 = 1;
                                            m_bl_i_5073 = appl_j_2579 ~ int;
                                            m_br_i_5074 = int_j_2580 ~ int;
                                            m_b_i_5075 = m_bl_i_5073 and m_br_i_5074;
                                            binop_j_2581 = m_b_i_5075 ? (
                                                    c_binop_i_5076 = appl_j_2579 + int_j_2580
                                                ) : (
                                                    ab_i_5077 = abort
                                                );
                                            m_bl_i_5078 = m_match_cond_j_2539 ~ int;
                                            m_br_i_5079 = binop_j_2581 ~ int;
                                            m_b_i_5080 = m_bl_i_5078 and m_br_i_5079;
                                            binop_j_2582 = m_b_i_5080 ? (
                                                    c_binop_i_5081 = m_match_cond_j_2539 == binop_j_2581
                                                ) : (
                                                    ab_i_5082 = abort
                                                ));
                                        var_j_2584 = expr_b_185;
                                        appl_j_2585 = flatten_fun_j_2583 var_j_2584;
                                        if_j_2588 = appl_j_2585 ? (
                                                bool_j_2586 = true
                                            ) : (
                                                var_j_2587 = pred_check_b_187
                                            )
                                    ) : (
                                        var_j_2589 = t_check_b_186
                                    ));
                            flatten_fun_j_2864 = fun bj_null_j_160 -> (
                                flatten_fun_j_2706 = fun expr_b_125 -> (
                                    bool_j_2592 = false;
                                    rec_fail_b_124 = bool_j_2592;
                                    bool_j_2593 = false;
                                    rec_fail_b_123 = bool_j_2593;
                                    bool_j_2594 = false;
                                    rec_fail_b_122 = bool_j_2594;
                                    var_j_2595 = expr_b_125;
                                    m_match_bool_j_2597 = var_j_2595 ~ any;
                                    m_match_bool_j_2600 = var_j_2595 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2601 = m_match_bool_j_2600 ? (
                                            var_j_2602 = expr_b_125;
                                            proj_j_2603 = var_j_2602.bj_decl_lbls;
                                            m_match_bool_j_2605 = proj_j_2603 ~ any;
                                            m_match_bool_j_2608 = proj_j_2603 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2609 = m_match_bool_j_2608 ? (
                                                    height_j_153 = proj_j_2603.height;
                                                    item_j_152 = proj_j_2603.item;
                                                    left_j_151 = proj_j_2603.left;
                                                    right_j_150 = proj_j_2603.right;
                                                    var_j_2610 = expr_b_125;
                                                    proj_j_2611 = var_j_2610.bj_actual_rec;
                                                    m_match_bool_j_2613 = proj_j_2611 ~ any;
                                                    m_match_bool_j_2616 = proj_j_2611 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2617 = m_match_bool_j_2616 ? (
                                                            height_j_149 = proj_j_2611.height;
                                                            item_j_148 = proj_j_2611.item;
                                                            left_j_147 = proj_j_2611.left;
                                                            right_j_146 = proj_j_2611.right;
                                                            flatten_fun_j_2644 = fun expr_b_139 -> (
                                                                bool_j_2618 = false;
                                                                fail_b_137 = bool_j_2618;
                                                                flatten_fun_j_2627 = fun expr_b_136 -> (
                                                                    var_j_2619 = expr_b_136;
                                                                    m_match_bool_j_2621 = var_j_2619 ~ any;
                                                                    m_match_bool_j_2624 = var_j_2619 ~ int;
                                                                    m_match_cond_j_2625 = m_match_bool_j_2624 ? (
                                                                        bool_j_2626 = true
                                                                    ) : (
                                                                        m_match_cond_j_2622 = m_match_bool_j_2621 ? (
                                                                        var_j_2623 = fail_b_137
                                                                    ) : (
                                                                        void_j_2620 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2629 = fun bj_null_j_142 -> (
                                                                    input_j_2628 = input);
                                                                record_j_2630 = 
                                                                    {checker = flatten_fun_j_2627, generator = flatten_fun_j_2629};
                                                                proj_j_2631 = record_j_2630.checker;
                                                                var_j_2632 = expr_b_139;
                                                                appl_j_2633 = proj_j_2631 var_j_2632;
                                                                t_check_b_140 = appl_j_2633;
                                                                var_j_2634 = t_check_b_140;
                                                                if_j_2643 = var_j_2634 ? (
                                                                        
                                                                    bool_j_2635 = false;
                                                                    pred_check_b_141 = bool_j_2635;
                                                                    var_j_2636 = is_pos;
                                                                    var_j_2637 = expr_b_139;
                                                                    appl_j_2638 = var_j_2636 var_j_2637;
                                                                    if_j_2641 = appl_j_2638 ? (
                                                                        bool_j_2639 = true
                                                                    ) : (
                                                                        var_j_2640 = pred_check_b_141
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2642 = t_check_b_140
                                                                    ));
                                                            flatten_fun_j_2668 = fun bj_null_j_144 -> (
                                                                bool_j_2645 = false;
                                                                fail_b_133 = bool_j_2645;
                                                                flatten_fun_j_2654 = fun expr_b_132 -> (
                                                                    var_j_2646 = expr_b_132;
                                                                    m_match_bool_j_2648 = var_j_2646 ~ any;
                                                                    m_match_bool_j_2651 = var_j_2646 ~ int;
                                                                    m_match_cond_j_2652 = m_match_bool_j_2651 ? (
                                                                        bool_j_2653 = true
                                                                    ) : (
                                                                        m_match_cond_j_2649 = m_match_bool_j_2648 ? (
                                                                        var_j_2650 = fail_b_133
                                                                    ) : (
                                                                        void_j_2647 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2656 = fun bj_null_j_143 -> (
                                                                    input_j_2655 = input);
                                                                record_j_2657 = 
                                                                    {checker = flatten_fun_j_2654, generator = flatten_fun_j_2656};
                                                                proj_j_2658 = record_j_2657.generator;
                                                                int_j_2659 = 0;
                                                                appl_j_2660 = proj_j_2658 int_j_2659;
                                                                candidate_b_135 = appl_j_2660;
                                                                var_j_2661 = is_pos;
                                                                var_j_2662 = candidate_b_135;
                                                                appl_j_2663 = var_j_2661 var_j_2662;
                                                                if_j_2667 = appl_j_2663 ? (
                                                                        
                                                                    var_j_2664 = candidate_b_135
                                                                    ) : (
                                                                        
                                                                    bool_j_2665 = false;
                                                                    assume_j_2666 = assume bool_j_2665
                                                                    ));
                                                            record_j_2669 = 
                                                                {checker = flatten_fun_j_2644, generator = flatten_fun_j_2668};
                                                            proj_j_2670 = record_j_2669.checker;
                                                            var_j_2671 = height_j_149;
                                                            appl_j_2672 = proj_j_2670 var_j_2671;
                                                            lbl_check_b_131 = appl_j_2672;
                                                            var_j_2673 = lbl_check_b_131;
                                                            if_j_2705 = var_j_2673 ? (
                                                                    bool_j_2674 = false;
                                                                    fail_b_129 = bool_j_2674;
                                                                    flatten_fun_j_2683 = fun expr_b_128 -> (
                                                                    var_j_2675 = expr_b_128;
                                                                    m_match_bool_j_2677 = var_j_2675 ~ any;
                                                                    m_match_bool_j_2680 = var_j_2675 ~ int;
                                                                    m_match_cond_j_2681 = m_match_bool_j_2680 ? (
                                                                        bool_j_2682 = true
                                                                    ) : (
                                                                        m_match_cond_j_2678 = m_match_bool_j_2677 ? (
                                                                        var_j_2679 = fail_b_129
                                                                    ) : (
                                                                        void_j_2676 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2685 = fun bj_null_j_145 -> (
                                                                    input_j_2684 = input);
                                                                    record_j_2686 = 
                                                                    {checker = flatten_fun_j_2683, generator = flatten_fun_j_2685};
                                                                    proj_j_2687 = record_j_2686.checker;
                                                                    var_j_2688 = item_j_148;
                                                                    appl_j_2689 = proj_j_2687 var_j_2688;
                                                                    lbl_check_b_127 = appl_j_2689;
                                                                    var_j_2690 = lbl_check_b_127;
                                                                    if_j_2703 = var_j_2690 ? (
                                                                        var_j_2691 = tt_j_251;
                                                                    proj_j_2692 = var_j_2691.checker;
                                                                    var_j_2693 = left_j_147;
                                                                    appl_j_2694 = proj_j_2692 var_j_2693;
                                                                    lbl_check_b_126 = appl_j_2694;
                                                                    var_j_2695 = lbl_check_b_126;
                                                                    if_j_2701 = var_j_2695 ? (
                                                                        var_j_2696 = tt_j_251;
                                                                    proj_j_2697 = var_j_2696.checker;
                                                                    var_j_2698 = right_j_146;
                                                                    appl_j_2699 = proj_j_2697 var_j_2698
                                                                    ) : (
                                                                        var_j_2700 = lbl_check_b_126
                                                                    )
                                                                    ) : (
                                                                        var_j_2702 = lbl_check_b_127
                                                                    )
                                                                ) : (
                                                                    var_j_2704 = lbl_check_b_131
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2614 = m_match_bool_j_2613 ? (
                                                                    var_j_2615 = rec_fail_b_122
                                                                ) : (
                                                                    void_j_2612 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2606 = m_match_bool_j_2605 ? (
                                                            var_j_2607 = rec_fail_b_123
                                                        ) : (
                                                            void_j_2604 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2598 = m_match_bool_j_2597 ? (
                                                    var_j_2599 = rec_fail_b_124
                                                ) : (
                                                    void_j_2596 = {}
                                                )
                                        ));
                                flatten_fun_j_2797 = fun bj_null_j_158 -> (
                                    var_j_2707 = tt_j_251;
                                    proj_j_2708 = var_j_2707.generator;
                                    int_j_2709 = 0;
                                    appl_j_2710 = proj_j_2708 int_j_2709;
                                    right_b_107 = appl_j_2710;
                                    var_j_2711 = tt_j_251;
                                    proj_j_2712 = var_j_2711.generator;
                                    int_j_2713 = 0;
                                    appl_j_2714 = proj_j_2712 int_j_2713;
                                    left_b_106 = appl_j_2714;
                                    bool_j_2715 = false;
                                    fail_b_120 = bool_j_2715;
                                    flatten_fun_j_2724 = fun expr_b_119 -> (
                                        var_j_2716 = expr_b_119;
                                        m_match_bool_j_2718 = var_j_2716 ~ any;
                                        m_match_bool_j_2721 = var_j_2716 ~ int;
                                        m_match_cond_j_2722 = m_match_bool_j_2721 ? (
                                                bool_j_2723 = true
                                            ) : (
                                                m_match_cond_j_2719 = m_match_bool_j_2718 ? (
                                                        var_j_2720 = fail_b_120
                                                    ) : (
                                                        void_j_2717 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2726 = fun bj_null_j_154 -> (
                                        input_j_2725 = input);
                                    record_j_2727 = {checker = flatten_fun_j_2724, generator = flatten_fun_j_2726};
                                    proj_j_2728 = record_j_2727.generator;
                                    int_j_2729 = 0;
                                    appl_j_2730 = proj_j_2728 int_j_2729;
                                    item_b_105 = appl_j_2730;
                                    flatten_fun_j_2757 = fun expr_b_115 -> (
                                        bool_j_2731 = false;
                                        fail_b_113 = bool_j_2731;
                                        flatten_fun_j_2740 = fun expr_b_112 -> (
                                            var_j_2732 = expr_b_112;
                                            m_match_bool_j_2734 = var_j_2732 ~ any;
                                            m_match_bool_j_2737 = var_j_2732 ~ int;
                                            m_match_cond_j_2738 = m_match_bool_j_2737 ? (
                                                    bool_j_2739 = true
                                                ) : (
                                                    m_match_cond_j_2735 = m_match_bool_j_2734 ? (
                                                            var_j_2736 = fail_b_113
                                                        ) : (
                                                            void_j_2733 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2742 = fun bj_null_j_155 -> (
                                            input_j_2741 = input);
                                        record_j_2743 = {checker = flatten_fun_j_2740, generator = flatten_fun_j_2742};
                                        proj_j_2744 = record_j_2743.checker;
                                        var_j_2745 = expr_b_115;
                                        appl_j_2746 = proj_j_2744 var_j_2745;
                                        t_check_b_116 = appl_j_2746;
                                        var_j_2747 = t_check_b_116;
                                        if_j_2756 = var_j_2747 ? (
                                                bool_j_2748 = false;
                                                pred_check_b_117 = bool_j_2748;
                                                var_j_2749 = is_pos;
                                                var_j_2750 = expr_b_115;
                                                appl_j_2751 = var_j_2749 var_j_2750;
                                                if_j_2754 = appl_j_2751 ? (
                                                        bool_j_2752 = true
                                                    ) : (
                                                        var_j_2753 = pred_check_b_117
                                                    )
                                            ) : (
                                                var_j_2755 = t_check_b_116
                                            ));
                                    flatten_fun_j_2781 = fun bj_null_j_157 -> (
                                        bool_j_2758 = false;
                                        fail_b_109 = bool_j_2758;
                                        flatten_fun_j_2767 = fun expr_b_108 -> (
                                            var_j_2759 = expr_b_108;
                                            m_match_bool_j_2761 = var_j_2759 ~ any;
                                            m_match_bool_j_2764 = var_j_2759 ~ int;
                                            m_match_cond_j_2765 = m_match_bool_j_2764 ? (
                                                    bool_j_2766 = true
                                                ) : (
                                                    m_match_cond_j_2762 = m_match_bool_j_2761 ? (
                                                            var_j_2763 = fail_b_109
                                                        ) : (
                                                            void_j_2760 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2769 = fun bj_null_j_156 -> (
                                            input_j_2768 = input);
                                        record_j_2770 = {checker = flatten_fun_j_2767, generator = flatten_fun_j_2769};
                                        proj_j_2771 = record_j_2770.generator;
                                        int_j_2772 = 0;
                                        appl_j_2773 = proj_j_2771 int_j_2772;
                                        candidate_b_111 = appl_j_2773;
                                        var_j_2774 = is_pos;
                                        var_j_2775 = candidate_b_111;
                                        appl_j_2776 = var_j_2774 var_j_2775;
                                        if_j_2780 = appl_j_2776 ? (
                                                var_j_2777 = candidate_b_111
                                            ) : (
                                                bool_j_2778 = false;
                                                assume_j_2779 = assume bool_j_2778
                                            ));
                                    record_j_2782 = {checker = flatten_fun_j_2757, generator = flatten_fun_j_2781};
                                    proj_j_2783 = record_j_2782.generator;
                                    int_j_2784 = 0;
                                    appl_j_2785 = proj_j_2783 int_j_2784;
                                    height_b_104 = appl_j_2785;
                                    var_j_2786 = height_b_104;
                                    var_j_2787 = item_b_105;
                                    var_j_2788 = left_b_106;
                                    var_j_2789 = right_b_107;
                                    record_j_2790 = {height = var_j_2786, item = var_j_2787, left = var_j_2788, right = var_j_2789};
                                    record_j_2791 = {};
                                    record_j_2792 = {};
                                    record_j_2793 = {};
                                    record_j_2794 = {};
                                    record_j_2795 = {height = record_j_2791, item = record_j_2792, left = record_j_2793, right = record_j_2794};
                                    record_j_2796 = {bj_actual_rec = record_j_2790, bj_decl_lbls = record_j_2795});
                                record_j_2798 = {checker = flatten_fun_j_2706, generator = flatten_fun_j_2797};
                                proj_j_2799 = record_j_2798.generator;
                                int_j_2800 = 0;
                                appl_j_2801 = proj_j_2799 int_j_2800;
                                candidate_b_144 = appl_j_2801;
                                flatten_fun_j_2857 = fun t_j_159 -> (
                                    var_j_2802 = t_j_159;
                                    proj_j_2803 = var_j_2802.bj_decl_lbls;
                                    m_match_bool_j_2805 = proj_j_2803 ~ any;
                                    m_match_bool_j_2812 = proj_j_2803 ~ 
                                        {height, _};
                                    m_match_cond_j_2813 = m_match_bool_j_2812 ? (
                                            var_j_2814 = t_j_159;
                                            proj_j_2815 = var_j_2814.bj_actual_rec;
                                            proj_j_2816 = proj_j_2815.height
                                        ) : (
                                            m_match_cond_j_2806 = m_match_bool_j_2805 ? (
                                                    bool_j_2807 = false;
                                                    assert_pred_j_2808 = bool_j_2807;
                                                    assert_res_j_2809 = assert_pred_j_2808 ? (
                                                            assert_res_true_j_2810 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2811 = abort
                                                        )
                                                ) : (
                                                    void_j_2804 = {}
                                                )
                                        );
                                    var_j_2817 = max;
                                    var_j_2818 = height_j_333_j_378;
                                    var_j_2819 = t_j_159;
                                    proj_j_2820 = var_j_2819.bj_decl_lbls;
                                    m_match_bool_j_2822 = proj_j_2820 ~ any;
                                    m_match_bool_j_2829 = proj_j_2820 ~ 
                                        {left, _};
                                    m_match_cond_j_2830 = m_match_bool_j_2829 ? (
                                            var_j_2831 = t_j_159;
                                            proj_j_2832 = var_j_2831.bj_actual_rec;
                                            proj_j_2833 = proj_j_2832.left
                                        ) : (
                                            m_match_cond_j_2823 = m_match_bool_j_2822 ? (
                                                    bool_j_2824 = false;
                                                    assert_pred_j_2825 = bool_j_2824;
                                                    assert_res_j_2826 = assert_pred_j_2825 ? (
                                                            assert_res_true_j_2827 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2828 = abort
                                                        )
                                                ) : (
                                                    void_j_2821 = {}
                                                )
                                        );
                                    m_i_5083 = var_j_2818 ~ fun;
                                    appl_j_2834 = m_i_5083 ? (
                                            c_appl_i_5084 = var_j_2818 m_match_cond_j_2830
                                        ) : (
                                            ab_i_5085 = abort
                                        );
                                    m_i_5086 = var_j_2817 ~ fun;
                                    appl_j_2835 = m_i_5086 ? (
                                            c_appl_i_5087 = var_j_2817 appl_j_2834
                                        ) : (
                                            ab_i_5088 = abort
                                        );
                                    var_j_2836 = height_j_333_j_378;
                                    var_j_2837 = t_j_159;
                                    proj_j_2838 = var_j_2837.bj_decl_lbls;
                                    m_match_bool_j_2840 = proj_j_2838 ~ any;
                                    m_match_bool_j_2847 = proj_j_2838 ~ 
                                        {right, _};
                                    m_match_cond_j_2848 = m_match_bool_j_2847 ? (
                                            var_j_2849 = t_j_159;
                                            proj_j_2850 = var_j_2849.bj_actual_rec;
                                            proj_j_2851 = proj_j_2850.right
                                        ) : (
                                            m_match_cond_j_2841 = m_match_bool_j_2840 ? (
                                                    bool_j_2842 = false;
                                                    assert_pred_j_2843 = bool_j_2842;
                                                    assert_res_j_2844 = assert_pred_j_2843 ? (
                                                            assert_res_true_j_2845 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2846 = abort
                                                        )
                                                ) : (
                                                    void_j_2839 = {}
                                                )
                                        );
                                    m_i_5089 = var_j_2836 ~ fun;
                                    appl_j_2852 = m_i_5089 ? (
                                            c_appl_i_5090 = var_j_2836 m_match_cond_j_2848
                                        ) : (
                                            ab_i_5091 = abort
                                        );
                                    m_i_5092 = appl_j_2835 ~ fun;
                                    appl_j_2853 = m_i_5092 ? (
                                            c_appl_i_5093 = appl_j_2835 appl_j_2852
                                        ) : (
                                            ab_i_5094 = abort
                                        );
                                    int_j_2854 = 1;
                                    m_bl_i_5095 = appl_j_2853 ~ int;
                                    m_br_i_5096 = int_j_2854 ~ int;
                                    m_b_i_5097 = m_bl_i_5095 and m_br_i_5096;
                                    binop_j_2855 = m_b_i_5097 ? (
                                            c_binop_i_5098 = appl_j_2853 + int_j_2854
                                        ) : (
                                            ab_i_5099 = abort
                                        );
                                    m_bl_i_5100 = m_match_cond_j_2813 ~ int;
                                    m_br_i_5101 = binop_j_2855 ~ int;
                                    m_b_i_5102 = m_bl_i_5100 and m_br_i_5101;
                                    binop_j_2856 = m_b_i_5102 ? (
                                            c_binop_i_5103 = m_match_cond_j_2813 == binop_j_2855
                                        ) : (
                                            ab_i_5104 = abort
                                        ));
                                var_j_2858 = candidate_b_144;
                                appl_j_2859 = flatten_fun_j_2857 var_j_2858;
                                if_j_2863 = appl_j_2859 ? (
                                        var_j_2860 = candidate_b_144
                                    ) : (
                                        bool_j_2861 = false;
                                        assume_j_2862 = assume bool_j_2861
                                    ));
                            record_j_2865 = {checker = flatten_fun_j_2591, generator = flatten_fun_j_2864};
                            proj_j_2866 = record_j_2865.checker;
                            var_j_2867 = expr_b_298;
                            appl_j_2868 = proj_j_2866 var_j_2867;
                            if_j_2946 = appl_j_2868 ? (
                                    bool_j_2869 = true
                                ) : (
                                    flatten_fun_j_2914 = fun expr_b_196 -> (
                                        bool_j_2870 = false;
                                        rec_fail_b_195 = bool_j_2870;
                                        bool_j_2871 = false;
                                        rec_fail_b_194 = bool_j_2871;
                                        bool_j_2872 = false;
                                        rec_fail_b_193 = bool_j_2872;
                                        var_j_2873 = expr_b_196;
                                        m_match_bool_j_2875 = var_j_2873 ~ any;
                                        m_match_bool_j_2878 = var_j_2873 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_2879 = m_match_bool_j_2878 ? (
                                                var_j_2880 = expr_b_196;
                                                proj_j_2881 = var_j_2880.bj_decl_lbls;
                                                m_match_bool_j_2883 = proj_j_2881 ~ any;
                                                m_match_bool_j_2886 = proj_j_2881 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_2887 = m_match_bool_j_2886 ? (
                                                        leaf_j_163 = proj_j_2881.leaf;
                                                        var_j_2888 = expr_b_196;
                                                        proj_j_2889 = var_j_2888.bj_actual_rec;
                                                        m_match_bool_j_2891 = proj_j_2889 ~ any;
                                                        m_match_bool_j_2894 = proj_j_2889 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_2895 = m_match_bool_j_2894 ? (
                                                                leaf_j_162 = proj_j_2889.leaf;
                                                                bool_j_2896 = false;
                                                                fail_b_198 = bool_j_2896;
                                                                flatten_fun_j_2905 = fun expr_b_197 -> (
                                                                    var_j_2897 = expr_b_197;
                                                                    m_match_bool_j_2899 = var_j_2897 ~ any;
                                                                    m_match_bool_j_2902 = var_j_2897 ~ bool;
                                                                    m_match_cond_j_2903 = m_match_bool_j_2902 ? (
                                                                        bool_j_2904 = true
                                                                    ) : (
                                                                        m_match_cond_j_2900 = m_match_bool_j_2899 ? (
                                                                        var_j_2901 = fail_b_198
                                                                    ) : (
                                                                        void_j_2898 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2909 = fun bj_null_j_161 -> (
                                                                    int_j_2906 = 0;
                                                                    input_j_2907 = input;
                                                                    m_bl_i_5105 = int_j_2906 ~ int;
                                                                    m_br_i_5106 = input_j_2907 ~ int;
                                                                    m_b_i_5107 = m_bl_i_5105 and m_br_i_5106;
                                                                    binop_j_2908 = m_b_i_5107 ? (
                                                                        c_binop_i_5108 = int_j_2906 <= input_j_2907
                                                                    ) : (
                                                                        ab_i_5109 = abort
                                                                    ));
                                                                record_j_2910 = 
                                                                    {checker = flatten_fun_j_2905, generator = flatten_fun_j_2909};
                                                                proj_j_2911 = record_j_2910.checker;
                                                                var_j_2912 = leaf_j_162;
                                                                appl_j_2913 = proj_j_2911 var_j_2912
                                                            ) : (
                                                                m_match_cond_j_2892 = m_match_bool_j_2891 ? (
                                                                        
                                                                    var_j_2893 = rec_fail_b_193
                                                                    ) : (
                                                                        
                                                                    void_j_2890 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_2884 = m_match_bool_j_2883 ? (
                                                                var_j_2885 = rec_fail_b_194
                                                            ) : (
                                                                void_j_2882 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_2876 = m_match_bool_j_2875 ? (
                                                        var_j_2877 = rec_fail_b_195
                                                    ) : (
                                                        void_j_2874 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2938 = fun bj_null_j_165 -> (
                                        bool_j_2915 = false;
                                        fail_b_191 = bool_j_2915;
                                        flatten_fun_j_2924 = fun expr_b_190 -> (
                                            var_j_2916 = expr_b_190;
                                            m_match_bool_j_2918 = var_j_2916 ~ any;
                                            m_match_bool_j_2921 = var_j_2916 ~ bool;
                                            m_match_cond_j_2922 = m_match_bool_j_2921 ? (
                                                    bool_j_2923 = true
                                                ) : (
                                                    m_match_cond_j_2919 = m_match_bool_j_2918 ? (
                                                            var_j_2920 = fail_b_191
                                                        ) : (
                                                            void_j_2917 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2928 = fun bj_null_j_164 -> (
                                            int_j_2925 = 0;
                                            input_j_2926 = input;
                                            m_bl_i_5110 = int_j_2925 ~ int;
                                            m_br_i_5111 = input_j_2926 ~ int;
                                            m_b_i_5112 = m_bl_i_5110 and m_br_i_5111;
                                            binop_j_2927 = m_b_i_5112 ? (
                                                    c_binop_i_5113 = int_j_2925 <= input_j_2926
                                                ) : (
                                                    ab_i_5114 = abort
                                                ));
                                        record_j_2929 = {checker = flatten_fun_j_2924, generator = flatten_fun_j_2928};
                                        proj_j_2930 = record_j_2929.generator;
                                        int_j_2931 = 0;
                                        appl_j_2932 = proj_j_2930 int_j_2931;
                                        leaf_b_189 = appl_j_2932;
                                        var_j_2933 = leaf_b_189;
                                        record_j_2934 = {leaf = var_j_2933};
                                        record_j_2935 = {};
                                        record_j_2936 = {leaf = record_j_2935};
                                        record_j_2937 = {bj_actual_rec = record_j_2934, bj_decl_lbls = record_j_2936});
                                    record_j_2939 = {checker = flatten_fun_j_2914, generator = flatten_fun_j_2938};
                                    proj_j_2940 = record_j_2939.checker;
                                    var_j_2941 = expr_b_298;
                                    appl_j_2942 = proj_j_2940 var_j_2941;
                                    if_j_2945 = appl_j_2942 ? (
                                            bool_j_2943 = true
                                        ) : (
                                            var_j_2944 = fail_b_300
                                        )
                                )
                        ) : (
                            flatten_fun_j_2991 = fun expr_b_293 -> (
                                bool_j_2947 = false;
                                rec_fail_b_292 = bool_j_2947;
                                bool_j_2948 = false;
                                rec_fail_b_291 = bool_j_2948;
                                bool_j_2949 = false;
                                rec_fail_b_290 = bool_j_2949;
                                var_j_2950 = expr_b_293;
                                m_match_bool_j_2952 = var_j_2950 ~ any;
                                m_match_bool_j_2955 = var_j_2950 ~ {bj_actual_rec, _};
                                m_match_cond_j_2956 = m_match_bool_j_2955 ? (
                                        var_j_2957 = expr_b_293;
                                        proj_j_2958 = var_j_2957.bj_decl_lbls;
                                        m_match_bool_j_2960 = proj_j_2958 ~ any;
                                        m_match_bool_j_2963 = proj_j_2958 ~ 
                                            {leaf, _};
                                        m_match_cond_j_2964 = m_match_bool_j_2963 ? (
                                                leaf_j_168 = proj_j_2958.leaf;
                                                var_j_2965 = expr_b_293;
                                                proj_j_2966 = var_j_2965.bj_actual_rec;
                                                m_match_bool_j_2968 = proj_j_2966 ~ any;
                                                m_match_bool_j_2971 = proj_j_2966 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_2972 = m_match_bool_j_2971 ? (
                                                        leaf_j_167 = proj_j_2966.leaf;
                                                        bool_j_2973 = false;
                                                        fail_b_295 = bool_j_2973;
                                                        flatten_fun_j_2982 = fun expr_b_294 -> (
                                                            var_j_2974 = expr_b_294;
                                                            m_match_bool_j_2976 = var_j_2974 ~ any;
                                                            m_match_bool_j_2979 = var_j_2974 ~ bool;
                                                            m_match_cond_j_2980 = m_match_bool_j_2979 ? (
                                                                    bool_j_2981 = true
                                                                ) : (
                                                                    m_match_cond_j_2977 = m_match_bool_j_2976 ? (
                                                                        var_j_2978 = fail_b_295
                                                                    ) : (
                                                                        void_j_2975 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_2986 = fun bj_null_j_166 -> (
                                                            int_j_2983 = 0;
                                                            input_j_2984 = input;
                                                            m_bl_i_5115 = int_j_2983 ~ int;
                                                            m_br_i_5116 = input_j_2984 ~ int;
                                                            m_b_i_5117 = m_bl_i_5115 and m_br_i_5116;
                                                            binop_j_2985 = m_b_i_5117 ? (
                                                                    c_binop_i_5118 = int_j_2983 <= input_j_2984
                                                                ) : (
                                                                    ab_i_5119 = abort
                                                                ));
                                                        record_j_2987 = 
                                                            {checker = flatten_fun_j_2982, generator = flatten_fun_j_2986};
                                                        proj_j_2988 = record_j_2987.checker;
                                                        var_j_2989 = leaf_j_167;
                                                        appl_j_2990 = proj_j_2988 var_j_2989
                                                    ) : (
                                                        m_match_cond_j_2969 = m_match_bool_j_2968 ? (
                                                                var_j_2970 = rec_fail_b_290
                                                            ) : (
                                                                void_j_2967 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_2961 = m_match_bool_j_2960 ? (
                                                        var_j_2962 = rec_fail_b_291
                                                    ) : (
                                                        void_j_2959 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_2953 = m_match_bool_j_2952 ? (
                                                var_j_2954 = rec_fail_b_292
                                            ) : (
                                                void_j_2951 = {}
                                            )
                                    ));
                            flatten_fun_j_3015 = fun bj_null_j_170 -> (
                                bool_j_2992 = false;
                                fail_b_288 = bool_j_2992;
                                flatten_fun_j_3001 = fun expr_b_287 -> (
                                    var_j_2993 = expr_b_287;
                                    m_match_bool_j_2995 = var_j_2993 ~ any;
                                    m_match_bool_j_2998 = var_j_2993 ~ bool;
                                    m_match_cond_j_2999 = m_match_bool_j_2998 ? (
                                            bool_j_3000 = true
                                        ) : (
                                            m_match_cond_j_2996 = m_match_bool_j_2995 ? (
                                                    var_j_2997 = fail_b_288
                                                ) : (
                                                    void_j_2994 = {}
                                                )
                                        ));
                                flatten_fun_j_3005 = fun bj_null_j_169 -> (
                                    int_j_3002 = 0;
                                    input_j_3003 = input;
                                    m_bl_i_5120 = int_j_3002 ~ int;
                                    m_br_i_5121 = input_j_3003 ~ int;
                                    m_b_i_5122 = m_bl_i_5120 and m_br_i_5121;
                                    binop_j_3004 = m_b_i_5122 ? (
                                            c_binop_i_5123 = int_j_3002 <= input_j_3003
                                        ) : (
                                            ab_i_5124 = abort
                                        ));
                                record_j_3006 = {checker = flatten_fun_j_3001, generator = flatten_fun_j_3005};
                                proj_j_3007 = record_j_3006.generator;
                                int_j_3008 = 0;
                                appl_j_3009 = proj_j_3007 int_j_3008;
                                leaf_b_286 = appl_j_3009;
                                var_j_3010 = leaf_b_286;
                                record_j_3011 = {leaf = var_j_3010};
                                record_j_3012 = {};
                                record_j_3013 = {leaf = record_j_3012};
                                record_j_3014 = {bj_actual_rec = record_j_3011, bj_decl_lbls = record_j_3013});
                            record_j_3016 = {checker = flatten_fun_j_2991, generator = flatten_fun_j_3015};
                            proj_j_3017 = record_j_3016.checker;
                            var_j_3018 = expr_b_298;
                            appl_j_3019 = proj_j_3017 var_j_3018;
                            if_j_3577 = appl_j_3019 ? (
                                    bool_j_3020 = true
                                ) : (
                                    flatten_fun_j_3296 = fun expr_b_282 -> (
                                        flatten_fun_j_3135 = fun expr_b_263 -> (
                                            bool_j_3021 = false;
                                            rec_fail_b_262 = bool_j_3021;
                                            bool_j_3022 = false;
                                            rec_fail_b_261 = bool_j_3022;
                                            bool_j_3023 = false;
                                            rec_fail_b_260 = bool_j_3023;
                                            var_j_3024 = expr_b_263;
                                            m_match_bool_j_3026 = var_j_3024 ~ any;
                                            m_match_bool_j_3029 = var_j_3024 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_3030 = m_match_bool_j_3029 ? (
                                                    var_j_3031 = expr_b_263;
                                                    proj_j_3032 = var_j_3031.bj_decl_lbls;
                                                    m_match_bool_j_3034 = proj_j_3032 ~ any;
                                                    m_match_bool_j_3037 = proj_j_3032 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3038 = m_match_bool_j_3037 ? (
                                                            height_j_182 = proj_j_3032.height;
                                                            item_j_181 = proj_j_3032.item;
                                                            left_j_180 = proj_j_3032.left;
                                                            right_j_179 = proj_j_3032.right;
                                                            var_j_3039 = expr_b_263;
                                                            proj_j_3040 = var_j_3039.bj_actual_rec;
                                                            m_match_bool_j_3042 = proj_j_3040 ~ any;
                                                            m_match_bool_j_3045 = proj_j_3040 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_3046 = m_match_bool_j_3045 ? (
                                                                    height_j_178 = proj_j_3040.height;
                                                                    item_j_177 = proj_j_3040.item;
                                                                    left_j_176 = proj_j_3040.left;
                                                                    right_j_175 = proj_j_3040.right;
                                                                    flatten_fun_j_3073 = fun expr_b_277 -> (
                                                                    bool_j_3047 = false;
                                                                    fail_b_275 = bool_j_3047;
                                                                    flatten_fun_j_3056 = fun expr_b_274 -> (
                                                                    var_j_3048 = expr_b_274;
                                                                    m_match_bool_j_3050 = var_j_3048 ~ any;
                                                                    m_match_bool_j_3053 = var_j_3048 ~ int;
                                                                    m_match_cond_j_3054 = m_match_bool_j_3053 ? (
                                                                        bool_j_3055 = true
                                                                    ) : (
                                                                        m_match_cond_j_3051 = m_match_bool_j_3050 ? (
                                                                        var_j_3052 = fail_b_275
                                                                    ) : (
                                                                        void_j_3049 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3058 = fun bj_null_j_171 -> (
                                                                    input_j_3057 = input);
                                                                    record_j_3059 = 
                                                                    {checker = flatten_fun_j_3056, generator = flatten_fun_j_3058};
                                                                    proj_j_3060 = record_j_3059.checker;
                                                                    var_j_3061 = expr_b_277;
                                                                    appl_j_3062 = proj_j_3060 var_j_3061;
                                                                    t_check_b_278 = appl_j_3062;
                                                                    var_j_3063 = t_check_b_278;
                                                                    if_j_3072 = var_j_3063 ? (
                                                                        bool_j_3064 = false;
                                                                    pred_check_b_279 = bool_j_3064;
                                                                    var_j_3065 = is_pos;
                                                                    var_j_3066 = expr_b_277;
                                                                    appl_j_3067 = var_j_3065 var_j_3066;
                                                                    if_j_3070 = appl_j_3067 ? (
                                                                        bool_j_3068 = true
                                                                    ) : (
                                                                        var_j_3069 = pred_check_b_279
                                                                    )
                                                                    ) : (
                                                                        var_j_3071 = t_check_b_278
                                                                    ));
                                                                    flatten_fun_j_3097 = fun bj_null_j_173 -> (
                                                                    bool_j_3074 = false;
                                                                    fail_b_271 = bool_j_3074;
                                                                    flatten_fun_j_3083 = fun expr_b_270 -> (
                                                                    var_j_3075 = expr_b_270;
                                                                    m_match_bool_j_3077 = var_j_3075 ~ any;
                                                                    m_match_bool_j_3080 = var_j_3075 ~ int;
                                                                    m_match_cond_j_3081 = m_match_bool_j_3080 ? (
                                                                        bool_j_3082 = true
                                                                    ) : (
                                                                        m_match_cond_j_3078 = m_match_bool_j_3077 ? (
                                                                        var_j_3079 = fail_b_271
                                                                    ) : (
                                                                        void_j_3076 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3085 = fun bj_null_j_172 -> (
                                                                    input_j_3084 = input);
                                                                    record_j_3086 = 
                                                                    {checker = flatten_fun_j_3083, generator = flatten_fun_j_3085};
                                                                    proj_j_3087 = record_j_3086.generator;
                                                                    int_j_3088 = 0;
                                                                    appl_j_3089 = proj_j_3087 int_j_3088;
                                                                    candidate_b_273 = appl_j_3089;
                                                                    var_j_3090 = is_pos;
                                                                    var_j_3091 = candidate_b_273;
                                                                    appl_j_3092 = var_j_3090 var_j_3091;
                                                                    if_j_3096 = appl_j_3092 ? (
                                                                        var_j_3093 = candidate_b_273
                                                                    ) : (
                                                                        bool_j_3094 = false;
                                                                    assume_j_3095 = assume bool_j_3094
                                                                    ));
                                                                    record_j_3098 = 
                                                                    {checker = flatten_fun_j_3073, generator = flatten_fun_j_3097};
                                                                    proj_j_3099 = record_j_3098.checker;
                                                                    var_j_3100 = height_j_178;
                                                                    appl_j_3101 = proj_j_3099 var_j_3100;
                                                                    lbl_check_b_269 = appl_j_3101;
                                                                    var_j_3102 = lbl_check_b_269;
                                                                    if_j_3134 = var_j_3102 ? (
                                                                        bool_j_3103 = false;
                                                                    fail_b_267 = bool_j_3103;
                                                                    flatten_fun_j_3112 = fun expr_b_266 -> (
                                                                    var_j_3104 = expr_b_266;
                                                                    m_match_bool_j_3106 = var_j_3104 ~ any;
                                                                    m_match_bool_j_3109 = var_j_3104 ~ int;
                                                                    m_match_cond_j_3110 = m_match_bool_j_3109 ? (
                                                                        bool_j_3111 = true
                                                                    ) : (
                                                                        m_match_cond_j_3107 = m_match_bool_j_3106 ? (
                                                                        var_j_3108 = fail_b_267
                                                                    ) : (
                                                                        void_j_3105 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3114 = fun bj_null_j_174 -> (
                                                                    input_j_3113 = input);
                                                                    record_j_3115 = 
                                                                    {checker = flatten_fun_j_3112, generator = flatten_fun_j_3114};
                                                                    proj_j_3116 = record_j_3115.checker;
                                                                    var_j_3117 = item_j_177;
                                                                    appl_j_3118 = proj_j_3116 var_j_3117;
                                                                    lbl_check_b_265 = appl_j_3118;
                                                                    var_j_3119 = lbl_check_b_265;
                                                                    if_j_3132 = var_j_3119 ? (
                                                                        var_j_3120 = tt_j_251;
                                                                    proj_j_3121 = var_j_3120.checker;
                                                                    var_j_3122 = left_j_176;
                                                                    appl_j_3123 = proj_j_3121 var_j_3122;
                                                                    lbl_check_b_264 = appl_j_3123;
                                                                    var_j_3124 = lbl_check_b_264;
                                                                    if_j_3130 = var_j_3124 ? (
                                                                        var_j_3125 = tt_j_251;
                                                                    proj_j_3126 = var_j_3125.checker;
                                                                    var_j_3127 = right_j_175;
                                                                    appl_j_3128 = proj_j_3126 var_j_3127
                                                                    ) : (
                                                                        var_j_3129 = lbl_check_b_264
                                                                    )
                                                                    ) : (
                                                                        var_j_3131 = lbl_check_b_265
                                                                    )
                                                                    ) : (
                                                                        var_j_3133 = lbl_check_b_269
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_3043 = m_match_bool_j_3042 ? (
                                                                        var_j_3044 = rec_fail_b_260
                                                                    ) : (
                                                                        void_j_3041 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3035 = m_match_bool_j_3034 ? (
                                                                    var_j_3036 = rec_fail_b_261
                                                                ) : (
                                                                    void_j_3033 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3027 = m_match_bool_j_3026 ? (
                                                            var_j_3028 = rec_fail_b_262
                                                        ) : (
                                                            void_j_3025 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3226 = fun bj_null_j_187 -> (
                                            var_j_3136 = tt_j_251;
                                            proj_j_3137 = var_j_3136.generator;
                                            int_j_3138 = 0;
                                            appl_j_3139 = proj_j_3137 int_j_3138;
                                            right_b_245 = appl_j_3139;
                                            var_j_3140 = tt_j_251;
                                            proj_j_3141 = var_j_3140.generator;
                                            int_j_3142 = 0;
                                            appl_j_3143 = proj_j_3141 int_j_3142;
                                            left_b_244 = appl_j_3143;
                                            bool_j_3144 = false;
                                            fail_b_258 = bool_j_3144;
                                            flatten_fun_j_3153 = fun expr_b_257 -> (
                                                var_j_3145 = expr_b_257;
                                                m_match_bool_j_3147 = var_j_3145 ~ any;
                                                m_match_bool_j_3150 = var_j_3145 ~ int;
                                                m_match_cond_j_3151 = m_match_bool_j_3150 ? (
                                                        bool_j_3152 = true
                                                    ) : (
                                                        m_match_cond_j_3148 = m_match_bool_j_3147 ? (
                                                                var_j_3149 = fail_b_258
                                                            ) : (
                                                                void_j_3146 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_3155 = fun bj_null_j_183 -> (
                                                input_j_3154 = input);
                                            record_j_3156 = {checker = flatten_fun_j_3153, generator = flatten_fun_j_3155};
                                            proj_j_3157 = record_j_3156.generator;
                                            int_j_3158 = 0;
                                            appl_j_3159 = proj_j_3157 int_j_3158;
                                            item_b_243 = appl_j_3159;
                                            flatten_fun_j_3186 = fun expr_b_253 -> (
                                                bool_j_3160 = false;
                                                fail_b_251 = bool_j_3160;
                                                flatten_fun_j_3169 = fun expr_b_250 -> (
                                                    var_j_3161 = expr_b_250;
                                                    m_match_bool_j_3163 = var_j_3161 ~ any;
                                                    m_match_bool_j_3166 = var_j_3161 ~ int;
                                                    m_match_cond_j_3167 = m_match_bool_j_3166 ? (
                                                            bool_j_3168 = true
                                                        ) : (
                                                            m_match_cond_j_3164 = m_match_bool_j_3163 ? (
                                                                    var_j_3165 = fail_b_251
                                                                ) : (
                                                                    void_j_3162 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3171 = fun bj_null_j_184 -> (
                                                    input_j_3170 = input);
                                                record_j_3172 = {checker = flatten_fun_j_3169, generator = flatten_fun_j_3171};
                                                proj_j_3173 = record_j_3172.checker;
                                                var_j_3174 = expr_b_253;
                                                appl_j_3175 = proj_j_3173 var_j_3174;
                                                t_check_b_254 = appl_j_3175;
                                                var_j_3176 = t_check_b_254;
                                                if_j_3185 = var_j_3176 ? (
                                                        bool_j_3177 = false;
                                                        pred_check_b_255 = bool_j_3177;
                                                        var_j_3178 = is_pos;
                                                        var_j_3179 = expr_b_253;
                                                        appl_j_3180 = var_j_3178 var_j_3179;
                                                        if_j_3183 = appl_j_3180 ? (
                                                                bool_j_3181 = true
                                                            ) : (
                                                                var_j_3182 = pred_check_b_255
                                                            )
                                                    ) : (
                                                        var_j_3184 = t_check_b_254
                                                    ));
                                            flatten_fun_j_3210 = fun bj_null_j_186 -> (
                                                bool_j_3187 = false;
                                                fail_b_247 = bool_j_3187;
                                                flatten_fun_j_3196 = fun expr_b_246 -> (
                                                    var_j_3188 = expr_b_246;
                                                    m_match_bool_j_3190 = var_j_3188 ~ any;
                                                    m_match_bool_j_3193 = var_j_3188 ~ int;
                                                    m_match_cond_j_3194 = m_match_bool_j_3193 ? (
                                                            bool_j_3195 = true
                                                        ) : (
                                                            m_match_cond_j_3191 = m_match_bool_j_3190 ? (
                                                                    var_j_3192 = fail_b_247
                                                                ) : (
                                                                    void_j_3189 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3198 = fun bj_null_j_185 -> (
                                                    input_j_3197 = input);
                                                record_j_3199 = {checker = flatten_fun_j_3196, generator = flatten_fun_j_3198};
                                                proj_j_3200 = record_j_3199.generator;
                                                int_j_3201 = 0;
                                                appl_j_3202 = proj_j_3200 int_j_3201;
                                                candidate_b_249 = appl_j_3202;
                                                var_j_3203 = is_pos;
                                                var_j_3204 = candidate_b_249;
                                                appl_j_3205 = var_j_3203 var_j_3204;
                                                if_j_3209 = appl_j_3205 ? (
                                                        var_j_3206 = candidate_b_249
                                                    ) : (
                                                        bool_j_3207 = false;
                                                        assume_j_3208 = assume bool_j_3207
                                                    ));
                                            record_j_3211 = {checker = flatten_fun_j_3186, generator = flatten_fun_j_3210};
                                            proj_j_3212 = record_j_3211.generator;
                                            int_j_3213 = 0;
                                            appl_j_3214 = proj_j_3212 int_j_3213;
                                            height_b_242 = appl_j_3214;
                                            var_j_3215 = height_b_242;
                                            var_j_3216 = item_b_243;
                                            var_j_3217 = left_b_244;
                                            var_j_3218 = right_b_245;
                                            record_j_3219 = {height = var_j_3215, item = var_j_3216, left = var_j_3217, right = var_j_3218};
                                            record_j_3220 = {};
                                            record_j_3221 = {};
                                            record_j_3222 = {};
                                            record_j_3223 = {};
                                            record_j_3224 = {height = record_j_3220, item = record_j_3221, left = record_j_3222, right = record_j_3223};
                                            record_j_3225 = {bj_actual_rec = record_j_3219, bj_decl_lbls = record_j_3224});
                                        record_j_3227 = {checker = flatten_fun_j_3135, generator = flatten_fun_j_3226};
                                        proj_j_3228 = record_j_3227.checker;
                                        var_j_3229 = expr_b_282;
                                        appl_j_3230 = proj_j_3228 var_j_3229;
                                        t_check_b_283 = appl_j_3230;
                                        var_j_3231 = t_check_b_283;
                                        if_j_3295 = var_j_3231 ? (
                                                bool_j_3232 = false;
                                                pred_check_b_284 = bool_j_3232;
                                                flatten_fun_j_3288 = fun t_j_188 -> (
                                                    var_j_3233 = t_j_188;
                                                    proj_j_3234 = var_j_3233.bj_decl_lbls;
                                                    m_match_bool_j_3236 = proj_j_3234 ~ any;
                                                    m_match_bool_j_3243 = proj_j_3234 ~ 
                                                        {height, _};
                                                    m_match_cond_j_3244 = m_match_bool_j_3243 ? (
                                                            var_j_3245 = t_j_188;
                                                            proj_j_3246 = var_j_3245.bj_actual_rec;
                                                            proj_j_3247 = proj_j_3246.height
                                                        ) : (
                                                            m_match_cond_j_3237 = m_match_bool_j_3236 ? (
                                                                    bool_j_3238 = false;
                                                                    assert_pred_j_3239 = bool_j_3238;
                                                                    assert_res_j_3240 = assert_pred_j_3239 ? (
                                                                        assert_res_true_j_3241 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3242 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3235 = 
                                                                    {}
                                                                )
                                                        );
                                                    var_j_3248 = max;
                                                    var_j_3249 = height_j_333_j_378;
                                                    var_j_3250 = t_j_188;
                                                    proj_j_3251 = var_j_3250.bj_decl_lbls;
                                                    m_match_bool_j_3253 = proj_j_3251 ~ any;
                                                    m_match_bool_j_3260 = proj_j_3251 ~ 
                                                        {left, _};
                                                    m_match_cond_j_3261 = m_match_bool_j_3260 ? (
                                                            var_j_3262 = t_j_188;
                                                            proj_j_3263 = var_j_3262.bj_actual_rec;
                                                            proj_j_3264 = proj_j_3263.left
                                                        ) : (
                                                            m_match_cond_j_3254 = m_match_bool_j_3253 ? (
                                                                    bool_j_3255 = false;
                                                                    assert_pred_j_3256 = bool_j_3255;
                                                                    assert_res_j_3257 = assert_pred_j_3256 ? (
                                                                        assert_res_true_j_3258 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3259 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3252 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5125 = var_j_3249 ~ fun;
                                                    appl_j_3265 = m_i_5125 ? (
                                                            c_appl_i_5126 = var_j_3249 m_match_cond_j_3261
                                                        ) : (
                                                            ab_i_5127 = abort
                                                        );
                                                    m_i_5128 = var_j_3248 ~ fun;
                                                    appl_j_3266 = m_i_5128 ? (
                                                            c_appl_i_5129 = var_j_3248 appl_j_3265
                                                        ) : (
                                                            ab_i_5130 = abort
                                                        );
                                                    var_j_3267 = height_j_333_j_378;
                                                    var_j_3268 = t_j_188;
                                                    proj_j_3269 = var_j_3268.bj_decl_lbls;
                                                    m_match_bool_j_3271 = proj_j_3269 ~ any;
                                                    m_match_bool_j_3278 = proj_j_3269 ~ 
                                                        {right, _};
                                                    m_match_cond_j_3279 = m_match_bool_j_3278 ? (
                                                            var_j_3280 = t_j_188;
                                                            proj_j_3281 = var_j_3280.bj_actual_rec;
                                                            proj_j_3282 = proj_j_3281.right
                                                        ) : (
                                                            m_match_cond_j_3272 = m_match_bool_j_3271 ? (
                                                                    bool_j_3273 = false;
                                                                    assert_pred_j_3274 = bool_j_3273;
                                                                    assert_res_j_3275 = assert_pred_j_3274 ? (
                                                                        assert_res_true_j_3276 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3277 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3270 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5131 = var_j_3267 ~ fun;
                                                    appl_j_3283 = m_i_5131 ? (
                                                            c_appl_i_5132 = var_j_3267 m_match_cond_j_3279
                                                        ) : (
                                                            ab_i_5133 = abort
                                                        );
                                                    m_i_5134 = appl_j_3266 ~ fun;
                                                    appl_j_3284 = m_i_5134 ? (
                                                            c_appl_i_5135 = appl_j_3266 appl_j_3283
                                                        ) : (
                                                            ab_i_5136 = abort
                                                        );
                                                    int_j_3285 = 1;
                                                    m_bl_i_5137 = appl_j_3284 ~ int;
                                                    m_br_i_5138 = int_j_3285 ~ int;
                                                    m_b_i_5139 = m_bl_i_5137 and m_br_i_5138;
                                                    binop_j_3286 = m_b_i_5139 ? (
                                                            c_binop_i_5140 = appl_j_3284 + int_j_3285
                                                        ) : (
                                                            ab_i_5141 = abort
                                                        );
                                                    m_bl_i_5142 = m_match_cond_j_3244 ~ int;
                                                    m_br_i_5143 = binop_j_3286 ~ int;
                                                    m_b_i_5144 = m_bl_i_5142 and m_br_i_5143;
                                                    binop_j_3287 = m_b_i_5144 ? (
                                                            c_binop_i_5145 = m_match_cond_j_3244 == binop_j_3286
                                                        ) : (
                                                            ab_i_5146 = abort
                                                        ));
                                                var_j_3289 = expr_b_282;
                                                appl_j_3290 = flatten_fun_j_3288 var_j_3289;
                                                if_j_3293 = appl_j_3290 ? (
                                                        bool_j_3291 = true
                                                    ) : (
                                                        var_j_3292 = pred_check_b_284
                                                    )
                                            ) : (
                                                var_j_3294 = t_check_b_283
                                            ));
                                    flatten_fun_j_3569 = fun bj_null_j_207 -> (
                                        flatten_fun_j_3411 = fun expr_b_222 -> (
                                            bool_j_3297 = false;
                                            rec_fail_b_221 = bool_j_3297;
                                            bool_j_3298 = false;
                                            rec_fail_b_220 = bool_j_3298;
                                            bool_j_3299 = false;
                                            rec_fail_b_219 = bool_j_3299;
                                            var_j_3300 = expr_b_222;
                                            m_match_bool_j_3302 = var_j_3300 ~ any;
                                            m_match_bool_j_3305 = var_j_3300 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_3306 = m_match_bool_j_3305 ? (
                                                    var_j_3307 = expr_b_222;
                                                    proj_j_3308 = var_j_3307.bj_decl_lbls;
                                                    m_match_bool_j_3310 = proj_j_3308 ~ any;
                                                    m_match_bool_j_3313 = proj_j_3308 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3314 = m_match_bool_j_3313 ? (
                                                            height_j_200 = proj_j_3308.height;
                                                            item_j_199 = proj_j_3308.item;
                                                            left_j_198 = proj_j_3308.left;
                                                            right_j_197 = proj_j_3308.right;
                                                            var_j_3315 = expr_b_222;
                                                            proj_j_3316 = var_j_3315.bj_actual_rec;
                                                            m_match_bool_j_3318 = proj_j_3316 ~ any;
                                                            m_match_bool_j_3321 = proj_j_3316 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_3322 = m_match_bool_j_3321 ? (
                                                                    height_j_196 = proj_j_3316.height;
                                                                    item_j_195 = proj_j_3316.item;
                                                                    left_j_194 = proj_j_3316.left;
                                                                    right_j_193 = proj_j_3316.right;
                                                                    flatten_fun_j_3349 = fun expr_b_236 -> (
                                                                    bool_j_3323 = false;
                                                                    fail_b_234 = bool_j_3323;
                                                                    flatten_fun_j_3332 = fun expr_b_233 -> (
                                                                    var_j_3324 = expr_b_233;
                                                                    m_match_bool_j_3326 = var_j_3324 ~ any;
                                                                    m_match_bool_j_3329 = var_j_3324 ~ int;
                                                                    m_match_cond_j_3330 = m_match_bool_j_3329 ? (
                                                                        bool_j_3331 = true
                                                                    ) : (
                                                                        m_match_cond_j_3327 = m_match_bool_j_3326 ? (
                                                                        var_j_3328 = fail_b_234
                                                                    ) : (
                                                                        void_j_3325 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3334 = fun bj_null_j_189 -> (
                                                                    input_j_3333 = input);
                                                                    record_j_3335 = 
                                                                    {checker = flatten_fun_j_3332, generator = flatten_fun_j_3334};
                                                                    proj_j_3336 = record_j_3335.checker;
                                                                    var_j_3337 = expr_b_236;
                                                                    appl_j_3338 = proj_j_3336 var_j_3337;
                                                                    t_check_b_237 = appl_j_3338;
                                                                    var_j_3339 = t_check_b_237;
                                                                    if_j_3348 = var_j_3339 ? (
                                                                        bool_j_3340 = false;
                                                                    pred_check_b_238 = bool_j_3340;
                                                                    var_j_3341 = is_pos;
                                                                    var_j_3342 = expr_b_236;
                                                                    appl_j_3343 = var_j_3341 var_j_3342;
                                                                    if_j_3346 = appl_j_3343 ? (
                                                                        bool_j_3344 = true
                                                                    ) : (
                                                                        var_j_3345 = pred_check_b_238
                                                                    )
                                                                    ) : (
                                                                        var_j_3347 = t_check_b_237
                                                                    ));
                                                                    flatten_fun_j_3373 = fun bj_null_j_191 -> (
                                                                    bool_j_3350 = false;
                                                                    fail_b_230 = bool_j_3350;
                                                                    flatten_fun_j_3359 = fun expr_b_229 -> (
                                                                    var_j_3351 = expr_b_229;
                                                                    m_match_bool_j_3353 = var_j_3351 ~ any;
                                                                    m_match_bool_j_3356 = var_j_3351 ~ int;
                                                                    m_match_cond_j_3357 = m_match_bool_j_3356 ? (
                                                                        bool_j_3358 = true
                                                                    ) : (
                                                                        m_match_cond_j_3354 = m_match_bool_j_3353 ? (
                                                                        var_j_3355 = fail_b_230
                                                                    ) : (
                                                                        void_j_3352 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3361 = fun bj_null_j_190 -> (
                                                                    input_j_3360 = input);
                                                                    record_j_3362 = 
                                                                    {checker = flatten_fun_j_3359, generator = flatten_fun_j_3361};
                                                                    proj_j_3363 = record_j_3362.generator;
                                                                    int_j_3364 = 0;
                                                                    appl_j_3365 = proj_j_3363 int_j_3364;
                                                                    candidate_b_232 = appl_j_3365;
                                                                    var_j_3366 = is_pos;
                                                                    var_j_3367 = candidate_b_232;
                                                                    appl_j_3368 = var_j_3366 var_j_3367;
                                                                    if_j_3372 = appl_j_3368 ? (
                                                                        var_j_3369 = candidate_b_232
                                                                    ) : (
                                                                        bool_j_3370 = false;
                                                                    assume_j_3371 = assume bool_j_3370
                                                                    ));
                                                                    record_j_3374 = 
                                                                    {checker = flatten_fun_j_3349, generator = flatten_fun_j_3373};
                                                                    proj_j_3375 = record_j_3374.checker;
                                                                    var_j_3376 = height_j_196;
                                                                    appl_j_3377 = proj_j_3375 var_j_3376;
                                                                    lbl_check_b_228 = appl_j_3377;
                                                                    var_j_3378 = lbl_check_b_228;
                                                                    if_j_3410 = var_j_3378 ? (
                                                                        bool_j_3379 = false;
                                                                    fail_b_226 = bool_j_3379;
                                                                    flatten_fun_j_3388 = fun expr_b_225 -> (
                                                                    var_j_3380 = expr_b_225;
                                                                    m_match_bool_j_3382 = var_j_3380 ~ any;
                                                                    m_match_bool_j_3385 = var_j_3380 ~ int;
                                                                    m_match_cond_j_3386 = m_match_bool_j_3385 ? (
                                                                        bool_j_3387 = true
                                                                    ) : (
                                                                        m_match_cond_j_3383 = m_match_bool_j_3382 ? (
                                                                        var_j_3384 = fail_b_226
                                                                    ) : (
                                                                        void_j_3381 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3390 = fun bj_null_j_192 -> (
                                                                    input_j_3389 = input);
                                                                    record_j_3391 = 
                                                                    {checker = flatten_fun_j_3388, generator = flatten_fun_j_3390};
                                                                    proj_j_3392 = record_j_3391.checker;
                                                                    var_j_3393 = item_j_195;
                                                                    appl_j_3394 = proj_j_3392 var_j_3393;
                                                                    lbl_check_b_224 = appl_j_3394;
                                                                    var_j_3395 = lbl_check_b_224;
                                                                    if_j_3408 = var_j_3395 ? (
                                                                        var_j_3396 = tt_j_251;
                                                                    proj_j_3397 = var_j_3396.checker;
                                                                    var_j_3398 = left_j_194;
                                                                    appl_j_3399 = proj_j_3397 var_j_3398;
                                                                    lbl_check_b_223 = appl_j_3399;
                                                                    var_j_3400 = lbl_check_b_223;
                                                                    if_j_3406 = var_j_3400 ? (
                                                                        var_j_3401 = tt_j_251;
                                                                    proj_j_3402 = var_j_3401.checker;
                                                                    var_j_3403 = right_j_193;
                                                                    appl_j_3404 = proj_j_3402 var_j_3403
                                                                    ) : (
                                                                        var_j_3405 = lbl_check_b_223
                                                                    )
                                                                    ) : (
                                                                        var_j_3407 = lbl_check_b_224
                                                                    )
                                                                    ) : (
                                                                        var_j_3409 = lbl_check_b_228
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_3319 = m_match_bool_j_3318 ? (
                                                                        var_j_3320 = rec_fail_b_219
                                                                    ) : (
                                                                        void_j_3317 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3311 = m_match_bool_j_3310 ? (
                                                                    var_j_3312 = rec_fail_b_220
                                                                ) : (
                                                                    void_j_3309 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3303 = m_match_bool_j_3302 ? (
                                                            var_j_3304 = rec_fail_b_221
                                                        ) : (
                                                            void_j_3301 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3502 = fun bj_null_j_205 -> (
                                            var_j_3412 = tt_j_251;
                                            proj_j_3413 = var_j_3412.generator;
                                            int_j_3414 = 0;
                                            appl_j_3415 = proj_j_3413 int_j_3414;
                                            right_b_204 = appl_j_3415;
                                            var_j_3416 = tt_j_251;
                                            proj_j_3417 = var_j_3416.generator;
                                            int_j_3418 = 0;
                                            appl_j_3419 = proj_j_3417 int_j_3418;
                                            left_b_203 = appl_j_3419;
                                            bool_j_3420 = false;
                                            fail_b_217 = bool_j_3420;
                                            flatten_fun_j_3429 = fun expr_b_216 -> (
                                                var_j_3421 = expr_b_216;
                                                m_match_bool_j_3423 = var_j_3421 ~ any;
                                                m_match_bool_j_3426 = var_j_3421 ~ int;
                                                m_match_cond_j_3427 = m_match_bool_j_3426 ? (
                                                        bool_j_3428 = true
                                                    ) : (
                                                        m_match_cond_j_3424 = m_match_bool_j_3423 ? (
                                                                var_j_3425 = fail_b_217
                                                            ) : (
                                                                void_j_3422 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_3431 = fun bj_null_j_201 -> (
                                                input_j_3430 = input);
                                            record_j_3432 = {checker = flatten_fun_j_3429, generator = flatten_fun_j_3431};
                                            proj_j_3433 = record_j_3432.generator;
                                            int_j_3434 = 0;
                                            appl_j_3435 = proj_j_3433 int_j_3434;
                                            item_b_202 = appl_j_3435;
                                            flatten_fun_j_3462 = fun expr_b_212 -> (
                                                bool_j_3436 = false;
                                                fail_b_210 = bool_j_3436;
                                                flatten_fun_j_3445 = fun expr_b_209 -> (
                                                    var_j_3437 = expr_b_209;
                                                    m_match_bool_j_3439 = var_j_3437 ~ any;
                                                    m_match_bool_j_3442 = var_j_3437 ~ int;
                                                    m_match_cond_j_3443 = m_match_bool_j_3442 ? (
                                                            bool_j_3444 = true
                                                        ) : (
                                                            m_match_cond_j_3440 = m_match_bool_j_3439 ? (
                                                                    var_j_3441 = fail_b_210
                                                                ) : (
                                                                    void_j_3438 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3447 = fun bj_null_j_202 -> (
                                                    input_j_3446 = input);
                                                record_j_3448 = {checker = flatten_fun_j_3445, generator = flatten_fun_j_3447};
                                                proj_j_3449 = record_j_3448.checker;
                                                var_j_3450 = expr_b_212;
                                                appl_j_3451 = proj_j_3449 var_j_3450;
                                                t_check_b_213 = appl_j_3451;
                                                var_j_3452 = t_check_b_213;
                                                if_j_3461 = var_j_3452 ? (
                                                        bool_j_3453 = false;
                                                        pred_check_b_214 = bool_j_3453;
                                                        var_j_3454 = is_pos;
                                                        var_j_3455 = expr_b_212;
                                                        appl_j_3456 = var_j_3454 var_j_3455;
                                                        if_j_3459 = appl_j_3456 ? (
                                                                bool_j_3457 = true
                                                            ) : (
                                                                var_j_3458 = pred_check_b_214
                                                            )
                                                    ) : (
                                                        var_j_3460 = t_check_b_213
                                                    ));
                                            flatten_fun_j_3486 = fun bj_null_j_204 -> (
                                                bool_j_3463 = false;
                                                fail_b_206 = bool_j_3463;
                                                flatten_fun_j_3472 = fun expr_b_205 -> (
                                                    var_j_3464 = expr_b_205;
                                                    m_match_bool_j_3466 = var_j_3464 ~ any;
                                                    m_match_bool_j_3469 = var_j_3464 ~ int;
                                                    m_match_cond_j_3470 = m_match_bool_j_3469 ? (
                                                            bool_j_3471 = true
                                                        ) : (
                                                            m_match_cond_j_3467 = m_match_bool_j_3466 ? (
                                                                    var_j_3468 = fail_b_206
                                                                ) : (
                                                                    void_j_3465 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3474 = fun bj_null_j_203 -> (
                                                    input_j_3473 = input);
                                                record_j_3475 = {checker = flatten_fun_j_3472, generator = flatten_fun_j_3474};
                                                proj_j_3476 = record_j_3475.generator;
                                                int_j_3477 = 0;
                                                appl_j_3478 = proj_j_3476 int_j_3477;
                                                candidate_b_208 = appl_j_3478;
                                                var_j_3479 = is_pos;
                                                var_j_3480 = candidate_b_208;
                                                appl_j_3481 = var_j_3479 var_j_3480;
                                                if_j_3485 = appl_j_3481 ? (
                                                        var_j_3482 = candidate_b_208
                                                    ) : (
                                                        bool_j_3483 = false;
                                                        assume_j_3484 = assume bool_j_3483
                                                    ));
                                            record_j_3487 = {checker = flatten_fun_j_3462, generator = flatten_fun_j_3486};
                                            proj_j_3488 = record_j_3487.generator;
                                            int_j_3489 = 0;
                                            appl_j_3490 = proj_j_3488 int_j_3489;
                                            height_b_201 = appl_j_3490;
                                            var_j_3491 = height_b_201;
                                            var_j_3492 = item_b_202;
                                            var_j_3493 = left_b_203;
                                            var_j_3494 = right_b_204;
                                            record_j_3495 = {height = var_j_3491, item = var_j_3492, left = var_j_3493, right = var_j_3494};
                                            record_j_3496 = {};
                                            record_j_3497 = {};
                                            record_j_3498 = {};
                                            record_j_3499 = {};
                                            record_j_3500 = {height = record_j_3496, item = record_j_3497, left = record_j_3498, right = record_j_3499};
                                            record_j_3501 = {bj_actual_rec = record_j_3495, bj_decl_lbls = record_j_3500});
                                        record_j_3503 = {checker = flatten_fun_j_3411, generator = flatten_fun_j_3502};
                                        proj_j_3504 = record_j_3503.generator;
                                        int_j_3505 = 0;
                                        appl_j_3506 = proj_j_3504 int_j_3505;
                                        candidate_b_241 = appl_j_3506;
                                        flatten_fun_j_3562 = fun t_j_206 -> (
                                            var_j_3507 = t_j_206;
                                            proj_j_3508 = var_j_3507.bj_decl_lbls;
                                            m_match_bool_j_3510 = proj_j_3508 ~ any;
                                            m_match_bool_j_3517 = proj_j_3508 ~ 
                                                {height, _};
                                            m_match_cond_j_3518 = m_match_bool_j_3517 ? (
                                                    var_j_3519 = t_j_206;
                                                    proj_j_3520 = var_j_3519.bj_actual_rec;
                                                    proj_j_3521 = proj_j_3520.height
                                                ) : (
                                                    m_match_cond_j_3511 = m_match_bool_j_3510 ? (
                                                            bool_j_3512 = false;
                                                            assert_pred_j_3513 = bool_j_3512;
                                                            assert_res_j_3514 = assert_pred_j_3513 ? (
                                                                    assert_res_true_j_3515 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3516 = abort
                                                                )
                                                        ) : (
                                                            void_j_3509 = 
                                                                {}
                                                        )
                                                );
                                            var_j_3522 = max;
                                            var_j_3523 = height_j_333_j_378;
                                            var_j_3524 = t_j_206;
                                            proj_j_3525 = var_j_3524.bj_decl_lbls;
                                            m_match_bool_j_3527 = proj_j_3525 ~ any;
                                            m_match_bool_j_3534 = proj_j_3525 ~ 
                                                {left, _};
                                            m_match_cond_j_3535 = m_match_bool_j_3534 ? (
                                                    var_j_3536 = t_j_206;
                                                    proj_j_3537 = var_j_3536.bj_actual_rec;
                                                    proj_j_3538 = proj_j_3537.left
                                                ) : (
                                                    m_match_cond_j_3528 = m_match_bool_j_3527 ? (
                                                            bool_j_3529 = false;
                                                            assert_pred_j_3530 = bool_j_3529;
                                                            assert_res_j_3531 = assert_pred_j_3530 ? (
                                                                    assert_res_true_j_3532 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3533 = abort
                                                                )
                                                        ) : (
                                                            void_j_3526 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5147 = var_j_3523 ~ fun;
                                            appl_j_3539 = m_i_5147 ? (
                                                    c_appl_i_5148 = var_j_3523 m_match_cond_j_3535
                                                ) : (
                                                    ab_i_5149 = abort
                                                );
                                            m_i_5150 = var_j_3522 ~ fun;
                                            appl_j_3540 = m_i_5150 ? (
                                                    c_appl_i_5151 = var_j_3522 appl_j_3539
                                                ) : (
                                                    ab_i_5152 = abort
                                                );
                                            var_j_3541 = height_j_333_j_378;
                                            var_j_3542 = t_j_206;
                                            proj_j_3543 = var_j_3542.bj_decl_lbls;
                                            m_match_bool_j_3545 = proj_j_3543 ~ any;
                                            m_match_bool_j_3552 = proj_j_3543 ~ 
                                                {right, _};
                                            m_match_cond_j_3553 = m_match_bool_j_3552 ? (
                                                    var_j_3554 = t_j_206;
                                                    proj_j_3555 = var_j_3554.bj_actual_rec;
                                                    proj_j_3556 = proj_j_3555.right
                                                ) : (
                                                    m_match_cond_j_3546 = m_match_bool_j_3545 ? (
                                                            bool_j_3547 = false;
                                                            assert_pred_j_3548 = bool_j_3547;
                                                            assert_res_j_3549 = assert_pred_j_3548 ? (
                                                                    assert_res_true_j_3550 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3551 = abort
                                                                )
                                                        ) : (
                                                            void_j_3544 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5153 = var_j_3541 ~ fun;
                                            appl_j_3557 = m_i_5153 ? (
                                                    c_appl_i_5154 = var_j_3541 m_match_cond_j_3553
                                                ) : (
                                                    ab_i_5155 = abort
                                                );
                                            m_i_5156 = appl_j_3540 ~ fun;
                                            appl_j_3558 = m_i_5156 ? (
                                                    c_appl_i_5157 = appl_j_3540 appl_j_3557
                                                ) : (
                                                    ab_i_5158 = abort
                                                );
                                            int_j_3559 = 1;
                                            m_bl_i_5159 = appl_j_3558 ~ int;
                                            m_br_i_5160 = int_j_3559 ~ int;
                                            m_b_i_5161 = m_bl_i_5159 and m_br_i_5160;
                                            binop_j_3560 = m_b_i_5161 ? (
                                                    c_binop_i_5162 = appl_j_3558 + int_j_3559
                                                ) : (
                                                    ab_i_5163 = abort
                                                );
                                            m_bl_i_5164 = m_match_cond_j_3518 ~ int;
                                            m_br_i_5165 = binop_j_3560 ~ int;
                                            m_b_i_5166 = m_bl_i_5164 and m_br_i_5165;
                                            binop_j_3561 = m_b_i_5166 ? (
                                                    c_binop_i_5167 = m_match_cond_j_3518 == binop_j_3560
                                                ) : (
                                                    ab_i_5168 = abort
                                                ));
                                        var_j_3563 = candidate_b_241;
                                        appl_j_3564 = flatten_fun_j_3562 var_j_3563;
                                        if_j_3568 = appl_j_3564 ? (
                                                var_j_3565 = candidate_b_241
                                            ) : (
                                                bool_j_3566 = false;
                                                assume_j_3567 = assume bool_j_3566
                                            ));
                                    record_j_3570 = {checker = flatten_fun_j_3296, generator = flatten_fun_j_3569};
                                    proj_j_3571 = record_j_3570.checker;
                                    var_j_3572 = expr_b_298;
                                    appl_j_3573 = proj_j_3571 var_j_3572;
                                    if_j_3576 = appl_j_3573 ? (
                                            bool_j_3574 = true
                                        ) : (
                                            var_j_3575 = fail_b_300
                                        )
                                )
                        ));
                flatten_fun_j_4211 = fun bj_null_j_250 -> (
                    input_j_3580 = input;
                    select_int_b_103 = input_j_3580;
                    int_j_3581 = 0;
                    var_j_3582 = select_int_b_103;
                    binop_j_3583 = int_j_3581 <= var_j_3582;
                    if_j_4210 = binop_j_3583 ? (
                            flatten_fun_j_3859 = fun expr_b_87 -> (
                                flatten_fun_j_3698 = fun expr_b_68 -> (
                                    bool_j_3584 = false;
                                    rec_fail_b_67 = bool_j_3584;
                                    bool_j_3585 = false;
                                    rec_fail_b_66 = bool_j_3585;
                                    bool_j_3586 = false;
                                    rec_fail_b_65 = bool_j_3586;
                                    var_j_3587 = expr_b_68;
                                    m_match_bool_j_3589 = var_j_3587 ~ any;
                                    m_match_bool_j_3592 = var_j_3587 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_3593 = m_match_bool_j_3592 ? (
                                            var_j_3594 = expr_b_68;
                                            proj_j_3595 = var_j_3594.bj_decl_lbls;
                                            m_match_bool_j_3597 = proj_j_3595 ~ any;
                                            m_match_bool_j_3600 = proj_j_3595 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_3601 = m_match_bool_j_3600 ? (
                                                    height_j_219 = proj_j_3595.height;
                                                    item_j_218 = proj_j_3595.item;
                                                    left_j_217 = proj_j_3595.left;
                                                    right_j_216 = proj_j_3595.right;
                                                    var_j_3602 = expr_b_68;
                                                    proj_j_3603 = var_j_3602.bj_actual_rec;
                                                    m_match_bool_j_3605 = proj_j_3603 ~ any;
                                                    m_match_bool_j_3608 = proj_j_3603 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3609 = m_match_bool_j_3608 ? (
                                                            height_j_215 = proj_j_3603.height;
                                                            item_j_214 = proj_j_3603.item;
                                                            left_j_213 = proj_j_3603.left;
                                                            right_j_212 = proj_j_3603.right;
                                                            flatten_fun_j_3636 = fun expr_b_82 -> (
                                                                bool_j_3610 = false;
                                                                fail_b_80 = bool_j_3610;
                                                                flatten_fun_j_3619 = fun expr_b_79 -> (
                                                                    var_j_3611 = expr_b_79;
                                                                    m_match_bool_j_3613 = var_j_3611 ~ any;
                                                                    m_match_bool_j_3616 = var_j_3611 ~ int;
                                                                    m_match_cond_j_3617 = m_match_bool_j_3616 ? (
                                                                        bool_j_3618 = true
                                                                    ) : (
                                                                        m_match_cond_j_3614 = m_match_bool_j_3613 ? (
                                                                        var_j_3615 = fail_b_80
                                                                    ) : (
                                                                        void_j_3612 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3621 = fun bj_null_j_208 -> (
                                                                    input_j_3620 = input);
                                                                record_j_3622 = 
                                                                    {checker = flatten_fun_j_3619, generator = flatten_fun_j_3621};
                                                                proj_j_3623 = record_j_3622.checker;
                                                                var_j_3624 = expr_b_82;
                                                                appl_j_3625 = proj_j_3623 var_j_3624;
                                                                t_check_b_83 = appl_j_3625;
                                                                var_j_3626 = t_check_b_83;
                                                                if_j_3635 = var_j_3626 ? (
                                                                        
                                                                    bool_j_3627 = false;
                                                                    pred_check_b_84 = bool_j_3627;
                                                                    var_j_3628 = is_pos;
                                                                    var_j_3629 = expr_b_82;
                                                                    appl_j_3630 = var_j_3628 var_j_3629;
                                                                    if_j_3633 = appl_j_3630 ? (
                                                                        bool_j_3631 = true
                                                                    ) : (
                                                                        var_j_3632 = pred_check_b_84
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_3634 = t_check_b_83
                                                                    ));
                                                            flatten_fun_j_3660 = fun bj_null_j_210 -> (
                                                                bool_j_3637 = false;
                                                                fail_b_76 = bool_j_3637;
                                                                flatten_fun_j_3646 = fun expr_b_75 -> (
                                                                    var_j_3638 = expr_b_75;
                                                                    m_match_bool_j_3640 = var_j_3638 ~ any;
                                                                    m_match_bool_j_3643 = var_j_3638 ~ int;
                                                                    m_match_cond_j_3644 = m_match_bool_j_3643 ? (
                                                                        bool_j_3645 = true
                                                                    ) : (
                                                                        m_match_cond_j_3641 = m_match_bool_j_3640 ? (
                                                                        var_j_3642 = fail_b_76
                                                                    ) : (
                                                                        void_j_3639 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3648 = fun bj_null_j_209 -> (
                                                                    input_j_3647 = input);
                                                                record_j_3649 = 
                                                                    {checker = flatten_fun_j_3646, generator = flatten_fun_j_3648};
                                                                proj_j_3650 = record_j_3649.generator;
                                                                int_j_3651 = 0;
                                                                appl_j_3652 = proj_j_3650 int_j_3651;
                                                                candidate_b_78 = appl_j_3652;
                                                                var_j_3653 = is_pos;
                                                                var_j_3654 = candidate_b_78;
                                                                appl_j_3655 = var_j_3653 var_j_3654;
                                                                if_j_3659 = appl_j_3655 ? (
                                                                        
                                                                    var_j_3656 = candidate_b_78
                                                                    ) : (
                                                                        
                                                                    bool_j_3657 = false;
                                                                    assume_j_3658 = assume bool_j_3657
                                                                    ));
                                                            record_j_3661 = 
                                                                {checker = flatten_fun_j_3636, generator = flatten_fun_j_3660};
                                                            proj_j_3662 = record_j_3661.checker;
                                                            var_j_3663 = height_j_215;
                                                            appl_j_3664 = proj_j_3662 var_j_3663;
                                                            lbl_check_b_74 = appl_j_3664;
                                                            var_j_3665 = lbl_check_b_74;
                                                            if_j_3697 = var_j_3665 ? (
                                                                    bool_j_3666 = false;
                                                                    fail_b_72 = bool_j_3666;
                                                                    flatten_fun_j_3675 = fun expr_b_71 -> (
                                                                    var_j_3667 = expr_b_71;
                                                                    m_match_bool_j_3669 = var_j_3667 ~ any;
                                                                    m_match_bool_j_3672 = var_j_3667 ~ int;
                                                                    m_match_cond_j_3673 = m_match_bool_j_3672 ? (
                                                                        bool_j_3674 = true
                                                                    ) : (
                                                                        m_match_cond_j_3670 = m_match_bool_j_3669 ? (
                                                                        var_j_3671 = fail_b_72
                                                                    ) : (
                                                                        void_j_3668 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3677 = fun bj_null_j_211 -> (
                                                                    input_j_3676 = input);
                                                                    record_j_3678 = 
                                                                    {checker = flatten_fun_j_3675, generator = flatten_fun_j_3677};
                                                                    proj_j_3679 = record_j_3678.checker;
                                                                    var_j_3680 = item_j_214;
                                                                    appl_j_3681 = proj_j_3679 var_j_3680;
                                                                    lbl_check_b_70 = appl_j_3681;
                                                                    var_j_3682 = lbl_check_b_70;
                                                                    if_j_3695 = var_j_3682 ? (
                                                                        var_j_3683 = tt_j_251;
                                                                    proj_j_3684 = var_j_3683.checker;
                                                                    var_j_3685 = left_j_213;
                                                                    appl_j_3686 = proj_j_3684 var_j_3685;
                                                                    lbl_check_b_69 = appl_j_3686;
                                                                    var_j_3687 = lbl_check_b_69;
                                                                    if_j_3693 = var_j_3687 ? (
                                                                        var_j_3688 = tt_j_251;
                                                                    proj_j_3689 = var_j_3688.checker;
                                                                    var_j_3690 = right_j_212;
                                                                    appl_j_3691 = proj_j_3689 var_j_3690
                                                                    ) : (
                                                                        var_j_3692 = lbl_check_b_69
                                                                    )
                                                                    ) : (
                                                                        var_j_3694 = lbl_check_b_70
                                                                    )
                                                                ) : (
                                                                    var_j_3696 = lbl_check_b_74
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3606 = m_match_bool_j_3605 ? (
                                                                    var_j_3607 = rec_fail_b_65
                                                                ) : (
                                                                    void_j_3604 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3598 = m_match_bool_j_3597 ? (
                                                            var_j_3599 = rec_fail_b_66
                                                        ) : (
                                                            void_j_3596 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_3590 = m_match_bool_j_3589 ? (
                                                    var_j_3591 = rec_fail_b_67
                                                ) : (
                                                    void_j_3588 = {}
                                                )
                                        ));
                                flatten_fun_j_3789 = fun bj_null_j_224 -> (
                                    var_j_3699 = tt_j_251;
                                    proj_j_3700 = var_j_3699.generator;
                                    int_j_3701 = 0;
                                    appl_j_3702 = proj_j_3700 int_j_3701;
                                    right_b_50 = appl_j_3702;
                                    var_j_3703 = tt_j_251;
                                    proj_j_3704 = var_j_3703.generator;
                                    int_j_3705 = 0;
                                    appl_j_3706 = proj_j_3704 int_j_3705;
                                    left_b_49 = appl_j_3706;
                                    bool_j_3707 = false;
                                    fail_b_63 = bool_j_3707;
                                    flatten_fun_j_3716 = fun expr_b_62 -> (
                                        var_j_3708 = expr_b_62;
                                        m_match_bool_j_3710 = var_j_3708 ~ any;
                                        m_match_bool_j_3713 = var_j_3708 ~ int;
                                        m_match_cond_j_3714 = m_match_bool_j_3713 ? (
                                                bool_j_3715 = true
                                            ) : (
                                                m_match_cond_j_3711 = m_match_bool_j_3710 ? (
                                                        var_j_3712 = fail_b_63
                                                    ) : (
                                                        void_j_3709 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_3718 = fun bj_null_j_220 -> (
                                        input_j_3717 = input);
                                    record_j_3719 = {checker = flatten_fun_j_3716, generator = flatten_fun_j_3718};
                                    proj_j_3720 = record_j_3719.generator;
                                    int_j_3721 = 0;
                                    appl_j_3722 = proj_j_3720 int_j_3721;
                                    item_b_48 = appl_j_3722;
                                    flatten_fun_j_3749 = fun expr_b_58 -> (
                                        bool_j_3723 = false;
                                        fail_b_56 = bool_j_3723;
                                        flatten_fun_j_3732 = fun expr_b_55 -> (
                                            var_j_3724 = expr_b_55;
                                            m_match_bool_j_3726 = var_j_3724 ~ any;
                                            m_match_bool_j_3729 = var_j_3724 ~ int;
                                            m_match_cond_j_3730 = m_match_bool_j_3729 ? (
                                                    bool_j_3731 = true
                                                ) : (
                                                    m_match_cond_j_3727 = m_match_bool_j_3726 ? (
                                                            var_j_3728 = fail_b_56
                                                        ) : (
                                                            void_j_3725 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3734 = fun bj_null_j_221 -> (
                                            input_j_3733 = input);
                                        record_j_3735 = {checker = flatten_fun_j_3732, generator = flatten_fun_j_3734};
                                        proj_j_3736 = record_j_3735.checker;
                                        var_j_3737 = expr_b_58;
                                        appl_j_3738 = proj_j_3736 var_j_3737;
                                        t_check_b_59 = appl_j_3738;
                                        var_j_3739 = t_check_b_59;
                                        if_j_3748 = var_j_3739 ? (
                                                bool_j_3740 = false;
                                                pred_check_b_60 = bool_j_3740;
                                                var_j_3741 = is_pos;
                                                var_j_3742 = expr_b_58;
                                                appl_j_3743 = var_j_3741 var_j_3742;
                                                if_j_3746 = appl_j_3743 ? (
                                                        bool_j_3744 = true
                                                    ) : (
                                                        var_j_3745 = pred_check_b_60
                                                    )
                                            ) : (
                                                var_j_3747 = t_check_b_59
                                            ));
                                    flatten_fun_j_3773 = fun bj_null_j_223 -> (
                                        bool_j_3750 = false;
                                        fail_b_52 = bool_j_3750;
                                        flatten_fun_j_3759 = fun expr_b_51 -> (
                                            var_j_3751 = expr_b_51;
                                            m_match_bool_j_3753 = var_j_3751 ~ any;
                                            m_match_bool_j_3756 = var_j_3751 ~ int;
                                            m_match_cond_j_3757 = m_match_bool_j_3756 ? (
                                                    bool_j_3758 = true
                                                ) : (
                                                    m_match_cond_j_3754 = m_match_bool_j_3753 ? (
                                                            var_j_3755 = fail_b_52
                                                        ) : (
                                                            void_j_3752 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3761 = fun bj_null_j_222 -> (
                                            input_j_3760 = input);
                                        record_j_3762 = {checker = flatten_fun_j_3759, generator = flatten_fun_j_3761};
                                        proj_j_3763 = record_j_3762.generator;
                                        int_j_3764 = 0;
                                        appl_j_3765 = proj_j_3763 int_j_3764;
                                        candidate_b_54 = appl_j_3765;
                                        var_j_3766 = is_pos;
                                        var_j_3767 = candidate_b_54;
                                        appl_j_3768 = var_j_3766 var_j_3767;
                                        if_j_3772 = appl_j_3768 ? (
                                                var_j_3769 = candidate_b_54
                                            ) : (
                                                bool_j_3770 = false;
                                                assume_j_3771 = assume bool_j_3770
                                            ));
                                    record_j_3774 = {checker = flatten_fun_j_3749, generator = flatten_fun_j_3773};
                                    proj_j_3775 = record_j_3774.generator;
                                    int_j_3776 = 0;
                                    appl_j_3777 = proj_j_3775 int_j_3776;
                                    height_b_47 = appl_j_3777;
                                    var_j_3778 = height_b_47;
                                    var_j_3779 = item_b_48;
                                    var_j_3780 = left_b_49;
                                    var_j_3781 = right_b_50;
                                    record_j_3782 = {height = var_j_3778, item = var_j_3779, left = var_j_3780, right = var_j_3781};
                                    record_j_3783 = {};
                                    record_j_3784 = {};
                                    record_j_3785 = {};
                                    record_j_3786 = {};
                                    record_j_3787 = {height = record_j_3783, item = record_j_3784, left = record_j_3785, right = record_j_3786};
                                    record_j_3788 = {bj_actual_rec = record_j_3782, bj_decl_lbls = record_j_3787});
                                record_j_3790 = {checker = flatten_fun_j_3698, generator = flatten_fun_j_3789};
                                proj_j_3791 = record_j_3790.checker;
                                var_j_3792 = expr_b_87;
                                appl_j_3793 = proj_j_3791 var_j_3792;
                                t_check_b_88 = appl_j_3793;
                                var_j_3794 = t_check_b_88;
                                if_j_3858 = var_j_3794 ? (
                                        bool_j_3795 = false;
                                        pred_check_b_89 = bool_j_3795;
                                        flatten_fun_j_3851 = fun t_j_225 -> (
                                            var_j_3796 = t_j_225;
                                            proj_j_3797 = var_j_3796.bj_decl_lbls;
                                            m_match_bool_j_3799 = proj_j_3797 ~ any;
                                            m_match_bool_j_3806 = proj_j_3797 ~ 
                                                {height, _};
                                            m_match_cond_j_3807 = m_match_bool_j_3806 ? (
                                                    var_j_3808 = t_j_225;
                                                    proj_j_3809 = var_j_3808.bj_actual_rec;
                                                    proj_j_3810 = proj_j_3809.height
                                                ) : (
                                                    m_match_cond_j_3800 = m_match_bool_j_3799 ? (
                                                            bool_j_3801 = false;
                                                            assert_pred_j_3802 = bool_j_3801;
                                                            assert_res_j_3803 = assert_pred_j_3802 ? (
                                                                    assert_res_true_j_3804 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3805 = abort
                                                                )
                                                        ) : (
                                                            void_j_3798 = 
                                                                {}
                                                        )
                                                );
                                            var_j_3811 = max;
                                            var_j_3812 = height_j_333_j_378;
                                            var_j_3813 = t_j_225;
                                            proj_j_3814 = var_j_3813.bj_decl_lbls;
                                            m_match_bool_j_3816 = proj_j_3814 ~ any;
                                            m_match_bool_j_3823 = proj_j_3814 ~ 
                                                {left, _};
                                            m_match_cond_j_3824 = m_match_bool_j_3823 ? (
                                                    var_j_3825 = t_j_225;
                                                    proj_j_3826 = var_j_3825.bj_actual_rec;
                                                    proj_j_3827 = proj_j_3826.left
                                                ) : (
                                                    m_match_cond_j_3817 = m_match_bool_j_3816 ? (
                                                            bool_j_3818 = false;
                                                            assert_pred_j_3819 = bool_j_3818;
                                                            assert_res_j_3820 = assert_pred_j_3819 ? (
                                                                    assert_res_true_j_3821 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3822 = abort
                                                                )
                                                        ) : (
                                                            void_j_3815 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5169 = var_j_3812 ~ fun;
                                            appl_j_3828 = m_i_5169 ? (
                                                    c_appl_i_5170 = var_j_3812 m_match_cond_j_3824
                                                ) : (
                                                    ab_i_5171 = abort
                                                );
                                            m_i_5172 = var_j_3811 ~ fun;
                                            appl_j_3829 = m_i_5172 ? (
                                                    c_appl_i_5173 = var_j_3811 appl_j_3828
                                                ) : (
                                                    ab_i_5174 = abort
                                                );
                                            var_j_3830 = height_j_333_j_378;
                                            var_j_3831 = t_j_225;
                                            proj_j_3832 = var_j_3831.bj_decl_lbls;
                                            m_match_bool_j_3834 = proj_j_3832 ~ any;
                                            m_match_bool_j_3841 = proj_j_3832 ~ 
                                                {right, _};
                                            m_match_cond_j_3842 = m_match_bool_j_3841 ? (
                                                    var_j_3843 = t_j_225;
                                                    proj_j_3844 = var_j_3843.bj_actual_rec;
                                                    proj_j_3845 = proj_j_3844.right
                                                ) : (
                                                    m_match_cond_j_3835 = m_match_bool_j_3834 ? (
                                                            bool_j_3836 = false;
                                                            assert_pred_j_3837 = bool_j_3836;
                                                            assert_res_j_3838 = assert_pred_j_3837 ? (
                                                                    assert_res_true_j_3839 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3840 = abort
                                                                )
                                                        ) : (
                                                            void_j_3833 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5175 = var_j_3830 ~ fun;
                                            appl_j_3846 = m_i_5175 ? (
                                                    c_appl_i_5176 = var_j_3830 m_match_cond_j_3842
                                                ) : (
                                                    ab_i_5177 = abort
                                                );
                                            m_i_5178 = appl_j_3829 ~ fun;
                                            appl_j_3847 = m_i_5178 ? (
                                                    c_appl_i_5179 = appl_j_3829 appl_j_3846
                                                ) : (
                                                    ab_i_5180 = abort
                                                );
                                            int_j_3848 = 1;
                                            m_bl_i_5181 = appl_j_3847 ~ int;
                                            m_br_i_5182 = int_j_3848 ~ int;
                                            m_b_i_5183 = m_bl_i_5181 and m_br_i_5182;
                                            binop_j_3849 = m_b_i_5183 ? (
                                                    c_binop_i_5184 = appl_j_3847 + int_j_3848
                                                ) : (
                                                    ab_i_5185 = abort
                                                );
                                            m_bl_i_5186 = m_match_cond_j_3807 ~ int;
                                            m_br_i_5187 = binop_j_3849 ~ int;
                                            m_b_i_5188 = m_bl_i_5186 and m_br_i_5187;
                                            binop_j_3850 = m_b_i_5188 ? (
                                                    c_binop_i_5189 = m_match_cond_j_3807 == binop_j_3849
                                                ) : (
                                                    ab_i_5190 = abort
                                                ));
                                        var_j_3852 = expr_b_87;
                                        appl_j_3853 = flatten_fun_j_3851 var_j_3852;
                                        if_j_3856 = appl_j_3853 ? (
                                                bool_j_3854 = true
                                            ) : (
                                                var_j_3855 = pred_check_b_89
                                            )
                                    ) : (
                                        var_j_3857 = t_check_b_88
                                    ));
                            flatten_fun_j_4132 = fun bj_null_j_244 -> (
                                flatten_fun_j_3974 = fun expr_b_27 -> (
                                    bool_j_3860 = false;
                                    rec_fail_b_26 = bool_j_3860;
                                    bool_j_3861 = false;
                                    rec_fail_b_25 = bool_j_3861;
                                    bool_j_3862 = false;
                                    rec_fail_b_24 = bool_j_3862;
                                    var_j_3863 = expr_b_27;
                                    m_match_bool_j_3865 = var_j_3863 ~ any;
                                    m_match_bool_j_3868 = var_j_3863 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_3869 = m_match_bool_j_3868 ? (
                                            var_j_3870 = expr_b_27;
                                            proj_j_3871 = var_j_3870.bj_decl_lbls;
                                            m_match_bool_j_3873 = proj_j_3871 ~ any;
                                            m_match_bool_j_3876 = proj_j_3871 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_3877 = m_match_bool_j_3876 ? (
                                                    height_j_237 = proj_j_3871.height;
                                                    item_j_236 = proj_j_3871.item;
                                                    left_j_235 = proj_j_3871.left;
                                                    right_j_234 = proj_j_3871.right;
                                                    var_j_3878 = expr_b_27;
                                                    proj_j_3879 = var_j_3878.bj_actual_rec;
                                                    m_match_bool_j_3881 = proj_j_3879 ~ any;
                                                    m_match_bool_j_3884 = proj_j_3879 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3885 = m_match_bool_j_3884 ? (
                                                            height_j_233 = proj_j_3879.height;
                                                            item_j_232 = proj_j_3879.item;
                                                            left_j_231 = proj_j_3879.left;
                                                            right_j_230 = proj_j_3879.right;
                                                            flatten_fun_j_3912 = fun expr_b_41 -> (
                                                                bool_j_3886 = false;
                                                                fail_b_39 = bool_j_3886;
                                                                flatten_fun_j_3895 = fun expr_b_38 -> (
                                                                    var_j_3887 = expr_b_38;
                                                                    m_match_bool_j_3889 = var_j_3887 ~ any;
                                                                    m_match_bool_j_3892 = var_j_3887 ~ int;
                                                                    m_match_cond_j_3893 = m_match_bool_j_3892 ? (
                                                                        bool_j_3894 = true
                                                                    ) : (
                                                                        m_match_cond_j_3890 = m_match_bool_j_3889 ? (
                                                                        var_j_3891 = fail_b_39
                                                                    ) : (
                                                                        void_j_3888 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3897 = fun bj_null_j_226 -> (
                                                                    input_j_3896 = input);
                                                                record_j_3898 = 
                                                                    {checker = flatten_fun_j_3895, generator = flatten_fun_j_3897};
                                                                proj_j_3899 = record_j_3898.checker;
                                                                var_j_3900 = expr_b_41;
                                                                appl_j_3901 = proj_j_3899 var_j_3900;
                                                                t_check_b_42 = appl_j_3901;
                                                                var_j_3902 = t_check_b_42;
                                                                if_j_3911 = var_j_3902 ? (
                                                                        
                                                                    bool_j_3903 = false;
                                                                    pred_check_b_43 = bool_j_3903;
                                                                    var_j_3904 = is_pos;
                                                                    var_j_3905 = expr_b_41;
                                                                    appl_j_3906 = var_j_3904 var_j_3905;
                                                                    if_j_3909 = appl_j_3906 ? (
                                                                        bool_j_3907 = true
                                                                    ) : (
                                                                        var_j_3908 = pred_check_b_43
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_3910 = t_check_b_42
                                                                    ));
                                                            flatten_fun_j_3936 = fun bj_null_j_228 -> (
                                                                bool_j_3913 = false;
                                                                fail_b_35 = bool_j_3913;
                                                                flatten_fun_j_3922 = fun expr_b_34 -> (
                                                                    var_j_3914 = expr_b_34;
                                                                    m_match_bool_j_3916 = var_j_3914 ~ any;
                                                                    m_match_bool_j_3919 = var_j_3914 ~ int;
                                                                    m_match_cond_j_3920 = m_match_bool_j_3919 ? (
                                                                        bool_j_3921 = true
                                                                    ) : (
                                                                        m_match_cond_j_3917 = m_match_bool_j_3916 ? (
                                                                        var_j_3918 = fail_b_35
                                                                    ) : (
                                                                        void_j_3915 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3924 = fun bj_null_j_227 -> (
                                                                    input_j_3923 = input);
                                                                record_j_3925 = 
                                                                    {checker = flatten_fun_j_3922, generator = flatten_fun_j_3924};
                                                                proj_j_3926 = record_j_3925.generator;
                                                                int_j_3927 = 0;
                                                                appl_j_3928 = proj_j_3926 int_j_3927;
                                                                candidate_b_37 = appl_j_3928;
                                                                var_j_3929 = is_pos;
                                                                var_j_3930 = candidate_b_37;
                                                                appl_j_3931 = var_j_3929 var_j_3930;
                                                                if_j_3935 = appl_j_3931 ? (
                                                                        
                                                                    var_j_3932 = candidate_b_37
                                                                    ) : (
                                                                        
                                                                    bool_j_3933 = false;
                                                                    assume_j_3934 = assume bool_j_3933
                                                                    ));
                                                            record_j_3937 = 
                                                                {checker = flatten_fun_j_3912, generator = flatten_fun_j_3936};
                                                            proj_j_3938 = record_j_3937.checker;
                                                            var_j_3939 = height_j_233;
                                                            appl_j_3940 = proj_j_3938 var_j_3939;
                                                            lbl_check_b_33 = appl_j_3940;
                                                            var_j_3941 = lbl_check_b_33;
                                                            if_j_3973 = var_j_3941 ? (
                                                                    bool_j_3942 = false;
                                                                    fail_b_31 = bool_j_3942;
                                                                    flatten_fun_j_3951 = fun expr_b_30 -> (
                                                                    var_j_3943 = expr_b_30;
                                                                    m_match_bool_j_3945 = var_j_3943 ~ any;
                                                                    m_match_bool_j_3948 = var_j_3943 ~ int;
                                                                    m_match_cond_j_3949 = m_match_bool_j_3948 ? (
                                                                        bool_j_3950 = true
                                                                    ) : (
                                                                        m_match_cond_j_3946 = m_match_bool_j_3945 ? (
                                                                        var_j_3947 = fail_b_31
                                                                    ) : (
                                                                        void_j_3944 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3953 = fun bj_null_j_229 -> (
                                                                    input_j_3952 = input);
                                                                    record_j_3954 = 
                                                                    {checker = flatten_fun_j_3951, generator = flatten_fun_j_3953};
                                                                    proj_j_3955 = record_j_3954.checker;
                                                                    var_j_3956 = item_j_232;
                                                                    appl_j_3957 = proj_j_3955 var_j_3956;
                                                                    lbl_check_b_29 = appl_j_3957;
                                                                    var_j_3958 = lbl_check_b_29;
                                                                    if_j_3971 = var_j_3958 ? (
                                                                        var_j_3959 = tt_j_251;
                                                                    proj_j_3960 = var_j_3959.checker;
                                                                    var_j_3961 = left_j_231;
                                                                    appl_j_3962 = proj_j_3960 var_j_3961;
                                                                    lbl_check_b_28 = appl_j_3962;
                                                                    var_j_3963 = lbl_check_b_28;
                                                                    if_j_3969 = var_j_3963 ? (
                                                                        var_j_3964 = tt_j_251;
                                                                    proj_j_3965 = var_j_3964.checker;
                                                                    var_j_3966 = right_j_230;
                                                                    appl_j_3967 = proj_j_3965 var_j_3966
                                                                    ) : (
                                                                        var_j_3968 = lbl_check_b_28
                                                                    )
                                                                    ) : (
                                                                        var_j_3970 = lbl_check_b_29
                                                                    )
                                                                ) : (
                                                                    var_j_3972 = lbl_check_b_33
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3882 = m_match_bool_j_3881 ? (
                                                                    var_j_3883 = rec_fail_b_24
                                                                ) : (
                                                                    void_j_3880 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3874 = m_match_bool_j_3873 ? (
                                                            var_j_3875 = rec_fail_b_25
                                                        ) : (
                                                            void_j_3872 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_3866 = m_match_bool_j_3865 ? (
                                                    var_j_3867 = rec_fail_b_26
                                                ) : (
                                                    void_j_3864 = {}
                                                )
                                        ));
                                flatten_fun_j_4065 = fun bj_null_j_242 -> (
                                    var_j_3975 = tt_j_251;
                                    proj_j_3976 = var_j_3975.generator;
                                    int_j_3977 = 0;
                                    appl_j_3978 = proj_j_3976 int_j_3977;
                                    right_b_9 = appl_j_3978;
                                    var_j_3979 = tt_j_251;
                                    proj_j_3980 = var_j_3979.generator;
                                    int_j_3981 = 0;
                                    appl_j_3982 = proj_j_3980 int_j_3981;
                                    left_b_8 = appl_j_3982;
                                    bool_j_3983 = false;
                                    fail_b_22 = bool_j_3983;
                                    flatten_fun_j_3992 = fun expr_b_21 -> (
                                        var_j_3984 = expr_b_21;
                                        m_match_bool_j_3986 = var_j_3984 ~ any;
                                        m_match_bool_j_3989 = var_j_3984 ~ int;
                                        m_match_cond_j_3990 = m_match_bool_j_3989 ? (
                                                bool_j_3991 = true
                                            ) : (
                                                m_match_cond_j_3987 = m_match_bool_j_3986 ? (
                                                        var_j_3988 = fail_b_22
                                                    ) : (
                                                        void_j_3985 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_3994 = fun bj_null_j_238 -> (
                                        input_j_3993 = input);
                                    record_j_3995 = {checker = flatten_fun_j_3992, generator = flatten_fun_j_3994};
                                    proj_j_3996 = record_j_3995.generator;
                                    int_j_3997 = 0;
                                    appl_j_3998 = proj_j_3996 int_j_3997;
                                    item_b_7 = appl_j_3998;
                                    flatten_fun_j_4025 = fun expr_b_17 -> (
                                        bool_j_3999 = false;
                                        fail_b_15 = bool_j_3999;
                                        flatten_fun_j_4008 = fun expr_b_14 -> (
                                            var_j_4000 = expr_b_14;
                                            m_match_bool_j_4002 = var_j_4000 ~ any;
                                            m_match_bool_j_4005 = var_j_4000 ~ int;
                                            m_match_cond_j_4006 = m_match_bool_j_4005 ? (
                                                    bool_j_4007 = true
                                                ) : (
                                                    m_match_cond_j_4003 = m_match_bool_j_4002 ? (
                                                            var_j_4004 = fail_b_15
                                                        ) : (
                                                            void_j_4001 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4010 = fun bj_null_j_239 -> (
                                            input_j_4009 = input);
                                        record_j_4011 = {checker = flatten_fun_j_4008, generator = flatten_fun_j_4010};
                                        proj_j_4012 = record_j_4011.checker;
                                        var_j_4013 = expr_b_17;
                                        appl_j_4014 = proj_j_4012 var_j_4013;
                                        t_check_b_18 = appl_j_4014;
                                        var_j_4015 = t_check_b_18;
                                        if_j_4024 = var_j_4015 ? (
                                                bool_j_4016 = false;
                                                pred_check_b_19 = bool_j_4016;
                                                var_j_4017 = is_pos;
                                                var_j_4018 = expr_b_17;
                                                appl_j_4019 = var_j_4017 var_j_4018;
                                                if_j_4022 = appl_j_4019 ? (
                                                        bool_j_4020 = true
                                                    ) : (
                                                        var_j_4021 = pred_check_b_19
                                                    )
                                            ) : (
                                                var_j_4023 = t_check_b_18
                                            ));
                                    flatten_fun_j_4049 = fun bj_null_j_241 -> (
                                        bool_j_4026 = false;
                                        fail_b_11 = bool_j_4026;
                                        flatten_fun_j_4035 = fun expr_b_10 -> (
                                            var_j_4027 = expr_b_10;
                                            m_match_bool_j_4029 = var_j_4027 ~ any;
                                            m_match_bool_j_4032 = var_j_4027 ~ int;
                                            m_match_cond_j_4033 = m_match_bool_j_4032 ? (
                                                    bool_j_4034 = true
                                                ) : (
                                                    m_match_cond_j_4030 = m_match_bool_j_4029 ? (
                                                            var_j_4031 = fail_b_11
                                                        ) : (
                                                            void_j_4028 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4037 = fun bj_null_j_240 -> (
                                            input_j_4036 = input);
                                        record_j_4038 = {checker = flatten_fun_j_4035, generator = flatten_fun_j_4037};
                                        proj_j_4039 = record_j_4038.generator;
                                        int_j_4040 = 0;
                                        appl_j_4041 = proj_j_4039 int_j_4040;
                                        candidate_b_13 = appl_j_4041;
                                        var_j_4042 = is_pos;
                                        var_j_4043 = candidate_b_13;
                                        appl_j_4044 = var_j_4042 var_j_4043;
                                        if_j_4048 = appl_j_4044 ? (
                                                var_j_4045 = candidate_b_13
                                            ) : (
                                                bool_j_4046 = false;
                                                assume_j_4047 = assume bool_j_4046
                                            ));
                                    record_j_4050 = {checker = flatten_fun_j_4025, generator = flatten_fun_j_4049};
                                    proj_j_4051 = record_j_4050.generator;
                                    int_j_4052 = 0;
                                    appl_j_4053 = proj_j_4051 int_j_4052;
                                    height_b_6 = appl_j_4053;
                                    var_j_4054 = height_b_6;
                                    var_j_4055 = item_b_7;
                                    var_j_4056 = left_b_8;
                                    var_j_4057 = right_b_9;
                                    record_j_4058 = {height = var_j_4054, item = var_j_4055, left = var_j_4056, right = var_j_4057};
                                    record_j_4059 = {};
                                    record_j_4060 = {};
                                    record_j_4061 = {};
                                    record_j_4062 = {};
                                    record_j_4063 = {height = record_j_4059, item = record_j_4060, left = record_j_4061, right = record_j_4062};
                                    record_j_4064 = {bj_actual_rec = record_j_4058, bj_decl_lbls = record_j_4063});
                                record_j_4066 = {checker = flatten_fun_j_3974, generator = flatten_fun_j_4065};
                                proj_j_4067 = record_j_4066.generator;
                                int_j_4068 = 0;
                                appl_j_4069 = proj_j_4067 int_j_4068;
                                candidate_b_46 = appl_j_4069;
                                flatten_fun_j_4125 = fun t_j_243 -> (
                                    var_j_4070 = t_j_243;
                                    proj_j_4071 = var_j_4070.bj_decl_lbls;
                                    m_match_bool_j_4073 = proj_j_4071 ~ any;
                                    m_match_bool_j_4080 = proj_j_4071 ~ 
                                        {height, _};
                                    m_match_cond_j_4081 = m_match_bool_j_4080 ? (
                                            var_j_4082 = t_j_243;
                                            proj_j_4083 = var_j_4082.bj_actual_rec;
                                            proj_j_4084 = proj_j_4083.height
                                        ) : (
                                            m_match_cond_j_4074 = m_match_bool_j_4073 ? (
                                                    bool_j_4075 = false;
                                                    assert_pred_j_4076 = bool_j_4075;
                                                    assert_res_j_4077 = assert_pred_j_4076 ? (
                                                            assert_res_true_j_4078 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4079 = abort
                                                        )
                                                ) : (
                                                    void_j_4072 = {}
                                                )
                                        );
                                    var_j_4085 = max;
                                    var_j_4086 = height_j_333_j_378;
                                    var_j_4087 = t_j_243;
                                    proj_j_4088 = var_j_4087.bj_decl_lbls;
                                    m_match_bool_j_4090 = proj_j_4088 ~ any;
                                    m_match_bool_j_4097 = proj_j_4088 ~ 
                                        {left, _};
                                    m_match_cond_j_4098 = m_match_bool_j_4097 ? (
                                            var_j_4099 = t_j_243;
                                            proj_j_4100 = var_j_4099.bj_actual_rec;
                                            proj_j_4101 = proj_j_4100.left
                                        ) : (
                                            m_match_cond_j_4091 = m_match_bool_j_4090 ? (
                                                    bool_j_4092 = false;
                                                    assert_pred_j_4093 = bool_j_4092;
                                                    assert_res_j_4094 = assert_pred_j_4093 ? (
                                                            assert_res_true_j_4095 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4096 = abort
                                                        )
                                                ) : (
                                                    void_j_4089 = {}
                                                )
                                        );
                                    m_i_5191 = var_j_4086 ~ fun;
                                    appl_j_4102 = m_i_5191 ? (
                                            c_appl_i_5192 = var_j_4086 m_match_cond_j_4098
                                        ) : (
                                            ab_i_5193 = abort
                                        );
                                    m_i_5194 = var_j_4085 ~ fun;
                                    appl_j_4103 = m_i_5194 ? (
                                            c_appl_i_5195 = var_j_4085 appl_j_4102
                                        ) : (
                                            ab_i_5196 = abort
                                        );
                                    var_j_4104 = height_j_333_j_378;
                                    var_j_4105 = t_j_243;
                                    proj_j_4106 = var_j_4105.bj_decl_lbls;
                                    m_match_bool_j_4108 = proj_j_4106 ~ any;
                                    m_match_bool_j_4115 = proj_j_4106 ~ 
                                        {right, _};
                                    m_match_cond_j_4116 = m_match_bool_j_4115 ? (
                                            var_j_4117 = t_j_243;
                                            proj_j_4118 = var_j_4117.bj_actual_rec;
                                            proj_j_4119 = proj_j_4118.right
                                        ) : (
                                            m_match_cond_j_4109 = m_match_bool_j_4108 ? (
                                                    bool_j_4110 = false;
                                                    assert_pred_j_4111 = bool_j_4110;
                                                    assert_res_j_4112 = assert_pred_j_4111 ? (
                                                            assert_res_true_j_4113 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4114 = abort
                                                        )
                                                ) : (
                                                    void_j_4107 = {}
                                                )
                                        );
                                    m_i_5197 = var_j_4104 ~ fun;
                                    appl_j_4120 = m_i_5197 ? (
                                            c_appl_i_5198 = var_j_4104 m_match_cond_j_4116
                                        ) : (
                                            ab_i_5199 = abort
                                        );
                                    m_i_5200 = appl_j_4103 ~ fun;
                                    appl_j_4121 = m_i_5200 ? (
                                            c_appl_i_5201 = appl_j_4103 appl_j_4120
                                        ) : (
                                            ab_i_5202 = abort
                                        );
                                    int_j_4122 = 1;
                                    m_bl_i_5203 = appl_j_4121 ~ int;
                                    m_br_i_5204 = int_j_4122 ~ int;
                                    m_b_i_5205 = m_bl_i_5203 and m_br_i_5204;
                                    binop_j_4123 = m_b_i_5205 ? (
                                            c_binop_i_5206 = appl_j_4121 + int_j_4122
                                        ) : (
                                            ab_i_5207 = abort
                                        );
                                    m_bl_i_5208 = m_match_cond_j_4081 ~ int;
                                    m_br_i_5209 = binop_j_4123 ~ int;
                                    m_b_i_5210 = m_bl_i_5208 and m_br_i_5209;
                                    binop_j_4124 = m_b_i_5210 ? (
                                            c_binop_i_5211 = m_match_cond_j_4081 == binop_j_4123
                                        ) : (
                                            ab_i_5212 = abort
                                        ));
                                var_j_4126 = candidate_b_46;
                                appl_j_4127 = flatten_fun_j_4125 var_j_4126;
                                if_j_4131 = appl_j_4127 ? (
                                        var_j_4128 = candidate_b_46
                                    ) : (
                                        bool_j_4129 = false;
                                        assume_j_4130 = assume bool_j_4129
                                    ));
                            record_j_4133 = {checker = flatten_fun_j_3859, generator = flatten_fun_j_4132};
                            proj_j_4134 = record_j_4133.generator;
                            int_j_4135 = 0;
                            appl_j_4136 = proj_j_4134 int_j_4135
                        ) : (
                            flatten_fun_j_4181 = fun expr_b_98 -> (
                                bool_j_4137 = false;
                                rec_fail_b_97 = bool_j_4137;
                                bool_j_4138 = false;
                                rec_fail_b_96 = bool_j_4138;
                                bool_j_4139 = false;
                                rec_fail_b_95 = bool_j_4139;
                                var_j_4140 = expr_b_98;
                                m_match_bool_j_4142 = var_j_4140 ~ any;
                                m_match_bool_j_4145 = var_j_4140 ~ {bj_actual_rec, _};
                                m_match_cond_j_4146 = m_match_bool_j_4145 ? (
                                        var_j_4147 = expr_b_98;
                                        proj_j_4148 = var_j_4147.bj_decl_lbls;
                                        m_match_bool_j_4150 = proj_j_4148 ~ any;
                                        m_match_bool_j_4153 = proj_j_4148 ~ 
                                            {leaf, _};
                                        m_match_cond_j_4154 = m_match_bool_j_4153 ? (
                                                leaf_j_247 = proj_j_4148.leaf;
                                                var_j_4155 = expr_b_98;
                                                proj_j_4156 = var_j_4155.bj_actual_rec;
                                                m_match_bool_j_4158 = proj_j_4156 ~ any;
                                                m_match_bool_j_4161 = proj_j_4156 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_4162 = m_match_bool_j_4161 ? (
                                                        leaf_j_246 = proj_j_4156.leaf;
                                                        bool_j_4163 = false;
                                                        fail_b_100 = bool_j_4163;
                                                        flatten_fun_j_4172 = fun expr_b_99 -> (
                                                            var_j_4164 = expr_b_99;
                                                            m_match_bool_j_4166 = var_j_4164 ~ any;
                                                            m_match_bool_j_4169 = var_j_4164 ~ bool;
                                                            m_match_cond_j_4170 = m_match_bool_j_4169 ? (
                                                                    bool_j_4171 = true
                                                                ) : (
                                                                    m_match_cond_j_4167 = m_match_bool_j_4166 ? (
                                                                        var_j_4168 = fail_b_100
                                                                    ) : (
                                                                        void_j_4165 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_4176 = fun bj_null_j_245 -> (
                                                            int_j_4173 = 0;
                                                            input_j_4174 = input;
                                                            m_bl_i_5213 = int_j_4173 ~ int;
                                                            m_br_i_5214 = input_j_4174 ~ int;
                                                            m_b_i_5215 = m_bl_i_5213 and m_br_i_5214;
                                                            binop_j_4175 = m_b_i_5215 ? (
                                                                    c_binop_i_5216 = int_j_4173 <= input_j_4174
                                                                ) : (
                                                                    ab_i_5217 = abort
                                                                ));
                                                        record_j_4177 = 
                                                            {checker = flatten_fun_j_4172, generator = flatten_fun_j_4176};
                                                        proj_j_4178 = record_j_4177.checker;
                                                        var_j_4179 = leaf_j_246;
                                                        appl_j_4180 = proj_j_4178 var_j_4179
                                                    ) : (
                                                        m_match_cond_j_4159 = m_match_bool_j_4158 ? (
                                                                var_j_4160 = rec_fail_b_95
                                                            ) : (
                                                                void_j_4157 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_4151 = m_match_bool_j_4150 ? (
                                                        var_j_4152 = rec_fail_b_96
                                                    ) : (
                                                        void_j_4149 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_4143 = m_match_bool_j_4142 ? (
                                                var_j_4144 = rec_fail_b_97
                                            ) : (
                                                void_j_4141 = {}
                                            )
                                    ));
                            flatten_fun_j_4205 = fun bj_null_j_249 -> (
                                bool_j_4182 = false;
                                fail_b_93 = bool_j_4182;
                                flatten_fun_j_4191 = fun expr_b_92 -> (
                                    var_j_4183 = expr_b_92;
                                    m_match_bool_j_4185 = var_j_4183 ~ any;
                                    m_match_bool_j_4188 = var_j_4183 ~ bool;
                                    m_match_cond_j_4189 = m_match_bool_j_4188 ? (
                                            bool_j_4190 = true
                                        ) : (
                                            m_match_cond_j_4186 = m_match_bool_j_4185 ? (
                                                    var_j_4187 = fail_b_93
                                                ) : (
                                                    void_j_4184 = {}
                                                )
                                        ));
                                flatten_fun_j_4195 = fun bj_null_j_248 -> (
                                    int_j_4192 = 0;
                                    input_j_4193 = input;
                                    m_bl_i_5218 = int_j_4192 ~ int;
                                    m_br_i_5219 = input_j_4193 ~ int;
                                    m_b_i_5220 = m_bl_i_5218 and m_br_i_5219;
                                    binop_j_4194 = m_b_i_5220 ? (
                                            c_binop_i_5221 = int_j_4192 <= input_j_4193
                                        ) : (
                                            ab_i_5222 = abort
                                        ));
                                record_j_4196 = {checker = flatten_fun_j_4191, generator = flatten_fun_j_4195};
                                proj_j_4197 = record_j_4196.generator;
                                int_j_4198 = 0;
                                appl_j_4199 = proj_j_4197 int_j_4198;
                                leaf_b_91 = appl_j_4199;
                                var_j_4200 = leaf_b_91;
                                record_j_4201 = {leaf = var_j_4200};
                                record_j_4202 = {};
                                record_j_4203 = {leaf = record_j_4202};
                                record_j_4204 = {bj_actual_rec = record_j_4201, bj_decl_lbls = record_j_4203});
                            record_j_4206 = {checker = flatten_fun_j_4181, generator = flatten_fun_j_4205};
                            proj_j_4207 = record_j_4206.generator;
                            int_j_4208 = 0;
                            appl_j_4209 = proj_j_4207 int_j_4208
                        ));
                record_j_4212 = {checker = flatten_fun_j_3579, generator = flatten_fun_j_4211};
                proj_j_4213 = record_j_4212.generator;
                int_j_4214 = 0;
                appl_j_4215 = proj_j_4213 int_j_4214);
            var_j_4217 = self_b_1;
            int_j_4218 = 0;
            appl_j_4219 = var_j_4217 int_j_4218;
            appl_j_4220 = flatten_fun_j_4216 appl_j_4219);
        record_j_4222 = {checker = flatten_fun_j_2310, generator = flatten_fun_j_4221}));
appl_j_4225 = ycomb_b_5 flatten_fun_j_4224;
int_j_4226 = 0;
appl_j_4227 = appl_j_4225 int_j_4226;
and__j_4235 = fun b1 -> (
    and__j_4234 = fun b2 -> (
        var_j_4228 = b1;
        m_i_5223 = var_j_4228 ~ bool;
        if_j_4233 = m_i_5223 ? (
                c_cond_i_5227 = var_j_4228 ? (
                        var_j_4229 = b2;
                        int_j_4230 = 0;
                        m_i_5224 = var_j_4229 ~ fun;
                        appl_j_4231 = m_i_5224 ? (
                                c_appl_i_5225 = var_j_4229 int_j_4230
                            ) : (
                                ab_i_5226 = abort
                            )
                    ) : (
                        bool_j_4232 = false
                    )
            ) : (
                ab_i_5228 = abort
            )));
and_ = and__j_4235;
is_leaf_j_4259 = fun x_j_331 -> (
    bool_j_4236 = false;
    fail_b_600 = bool_j_4236;
    var_j_4237 = x_j_331;
    m_match_bool_j_4239 = var_j_4237 ~ {bj_untouched, _};
    m_match_bool_j_4246 = var_j_4237 ~ {bj_actual_rec, _};
    m_match_cond_j_4247 = m_match_bool_j_4246 ? (
            actual_rec_b_647 = var_j_4237.bj_actual_rec;
            var_j_4248 = x_j_331;
            proj_j_4249 = var_j_4248.bj_decl_lbls;
            m_match_bool_j_4251 = proj_j_4249 ~ {_};
            m_match_bool_j_4254 = proj_j_4249 ~ {leaf};
            m_match_cond_j_4255 = m_match_bool_j_4254 ? (
                    b_j_330 = proj_j_4249.leaf;
                    var_j_4256 = actual_rec_b_647;
                    proj_j_4257 = var_j_4256.leaf;
                    b_j_329 = proj_j_4257;
                    bool_j_4258 = true
                ) : (
                    m_match_cond_j_4252 = m_match_bool_j_4251 ? (
                            bool_j_4253 = false
                        ) : (
                            ab_j_4250 = abort
                        )
                )
        ) : (
            m_match_cond_j_4240 = m_match_bool_j_4239 ? (
                    var_j_4241 = fail_b_600;
                    assert_pred_j_4242 = var_j_4241;
                    assert_res_j_4243 = assert_pred_j_4242 ? (
                            assert_res_true_j_4244 = {}
                        ) : (
                            ab_j_4245 = abort
                        )
                ) : (
                    ab_j_4238 = abort
                )
        ));
is_leaf = is_leaf_j_4259;
proj_j_4261 = appl_j_4227.generator;
int_j_4262 = 0;
appl_j_4263 = proj_j_4261 int_j_4262;
x_b_630 = appl_j_4263;
bool_j_4264 = false;
fail_b_602 = bool_j_4264;
flatten_fun_j_4273 = fun expr_b_601 -> (
    var_j_4265 = expr_b_601;
    m_match_bool_j_4267 = var_j_4265 ~ any;
    m_match_bool_j_4270 = var_j_4265 ~ bool;
    m_match_cond_j_4271 = m_match_bool_j_4270 ? (
            bool_j_4272 = true
        ) : (
            m_match_cond_j_4268 = m_match_bool_j_4267 ? (
                    var_j_4269 = fail_b_602
                ) : (
                    void_j_4266 = {}
                )
        ));
flatten_fun_j_4277 = fun bj_null_j_254 -> (
    int_j_4274 = 0;
    input_j_4275 = input;
    m_bl_i_5229 = int_j_4274 ~ int;
    m_br_i_5230 = input_j_4275 ~ int;
    m_b_i_5231 = m_bl_i_5229 and m_br_i_5230;
    binop_j_4276 = m_b_i_5231 ? (
            c_binop_i_5232 = int_j_4274 <= input_j_4275
        ) : (
            ab_i_5233 = abort
        ));
record_j_4278 = {checker = flatten_fun_j_4273, generator = flatten_fun_j_4277};
proj_j_4279 = record_j_4278.checker;
appl_j_4282 = is_leaf x_b_630;
appl_j_4283 = proj_j_4279 appl_j_4282;
check_res_b_646 = appl_j_4283;
if_j_4885 = check_res_b_646 ? (
        item_exn_j_4305 = fun x_j_328 -> (
            bool_j_4285 = false;
            fail_b_604 = bool_j_4285;
            var_j_4286 = x_j_328;
            m_match_bool_j_4288 = var_j_4286 ~ {bj_untouched, _};
            m_match_bool_j_4295 = var_j_4286 ~ {bj_actual_rec, _};
            m_match_cond_j_4296 = m_match_bool_j_4295 ? (
                    actual_rec_b_631 = var_j_4286.bj_actual_rec;
                    var_j_4297 = x_j_328;
                    proj_j_4298 = var_j_4297.bj_decl_lbls;
                    m_match_bool_j_4300 = proj_j_4298 ~ {item, _};
                    m_match_cond_j_4301 = m_match_bool_j_4300 ? (
                            i_j_327 = proj_j_4298.item;
                            var_j_4302 = actual_rec_b_631;
                            proj_j_4303 = var_j_4302.item;
                            i_j_326 = proj_j_4303;
                            var_j_4304 = i_j_326
                        ) : (
                            ab_j_4299 = abort
                        )
                ) : (
                    m_match_cond_j_4289 = m_match_bool_j_4288 ? (
                            var_j_4290 = fail_b_604;
                            assert_pred_j_4291 = var_j_4290;
                            assert_res_j_4292 = assert_pred_j_4291 ? (
                                    assert_res_true_j_4293 = {}
                                ) : (
                                    ab_j_4294 = abort
                                )
                        ) : (
                            ab_j_4287 = abort
                        )
                ));
        item_exn = item_exn_j_4305;
        left_exn_j_4326 = fun x_j_325 -> (
            bool_j_4306 = false;
            fail_b_605 = bool_j_4306;
            var_j_4307 = x_j_325;
            m_match_bool_j_4309 = var_j_4307 ~ {bj_untouched, _};
            m_match_bool_j_4316 = var_j_4307 ~ {bj_actual_rec, _};
            m_match_cond_j_4317 = m_match_bool_j_4316 ? (
                    actual_rec_b_632 = var_j_4307.bj_actual_rec;
                    var_j_4318 = x_j_325;
                    proj_j_4319 = var_j_4318.bj_decl_lbls;
                    m_match_bool_j_4321 = proj_j_4319 ~ {left, _};
                    m_match_cond_j_4322 = m_match_bool_j_4321 ? (
                            left_j_324 = proj_j_4319.left;
                            var_j_4323 = actual_rec_b_632;
                            proj_j_4324 = var_j_4323.left;
                            left_j_323 = proj_j_4324;
                            var_j_4325 = left_j_323
                        ) : (
                            ab_j_4320 = abort
                        )
                ) : (
                    m_match_cond_j_4310 = m_match_bool_j_4309 ? (
                            var_j_4311 = fail_b_605;
                            assert_pred_j_4312 = var_j_4311;
                            assert_res_j_4313 = assert_pred_j_4312 ? (
                                    assert_res_true_j_4314 = {}
                                ) : (
                                    ab_j_4315 = abort
                                )
                        ) : (
                            ab_j_4308 = abort
                        )
                ));
        left_exn = left_exn_j_4326;
        right_exn_j_4347 = fun x_j_322 -> (
            bool_j_4327 = false;
            fail_b_606 = bool_j_4327;
            var_j_4328 = x_j_322;
            m_match_bool_j_4330 = var_j_4328 ~ {bj_untouched, _};
            m_match_bool_j_4337 = var_j_4328 ~ {bj_actual_rec, _};
            m_match_cond_j_4338 = m_match_bool_j_4337 ? (
                    actual_rec_b_633 = var_j_4328.bj_actual_rec;
                    var_j_4339 = x_j_322;
                    proj_j_4340 = var_j_4339.bj_decl_lbls;
                    m_match_bool_j_4342 = proj_j_4340 ~ {right, _};
                    m_match_cond_j_4343 = m_match_bool_j_4342 ? (
                            right_j_321 = proj_j_4340.right;
                            var_j_4344 = actual_rec_b_633;
                            proj_j_4345 = var_j_4344.right;
                            right_j_320 = proj_j_4345;
                            var_j_4346 = right_j_320
                        ) : (
                            ab_j_4341 = abort
                        )
                ) : (
                    m_match_cond_j_4331 = m_match_bool_j_4330 ? (
                            var_j_4332 = fail_b_606;
                            assert_pred_j_4333 = var_j_4332;
                            assert_res_j_4334 = assert_pred_j_4333 ? (
                                    assert_res_true_j_4335 = {}
                                ) : (
                                    ab_j_4336 = abort
                                )
                        ) : (
                            ab_j_4329 = abort
                        )
                ));
        right_exn = right_exn_j_4347;
        bool_j_4348 = true;
        record_j_4349 = {leaf = bool_j_4348};
        record_j_4350 = {};
        record_j_4351 = {leaf = record_j_4350};
        record_j_4352 = {bj_actual_rec = record_j_4349, bj_decl_lbls = record_j_4351};
        empty = record_j_4352;
        balance_factor_j_4386 = fun x_j_319 -> (
            bool_j_4353 = false;
            fail_b_607 = bool_j_4353;
            var_j_4354 = x_j_319;
            m_match_bool_j_4356 = var_j_4354 ~ {bj_untouched, _};
            m_match_bool_j_4363 = var_j_4354 ~ {bj_actual_rec, _};
            m_match_cond_j_4364 = m_match_bool_j_4363 ? (
                    actual_rec_b_634 = var_j_4354.bj_actual_rec;
                    var_j_4365 = x_j_319;
                    proj_j_4366 = var_j_4365.bj_decl_lbls;
                    m_match_bool_j_4368 = proj_j_4366 ~ {left, right, _};
                    m_match_bool_j_4381 = proj_j_4366 ~ {leaf};
                    m_match_cond_j_4382 = m_match_bool_j_4381 ? (
                            leaf_j_314 = proj_j_4366.leaf;
                            var_j_4383 = actual_rec_b_634;
                            proj_j_4384 = var_j_4383.leaf;
                            leaf_j_313 = proj_j_4384;
                            int_j_4385 = 0
                        ) : (
                            m_match_cond_j_4369 = m_match_bool_j_4368 ? (
                                    left_j_318 = proj_j_4366.left;
                                    right_j_317 = proj_j_4366.right;
                                    var_j_4370 = actual_rec_b_634;
                                    proj_j_4371 = var_j_4370.right;
                                    right_j_316 = proj_j_4371;
                                    var_j_4372 = actual_rec_b_634;
                                    proj_j_4373 = var_j_4372.left;
                                    left_j_315 = proj_j_4373;
                                    var_j_4374 = height_j_333_j_378;
                                    var_j_4375 = left_j_315;
                                    m_i_5234 = var_j_4374 ~ fun;
                                    appl_j_4376 = m_i_5234 ? (
                                            c_appl_i_5235 = var_j_4374 var_j_4375
                                        ) : (
                                            ab_i_5236 = abort
                                        );
                                    var_j_4377 = height_j_333_j_378;
                                    var_j_4378 = right_j_316;
                                    m_i_5237 = var_j_4377 ~ fun;
                                    appl_j_4379 = m_i_5237 ? (
                                            c_appl_i_5238 = var_j_4377 var_j_4378
                                        ) : (
                                            ab_i_5239 = abort
                                        );
                                    m_bl_i_5240 = appl_j_4376 ~ int;
                                    m_br_i_5241 = appl_j_4379 ~ int;
                                    m_b_i_5242 = m_bl_i_5240 and m_br_i_5241;
                                    binop_j_4380 = m_b_i_5242 ? (
                                            c_binop_i_5243 = appl_j_4376 - appl_j_4379
                                        ) : (
                                            ab_i_5244 = abort
                                        )
                                ) : (
                                    ab_j_4367 = abort
                                )
                        )
                ) : (
                    m_match_cond_j_4357 = m_match_bool_j_4356 ? (
                            var_j_4358 = fail_b_607;
                            assert_pred_j_4359 = var_j_4358;
                            assert_res_j_4360 = assert_pred_j_4359 ? (
                                    assert_res_true_j_4361 = {}
                                ) : (
                                    ab_j_4362 = abort
                                )
                        ) : (
                            ab_j_4355 = abort
                        )
                ));
        balance_factor = balance_factor_j_4386;
        abs_j_4395 = fun a -> (
            int_j_4387 = 0;
            var_j_4388 = a;
            m_bl_i_5245 = int_j_4387 ~ int;
            m_br_i_5246 = var_j_4388 ~ int;
            m_b_i_5247 = m_bl_i_5245 and m_br_i_5246;
            binop_j_4389 = m_b_i_5247 ? (
                    c_binop_i_5248 = int_j_4387 < var_j_4388
                ) : (
                    ab_i_5249 = abort
                );
            m_i_5250 = binop_j_4389 ~ bool;
            if_j_4394 = m_i_5250 ? (
                    c_cond_i_5256 = binop_j_4389 ? (
                            var_j_4390 = a
                        ) : (
                            int_j_4391 = 0;
                            var_j_4392 = a;
                            m_bl_i_5251 = int_j_4391 ~ int;
                            m_br_i_5252 = var_j_4392 ~ int;
                            m_b_i_5253 = m_bl_i_5251 and m_br_i_5252;
                            binop_j_4393 = m_b_i_5253 ? (
                                    c_binop_i_5254 = int_j_4391 - var_j_4392
                                ) : (
                                    ab_i_5255 = abort
                                )
                        )
                ) : (
                    ab_i_5257 = abort
                ));
        abs = abs_j_4395;
        flatten_fun_j_4441 = fun is_balanced_j_1 -> (
            flatten_fun_j_4440 = fun x -> (
                var_j_4396 = is_balanced_j_1;
                var_j_4397 = is_balanced_j_1;
                appl_j_4398 = var_j_4396 var_j_4397;
                is_balanced = appl_j_4398;
                bool_j_4399 = false;
                fail_b_608 = bool_j_4399;
                var_j_4400 = x;
                m_match_bool_j_4402 = var_j_4400 ~ {bj_untouched, _};
                m_match_bool_j_4409 = var_j_4400 ~ {bj_actual_rec, _};
                m_match_cond_j_4410 = m_match_bool_j_4409 ? (
                        actual_rec_b_635 = var_j_4400.bj_actual_rec;
                        var_j_4411 = x;
                        proj_j_4412 = var_j_4411.bj_decl_lbls;
                        m_match_bool_j_4414 = proj_j_4412 ~ {left, right, _};
                        m_match_bool_j_4435 = proj_j_4412 ~ {leaf};
                        m_match_cond_j_4436 = m_match_bool_j_4435 ? (
                                leaf_j_256 = proj_j_4412.leaf;
                                var_j_4437 = actual_rec_b_635;
                                proj_j_4438 = var_j_4437.leaf;
                                leaf_j_255 = proj_j_4438;
                                bool_j_4439 = true
                            ) : (
                                m_match_cond_j_4415 = m_match_bool_j_4414 ? (
                                        left_j_260 = proj_j_4412.left;
                                        right_j_259 = proj_j_4412.right;
                                        var_j_4416 = actual_rec_b_635;
                                        proj_j_4417 = var_j_4416.right;
                                        right_j_258 = proj_j_4417;
                                        var_j_4418 = actual_rec_b_635;
                                        proj_j_4419 = var_j_4418.left;
                                        left_j_257 = proj_j_4419;
                                        var_j_4420 = abs;
                                        var_j_4421 = balance_factor;
                                        var_j_4422 = x;
                                        m_i_5258 = var_j_4421 ~ fun;
                                        appl_j_4423 = m_i_5258 ? (
                                                c_appl_i_5259 = var_j_4421 var_j_4422
                                            ) : (
                                                ab_i_5260 = abort
                                            );
                                        m_i_5261 = var_j_4420 ~ fun;
                                        appl_j_4424 = m_i_5261 ? (
                                                c_appl_i_5262 = var_j_4420 appl_j_4423
                                            ) : (
                                                ab_i_5263 = abort
                                            );
                                        int_j_4425 = 2;
                                        m_bl_i_5264 = appl_j_4424 ~ int;
                                        m_br_i_5265 = int_j_4425 ~ int;
                                        m_b_i_5266 = m_bl_i_5264 and m_br_i_5265;
                                        binop_j_4426 = m_b_i_5266 ? (
                                                c_binop_i_5267 = appl_j_4424 < int_j_4425
                                            ) : (
                                                ab_i_5268 = abort
                                            );
                                        var_j_4427 = is_balanced;
                                        var_j_4428 = left_j_257;
                                        m_i_5269 = var_j_4427 ~ fun;
                                        appl_j_4429 = m_i_5269 ? (
                                                c_appl_i_5270 = var_j_4427 var_j_4428
                                            ) : (
                                                ab_i_5271 = abort
                                            );
                                        m_bl_i_5272 = binop_j_4426 ~ bool;
                                        m_br_i_5273 = appl_j_4429 ~ bool;
                                        m_b_i_5274 = m_bl_i_5272 and m_br_i_5273;
                                        binop_j_4430 = m_b_i_5274 ? (
                                                c_binop_i_5275 = binop_j_4426 and appl_j_4429
                                            ) : (
                                                ab_i_5276 = abort
                                            );
                                        var_j_4431 = is_balanced;
                                        var_j_4432 = right_j_258;
                                        m_i_5277 = var_j_4431 ~ fun;
                                        appl_j_4433 = m_i_5277 ? (
                                                c_appl_i_5278 = var_j_4431 var_j_4432
                                            ) : (
                                                ab_i_5279 = abort
                                            );
                                        m_bl_i_5280 = binop_j_4430 ~ bool;
                                        m_br_i_5281 = appl_j_4433 ~ bool;
                                        m_b_i_5282 = m_bl_i_5280 and m_br_i_5281;
                                        binop_j_4434 = m_b_i_5282 ? (
                                                c_binop_i_5283 = binop_j_4430 and appl_j_4433
                                            ) : (
                                                ab_i_5284 = abort
                                            )
                                    ) : (
                                        ab_j_4413 = abort
                                    )
                            )
                    ) : (
                        m_match_cond_j_4403 = m_match_bool_j_4402 ? (
                                var_j_4404 = fail_b_608;
                                assert_pred_j_4405 = var_j_4404;
                                assert_res_j_4406 = assert_pred_j_4405 ? (
                                        assert_res_true_j_4407 = {}
                                    ) : (
                                        ab_j_4408 = abort
                                    )
                            ) : (
                                ab_j_4401 = abort
                            )
                    )));
        is_balanced_j_1_j_312 = flatten_fun_j_4441;
        var_j_4442 = is_balanced_j_1_j_312;
        var_j_4443 = is_balanced_j_1_j_312;
        appl_j_4444 = var_j_4442 var_j_4443;
        is_balanced_j_311 = appl_j_4444;
        create_node_j_4468 = fun item_j_310 -> (
            create_node_j_4467 = fun left_j_309 -> (
                create_node_j_4466 = fun right_j_308 -> (
                    int_j_4445 = 1;
                    var_j_4446 = max;
                    var_j_4447 = height_j_333_j_378;
                    var_j_4448 = left_j_309;
                    m_i_5285 = var_j_4447 ~ fun;
                    appl_j_4449 = m_i_5285 ? (
                            c_appl_i_5286 = var_j_4447 var_j_4448
                        ) : (
                            ab_i_5287 = abort
                        );
                    m_i_5288 = var_j_4446 ~ fun;
                    appl_j_4450 = m_i_5288 ? (
                            c_appl_i_5289 = var_j_4446 appl_j_4449
                        ) : (
                            ab_i_5290 = abort
                        );
                    var_j_4451 = height_j_333_j_378;
                    var_j_4452 = right_j_308;
                    m_i_5291 = var_j_4451 ~ fun;
                    appl_j_4453 = m_i_5291 ? (
                            c_appl_i_5292 = var_j_4451 var_j_4452
                        ) : (
                            ab_i_5293 = abort
                        );
                    m_i_5294 = appl_j_4450 ~ fun;
                    appl_j_4454 = m_i_5294 ? (
                            c_appl_i_5295 = appl_j_4450 appl_j_4453
                        ) : (
                            ab_i_5296 = abort
                        );
                    m_bl_i_5297 = int_j_4445 ~ int;
                    m_br_i_5298 = appl_j_4454 ~ int;
                    m_b_i_5299 = m_bl_i_5297 and m_br_i_5298;
                    binop_j_4455 = m_b_i_5299 ? (
                            c_binop_i_5300 = int_j_4445 + appl_j_4454
                        ) : (
                            ab_i_5301 = abort
                        );
                    var_j_4456 = item_j_310;
                    var_j_4457 = left_j_309;
                    var_j_4458 = right_j_308;
                    record_j_4459 = {height = binop_j_4455, item = var_j_4456, left = var_j_4457, right = var_j_4458};
                    record_j_4460 = {};
                    record_j_4461 = {};
                    record_j_4462 = {};
                    record_j_4463 = {};
                    record_j_4464 = {height = record_j_4460, item = record_j_4461, left = record_j_4462, right = record_j_4463};
                    record_j_4465 = {bj_actual_rec = record_j_4459, bj_decl_lbls = record_j_4464})));
        create_node = create_node_j_4468;
        rotate_left_j_4528 = fun x_j_307 -> (
            bool_j_4469 = false;
            fail_b_609 = bool_j_4469;
            var_j_4470 = x_j_307;
            m_match_bool_j_4472 = var_j_4470 ~ {bj_untouched, _};
            m_match_bool_j_4479 = var_j_4470 ~ {bj_actual_rec, _};
            m_match_cond_j_4480 = m_match_bool_j_4479 ? (
                    actual_rec_b_637 = var_j_4470.bj_actual_rec;
                    var_j_4481 = x_j_307;
                    proj_j_4482 = var_j_4481.bj_decl_lbls;
                    m_match_bool_j_4484 = proj_j_4482 ~ {item, left, right, _};
                    m_match_cond_j_4485 = m_match_bool_j_4484 ? (
                            item_j_306 = proj_j_4482.item;
                            left_j_305 = proj_j_4482.left;
                            right_j_304 = proj_j_4482.right;
                            var_j_4486 = actual_rec_b_637;
                            proj_j_4487 = var_j_4486.right;
                            right_j_303 = proj_j_4487;
                            var_j_4488 = actual_rec_b_637;
                            proj_j_4489 = var_j_4488.left;
                            left_j_302 = proj_j_4489;
                            var_j_4490 = actual_rec_b_637;
                            proj_j_4491 = var_j_4490.item;
                            item_j_301 = proj_j_4491;
                            bool_j_4492 = false;
                            fail_b_610 = bool_j_4492;
                            var_j_4493 = right_j_303;
                            m_match_bool_j_4495 = var_j_4493 ~ {bj_untouched, _};
                            m_match_bool_j_4502 = var_j_4493 ~ {bj_actual_rec, _};
                            m_match_cond_j_4503 = m_match_bool_j_4502 ? (
                                    actual_rec_b_636 = var_j_4493.bj_actual_rec;
                                    var_j_4504 = right_j_303;
                                    proj_j_4505 = var_j_4504.bj_decl_lbls;
                                    m_match_bool_j_4507 = proj_j_4505 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_4508 = m_match_bool_j_4507 ? (
                                            ri_j_300 = proj_j_4505.item;
                                            rleft_j_299 = proj_j_4505.left;
                                            rright_j_298 = proj_j_4505.right;
                                            var_j_4509 = actual_rec_b_636;
                                            proj_j_4510 = var_j_4509.right;
                                            rright = proj_j_4510;
                                            var_j_4511 = actual_rec_b_636;
                                            proj_j_4512 = var_j_4511.left;
                                            rleft = proj_j_4512;
                                            var_j_4513 = actual_rec_b_636;
                                            proj_j_4514 = var_j_4513.item;
                                            ri = proj_j_4514;
                                            var_j_4515 = create_node;
                                            var_j_4516 = ri;
                                            m_i_5302 = var_j_4515 ~ fun;
                                            appl_j_4517 = m_i_5302 ? (
                                                    c_appl_i_5303 = var_j_4515 var_j_4516
                                                ) : (
                                                    ab_i_5304 = abort
                                                );
                                            var_j_4518 = create_node;
                                            var_j_4519 = item_j_301;
                                            m_i_5305 = var_j_4518 ~ fun;
                                            appl_j_4520 = m_i_5305 ? (
                                                    c_appl_i_5306 = var_j_4518 var_j_4519
                                                ) : (
                                                    ab_i_5307 = abort
                                                );
                                            var_j_4521 = left_j_302;
                                            m_i_5308 = appl_j_4520 ~ fun;
                                            appl_j_4522 = m_i_5308 ? (
                                                    c_appl_i_5309 = appl_j_4520 var_j_4521
                                                ) : (
                                                    ab_i_5310 = abort
                                                );
                                            var_j_4523 = rleft;
                                            m_i_5311 = appl_j_4522 ~ fun;
                                            appl_j_4524 = m_i_5311 ? (
                                                    c_appl_i_5312 = appl_j_4522 var_j_4523
                                                ) : (
                                                    ab_i_5313 = abort
                                                );
                                            m_i_5314 = appl_j_4517 ~ fun;
                                            appl_j_4525 = m_i_5314 ? (
                                                    c_appl_i_5315 = appl_j_4517 appl_j_4524
                                                ) : (
                                                    ab_i_5316 = abort
                                                );
                                            var_j_4526 = rright;
                                            m_i_5317 = appl_j_4525 ~ fun;
                                            appl_j_4527 = m_i_5317 ? (
                                                    c_appl_i_5318 = appl_j_4525 var_j_4526
                                                ) : (
                                                    ab_i_5319 = abort
                                                )
                                        ) : (
                                            ab_j_4506 = abort
                                        )
                                ) : (
                                    m_match_cond_j_4496 = m_match_bool_j_4495 ? (
                                            var_j_4497 = fail_b_610;
                                            assert_pred_j_4498 = var_j_4497;
                                            assert_res_j_4499 = assert_pred_j_4498 ? (
                                                    assert_res_true_j_4500 = 
                                                        {}
                                                ) : (
                                                    ab_j_4501 = abort
                                                )
                                        ) : (
                                            ab_j_4494 = abort
                                        )
                                )
                        ) : (
                            ab_j_4483 = abort
                        )
                ) : (
                    m_match_cond_j_4473 = m_match_bool_j_4472 ? (
                            var_j_4474 = fail_b_609;
                            assert_pred_j_4475 = var_j_4474;
                            assert_res_j_4476 = assert_pred_j_4475 ? (
                                    assert_res_true_j_4477 = {}
                                ) : (
                                    ab_j_4478 = abort
                                )
                        ) : (
                            ab_j_4471 = abort
                        )
                ));
        rotate_left = rotate_left_j_4528;
        rotate_right_j_4588 = fun x_j_297 -> (
            bool_j_4529 = false;
            fail_b_611 = bool_j_4529;
            var_j_4530 = x_j_297;
            m_match_bool_j_4532 = var_j_4530 ~ {bj_untouched, _};
            m_match_bool_j_4539 = var_j_4530 ~ {bj_actual_rec, _};
            m_match_cond_j_4540 = m_match_bool_j_4539 ? (
                    actual_rec_b_639 = var_j_4530.bj_actual_rec;
                    var_j_4541 = x_j_297;
                    proj_j_4542 = var_j_4541.bj_decl_lbls;
                    m_match_bool_j_4544 = proj_j_4542 ~ {item, left, right, _};
                    m_match_cond_j_4545 = m_match_bool_j_4544 ? (
                            item_j_296 = proj_j_4542.item;
                            left_j_295 = proj_j_4542.left;
                            right_j_294 = proj_j_4542.right;
                            var_j_4546 = actual_rec_b_639;
                            proj_j_4547 = var_j_4546.right;
                            right_j_293 = proj_j_4547;
                            var_j_4548 = actual_rec_b_639;
                            proj_j_4549 = var_j_4548.left;
                            left_j_292 = proj_j_4549;
                            var_j_4550 = actual_rec_b_639;
                            proj_j_4551 = var_j_4550.item;
                            item_j_291 = proj_j_4551;
                            bool_j_4552 = false;
                            fail_b_612 = bool_j_4552;
                            var_j_4553 = left_j_292;
                            m_match_bool_j_4555 = var_j_4553 ~ {bj_untouched, _};
                            m_match_bool_j_4562 = var_j_4553 ~ {bj_actual_rec, _};
                            m_match_cond_j_4563 = m_match_bool_j_4562 ? (
                                    actual_rec_b_638 = var_j_4553.bj_actual_rec;
                                    var_j_4564 = left_j_292;
                                    proj_j_4565 = var_j_4564.bj_decl_lbls;
                                    m_match_bool_j_4567 = proj_j_4565 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_4568 = m_match_bool_j_4567 ? (
                                            li_j_290 = proj_j_4565.item;
                                            lleft_j_289 = proj_j_4565.left;
                                            lright_j_288 = proj_j_4565.right;
                                            var_j_4569 = actual_rec_b_638;
                                            proj_j_4570 = var_j_4569.right;
                                            lright = proj_j_4570;
                                            var_j_4571 = actual_rec_b_638;
                                            proj_j_4572 = var_j_4571.left;
                                            lleft = proj_j_4572;
                                            var_j_4573 = actual_rec_b_638;
                                            proj_j_4574 = var_j_4573.item;
                                            li = proj_j_4574;
                                            var_j_4575 = create_node;
                                            var_j_4576 = li;
                                            m_i_5320 = var_j_4575 ~ fun;
                                            appl_j_4577 = m_i_5320 ? (
                                                    c_appl_i_5321 = var_j_4575 var_j_4576
                                                ) : (
                                                    ab_i_5322 = abort
                                                );
                                            var_j_4578 = lleft;
                                            m_i_5323 = appl_j_4577 ~ fun;
                                            appl_j_4579 = m_i_5323 ? (
                                                    c_appl_i_5324 = appl_j_4577 var_j_4578
                                                ) : (
                                                    ab_i_5325 = abort
                                                );
                                            var_j_4580 = create_node;
                                            var_j_4581 = item_j_291;
                                            m_i_5326 = var_j_4580 ~ fun;
                                            appl_j_4582 = m_i_5326 ? (
                                                    c_appl_i_5327 = var_j_4580 var_j_4581
                                                ) : (
                                                    ab_i_5328 = abort
                                                );
                                            var_j_4583 = lright;
                                            m_i_5329 = appl_j_4582 ~ fun;
                                            appl_j_4584 = m_i_5329 ? (
                                                    c_appl_i_5330 = appl_j_4582 var_j_4583
                                                ) : (
                                                    ab_i_5331 = abort
                                                );
                                            var_j_4585 = right_j_293;
                                            m_i_5332 = appl_j_4584 ~ fun;
                                            appl_j_4586 = m_i_5332 ? (
                                                    c_appl_i_5333 = appl_j_4584 var_j_4585
                                                ) : (
                                                    ab_i_5334 = abort
                                                );
                                            m_i_5335 = appl_j_4579 ~ fun;
                                            appl_j_4587 = m_i_5335 ? (
                                                    c_appl_i_5336 = appl_j_4579 appl_j_4586
                                                ) : (
                                                    ab_i_5337 = abort
                                                )
                                        ) : (
                                            ab_j_4566 = abort
                                        )
                                ) : (
                                    m_match_cond_j_4556 = m_match_bool_j_4555 ? (
                                            var_j_4557 = fail_b_612;
                                            assert_pred_j_4558 = var_j_4557;
                                            assert_res_j_4559 = assert_pred_j_4558 ? (
                                                    assert_res_true_j_4560 = 
                                                        {}
                                                ) : (
                                                    ab_j_4561 = abort
                                                )
                                        ) : (
                                            ab_j_4554 = abort
                                        )
                                )
                        ) : (
                            ab_j_4543 = abort
                        )
                ) : (
                    m_match_cond_j_4533 = m_match_bool_j_4532 ? (
                            var_j_4534 = fail_b_611;
                            assert_pred_j_4535 = var_j_4534;
                            assert_res_j_4536 = assert_pred_j_4535 ? (
                                    assert_res_true_j_4537 = {}
                                ) : (
                                    ab_j_4538 = abort
                                )
                        ) : (
                            ab_j_4531 = abort
                        )
                ));
        rotate_right = rotate_right_j_4588;
        rotate_left_right_j_4623 = fun x_j_287 -> (
            bool_j_4589 = false;
            fail_b_613 = bool_j_4589;
            var_j_4590 = x_j_287;
            m_match_bool_j_4592 = var_j_4590 ~ {bj_untouched, _};
            m_match_bool_j_4599 = var_j_4590 ~ {bj_actual_rec, _};
            m_match_cond_j_4600 = m_match_bool_j_4599 ? (
                    actual_rec_b_640 = var_j_4590.bj_actual_rec;
                    var_j_4601 = x_j_287;
                    proj_j_4602 = var_j_4601.bj_decl_lbls;
                    m_match_bool_j_4604 = proj_j_4602 ~ {item, left, right, _};
                    m_match_cond_j_4605 = m_match_bool_j_4604 ? (
                            item_j_286 = proj_j_4602.item;
                            left_j_285 = proj_j_4602.left;
                            right_j_284 = proj_j_4602.right;
                            var_j_4606 = actual_rec_b_640;
                            proj_j_4607 = var_j_4606.right;
                            right_j_283 = proj_j_4607;
                            var_j_4608 = actual_rec_b_640;
                            proj_j_4609 = var_j_4608.left;
                            left_j_282 = proj_j_4609;
                            var_j_4610 = actual_rec_b_640;
                            proj_j_4611 = var_j_4610.item;
                            item_j_281 = proj_j_4611;
                            var_j_4612 = rotate_right;
                            var_j_4613 = create_node;
                            var_j_4614 = item_j_281;
                            m_i_5338 = var_j_4613 ~ fun;
                            appl_j_4615 = m_i_5338 ? (
                                    c_appl_i_5339 = var_j_4613 var_j_4614
                                ) : (
                                    ab_i_5340 = abort
                                );
                            var_j_4616 = rotate_left;
                            var_j_4617 = left_j_282;
                            m_i_5341 = var_j_4616 ~ fun;
                            appl_j_4618 = m_i_5341 ? (
                                    c_appl_i_5342 = var_j_4616 var_j_4617
                                ) : (
                                    ab_i_5343 = abort
                                );
                            m_i_5344 = appl_j_4615 ~ fun;
                            appl_j_4619 = m_i_5344 ? (
                                    c_appl_i_5345 = appl_j_4615 appl_j_4618
                                ) : (
                                    ab_i_5346 = abort
                                );
                            var_j_4620 = right_j_283;
                            m_i_5347 = appl_j_4619 ~ fun;
                            appl_j_4621 = m_i_5347 ? (
                                    c_appl_i_5348 = appl_j_4619 var_j_4620
                                ) : (
                                    ab_i_5349 = abort
                                );
                            m_i_5350 = var_j_4612 ~ fun;
                            appl_j_4622 = m_i_5350 ? (
                                    c_appl_i_5351 = var_j_4612 appl_j_4621
                                ) : (
                                    ab_i_5352 = abort
                                )
                        ) : (
                            ab_j_4603 = abort
                        )
                ) : (
                    m_match_cond_j_4593 = m_match_bool_j_4592 ? (
                            var_j_4594 = fail_b_613;
                            assert_pred_j_4595 = var_j_4594;
                            assert_res_j_4596 = assert_pred_j_4595 ? (
                                    assert_res_true_j_4597 = {}
                                ) : (
                                    ab_j_4598 = abort
                                )
                        ) : (
                            ab_j_4591 = abort
                        )
                ));
        rotate_left_right = rotate_left_right_j_4623;
        rotate_right_left_j_4658 = fun x_j_280 -> (
            bool_j_4624 = false;
            fail_b_614 = bool_j_4624;
            var_j_4625 = x_j_280;
            m_match_bool_j_4627 = var_j_4625 ~ {bj_untouched, _};
            m_match_bool_j_4634 = var_j_4625 ~ {bj_actual_rec, _};
            m_match_cond_j_4635 = m_match_bool_j_4634 ? (
                    actual_rec_b_641 = var_j_4625.bj_actual_rec;
                    var_j_4636 = x_j_280;
                    proj_j_4637 = var_j_4636.bj_decl_lbls;
                    m_match_bool_j_4639 = proj_j_4637 ~ {item, left, right, _};
                    m_match_cond_j_4640 = m_match_bool_j_4639 ? (
                            item_j_279 = proj_j_4637.item;
                            left_j_278 = proj_j_4637.left;
                            right_j_277 = proj_j_4637.right;
                            var_j_4641 = actual_rec_b_641;
                            proj_j_4642 = var_j_4641.right;
                            right_j_276 = proj_j_4642;
                            var_j_4643 = actual_rec_b_641;
                            proj_j_4644 = var_j_4643.left;
                            left_j_275 = proj_j_4644;
                            var_j_4645 = actual_rec_b_641;
                            proj_j_4646 = var_j_4645.item;
                            item_j_274 = proj_j_4646;
                            var_j_4647 = rotate_left;
                            var_j_4648 = create_node;
                            var_j_4649 = item_j_274;
                            m_i_5353 = var_j_4648 ~ fun;
                            appl_j_4650 = m_i_5353 ? (
                                    c_appl_i_5354 = var_j_4648 var_j_4649
                                ) : (
                                    ab_i_5355 = abort
                                );
                            var_j_4651 = left_j_275;
                            m_i_5356 = appl_j_4650 ~ fun;
                            appl_j_4652 = m_i_5356 ? (
                                    c_appl_i_5357 = appl_j_4650 var_j_4651
                                ) : (
                                    ab_i_5358 = abort
                                );
                            var_j_4653 = rotate_right;
                            var_j_4654 = right_j_276;
                            m_i_5359 = var_j_4653 ~ fun;
                            appl_j_4655 = m_i_5359 ? (
                                    c_appl_i_5360 = var_j_4653 var_j_4654
                                ) : (
                                    ab_i_5361 = abort
                                );
                            m_i_5362 = appl_j_4652 ~ fun;
                            appl_j_4656 = m_i_5362 ? (
                                    c_appl_i_5363 = appl_j_4652 appl_j_4655
                                ) : (
                                    ab_i_5364 = abort
                                );
                            m_i_5365 = var_j_4647 ~ fun;
                            appl_j_4657 = m_i_5365 ? (
                                    c_appl_i_5366 = var_j_4647 appl_j_4656
                                ) : (
                                    ab_i_5367 = abort
                                )
                        ) : (
                            ab_j_4638 = abort
                        )
                ) : (
                    m_match_cond_j_4628 = m_match_bool_j_4627 ? (
                            var_j_4629 = fail_b_614;
                            assert_pred_j_4630 = var_j_4629;
                            assert_res_j_4631 = assert_pred_j_4630 ? (
                                    assert_res_true_j_4632 = {}
                                ) : (
                                    ab_j_4633 = abort
                                )
                        ) : (
                            ab_j_4626 = abort
                        )
                ));
        rotate_right_left = rotate_right_left_j_4658;
        flatten_fun_j_4786 = fun insert_j_0 -> (
            flatten_fun_j_4785 = fun tree -> (
                flatten_fun_j_4784 = fun i_j_268 -> (
                    var_j_4659 = insert_j_0;
                    var_j_4660 = insert_j_0;
                    appl_j_4661 = var_j_4659 var_j_4660;
                    insert = appl_j_4661;
                    rebalance_j_4705 = fun i -> (
                        rebalance_j_4704 = fun node -> (
                            var_j_4662 = balance_factor;
                            var_j_4663 = node;
                            m_i_5368 = var_j_4662 ~ fun;
                            appl_j_4664 = m_i_5368 ? (
                                    c_appl_i_5369 = var_j_4662 var_j_4663
                                ) : (
                                    ab_i_5370 = abort
                                );
                            bf = appl_j_4664;
                            int_j_4665 = 1;
                            var_j_4666 = bf;
                            m_bl_i_5371 = int_j_4665 ~ int;
                            m_br_i_5372 = var_j_4666 ~ int;
                            m_b_i_5373 = m_bl_i_5371 and m_br_i_5372;
                            binop_j_4667 = m_b_i_5373 ? (
                                    c_binop_i_5374 = int_j_4665 < var_j_4666
                                ) : (
                                    ab_i_5375 = abort
                                );
                            m_i_5376 = binop_j_4667 ~ bool;
                            if_j_4703 = m_i_5376 ? (
                                    c_cond_i_5430 = binop_j_4667 ? (
                                            var_j_4668 = i;
                                            var_j_4669 = item_exn;
                                            var_j_4670 = left_exn;
                                            var_j_4671 = node;
                                            m_i_5377 = var_j_4670 ~ fun;
                                            appl_j_4672 = m_i_5377 ? (
                                                    c_appl_i_5378 = var_j_4670 var_j_4671
                                                ) : (
                                                    ab_i_5379 = abort
                                                );
                                            m_i_5380 = var_j_4669 ~ fun;
                                            appl_j_4673 = m_i_5380 ? (
                                                    c_appl_i_5381 = var_j_4669 appl_j_4672
                                                ) : (
                                                    ab_i_5382 = abort
                                                );
                                            m_bl_i_5383 = var_j_4668 ~ int;
                                            m_br_i_5384 = appl_j_4673 ~ int;
                                            m_b_i_5385 = m_bl_i_5383 and m_br_i_5384;
                                            binop_j_4674 = m_b_i_5385 ? (
                                                    c_binop_i_5386 = var_j_4668 < appl_j_4673
                                                ) : (
                                                    ab_i_5387 = abort
                                                );
                                            m_i_5388 = binop_j_4674 ~ bool;
                                            if_j_4681 = m_i_5388 ? (
                                                    c_cond_i_5395 = binop_j_4674 ? (
                                                            var_j_4675 = rotate_left;
                                                            var_j_4676 = node;
                                                            m_i_5389 = var_j_4675 ~ fun;
                                                            appl_j_4677 = m_i_5389 ? (
                                                                    c_appl_i_5390 = var_j_4675 var_j_4676
                                                                ) : (
                                                                    ab_i_5391 = abort
                                                                )
                                                        ) : (
                                                            var_j_4678 = rotate_left_right;
                                                            var_j_4679 = node;
                                                            m_i_5392 = var_j_4678 ~ fun;
                                                            appl_j_4680 = m_i_5392 ? (
                                                                    c_appl_i_5393 = var_j_4678 var_j_4679
                                                                ) : (
                                                                    ab_i_5394 = abort
                                                                )
                                                        )
                                                ) : (
                                                    ab_i_5396 = abort
                                                )
                                        ) : (
                                            var_j_4682 = bf;
                                            int_j_4683 = 0;
                                            int_j_4684 = 1;
                                            m_bl_i_5397 = int_j_4683 ~ int;
                                            m_br_i_5398 = int_j_4684 ~ int;
                                            m_b_i_5399 = m_bl_i_5397 and m_br_i_5398;
                                            binop_j_4685 = m_b_i_5399 ? (
                                                    c_binop_i_5400 = int_j_4683 - int_j_4684
                                                ) : (
                                                    ab_i_5401 = abort
                                                );
                                            m_bl_i_5402 = var_j_4682 ~ int;
                                            m_br_i_5403 = binop_j_4685 ~ int;
                                            m_b_i_5404 = m_bl_i_5402 and m_br_i_5403;
                                            binop_j_4686 = m_b_i_5404 ? (
                                                    c_binop_i_5405 = var_j_4682 < binop_j_4685
                                                ) : (
                                                    ab_i_5406 = abort
                                                );
                                            m_i_5407 = binop_j_4686 ~ bool;
                                            if_j_4702 = m_i_5407 ? (
                                                    c_cond_i_5428 = binop_j_4686 ? (
                                                            var_j_4687 = item_exn;
                                                            var_j_4688 = right_exn;
                                                            var_j_4689 = node;
                                                            m_i_5408 = var_j_4688 ~ fun;
                                                            appl_j_4690 = m_i_5408 ? (
                                                                    c_appl_i_5409 = var_j_4688 var_j_4689
                                                                ) : (
                                                                    ab_i_5410 = abort
                                                                );
                                                            m_i_5411 = var_j_4687 ~ fun;
                                                            appl_j_4691 = m_i_5411 ? (
                                                                    c_appl_i_5412 = var_j_4687 appl_j_4690
                                                                ) : (
                                                                    ab_i_5413 = abort
                                                                );
                                                            var_j_4692 = i;
                                                            m_bl_i_5414 = appl_j_4691 ~ int;
                                                            m_br_i_5415 = var_j_4692 ~ int;
                                                            m_b_i_5416 = m_bl_i_5414 and m_br_i_5415;
                                                            binop_j_4693 = m_b_i_5416 ? (
                                                                    c_binop_i_5417 = appl_j_4691 < var_j_4692
                                                                ) : (
                                                                    ab_i_5418 = abort
                                                                );
                                                            m_i_5419 = binop_j_4693 ~ bool;
                                                            if_j_4700 = m_i_5419 ? (
                                                                    c_cond_i_5426 = binop_j_4693 ? (
                                                                        var_j_4694 = rotate_left;
                                                                    var_j_4695 = node;
                                                                    m_i_5420 = var_j_4694 ~ fun;
                                                                    appl_j_4696 = m_i_5420 ? (
                                                                        c_appl_i_5421 = var_j_4694 var_j_4695
                                                                    ) : (
                                                                        ab_i_5422 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_4697 = rotate_right_left;
                                                                    var_j_4698 = node;
                                                                    m_i_5423 = var_j_4697 ~ fun;
                                                                    appl_j_4699 = m_i_5423 ? (
                                                                        c_appl_i_5424 = var_j_4697 var_j_4698
                                                                    ) : (
                                                                        ab_i_5425 = abort
                                                                    )
                                                                    )
                                                                ) : (
                                                                    ab_i_5427 = abort
                                                                )
                                                        ) : (
                                                            var_j_4701 = node
                                                        )
                                                ) : (
                                                    ab_i_5429 = abort
                                                )
                                        )
                                ) : (
                                    ab_i_5431 = abort
                                )));
                    rebalance = rebalance_j_4705;
                    bool_j_4706 = false;
                    fail_b_623 = bool_j_4706;
                    var_j_4707 = tree;
                    m_match_bool_j_4709 = var_j_4707 ~ {bj_untouched, _};
                    m_match_bool_j_4716 = var_j_4707 ~ {bj_actual_rec, _};
                    m_match_cond_j_4717 = m_match_bool_j_4716 ? (
                            actual_rec_b_645 = var_j_4707.bj_actual_rec;
                            var_j_4718 = tree;
                            proj_j_4719 = var_j_4718.bj_decl_lbls;
                            m_match_bool_j_4721 = proj_j_4719 ~ {item, left, right, _};
                            m_match_bool_j_4765 = proj_j_4719 ~ {leaf};
                            m_match_cond_j_4766 = m_match_bool_j_4765 ? (
                                    b_j_261 = proj_j_4719.leaf;
                                    var_j_4767 = actual_rec_b_645;
                                    proj_j_4768 = var_j_4767.leaf;
                                    b = proj_j_4768;
                                    var_j_4769 = create_node;
                                    var_j_4770 = i_j_268;
                                    m_i_5432 = var_j_4769 ~ fun;
                                    appl_j_4771 = m_i_5432 ? (
                                            c_appl_i_5433 = var_j_4769 var_j_4770
                                        ) : (
                                            ab_i_5434 = abort
                                        );
                                    bool_j_4772 = true;
                                    record_j_4773 = {leaf = bool_j_4772};
                                    record_j_4774 = {};
                                    record_j_4775 = {leaf = record_j_4774};
                                    record_j_4776 = {bj_actual_rec = record_j_4773, bj_decl_lbls = record_j_4775};
                                    m_i_5435 = appl_j_4771 ~ fun;
                                    appl_j_4777 = m_i_5435 ? (
                                            c_appl_i_5436 = appl_j_4771 record_j_4776
                                        ) : (
                                            ab_i_5437 = abort
                                        );
                                    bool_j_4778 = true;
                                    record_j_4779 = {leaf = bool_j_4778};
                                    record_j_4780 = {};
                                    record_j_4781 = {leaf = record_j_4780};
                                    record_j_4782 = {bj_actual_rec = record_j_4779, bj_decl_lbls = record_j_4781};
                                    m_i_5438 = appl_j_4777 ~ fun;
                                    appl_j_4783 = m_i_5438 ? (
                                            c_appl_i_5439 = appl_j_4777 record_j_4782
                                        ) : (
                                            ab_i_5440 = abort
                                        )
                                ) : (
                                    m_match_cond_j_4722 = m_match_bool_j_4721 ? (
                                            item_j_267 = proj_j_4719.item;
                                            left_j_266 = proj_j_4719.left;
                                            right_j_265 = proj_j_4719.right;
                                            var_j_4723 = actual_rec_b_645;
                                            proj_j_4724 = var_j_4723.right;
                                            right_j_264 = proj_j_4724;
                                            var_j_4725 = actual_rec_b_645;
                                            proj_j_4726 = var_j_4725.left;
                                            left_j_263 = proj_j_4726;
                                            var_j_4727 = actual_rec_b_645;
                                            proj_j_4728 = var_j_4727.item;
                                            item_j_262 = proj_j_4728;
                                            var_j_4729 = i_j_268;
                                            var_j_4730 = item_j_262;
                                            m_bl_i_5441 = var_j_4729 ~ int;
                                            m_br_i_5442 = var_j_4730 ~ int;
                                            m_b_i_5443 = m_bl_i_5441 and m_br_i_5442;
                                            binop_j_4731 = m_b_i_5443 ? (
                                                    c_binop_i_5444 = var_j_4729 < var_j_4730
                                                ) : (
                                                    ab_i_5445 = abort
                                                );
                                            m_i_5446 = binop_j_4731 ~ bool;
                                            if_j_4759 = m_i_5446 ? (
                                                    c_cond_i_5485 = binop_j_4731 ? (
                                                            var_j_4732 = create_node;
                                                            var_j_4733 = item_j_262;
                                                            m_i_5447 = var_j_4732 ~ fun;
                                                            appl_j_4734 = m_i_5447 ? (
                                                                    c_appl_i_5448 = var_j_4732 var_j_4733
                                                                ) : (
                                                                    ab_i_5449 = abort
                                                                );
                                                            var_j_4735 = insert;
                                                            var_j_4736 = left_j_263;
                                                            m_i_5450 = var_j_4735 ~ fun;
                                                            appl_j_4737 = m_i_5450 ? (
                                                                    c_appl_i_5451 = var_j_4735 var_j_4736
                                                                ) : (
                                                                    ab_i_5452 = abort
                                                                );
                                                            var_j_4738 = i_j_268;
                                                            m_i_5453 = appl_j_4737 ~ fun;
                                                            appl_j_4739 = m_i_5453 ? (
                                                                    c_appl_i_5454 = appl_j_4737 var_j_4738
                                                                ) : (
                                                                    ab_i_5455 = abort
                                                                );
                                                            m_i_5456 = appl_j_4734 ~ fun;
                                                            appl_j_4740 = m_i_5456 ? (
                                                                    c_appl_i_5457 = appl_j_4734 appl_j_4739
                                                                ) : (
                                                                    ab_i_5458 = abort
                                                                );
                                                            var_j_4741 = right_j_264;
                                                            m_i_5459 = appl_j_4740 ~ fun;
                                                            appl_j_4742 = m_i_5459 ? (
                                                                    c_appl_i_5460 = appl_j_4740 var_j_4741
                                                                ) : (
                                                                    ab_i_5461 = abort
                                                                )
                                                        ) : (
                                                            var_j_4743 = item_j_262;
                                                            var_j_4744 = i_j_268;
                                                            m_bl_i_5462 = var_j_4743 ~ int;
                                                            m_br_i_5463 = var_j_4744 ~ int;
                                                            m_b_i_5464 = m_bl_i_5462 and m_br_i_5463;
                                                            binop_j_4745 = m_b_i_5464 ? (
                                                                    c_binop_i_5465 = var_j_4743 < var_j_4744
                                                                ) : (
                                                                    ab_i_5466 = abort
                                                                );
                                                            m_i_5467 = binop_j_4745 ~ bool;
                                                            if_j_4758 = m_i_5467 ? (
                                                                    c_cond_i_5483 = binop_j_4745 ? (
                                                                        var_j_4746 = create_node;
                                                                    var_j_4747 = item_j_262;
                                                                    m_i_5468 = var_j_4746 ~ fun;
                                                                    appl_j_4748 = m_i_5468 ? (
                                                                        c_appl_i_5469 = var_j_4746 var_j_4747
                                                                    ) : (
                                                                        ab_i_5470 = abort
                                                                    );
                                                                    var_j_4749 = left_j_263;
                                                                    m_i_5471 = appl_j_4748 ~ fun;
                                                                    appl_j_4750 = m_i_5471 ? (
                                                                        c_appl_i_5472 = appl_j_4748 var_j_4749
                                                                    ) : (
                                                                        ab_i_5473 = abort
                                                                    );
                                                                    var_j_4751 = insert;
                                                                    var_j_4752 = right_j_264;
                                                                    m_i_5474 = var_j_4751 ~ fun;
                                                                    appl_j_4753 = m_i_5474 ? (
                                                                        c_appl_i_5475 = var_j_4751 var_j_4752
                                                                    ) : (
                                                                        ab_i_5476 = abort
                                                                    );
                                                                    var_j_4754 = i_j_268;
                                                                    m_i_5477 = appl_j_4753 ~ fun;
                                                                    appl_j_4755 = m_i_5477 ? (
                                                                        c_appl_i_5478 = appl_j_4753 var_j_4754
                                                                    ) : (
                                                                        ab_i_5479 = abort
                                                                    );
                                                                    m_i_5480 = appl_j_4750 ~ fun;
                                                                    appl_j_4756 = m_i_5480 ? (
                                                                        c_appl_i_5481 = appl_j_4750 appl_j_4755
                                                                    ) : (
                                                                        ab_i_5482 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_4757 = tree
                                                                    )
                                                                ) : (
                                                                    ab_i_5484 = abort
                                                                )
                                                        )
                                                ) : (
                                                    ab_i_5486 = abort
                                                );
                                            new_node = if_j_4759;
                                            var_j_4760 = rebalance;
                                            var_j_4761 = i_j_268;
                                            m_i_5487 = var_j_4760 ~ fun;
                                            appl_j_4762 = m_i_5487 ? (
                                                    c_appl_i_5488 = var_j_4760 var_j_4761
                                                ) : (
                                                    ab_i_5489 = abort
                                                );
                                            var_j_4763 = new_node;
                                            m_i_5490 = appl_j_4762 ~ fun;
                                            appl_j_4764 = m_i_5490 ? (
                                                    c_appl_i_5491 = appl_j_4762 var_j_4763
                                                ) : (
                                                    ab_i_5492 = abort
                                                )
                                        ) : (
                                            ab_j_4720 = abort
                                        )
                                )
                        ) : (
                            m_match_cond_j_4710 = m_match_bool_j_4709 ? (
                                    var_j_4711 = fail_b_623;
                                    assert_pred_j_4712 = var_j_4711;
                                    assert_res_j_4713 = assert_pred_j_4712 ? (
                                            assert_res_true_j_4714 = 
                                                {}
                                        ) : (
                                            ab_j_4715 = abort
                                        )
                                ) : (
                                    ab_j_4708 = abort
                                )
                        ))));
        insert_j_0_j_273 = flatten_fun_j_4786;
        var_j_4787 = insert_j_0_j_273;
        var_j_4788 = insert_j_0_j_273;
        appl_j_4789 = var_j_4787 var_j_4788;
        insert_j_272 = appl_j_4789;
        flatten_fun_j_4804 = fun expr_b_616 -> (
            var_j_4790 = appl_j_4227;
            proj_j_4791 = var_j_4790.checker;
            var_j_4792 = expr_b_616;
            appl_j_4793 = proj_j_4791 var_j_4792;
            t_check_b_617 = appl_j_4793;
            var_j_4794 = t_check_b_617;
            if_j_4803 = var_j_4794 ? (
                    bool_j_4795 = false;
                    pred_check_b_618 = bool_j_4795;
                    var_j_4796 = is_balanced_j_311;
                    var_j_4797 = expr_b_616;
                    appl_j_4798 = var_j_4796 var_j_4797;
                    if_j_4801 = appl_j_4798 ? (
                            bool_j_4799 = true
                        ) : (
                            var_j_4800 = pred_check_b_618
                        )
                ) : (
                    var_j_4802 = t_check_b_617
                ));
        flatten_fun_j_4816 = fun bj_null_j_269 -> (
            var_j_4805 = appl_j_4227;
            proj_j_4806 = var_j_4805.generator;
            int_j_4807 = 0;
            appl_j_4808 = proj_j_4806 int_j_4807;
            candidate_b_615 = appl_j_4808;
            var_j_4809 = is_balanced_j_311;
            var_j_4810 = candidate_b_615;
            appl_j_4811 = var_j_4809 var_j_4810;
            if_j_4815 = appl_j_4811 ? (
                    var_j_4812 = candidate_b_615
                ) : (
                    bool_j_4813 = false;
                    assume_j_4814 = assume bool_j_4813
                ));
        record_j_4817 = {checker = flatten_fun_j_4804, generator = flatten_fun_j_4816};
        proj_j_4818 = record_j_4817.generator;
        int_j_4819 = 0;
        appl_j_4820 = proj_j_4818 int_j_4819;
        tree_b_644 = appl_j_4820;
        bool_j_4821 = false;
        fail_b_621 = bool_j_4821;
        flatten_fun_j_4830 = fun expr_b_620 -> (
            var_j_4822 = expr_b_620;
            m_match_bool_j_4824 = var_j_4822 ~ any;
            m_match_bool_j_4827 = var_j_4822 ~ int;
            m_match_cond_j_4828 = m_match_bool_j_4827 ? (
                    bool_j_4829 = true
                ) : (
                    m_match_cond_j_4825 = m_match_bool_j_4824 ? (
                            var_j_4826 = fail_b_621
                        ) : (
                            void_j_4823 = {}
                        )
                ));
        flatten_fun_j_4832 = fun bj_null_j_270 -> (
            input_j_4831 = input);
        record_j_4833 = {checker = flatten_fun_j_4830, generator = flatten_fun_j_4832};
        proj_j_4834 = record_j_4833.generator;
        int_j_4835 = 0;
        appl_j_4836 = proj_j_4834 int_j_4835;
        i_b_643 = appl_j_4836;
        flatten_fun_j_4851 = fun expr_b_625 -> (
            var_j_4837 = appl_j_4227;
            proj_j_4838 = var_j_4837.checker;
            var_j_4839 = expr_b_625;
            appl_j_4840 = proj_j_4838 var_j_4839;
            t_check_b_626 = appl_j_4840;
            var_j_4841 = t_check_b_626;
            if_j_4850 = var_j_4841 ? (
                    bool_j_4842 = false;
                    pred_check_b_627 = bool_j_4842;
                    var_j_4843 = is_balanced_j_311;
                    var_j_4844 = expr_b_625;
                    appl_j_4845 = var_j_4843 var_j_4844;
                    if_j_4848 = appl_j_4845 ? (
                            bool_j_4846 = true
                        ) : (
                            var_j_4847 = pred_check_b_627
                        )
                ) : (
                    var_j_4849 = t_check_b_626
                ));
        flatten_fun_j_4863 = fun bj_null_j_271 -> (
            var_j_4852 = appl_j_4227;
            proj_j_4853 = var_j_4852.generator;
            int_j_4854 = 0;
            appl_j_4855 = proj_j_4853 int_j_4854;
            candidate_b_624 = appl_j_4855;
            var_j_4856 = is_balanced_j_311;
            var_j_4857 = candidate_b_624;
            appl_j_4858 = var_j_4856 var_j_4857;
            if_j_4862 = appl_j_4858 ? (
                    var_j_4859 = candidate_b_624
                ) : (
                    bool_j_4860 = false;
                    assume_j_4861 = assume bool_j_4860
                ));
        record_j_4864 = {checker = flatten_fun_j_4851, generator = flatten_fun_j_4863};
        proj_j_4865 = record_j_4864.checker;
        var_j_4866 = insert_j_272;
        var_j_4867 = tree_b_644;
        appl_j_4868 = var_j_4866 var_j_4867;
        var_j_4869 = i_b_643;
        appl_j_4870 = appl_j_4868 var_j_4869;
        appl_j_4871 = proj_j_4865 appl_j_4870;
        check_res_b_642 = appl_j_4871;
        var_j_4872 = check_res_b_642;
        if_j_4879 = var_j_4872 ? (
                var_j_4873 = insert_j_272
            ) : (
                error_var_j_4874 = check_res_b_642;
                assert_pred_j_4875 = error_var_j_4874;
                assert_res_j_4876 = assert_pred_j_4875 ? (
                        assert_res_true_j_4877 = {}
                    ) : (
                        ab_j_4878 = abort
                    )
            )
    ) : (
        error_var_j_4880 = check_res_b_646;
        assert_pred_j_4881 = error_var_j_4880;
        assert_res_j_4882 = assert_pred_j_4881 ? (
                assert_res_true_j_4883 = {}
            ) : (
                ab_j_4884 = abort
            )
    );
i_result = if_j_4885