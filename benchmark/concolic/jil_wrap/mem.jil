i_first = {};
flatten_fun_j_78 = fun mem_j_5 -> (
    flatten_fun_j_77 = fun x -> (
        flatten_fun_j_76 = fun xs -> (
            var_j_49 = mem_j_5;
            var_j_50 = mem_j_5;
            appl_j_51 = var_j_49 var_j_50;
            mem = appl_j_51;
            bool_j_52 = false;
            fail_b_2 = bool_j_52;
            var_j_53 = xs;
            m_match_bool_j_55 = var_j_53 ~ {j_head, j_tail, _};
            m_match_bool_j_66 = var_j_53 ~ {j_empty, _};
            m_match_bool_j_69 = var_j_53 ~ {bj_untouched, _};
            m_match_cond_j_70 = m_match_bool_j_69 ? (
                    var_j_71 = fail_b_2;
                    assert_pred_j_72 = var_j_71;
                    assert_res_j_73 = assert_pred_j_72 ? (
                            assert_res_true_j_74 = {}
                        ) : (
                            ab_j_75 = abort
                        )
                ) : (
                    m_match_cond_j_67 = m_match_bool_j_66 ? (
                            bool_j_68 = false
                        ) : (
                            m_match_cond_j_56 = m_match_bool_j_55 ? (
                                    hd = var_j_53.j_head;
                                    tl = var_j_53.j_tail;
                                    var_j_57 = hd;
                                    var_j_58 = x;
                                    m_bl_i_651 = var_j_57 ~ int;
                                    m_br_i_652 = var_j_58 ~ int;
                                    m_b_i_653 = m_bl_i_651 and m_br_i_652;
                                    binop_j_59 = m_b_i_653 ? (
                                            c_binop_i_654 = var_j_57 == var_j_58
                                        ) : (
                                            ab_i_655 = abort
                                        );
                                    var_j_60 = mem;
                                    var_j_61 = x;
                                    m_i_656 = var_j_60 ~ fun;
                                    appl_j_62 = m_i_656 ? (
                                            c_appl_i_657 = var_j_60 var_j_61
                                        ) : (
                                            ab_i_658 = abort
                                        );
                                    var_j_63 = tl;
                                    m_i_659 = appl_j_62 ~ fun;
                                    appl_j_64 = m_i_659 ? (
                                            c_appl_i_660 = appl_j_62 var_j_63
                                        ) : (
                                            ab_i_661 = abort
                                        );
                                    m_bl_i_662 = binop_j_59 ~ bool;
                                    m_br_i_663 = appl_j_64 ~ bool;
                                    m_b_i_664 = m_bl_i_662 and m_br_i_663;
                                    binop_j_65 = m_b_i_664 ? (
                                            c_binop_i_665 = binop_j_59 or appl_j_64
                                        ) : (
                                            ab_i_666 = abort
                                        )
                                ) : (
                                    ab_j_54 = abort
                                )
                        )
                ))));
appl_j_81 = flatten_fun_j_78 flatten_fun_j_78;
ret_type_j_366 = fun x_j_46 -> (
    flatten_fun_j_223 = fun expr_b_36 -> (
        flatten_fun_j_135 = fun expr_b_32 -> (
            bool_j_82 = false;
            lst_fail_b_33 = bool_j_82;
            var_j_83 = expr_b_32;
            m_match_bool_j_85 = var_j_83 ~ any;
            m_match_bool_j_88 = var_j_83 ~ {j_head, j_tail, _};
            m_match_bool_j_132 = var_j_83 ~ {j_empty, _};
            m_match_cond_j_133 = m_match_bool_j_132 ? (
                    bool_j_134 = true
                ) : (
                    m_match_cond_j_89 = m_match_bool_j_88 ? (
                            bj_underscore = var_j_83.j_head;
                            bj_underscore2 = var_j_83.j_tail;
                            flatten_fun_j_125 = fun test_fun_b_29_j_1 -> (
                                flatten_fun_j_124 = fun test_list_b_30 -> (
                                    var_j_90 = test_fun_b_29_j_1;
                                    var_j_91 = test_fun_b_29_j_1;
                                    appl_j_92 = var_j_90 var_j_91;
                                    test_fun_b_29 = appl_j_92;
                                    var_j_93 = test_list_b_30;
                                    m_match_bool_j_95 = var_j_93 ~ {j_head, j_tail, _};
                                    m_match_bool_j_121 = var_j_93 ~ {j_empty, _};
                                    m_match_cond_j_122 = m_match_bool_j_121 ? (
                                            bool_j_123 = true
                                        ) : (
                                            m_match_cond_j_96 = m_match_bool_j_95 ? (
                                                    hd_j_22 = var_j_93.j_head;
                                                    tl_j_21 = var_j_93.j_tail;
                                                    bool_j_97 = false;
                                                    fail_b_27 = bool_j_97;
                                                    flatten_fun_j_106 = fun expr_b_26 -> (
                                                        var_j_98 = expr_b_26;
                                                        m_match_bool_j_100 = var_j_98 ~ any;
                                                        m_match_bool_j_103 = var_j_98 ~ int;
                                                        m_match_cond_j_104 = m_match_bool_j_103 ? (
                                                                bool_j_105 = true
                                                            ) : (
                                                                m_match_cond_j_101 = m_match_bool_j_100 ? (
                                                                        
                                                                    var_j_102 = fail_b_27
                                                                    ) : (
                                                                        
                                                                    void_j_99 = 
                                                                    {}
                                                                    )
                                                            ));
                                                    flatten_fun_j_108 = fun bj_null_j_20 -> (
                                                        input_j_107 = input);
                                                    flatten_fun_j_110 = fun expr_b_28 -> (
                                                        var_j_109 = expr_b_28);
                                                    record_j_111 = {checker = flatten_fun_j_106, generator = flatten_fun_j_108, wrapper = flatten_fun_j_110};
                                                    proj_j_112 = record_j_111.checker;
                                                    var_j_113 = hd_j_22;
                                                    appl_j_114 = proj_j_112 var_j_113;
                                                    elm_check_b_31 = appl_j_114;
                                                    var_j_115 = elm_check_b_31;
                                                    if_j_120 = var_j_115 ? (
                                                            var_j_116 = test_fun_b_29;
                                                            var_j_117 = tl_j_21;
                                                            appl_j_118 = var_j_116 var_j_117
                                                        ) : (
                                                            var_j_119 = elm_check_b_31
                                                        )
                                                ) : (
                                                    void_j_94 = {}
                                                )
                                        )));
                            test_fun_b_29_j_1_j_24 = flatten_fun_j_125;
                            var_j_126 = test_fun_b_29_j_1_j_24;
                            var_j_127 = test_fun_b_29_j_1_j_24;
                            appl_j_128 = var_j_126 var_j_127;
                            test_fun_b_29_j_23 = appl_j_128;
                            var_j_129 = test_fun_b_29_j_23;
                            var_j_130 = expr_b_32;
                            appl_j_131 = var_j_129 var_j_130
                        ) : (
                            m_match_cond_j_86 = m_match_bool_j_85 ? (
                                    var_j_87 = lst_fail_b_33
                                ) : (
                                    void_j_84 = {}
                                )
                        )
                ));
        flatten_fun_j_186 = fun bj_null_j_29 -> (
            flatten_fun_j_172 = fun list_maker_b_24_j_2 -> (
                flatten_fun_j_171 = fun len_b_23 -> (
                    var_j_136 = list_maker_b_24_j_2;
                    var_j_137 = list_maker_b_24_j_2;
                    appl_j_138 = var_j_136 var_j_137;
                    list_maker_b_24 = appl_j_138;
                    var_j_139 = len_b_23;
                    int_j_140 = 0;
                    binop_j_141 = var_j_139 == int_j_140;
                    if_j_170 = binop_j_141 ? (
                            record_j_142 = {};
                            record_j_143 = {j_empty = record_j_142}
                        ) : (
                            bool_j_144 = false;
                            fail_b_21 = bool_j_144;
                            flatten_fun_j_153 = fun expr_b_20 -> (
                                var_j_145 = expr_b_20;
                                m_match_bool_j_147 = var_j_145 ~ any;
                                m_match_bool_j_150 = var_j_145 ~ int;
                                m_match_cond_j_151 = m_match_bool_j_150 ? (
                                        bool_j_152 = true
                                    ) : (
                                        m_match_cond_j_148 = m_match_bool_j_147 ? (
                                                var_j_149 = fail_b_21
                                            ) : (
                                                void_j_146 = {}
                                            )
                                    ));
                            flatten_fun_j_155 = fun bj_null_j_25 -> (
                                input_j_154 = input);
                            flatten_fun_j_157 = fun expr_b_22 -> (
                                var_j_156 = expr_b_22);
                            record_j_158 = {checker = flatten_fun_j_153, generator = flatten_fun_j_155, wrapper = flatten_fun_j_157};
                            proj_j_159 = record_j_158.generator;
                            int_j_160 = 0;
                            appl_j_161 = proj_j_159 int_j_160;
                            elm_b_25 = appl_j_161;
                            record_j_162 = {};
                            var_j_163 = elm_b_25;
                            var_j_164 = list_maker_b_24;
                            var_j_165 = len_b_23;
                            int_j_166 = 1;
                            binop_j_167 = var_j_165 - int_j_166;
                            appl_j_168 = var_j_164 binop_j_167;
                            record_j_169 = {j_cons = record_j_162, j_head = var_j_163, j_tail = appl_j_168}
                        )));
            list_maker_b_24_j_2_j_28 = flatten_fun_j_172;
            var_j_173 = list_maker_b_24_j_2_j_28;
            var_j_174 = list_maker_b_24_j_2_j_28;
            appl_j_175 = var_j_173 var_j_174;
            list_maker_b_24_j_27 = appl_j_175;
            input_j_176 = input;
            len_b_23_j_26 = input_j_176;
            int_j_177 = 0;
            var_j_178 = len_b_23_j_26;
            binop_j_179 = int_j_177 <= var_j_178;
            if_j_185 = binop_j_179 ? (
                    var_j_180 = list_maker_b_24_j_27;
                    var_j_181 = len_b_23_j_26;
                    appl_j_182 = var_j_180 var_j_181
                ) : (
                    bool_j_183 = false;
                    assume_j_184 = assume bool_j_183
                ));
        flatten_fun_j_188 = fun expr_b_34 -> (
            var_j_187 = expr_b_34);
        record_j_189 = {checker = flatten_fun_j_135, generator = flatten_fun_j_186, wrapper = flatten_fun_j_188};
        proj_j_190 = record_j_189.checker;
        var_j_191 = expr_b_36;
        appl_j_192 = proj_j_190 var_j_191;
        t_check_b_37 = appl_j_192;
        var_j_193 = t_check_b_37;
        if_j_222 = var_j_193 ? (
                bool_j_194 = false;
                pred_check_b_38 = bool_j_194;
                flatten_fun_j_215 = fun l -> (
                    bool_j_195 = false;
                    fail_b_35 = bool_j_195;
                    var_j_196 = l;
                    m_match_bool_j_198 = var_j_196 ~ {j_head, j_tail, _};
                    m_match_bool_j_205 = var_j_196 ~ {j_empty, _};
                    m_match_bool_j_208 = var_j_196 ~ {bj_untouched, _};
                    m_match_cond_j_209 = m_match_bool_j_208 ? (
                            var_j_210 = fail_b_35;
                            assert_pred_j_211 = var_j_210;
                            assert_res_j_212 = assert_pred_j_211 ? (
                                    assert_res_true_j_213 = {}
                                ) : (
                                    ab_j_214 = abort
                                )
                        ) : (
                            m_match_cond_j_206 = m_match_bool_j_205 ? (
                                    bool_j_207 = true
                                ) : (
                                    m_match_cond_j_199 = m_match_bool_j_198 ? (
                                            a = var_j_196.j_head;
                                            b = var_j_196.j_tail;
                                            var_j_200 = appl_j_81;
                                            var_j_201 = x_j_46;
                                            m_i_667 = var_j_200 ~ fun;
                                            appl_j_202 = m_i_667 ? (
                                                    c_appl_i_668 = var_j_200 var_j_201
                                                ) : (
                                                    ab_i_669 = abort
                                                );
                                            var_j_203 = l;
                                            m_i_670 = appl_j_202 ~ fun;
                                            appl_j_204 = m_i_670 ? (
                                                    c_appl_i_671 = appl_j_202 var_j_203
                                                ) : (
                                                    ab_i_672 = abort
                                                )
                                        ) : (
                                            ab_j_197 = abort
                                        )
                                )
                        ));
                var_j_216 = expr_b_36;
                appl_j_217 = flatten_fun_j_215 var_j_216;
                if_j_220 = appl_j_217 ? (
                        bool_j_218 = true
                    ) : (
                        var_j_219 = pred_check_b_38
                    )
            ) : (
                var_j_221 = t_check_b_37
            ));
    flatten_fun_j_362 = fun bj_null_j_45 -> (
        flatten_fun_j_277 = fun expr_b_15 -> (
            bool_j_224 = false;
            lst_fail_b_16 = bool_j_224;
            var_j_225 = expr_b_15;
            m_match_bool_j_227 = var_j_225 ~ any;
            m_match_bool_j_230 = var_j_225 ~ {j_head, j_tail, _};
            m_match_bool_j_274 = var_j_225 ~ {j_empty, _};
            m_match_cond_j_275 = m_match_bool_j_274 ? (
                    bool_j_276 = true
                ) : (
                    m_match_cond_j_231 = m_match_bool_j_230 ? (
                            bj_underscore_j_36 = var_j_225.j_head;
                            bj_underscore2_j_35 = var_j_225.j_tail;
                            flatten_fun_j_267 = fun test_fun_b_12_j_3 -> (
                                flatten_fun_j_266 = fun test_list_b_13 -> (
                                    var_j_232 = test_fun_b_12_j_3;
                                    var_j_233 = test_fun_b_12_j_3;
                                    appl_j_234 = var_j_232 var_j_233;
                                    test_fun_b_12 = appl_j_234;
                                    var_j_235 = test_list_b_13;
                                    m_match_bool_j_237 = var_j_235 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_263 = var_j_235 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_264 = m_match_bool_j_263 ? (
                                            bool_j_265 = true
                                        ) : (
                                            m_match_cond_j_238 = m_match_bool_j_237 ? (
                                                    hd_j_32 = var_j_235.j_head;
                                                    tl_j_31 = var_j_235.j_tail;
                                                    bool_j_239 = false;
                                                    fail_b_10 = bool_j_239;
                                                    flatten_fun_j_248 = fun expr_b_9 -> (
                                                        var_j_240 = expr_b_9;
                                                        m_match_bool_j_242 = var_j_240 ~ any;
                                                        m_match_bool_j_245 = var_j_240 ~ int;
                                                        m_match_cond_j_246 = m_match_bool_j_245 ? (
                                                                bool_j_247 = true
                                                            ) : (
                                                                m_match_cond_j_243 = m_match_bool_j_242 ? (
                                                                        
                                                                    var_j_244 = fail_b_10
                                                                    ) : (
                                                                        
                                                                    void_j_241 = 
                                                                    {}
                                                                    )
                                                            ));
                                                    flatten_fun_j_250 = fun bj_null_j_30 -> (
                                                        input_j_249 = input);
                                                    flatten_fun_j_252 = fun expr_b_11 -> (
                                                        var_j_251 = expr_b_11);
                                                    record_j_253 = {checker = flatten_fun_j_248, generator = flatten_fun_j_250, wrapper = flatten_fun_j_252};
                                                    proj_j_254 = record_j_253.checker;
                                                    var_j_255 = hd_j_32;
                                                    appl_j_256 = proj_j_254 var_j_255;
                                                    elm_check_b_14 = appl_j_256;
                                                    var_j_257 = elm_check_b_14;
                                                    if_j_262 = var_j_257 ? (
                                                            var_j_258 = test_fun_b_12;
                                                            var_j_259 = tl_j_31;
                                                            appl_j_260 = var_j_258 var_j_259
                                                        ) : (
                                                            var_j_261 = elm_check_b_14
                                                        )
                                                ) : (
                                                    void_j_236 = {}
                                                )
                                        )));
                            test_fun_b_12_j_3_j_34 = flatten_fun_j_267;
                            var_j_268 = test_fun_b_12_j_3_j_34;
                            var_j_269 = test_fun_b_12_j_3_j_34;
                            appl_j_270 = var_j_268 var_j_269;
                            test_fun_b_12_j_33 = appl_j_270;
                            var_j_271 = test_fun_b_12_j_33;
                            var_j_272 = expr_b_15;
                            appl_j_273 = var_j_271 var_j_272
                        ) : (
                            m_match_cond_j_228 = m_match_bool_j_227 ? (
                                    var_j_229 = lst_fail_b_16
                                ) : (
                                    void_j_226 = {}
                                )
                        )
                ));
        flatten_fun_j_328 = fun bj_null_j_41 -> (
            flatten_fun_j_314 = fun list_maker_b_7_j_4 -> (
                flatten_fun_j_313 = fun len_b_6 -> (
                    var_j_278 = list_maker_b_7_j_4;
                    var_j_279 = list_maker_b_7_j_4;
                    appl_j_280 = var_j_278 var_j_279;
                    list_maker_b_7 = appl_j_280;
                    var_j_281 = len_b_6;
                    int_j_282 = 0;
                    binop_j_283 = var_j_281 == int_j_282;
                    if_j_312 = binop_j_283 ? (
                            record_j_284 = {};
                            record_j_285 = {j_empty = record_j_284}
                        ) : (
                            bool_j_286 = false;
                            fail_b_4 = bool_j_286;
                            flatten_fun_j_295 = fun expr_b_3 -> (
                                var_j_287 = expr_b_3;
                                m_match_bool_j_289 = var_j_287 ~ any;
                                m_match_bool_j_292 = var_j_287 ~ int;
                                m_match_cond_j_293 = m_match_bool_j_292 ? (
                                        bool_j_294 = true
                                    ) : (
                                        m_match_cond_j_290 = m_match_bool_j_289 ? (
                                                var_j_291 = fail_b_4
                                            ) : (
                                                void_j_288 = {}
                                            )
                                    ));
                            flatten_fun_j_297 = fun bj_null_j_37 -> (
                                input_j_296 = input);
                            flatten_fun_j_299 = fun expr_b_5 -> (
                                var_j_298 = expr_b_5);
                            record_j_300 = {checker = flatten_fun_j_295, generator = flatten_fun_j_297, wrapper = flatten_fun_j_299};
                            proj_j_301 = record_j_300.generator;
                            int_j_302 = 0;
                            appl_j_303 = proj_j_301 int_j_302;
                            elm_b_8 = appl_j_303;
                            record_j_304 = {};
                            var_j_305 = elm_b_8;
                            var_j_306 = list_maker_b_7;
                            var_j_307 = len_b_6;
                            int_j_308 = 1;
                            binop_j_309 = var_j_307 - int_j_308;
                            appl_j_310 = var_j_306 binop_j_309;
                            record_j_311 = {j_cons = record_j_304, j_head = var_j_305, j_tail = appl_j_310}
                        )));
            list_maker_b_7_j_4_j_40 = flatten_fun_j_314;
            var_j_315 = list_maker_b_7_j_4_j_40;
            var_j_316 = list_maker_b_7_j_4_j_40;
            appl_j_317 = var_j_315 var_j_316;
            list_maker_b_7_j_39 = appl_j_317;
            input_j_318 = input;
            len_b_6_j_38 = input_j_318;
            int_j_319 = 0;
            var_j_320 = len_b_6_j_38;
            binop_j_321 = int_j_319 <= var_j_320;
            if_j_327 = binop_j_321 ? (
                    var_j_322 = list_maker_b_7_j_39;
                    var_j_323 = len_b_6_j_38;
                    appl_j_324 = var_j_322 var_j_323
                ) : (
                    bool_j_325 = false;
                    assume_j_326 = assume bool_j_325
                ));
        flatten_fun_j_330 = fun expr_b_17 -> (
            var_j_329 = expr_b_17);
        record_j_331 = {checker = flatten_fun_j_277, generator = flatten_fun_j_328, wrapper = flatten_fun_j_330};
        proj_j_332 = record_j_331.generator;
        int_j_333 = 0;
        appl_j_334 = proj_j_332 int_j_333;
        candidate_b_19 = appl_j_334;
        flatten_fun_j_355 = fun l_j_44 -> (
            bool_j_335 = false;
            fail_b_18 = bool_j_335;
            var_j_336 = l_j_44;
            m_match_bool_j_338 = var_j_336 ~ {j_head, j_tail, _};
            m_match_bool_j_345 = var_j_336 ~ {j_empty, _};
            m_match_bool_j_348 = var_j_336 ~ {bj_untouched, _};
            m_match_cond_j_349 = m_match_bool_j_348 ? (
                    var_j_350 = fail_b_18;
                    assert_pred_j_351 = var_j_350;
                    assert_res_j_352 = assert_pred_j_351 ? (
                            assert_res_true_j_353 = {}
                        ) : (
                            ab_j_354 = abort
                        )
                ) : (
                    m_match_cond_j_346 = m_match_bool_j_345 ? (
                            bool_j_347 = true
                        ) : (
                            m_match_cond_j_339 = m_match_bool_j_338 ? (
                                    a_j_43 = var_j_336.j_head;
                                    b_j_42 = var_j_336.j_tail;
                                    var_j_340 = appl_j_81;
                                    var_j_341 = x_j_46;
                                    m_i_673 = var_j_340 ~ fun;
                                    appl_j_342 = m_i_673 ? (
                                            c_appl_i_674 = var_j_340 var_j_341
                                        ) : (
                                            ab_i_675 = abort
                                        );
                                    var_j_343 = l_j_44;
                                    m_i_676 = appl_j_342 ~ fun;
                                    appl_j_344 = m_i_676 ? (
                                            c_appl_i_677 = appl_j_342 var_j_343
                                        ) : (
                                            ab_i_678 = abort
                                        )
                                ) : (
                                    ab_j_337 = abort
                                )
                        )
                ));
        var_j_356 = candidate_b_19;
        appl_j_357 = flatten_fun_j_355 var_j_356;
        if_j_361 = appl_j_357 ? (
                var_j_358 = candidate_b_19
            ) : (
                bool_j_359 = false;
                assume_j_360 = assume bool_j_359
            ));
    flatten_fun_j_364 = fun expr_b_39 -> (
        var_j_363 = expr_b_39);
    record_j_365 = {checker = flatten_fun_j_223, generator = flatten_fun_j_362, wrapper = flatten_fun_j_364});
ret_type = ret_type_j_366;
flatten_fun_j_517 = fun mk_list_j_0 -> (
    flatten_fun_j_516 = fun x_j_11 -> (
        var_j_367 = mk_list_j_0;
        var_j_368 = mk_list_j_0;
        appl_j_369 = var_j_367 var_j_368;
        mk_list = appl_j_369;
        flatten_fun_j_513 = fun x_b_0 -> (
            bool_j_370 = false;
            fail_b_44 = bool_j_370;
            flatten_fun_j_379 = fun expr_b_43 -> (
                var_j_371 = expr_b_43;
                m_match_bool_j_373 = var_j_371 ~ any;
                m_match_bool_j_376 = var_j_371 ~ int;
                m_match_cond_j_377 = m_match_bool_j_376 ? (
                        bool_j_378 = true
                    ) : (
                        m_match_cond_j_374 = m_match_bool_j_373 ? (
                                var_j_375 = fail_b_44
                            ) : (
                                void_j_372 = {}
                            )
                    ));
            flatten_fun_j_381 = fun bj_null -> (
                input_j_380 = input);
            flatten_fun_j_383 = fun expr_b_45 -> (
                var_j_382 = expr_b_45);
            record_j_384 = {checker = flatten_fun_j_379, generator = flatten_fun_j_381, wrapper = flatten_fun_j_383};
            proj_j_385 = record_j_384.checker;
            var_j_386 = x_b_0;
            appl_j_387 = proj_j_385 var_j_386;
            arg_check_b_1 = appl_j_387;
            var_j_388 = arg_check_b_1;
            if_j_512 = var_j_388 ? (
                    flatten_fun_j_485 = fun x_j_10 -> (
                        flatten_fun_j_416 = fun expr_b_54 -> (
                            bool_j_389 = false;
                            fail_b_52 = bool_j_389;
                            flatten_fun_j_398 = fun expr_b_51 -> (
                                var_j_390 = expr_b_51;
                                m_match_bool_j_392 = var_j_390 ~ any;
                                m_match_bool_j_395 = var_j_390 ~ int;
                                m_match_cond_j_396 = m_match_bool_j_395 ? (
                                        bool_j_397 = true
                                    ) : (
                                        m_match_cond_j_393 = m_match_bool_j_392 ? (
                                                var_j_394 = fail_b_52
                                            ) : (
                                                void_j_391 = {}
                                            )
                                    ));
                            flatten_fun_j_400 = fun bj_null_j_6 -> (
                                input_j_399 = input);
                            flatten_fun_j_402 = fun expr_b_53 -> (
                                var_j_401 = expr_b_53);
                            record_j_403 = {checker = flatten_fun_j_398, generator = flatten_fun_j_400, wrapper = flatten_fun_j_402};
                            proj_j_404 = record_j_403.generator;
                            int_j_405 = 0;
                            appl_j_406 = proj_j_404 int_j_405;
                            arg_assert_b_55 = appl_j_406;
                            var_j_407 = expr_b_54;
                            var_j_408 = arg_assert_b_55;
                            appl_j_409 = var_j_407 var_j_408;
                            fun_ret_b_56 = appl_j_409;
                            var_j_410 = ret_type;
                            var_j_411 = x_j_10;
                            m_i_679 = var_j_410 ~ fun;
                            appl_j_412 = m_i_679 ? (
                                    c_appl_i_680 = var_j_410 var_j_411
                                ) : (
                                    ab_i_681 = abort
                                );
                            proj_j_413 = appl_j_412.checker;
                            var_j_414 = fun_ret_b_56;
                            appl_j_415 = proj_j_413 var_j_414);
                        flatten_fun_j_449 = fun bj_null_j_8 -> (
                            flatten_fun_j_448 = fun arg_assume_b_49 -> (
                                bool_j_417 = false;
                                fail_b_47 = bool_j_417;
                                flatten_fun_j_426 = fun expr_b_46 -> (
                                    var_j_418 = expr_b_46;
                                    m_match_bool_j_420 = var_j_418 ~ any;
                                    m_match_bool_j_423 = var_j_418 ~ int;
                                    m_match_cond_j_424 = m_match_bool_j_423 ? (
                                            bool_j_425 = true
                                        ) : (
                                            m_match_cond_j_421 = m_match_bool_j_420 ? (
                                                    var_j_422 = fail_b_47
                                                ) : (
                                                    void_j_419 = {}
                                                )
                                        ));
                                flatten_fun_j_428 = fun bj_null_j_7 -> (
                                    input_j_427 = input);
                                flatten_fun_j_430 = fun expr_b_48 -> (
                                    var_j_429 = expr_b_48);
                                record_j_431 = {checker = flatten_fun_j_426, generator = flatten_fun_j_428, wrapper = flatten_fun_j_430};
                                proj_j_432 = record_j_431.checker;
                                var_j_433 = arg_assume_b_49;
                                appl_j_434 = proj_j_432 var_j_433;
                                if_j_447 = appl_j_434 ? (
                                        var_j_435 = ret_type;
                                        var_j_436 = x_j_10;
                                        m_i_682 = var_j_435 ~ fun;
                                        appl_j_437 = m_i_682 ? (
                                                c_appl_i_683 = var_j_435 var_j_436
                                            ) : (
                                                ab_i_684 = abort
                                            );
                                        proj_j_438 = appl_j_437.generator;
                                        int_j_439 = 0;
                                        appl_j_440 = proj_j_438 int_j_439
                                    ) : (
                                        bool_j_441 = false;
                                        fail_b_50 = bool_j_441;
                                        var_j_442 = fail_b_50;
                                        assert_pred_j_443 = var_j_442;
                                        assert_res_j_444 = assert_pred_j_443 ? (
                                                assert_res_true_j_445 = 
                                                    {}
                                            ) : (
                                                ab_j_446 = abort
                                            )
                                    )));
                        flatten_fun_j_483 = fun expr_b_60 -> (
                            flatten_fun_j_482 = fun arg_b_61 -> (
                                bool_j_450 = false;
                                fail_b_58 = bool_j_450;
                                flatten_fun_j_459 = fun expr_b_57 -> (
                                    var_j_451 = expr_b_57;
                                    m_match_bool_j_453 = var_j_451 ~ any;
                                    m_match_bool_j_456 = var_j_451 ~ int;
                                    m_match_cond_j_457 = m_match_bool_j_456 ? (
                                            bool_j_458 = true
                                        ) : (
                                            m_match_cond_j_454 = m_match_bool_j_453 ? (
                                                    var_j_455 = fail_b_58
                                                ) : (
                                                    void_j_452 = {}
                                                )
                                        ));
                                flatten_fun_j_461 = fun bj_null_j_9 -> (
                                    input_j_460 = input);
                                flatten_fun_j_463 = fun expr_b_59 -> (
                                    var_j_462 = expr_b_59);
                                record_j_464 = {checker = flatten_fun_j_459, generator = flatten_fun_j_461, wrapper = flatten_fun_j_463};
                                proj_j_465 = record_j_464.checker;
                                var_j_466 = arg_b_61;
                                m_i_685 = proj_j_465 ~ fun;
                                appl_j_467 = m_i_685 ? (
                                        c_appl_i_686 = proj_j_465 var_j_466
                                    ) : (
                                        ab_i_687 = abort
                                    );
                                m_i_688 = appl_j_467 ~ bool;
                                if_j_481 = m_i_688 ? (
                                        c_cond_i_698 = appl_j_467 ? (
                                                var_j_468 = ret_type;
                                                var_j_469 = x_j_10;
                                                m_i_689 = var_j_468 ~ fun;
                                                appl_j_470 = m_i_689 ? (
                                                        c_appl_i_690 = var_j_468 var_j_469
                                                    ) : (
                                                        ab_i_691 = abort
                                                    );
                                                proj_j_471 = appl_j_470.wrapper;
                                                var_j_472 = expr_b_60;
                                                var_j_473 = arg_b_61;
                                                m_i_692 = var_j_472 ~ fun;
                                                appl_j_474 = m_i_692 ? (
                                                        c_appl_i_693 = var_j_472 var_j_473
                                                    ) : (
                                                        ab_i_694 = abort
                                                    );
                                                m_i_695 = proj_j_471 ~ fun;
                                                appl_j_475 = m_i_695 ? (
                                                        c_appl_i_696 = proj_j_471 appl_j_474
                                                    ) : (
                                                        ab_i_697 = abort
                                                    )
                                            ) : (
                                                bool_j_476 = false;
                                                assert_pred_j_477 = bool_j_476;
                                                assert_res_j_478 = assert_pred_j_477 ? (
                                                        assert_res_true_j_479 = 
                                                            {}
                                                    ) : (
                                                        ab_j_480 = abort
                                                    )
                                            )
                                    ) : (
                                        ab_i_699 = abort
                                    )));
                        record_j_484 = {checker = flatten_fun_j_416, generator = flatten_fun_j_449, wrapper = flatten_fun_j_483});
                    var_j_486 = x_b_0;
                    appl_j_487 = flatten_fun_j_485 var_j_486;
                    proj_j_488 = appl_j_487.wrapper;
                    flatten_fun_j_505 = fun n -> (
                        var_j_489 = n;
                        int_j_490 = 0;
                        m_bl_i_700 = var_j_489 ~ int;
                        m_br_i_701 = int_j_490 ~ int;
                        m_b_i_702 = m_bl_i_700 and m_br_i_701;
                        binop_j_491 = m_b_i_702 ? (
                                c_binop_i_703 = var_j_489 < int_j_490
                            ) : (
                                ab_i_704 = abort
                            );
                        m_i_705 = binop_j_491 ~ bool;
                        if_j_504 = m_i_705 ? (
                                c_cond_i_717 = binop_j_491 ? (
                                        record_j_492 = {};
                                        record_j_493 = {j_empty = record_j_492}
                                    ) : (
                                        record_j_494 = {};
                                        var_j_495 = n;
                                        var_j_496 = mk_list;
                                        var_j_497 = x_j_11;
                                        m_i_706 = var_j_496 ~ fun;
                                        appl_j_498 = m_i_706 ? (
                                                c_appl_i_707 = var_j_496 var_j_497
                                            ) : (
                                                ab_i_708 = abort
                                            );
                                        var_j_499 = n;
                                        int_j_500 = 1;
                                        m_bl_i_709 = var_j_499 ~ int;
                                        m_br_i_710 = int_j_500 ~ int;
                                        m_b_i_711 = m_bl_i_709 and m_br_i_710;
                                        binop_j_501 = m_b_i_711 ? (
                                                c_binop_i_712 = var_j_499 - int_j_500
                                            ) : (
                                                ab_i_713 = abort
                                            );
                                        m_i_714 = appl_j_498 ~ fun;
                                        appl_j_502 = m_i_714 ? (
                                                c_appl_i_715 = appl_j_498 binop_j_501
                                            ) : (
                                                ab_i_716 = abort
                                            );
                                        record_j_503 = {j_cons = record_j_494, j_head = var_j_495, j_tail = appl_j_502}
                                    )
                            ) : (
                                ab_i_718 = abort
                            ));
                    m_i_719 = proj_j_488 ~ fun;
                    appl_j_506 = m_i_719 ? (
                            c_appl_i_720 = proj_j_488 flatten_fun_j_505
                        ) : (
                            ab_i_721 = abort
                        )
                ) : (
                    bool_j_507 = false;
                    assert_pred_j_508 = bool_j_507;
                    assert_res_j_509 = assert_pred_j_508 ? (
                            assert_res_true_j_510 = {}
                        ) : (
                            ab_j_511 = abort
                        )
                ));
        var_j_514 = x_j_11;
        appl_j_515 = flatten_fun_j_513 var_j_514));
appl_j_520 = flatten_fun_j_517 flatten_fun_j_517;
bool_j_521 = false;
fail_b_41 = bool_j_521;
flatten_fun_j_530 = fun expr_b_40 -> (
    var_j_522 = expr_b_40;
    m_match_bool_j_524 = var_j_522 ~ any;
    m_match_bool_j_527 = var_j_522 ~ int;
    m_match_cond_j_528 = m_match_bool_j_527 ? (
            bool_j_529 = true
        ) : (
            m_match_cond_j_525 = m_match_bool_j_524 ? (
                    var_j_526 = fail_b_41
                ) : (
                    void_j_523 = {}
                )
        ));
flatten_fun_j_532 = fun bj_null_j_12 -> (
    input_j_531 = input);
flatten_fun_j_534 = fun expr_b_42 -> (
    var_j_533 = expr_b_42);
record_j_535 = {checker = flatten_fun_j_530, generator = flatten_fun_j_532, wrapper = flatten_fun_j_534};
proj_j_536 = record_j_535.generator;
int_j_537 = 0;
appl_j_538 = proj_j_536 int_j_537;
x_b_79 = appl_j_538;
flatten_fun_j_636 = fun x_j_17 -> (
    flatten_fun_j_566 = fun expr_b_70 -> (
        bool_j_539 = false;
        fail_b_68 = bool_j_539;
        flatten_fun_j_548 = fun expr_b_67 -> (
            var_j_540 = expr_b_67;
            m_match_bool_j_542 = var_j_540 ~ any;
            m_match_bool_j_545 = var_j_540 ~ int;
            m_match_cond_j_546 = m_match_bool_j_545 ? (
                    bool_j_547 = true
                ) : (
                    m_match_cond_j_543 = m_match_bool_j_542 ? (
                            var_j_544 = fail_b_68
                        ) : (
                            void_j_541 = {}
                        )
                ));
        flatten_fun_j_550 = fun bj_null_j_13 -> (
            input_j_549 = input);
        flatten_fun_j_552 = fun expr_b_69 -> (
            var_j_551 = expr_b_69);
        record_j_553 = {checker = flatten_fun_j_548, generator = flatten_fun_j_550, wrapper = flatten_fun_j_552};
        proj_j_554 = record_j_553.generator;
        int_j_555 = 0;
        appl_j_556 = proj_j_554 int_j_555;
        arg_assert_b_71 = appl_j_556;
        var_j_557 = expr_b_70;
        var_j_558 = arg_assert_b_71;
        appl_j_559 = var_j_557 var_j_558;
        fun_ret_b_72 = appl_j_559;
        var_j_560 = ret_type;
        var_j_561 = x_j_17;
        m_i_722 = var_j_560 ~ fun;
        appl_j_562 = m_i_722 ? (
                c_appl_i_723 = var_j_560 var_j_561
            ) : (
                ab_i_724 = abort
            );
        proj_j_563 = appl_j_562.checker;
        var_j_564 = fun_ret_b_72;
        appl_j_565 = proj_j_563 var_j_564);
    flatten_fun_j_599 = fun bj_null_j_15 -> (
        flatten_fun_j_598 = fun arg_assume_b_65 -> (
            bool_j_567 = false;
            fail_b_63 = bool_j_567;
            flatten_fun_j_576 = fun expr_b_62 -> (
                var_j_568 = expr_b_62;
                m_match_bool_j_570 = var_j_568 ~ any;
                m_match_bool_j_573 = var_j_568 ~ int;
                m_match_cond_j_574 = m_match_bool_j_573 ? (
                        bool_j_575 = true
                    ) : (
                        m_match_cond_j_571 = m_match_bool_j_570 ? (
                                var_j_572 = fail_b_63
                            ) : (
                                void_j_569 = {}
                            )
                    ));
            flatten_fun_j_578 = fun bj_null_j_14 -> (
                input_j_577 = input);
            flatten_fun_j_580 = fun expr_b_64 -> (
                var_j_579 = expr_b_64);
            record_j_581 = {checker = flatten_fun_j_576, generator = flatten_fun_j_578, wrapper = flatten_fun_j_580};
            proj_j_582 = record_j_581.checker;
            var_j_583 = arg_assume_b_65;
            appl_j_584 = proj_j_582 var_j_583;
            if_j_597 = appl_j_584 ? (
                    var_j_585 = ret_type;
                    var_j_586 = x_j_17;
                    m_i_725 = var_j_585 ~ fun;
                    appl_j_587 = m_i_725 ? (
                            c_appl_i_726 = var_j_585 var_j_586
                        ) : (
                            ab_i_727 = abort
                        );
                    proj_j_588 = appl_j_587.generator;
                    int_j_589 = 0;
                    appl_j_590 = proj_j_588 int_j_589
                ) : (
                    bool_j_591 = false;
                    fail_b_66 = bool_j_591;
                    var_j_592 = fail_b_66;
                    assert_pred_j_593 = var_j_592;
                    assert_res_j_594 = assert_pred_j_593 ? (
                            assert_res_true_j_595 = {}
                        ) : (
                            ab_j_596 = abort
                        )
                )));
    flatten_fun_j_633 = fun expr_b_76 -> (
        flatten_fun_j_632 = fun arg_b_77 -> (
            bool_j_600 = false;
            fail_b_74 = bool_j_600;
            flatten_fun_j_609 = fun expr_b_73 -> (
                var_j_601 = expr_b_73;
                m_match_bool_j_603 = var_j_601 ~ any;
                m_match_bool_j_606 = var_j_601 ~ int;
                m_match_cond_j_607 = m_match_bool_j_606 ? (
                        bool_j_608 = true
                    ) : (
                        m_match_cond_j_604 = m_match_bool_j_603 ? (
                                var_j_605 = fail_b_74
                            ) : (
                                void_j_602 = {}
                            )
                    ));
            flatten_fun_j_611 = fun bj_null_j_16 -> (
                input_j_610 = input);
            flatten_fun_j_613 = fun expr_b_75 -> (
                var_j_612 = expr_b_75);
            record_j_614 = {checker = flatten_fun_j_609, generator = flatten_fun_j_611, wrapper = flatten_fun_j_613};
            proj_j_615 = record_j_614.checker;
            var_j_616 = arg_b_77;
            m_i_728 = proj_j_615 ~ fun;
            appl_j_617 = m_i_728 ? (
                    c_appl_i_729 = proj_j_615 var_j_616
                ) : (
                    ab_i_730 = abort
                );
            m_i_731 = appl_j_617 ~ bool;
            if_j_631 = m_i_731 ? (
                    c_cond_i_741 = appl_j_617 ? (
                            var_j_618 = ret_type;
                            var_j_619 = x_j_17;
                            m_i_732 = var_j_618 ~ fun;
                            appl_j_620 = m_i_732 ? (
                                    c_appl_i_733 = var_j_618 var_j_619
                                ) : (
                                    ab_i_734 = abort
                                );
                            proj_j_621 = appl_j_620.wrapper;
                            var_j_622 = expr_b_76;
                            var_j_623 = arg_b_77;
                            m_i_735 = var_j_622 ~ fun;
                            appl_j_624 = m_i_735 ? (
                                    c_appl_i_736 = var_j_622 var_j_623
                                ) : (
                                    ab_i_737 = abort
                                );
                            m_i_738 = proj_j_621 ~ fun;
                            appl_j_625 = m_i_738 ? (
                                    c_appl_i_739 = proj_j_621 appl_j_624
                                ) : (
                                    ab_i_740 = abort
                                )
                        ) : (
                            bool_j_626 = false;
                            assert_pred_j_627 = bool_j_626;
                            assert_res_j_628 = assert_pred_j_627 ? (
                                    assert_res_true_j_629 = {}
                                ) : (
                                    ab_j_630 = abort
                                )
                        )
                ) : (
                    ab_i_742 = abort
                )));
    record_j_634 = {checker = flatten_fun_j_566, generator = flatten_fun_j_599, wrapper = flatten_fun_j_633};
    proj_j_635 = record_j_634.checker);
appl_j_638 = flatten_fun_j_636 x_b_79;
appl_j_641 = appl_j_520 x_b_79;
appl_j_642 = appl_j_638 appl_j_641;
check_res_b_78 = appl_j_642;
if_j_650 = check_res_b_78 ? (
        var_j_644 = appl_j_520
    ) : (
        error_var_j_645 = check_res_b_78;
        assert_pred_j_646 = error_var_j_645;
        assert_res_j_647 = assert_pred_j_646 ? (
                assert_res_true_j_648 = {}
            ) : (
                ab_j_649 = abort
            )
    );
i_result = if_j_650