i_first = {};
is_pos_j_348 = fun x_j_344 -> (
    int_j_345 = 0;
    var_j_346 = x_j_344;
    m_bl_i_5319 = int_j_345 ~ int;
    m_br_i_5320 = var_j_346 ~ int;
    m_b_i_5321 = m_bl_i_5319 and m_br_i_5320;
    binop_j_347 = m_b_i_5321 ? (
            c_binop_i_5322 = int_j_345 < var_j_346
        ) : (
            ab_i_5323 = abort
        ));
is_pos = is_pos_j_348;
max_j_356 = fun a_j_343 -> (
    max_j_355 = fun b_j_342 -> (
        var_j_349 = b_j_342;
        var_j_350 = a_j_343;
        m_bl_i_5324 = var_j_349 ~ int;
        m_br_i_5325 = var_j_350 ~ int;
        m_b_i_5326 = m_bl_i_5324 and m_br_i_5325;
        binop_j_351 = m_b_i_5326 ? (
                c_binop_i_5327 = var_j_349 < var_j_350
            ) : (
                ab_i_5328 = abort
            );
        m_i_5329 = binop_j_351 ~ bool;
        if_j_354 = m_i_5329 ? (
                c_cond_i_5330 = binop_j_351 ? (
                        var_j_352 = a_j_343
                    ) : (
                        var_j_353 = b_j_342
                    )
            ) : (
                ab_i_5331 = abort
            )));
max = max_j_356;
height_j_337_j_382 = fun x_j_341 -> (
    bool_j_357 = false;
    fail_b_6 = bool_j_357;
    var_j_358 = x_j_341;
    m_match_bool_j_360 = var_j_358 ~ {bj_untouched, _};
    m_match_bool_j_367 = var_j_358 ~ {bj_actual_rec, _};
    m_match_cond_j_368 = m_match_bool_j_367 ? (
            actual_rec_b_651 = var_j_358.bj_actual_rec;
            var_j_369 = x_j_341;
            proj_j_370 = var_j_369.bj_decl_lbls;
            m_match_bool_j_372 = proj_j_370 ~ {height, _};
            m_match_bool_j_377 = proj_j_370 ~ {leaf};
            m_match_cond_j_378 = m_match_bool_j_377 ? (
                    b_j_339 = proj_j_370.leaf;
                    var_j_379 = actual_rec_b_651;
                    proj_j_380 = var_j_379.leaf;
                    b_j_338 = proj_j_380;
                    int_j_381 = 0
                ) : (
                    m_match_cond_j_373 = m_match_bool_j_372 ? (
                            h_j_340 = proj_j_370.height;
                            var_j_374 = actual_rec_b_651;
                            proj_j_375 = var_j_374.height;
                            h = proj_j_375;
                            var_j_376 = h
                        ) : (
                            ab_j_371 = abort
                        )
                )
        ) : (
            m_match_cond_j_361 = m_match_bool_j_360 ? (
                    var_j_362 = fail_b_6;
                    assert_pred_j_363 = var_j_362;
                    assert_res_j_364 = assert_pred_j_363 ? (
                            assert_res_true_j_365 = {}
                        ) : (
                            ab_j_366 = abort
                        )
                ) : (
                    ab_j_359 = abort
                )
        ));
flatten_fun_j_402 = fun f_b_9 -> (
    flatten_fun_j_391 = fun x_b_8 -> (
        flatten_fun_j_390 = fun freeze_b_10 -> (
            var_j_383 = f_b_9;
            var_j_384 = x_b_8;
            var_j_385 = x_b_8;
            appl_j_386 = var_j_384 var_j_385;
            appl_j_387 = var_j_383 appl_j_386;
            var_j_388 = freeze_b_10;
            appl_j_389 = appl_j_387 var_j_388));
    flatten_fun_j_400 = fun x_b_8_j_3 -> (
        flatten_fun_j_399 = fun freeze_b_10_j_2 -> (
            var_j_392 = f_b_9;
            var_j_393 = x_b_8_j_3;
            var_j_394 = x_b_8_j_3;
            appl_j_395 = var_j_393 var_j_394;
            appl_j_396 = var_j_392 appl_j_395;
            var_j_397 = freeze_b_10_j_2;
            appl_j_398 = appl_j_396 var_j_397));
    appl_j_401 = flatten_fun_j_391 flatten_fun_j_400);
ycomb_b_11 = flatten_fun_j_402;
flatten_fun_j_4498 = fun self_b_7 -> (
    flatten_fun_j_4497 = fun bj_null_j_253 -> (
        flatten_fun_j_2448 = fun expr_b_604 -> (
            flatten_fun_j_2443 = fun tt -> (
                flatten_fun_j_1760 = fun expr_b_600 -> (
                    input_j_404 = input;
                    select_int_b_601 = input_j_404;
                    bool_j_405 = false;
                    fail_b_602 = bool_j_405;
                    int_j_406 = 0;
                    var_j_407 = select_int_b_601;
                    binop_j_408 = int_j_406 <= var_j_407;
                    if_j_1759 = binop_j_408 ? (
                            flatten_fun_j_702 = fun expr_b_487 -> (
                                flatten_fun_j_531 = fun expr_b_468 -> (
                                    bool_j_409 = false;
                                    rec_fail_b_467 = bool_j_409;
                                    bool_j_410 = false;
                                    rec_fail_b_466 = bool_j_410;
                                    bool_j_411 = false;
                                    rec_fail_b_465 = bool_j_411;
                                    var_j_412 = expr_b_468;
                                    m_match_bool_j_414 = var_j_412 ~ any;
                                    m_match_bool_j_417 = var_j_412 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_418 = m_match_bool_j_417 ? (
                                            var_j_419 = expr_b_468;
                                            proj_j_420 = var_j_419.bj_decl_lbls;
                                            m_match_bool_j_422 = proj_j_420 ~ any;
                                            m_match_bool_j_425 = proj_j_420 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_426 = m_match_bool_j_425 ? (
                                                    height_j_10 = proj_j_420.height;
                                                    item_j_9 = proj_j_420.item;
                                                    left_j_8 = proj_j_420.left;
                                                    right_j_7 = proj_j_420.right;
                                                    var_j_427 = expr_b_468;
                                                    proj_j_428 = var_j_427.bj_actual_rec;
                                                    m_match_bool_j_430 = proj_j_428 ~ any;
                                                    m_match_bool_j_433 = proj_j_428 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_434 = m_match_bool_j_433 ? (
                                                            height = proj_j_428.height;
                                                            item = proj_j_428.item;
                                                            left = proj_j_428.left;
                                                            right = proj_j_428.right;
                                                            flatten_fun_j_463 = fun expr_b_482 -> (
                                                                bool_j_435 = false;
                                                                fail_b_480 = bool_j_435;
                                                                flatten_fun_j_444 = fun expr_b_479 -> (
                                                                    var_j_436 = expr_b_479;
                                                                    m_match_bool_j_438 = var_j_436 ~ any;
                                                                    m_match_bool_j_441 = var_j_436 ~ int;
                                                                    m_match_cond_j_442 = m_match_bool_j_441 ? (
                                                                        bool_j_443 = true
                                                                    ) : (
                                                                        m_match_cond_j_439 = m_match_bool_j_438 ? (
                                                                        var_j_440 = fail_b_480
                                                                    ) : (
                                                                        void_j_437 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_446 = fun bj_null -> (
                                                                    input_j_445 = input);
                                                                flatten_fun_j_448 = fun expr_b_481 -> (
                                                                    var_j_447 = expr_b_481);
                                                                record_j_449 = 
                                                                    {checker = flatten_fun_j_444, generator = flatten_fun_j_446, wrapper = flatten_fun_j_448};
                                                                proj_j_450 = record_j_449.checker;
                                                                var_j_451 = expr_b_482;
                                                                appl_j_452 = proj_j_450 var_j_451;
                                                                t_check_b_483 = appl_j_452;
                                                                var_j_453 = t_check_b_483;
                                                                if_j_462 = var_j_453 ? (
                                                                        
                                                                    bool_j_454 = false;
                                                                    pred_check_b_484 = bool_j_454;
                                                                    var_j_455 = is_pos;
                                                                    var_j_456 = expr_b_482;
                                                                    appl_j_457 = var_j_455 var_j_456;
                                                                    if_j_460 = appl_j_457 ? (
                                                                        bool_j_458 = true
                                                                    ) : (
                                                                        var_j_459 = pred_check_b_484
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_461 = t_check_b_483
                                                                    ));
                                                            flatten_fun_j_489 = fun bj_null_j_5 -> (
                                                                bool_j_464 = false;
                                                                fail_b_476 = bool_j_464;
                                                                flatten_fun_j_473 = fun expr_b_475 -> (
                                                                    var_j_465 = expr_b_475;
                                                                    m_match_bool_j_467 = var_j_465 ~ any;
                                                                    m_match_bool_j_470 = var_j_465 ~ int;
                                                                    m_match_cond_j_471 = m_match_bool_j_470 ? (
                                                                        bool_j_472 = true
                                                                    ) : (
                                                                        m_match_cond_j_468 = m_match_bool_j_467 ? (
                                                                        var_j_469 = fail_b_476
                                                                    ) : (
                                                                        void_j_466 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_475 = fun bj_null_j_4 -> (
                                                                    input_j_474 = input);
                                                                flatten_fun_j_477 = fun expr_b_477 -> (
                                                                    var_j_476 = expr_b_477);
                                                                record_j_478 = 
                                                                    {checker = flatten_fun_j_473, generator = flatten_fun_j_475, wrapper = flatten_fun_j_477};
                                                                proj_j_479 = record_j_478.generator;
                                                                int_j_480 = 0;
                                                                appl_j_481 = proj_j_479 int_j_480;
                                                                candidate_b_478 = appl_j_481;
                                                                var_j_482 = is_pos;
                                                                var_j_483 = candidate_b_478;
                                                                appl_j_484 = var_j_482 var_j_483;
                                                                if_j_488 = appl_j_484 ? (
                                                                        
                                                                    var_j_485 = candidate_b_478
                                                                    ) : (
                                                                        
                                                                    bool_j_486 = false;
                                                                    assume_j_487 = assume bool_j_486
                                                                    ));
                                                            flatten_fun_j_491 = fun expr_b_485 -> (
                                                                var_j_490 = expr_b_485);
                                                            record_j_492 = 
                                                                {checker = flatten_fun_j_463, generator = flatten_fun_j_489, wrapper = flatten_fun_j_491};
                                                            proj_j_493 = record_j_492.checker;
                                                            var_j_494 = height;
                                                            appl_j_495 = proj_j_493 var_j_494;
                                                            lbl_check_b_474 = appl_j_495;
                                                            var_j_496 = lbl_check_b_474;
                                                            if_j_530 = var_j_496 ? (
                                                                    bool_j_497 = false;
                                                                    fail_b_472 = bool_j_497;
                                                                    flatten_fun_j_506 = fun expr_b_471 -> (
                                                                    var_j_498 = expr_b_471;
                                                                    m_match_bool_j_500 = var_j_498 ~ any;
                                                                    m_match_bool_j_503 = var_j_498 ~ int;
                                                                    m_match_cond_j_504 = m_match_bool_j_503 ? (
                                                                        bool_j_505 = true
                                                                    ) : (
                                                                        m_match_cond_j_501 = m_match_bool_j_500 ? (
                                                                        var_j_502 = fail_b_472
                                                                    ) : (
                                                                        void_j_499 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_508 = fun bj_null_j_6 -> (
                                                                    input_j_507 = input);
                                                                    flatten_fun_j_510 = fun expr_b_473 -> (
                                                                    var_j_509 = expr_b_473);
                                                                    record_j_511 = 
                                                                    {checker = flatten_fun_j_506, generator = flatten_fun_j_508, wrapper = flatten_fun_j_510};
                                                                    proj_j_512 = record_j_511.checker;
                                                                    var_j_513 = item;
                                                                    appl_j_514 = proj_j_512 var_j_513;
                                                                    lbl_check_b_470 = appl_j_514;
                                                                    var_j_515 = lbl_check_b_470;
                                                                    if_j_528 = var_j_515 ? (
                                                                        var_j_516 = tt;
                                                                    proj_j_517 = var_j_516.checker;
                                                                    var_j_518 = left;
                                                                    appl_j_519 = proj_j_517 var_j_518;
                                                                    lbl_check_b_469 = appl_j_519;
                                                                    var_j_520 = lbl_check_b_469;
                                                                    if_j_526 = var_j_520 ? (
                                                                        var_j_521 = tt;
                                                                    proj_j_522 = var_j_521.checker;
                                                                    var_j_523 = right;
                                                                    appl_j_524 = proj_j_522 var_j_523
                                                                    ) : (
                                                                        var_j_525 = lbl_check_b_469
                                                                    )
                                                                    ) : (
                                                                        var_j_527 = lbl_check_b_470
                                                                    )
                                                                ) : (
                                                                    var_j_529 = lbl_check_b_474
                                                                )
                                                        ) : (
                                                            m_match_cond_j_431 = m_match_bool_j_430 ? (
                                                                    var_j_432 = rec_fail_b_465
                                                                ) : (
                                                                    void_j_429 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_423 = m_match_bool_j_422 ? (
                                                            var_j_424 = rec_fail_b_466
                                                        ) : (
                                                            void_j_421 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_415 = m_match_bool_j_414 ? (
                                                    var_j_416 = rec_fail_b_467
                                                ) : (
                                                    void_j_413 = {}
                                                )
                                        ));
                                flatten_fun_j_630 = fun bj_null_j_15 -> (
                                    var_j_532 = tt;
                                    proj_j_533 = var_j_532.generator;
                                    int_j_534 = 0;
                                    appl_j_535 = proj_j_533 int_j_534;
                                    right_b_450 = appl_j_535;
                                    var_j_536 = tt;
                                    proj_j_537 = var_j_536.generator;
                                    int_j_538 = 0;
                                    appl_j_539 = proj_j_537 int_j_538;
                                    left_b_449 = appl_j_539;
                                    bool_j_540 = false;
                                    fail_b_463 = bool_j_540;
                                    flatten_fun_j_549 = fun expr_b_462 -> (
                                        var_j_541 = expr_b_462;
                                        m_match_bool_j_543 = var_j_541 ~ any;
                                        m_match_bool_j_546 = var_j_541 ~ int;
                                        m_match_cond_j_547 = m_match_bool_j_546 ? (
                                                bool_j_548 = true
                                            ) : (
                                                m_match_cond_j_544 = m_match_bool_j_543 ? (
                                                        var_j_545 = fail_b_463
                                                    ) : (
                                                        void_j_542 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_551 = fun bj_null_j_11 -> (
                                        input_j_550 = input);
                                    flatten_fun_j_553 = fun expr_b_464 -> (
                                        var_j_552 = expr_b_464);
                                    record_j_554 = {checker = flatten_fun_j_549, generator = flatten_fun_j_551, wrapper = flatten_fun_j_553};
                                    proj_j_555 = record_j_554.generator;
                                    int_j_556 = 0;
                                    appl_j_557 = proj_j_555 int_j_556;
                                    item_b_448 = appl_j_557;
                                    flatten_fun_j_586 = fun expr_b_458 -> (
                                        bool_j_558 = false;
                                        fail_b_456 = bool_j_558;
                                        flatten_fun_j_567 = fun expr_b_455 -> (
                                            var_j_559 = expr_b_455;
                                            m_match_bool_j_561 = var_j_559 ~ any;
                                            m_match_bool_j_564 = var_j_559 ~ int;
                                            m_match_cond_j_565 = m_match_bool_j_564 ? (
                                                    bool_j_566 = true
                                                ) : (
                                                    m_match_cond_j_562 = m_match_bool_j_561 ? (
                                                            var_j_563 = fail_b_456
                                                        ) : (
                                                            void_j_560 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_569 = fun bj_null_j_12 -> (
                                            input_j_568 = input);
                                        flatten_fun_j_571 = fun expr_b_457 -> (
                                            var_j_570 = expr_b_457);
                                        record_j_572 = {checker = flatten_fun_j_567, generator = flatten_fun_j_569, wrapper = flatten_fun_j_571};
                                        proj_j_573 = record_j_572.checker;
                                        var_j_574 = expr_b_458;
                                        appl_j_575 = proj_j_573 var_j_574;
                                        t_check_b_459 = appl_j_575;
                                        var_j_576 = t_check_b_459;
                                        if_j_585 = var_j_576 ? (
                                                bool_j_577 = false;
                                                pred_check_b_460 = bool_j_577;
                                                var_j_578 = is_pos;
                                                var_j_579 = expr_b_458;
                                                appl_j_580 = var_j_578 var_j_579;
                                                if_j_583 = appl_j_580 ? (
                                                        bool_j_581 = true
                                                    ) : (
                                                        var_j_582 = pred_check_b_460
                                                    )
                                            ) : (
                                                var_j_584 = t_check_b_459
                                            ));
                                    flatten_fun_j_612 = fun bj_null_j_14 -> (
                                        bool_j_587 = false;
                                        fail_b_452 = bool_j_587;
                                        flatten_fun_j_596 = fun expr_b_451 -> (
                                            var_j_588 = expr_b_451;
                                            m_match_bool_j_590 = var_j_588 ~ any;
                                            m_match_bool_j_593 = var_j_588 ~ int;
                                            m_match_cond_j_594 = m_match_bool_j_593 ? (
                                                    bool_j_595 = true
                                                ) : (
                                                    m_match_cond_j_591 = m_match_bool_j_590 ? (
                                                            var_j_592 = fail_b_452
                                                        ) : (
                                                            void_j_589 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_598 = fun bj_null_j_13 -> (
                                            input_j_597 = input);
                                        flatten_fun_j_600 = fun expr_b_453 -> (
                                            var_j_599 = expr_b_453);
                                        record_j_601 = {checker = flatten_fun_j_596, generator = flatten_fun_j_598, wrapper = flatten_fun_j_600};
                                        proj_j_602 = record_j_601.generator;
                                        int_j_603 = 0;
                                        appl_j_604 = proj_j_602 int_j_603;
                                        candidate_b_454 = appl_j_604;
                                        var_j_605 = is_pos;
                                        var_j_606 = candidate_b_454;
                                        appl_j_607 = var_j_605 var_j_606;
                                        if_j_611 = appl_j_607 ? (
                                                var_j_608 = candidate_b_454
                                            ) : (
                                                bool_j_609 = false;
                                                assume_j_610 = assume bool_j_609
                                            ));
                                    flatten_fun_j_614 = fun expr_b_461 -> (
                                        var_j_613 = expr_b_461);
                                    record_j_615 = {checker = flatten_fun_j_586, generator = flatten_fun_j_612, wrapper = flatten_fun_j_614};
                                    proj_j_616 = record_j_615.generator;
                                    int_j_617 = 0;
                                    appl_j_618 = proj_j_616 int_j_617;
                                    height_b_447 = appl_j_618;
                                    var_j_619 = height_b_447;
                                    var_j_620 = item_b_448;
                                    var_j_621 = left_b_449;
                                    var_j_622 = right_b_450;
                                    record_j_623 = {height = var_j_619, item = var_j_620, left = var_j_621, right = var_j_622};
                                    record_j_624 = {};
                                    record_j_625 = {};
                                    record_j_626 = {};
                                    record_j_627 = {};
                                    record_j_628 = {height = record_j_624, item = record_j_625, left = record_j_626, right = record_j_627};
                                    record_j_629 = {bj_actual_rec = record_j_623, bj_decl_lbls = record_j_628});
                                flatten_fun_j_632 = fun expr_b_486 -> (
                                    var_j_631 = expr_b_486);
                                record_j_633 = {checker = flatten_fun_j_531, generator = flatten_fun_j_630, wrapper = flatten_fun_j_632};
                                proj_j_634 = record_j_633.checker;
                                var_j_635 = expr_b_487;
                                appl_j_636 = proj_j_634 var_j_635;
                                t_check_b_488 = appl_j_636;
                                var_j_637 = t_check_b_488;
                                if_j_701 = var_j_637 ? (
                                        bool_j_638 = false;
                                        pred_check_b_489 = bool_j_638;
                                        flatten_fun_j_694 = fun t -> (
                                            var_j_639 = t;
                                            proj_j_640 = var_j_639.bj_decl_lbls;
                                            m_match_bool_j_642 = proj_j_640 ~ any;
                                            m_match_bool_j_649 = proj_j_640 ~ 
                                                {height, _};
                                            m_match_cond_j_650 = m_match_bool_j_649 ? (
                                                    var_j_651 = t;
                                                    proj_j_652 = var_j_651.bj_actual_rec;
                                                    proj_j_653 = proj_j_652.height
                                                ) : (
                                                    m_match_cond_j_643 = m_match_bool_j_642 ? (
                                                            bool_j_644 = false;
                                                            assert_pred_j_645 = bool_j_644;
                                                            assert_res_j_646 = assert_pred_j_645 ? (
                                                                    assert_res_true_j_647 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_648 = abort
                                                                )
                                                        ) : (
                                                            void_j_641 = 
                                                                {}
                                                        )
                                                );
                                            var_j_654 = max;
                                            var_j_655 = height_j_337_j_382;
                                            var_j_656 = t;
                                            proj_j_657 = var_j_656.bj_decl_lbls;
                                            m_match_bool_j_659 = proj_j_657 ~ any;
                                            m_match_bool_j_666 = proj_j_657 ~ 
                                                {left, _};
                                            m_match_cond_j_667 = m_match_bool_j_666 ? (
                                                    var_j_668 = t;
                                                    proj_j_669 = var_j_668.bj_actual_rec;
                                                    proj_j_670 = proj_j_669.left
                                                ) : (
                                                    m_match_cond_j_660 = m_match_bool_j_659 ? (
                                                            bool_j_661 = false;
                                                            assert_pred_j_662 = bool_j_661;
                                                            assert_res_j_663 = assert_pred_j_662 ? (
                                                                    assert_res_true_j_664 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_665 = abort
                                                                )
                                                        ) : (
                                                            void_j_658 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5332 = var_j_655 ~ fun;
                                            appl_j_671 = m_i_5332 ? (
                                                    c_appl_i_5333 = var_j_655 m_match_cond_j_667
                                                ) : (
                                                    ab_i_5334 = abort
                                                );
                                            m_i_5335 = var_j_654 ~ fun;
                                            appl_j_672 = m_i_5335 ? (
                                                    c_appl_i_5336 = var_j_654 appl_j_671
                                                ) : (
                                                    ab_i_5337 = abort
                                                );
                                            var_j_673 = height_j_337_j_382;
                                            var_j_674 = t;
                                            proj_j_675 = var_j_674.bj_decl_lbls;
                                            m_match_bool_j_677 = proj_j_675 ~ any;
                                            m_match_bool_j_684 = proj_j_675 ~ 
                                                {right, _};
                                            m_match_cond_j_685 = m_match_bool_j_684 ? (
                                                    var_j_686 = t;
                                                    proj_j_687 = var_j_686.bj_actual_rec;
                                                    proj_j_688 = proj_j_687.right
                                                ) : (
                                                    m_match_cond_j_678 = m_match_bool_j_677 ? (
                                                            bool_j_679 = false;
                                                            assert_pred_j_680 = bool_j_679;
                                                            assert_res_j_681 = assert_pred_j_680 ? (
                                                                    assert_res_true_j_682 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_683 = abort
                                                                )
                                                        ) : (
                                                            void_j_676 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5338 = var_j_673 ~ fun;
                                            appl_j_689 = m_i_5338 ? (
                                                    c_appl_i_5339 = var_j_673 m_match_cond_j_685
                                                ) : (
                                                    ab_i_5340 = abort
                                                );
                                            m_i_5341 = appl_j_672 ~ fun;
                                            appl_j_690 = m_i_5341 ? (
                                                    c_appl_i_5342 = appl_j_672 appl_j_689
                                                ) : (
                                                    ab_i_5343 = abort
                                                );
                                            int_j_691 = 1;
                                            m_bl_i_5344 = appl_j_690 ~ int;
                                            m_br_i_5345 = int_j_691 ~ int;
                                            m_b_i_5346 = m_bl_i_5344 and m_br_i_5345;
                                            binop_j_692 = m_b_i_5346 ? (
                                                    c_binop_i_5347 = appl_j_690 + int_j_691
                                                ) : (
                                                    ab_i_5348 = abort
                                                );
                                            m_bl_i_5349 = m_match_cond_j_650 ~ int;
                                            m_br_i_5350 = binop_j_692 ~ int;
                                            m_b_i_5351 = m_bl_i_5349 and m_br_i_5350;
                                            binop_j_693 = m_b_i_5351 ? (
                                                    c_binop_i_5352 = m_match_cond_j_650 == binop_j_692
                                                ) : (
                                                    ab_i_5353 = abort
                                                ));
                                        var_j_695 = expr_b_487;
                                        appl_j_696 = flatten_fun_j_694 var_j_695;
                                        if_j_699 = appl_j_696 ? (
                                                bool_j_697 = true
                                            ) : (
                                                var_j_698 = pred_check_b_489
                                            )
                                    ) : (
                                        var_j_700 = t_check_b_488
                                    ));
                            flatten_fun_j_993 = fun bj_null_j_34 -> (
                                flatten_fun_j_825 = fun expr_b_427 -> (
                                    bool_j_703 = false;
                                    rec_fail_b_426 = bool_j_703;
                                    bool_j_704 = false;
                                    rec_fail_b_425 = bool_j_704;
                                    bool_j_705 = false;
                                    rec_fail_b_424 = bool_j_705;
                                    var_j_706 = expr_b_427;
                                    m_match_bool_j_708 = var_j_706 ~ any;
                                    m_match_bool_j_711 = var_j_706 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_712 = m_match_bool_j_711 ? (
                                            var_j_713 = expr_b_427;
                                            proj_j_714 = var_j_713.bj_decl_lbls;
                                            m_match_bool_j_716 = proj_j_714 ~ any;
                                            m_match_bool_j_719 = proj_j_714 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_720 = m_match_bool_j_719 ? (
                                                    height_j_27 = proj_j_714.height;
                                                    item_j_26 = proj_j_714.item;
                                                    left_j_25 = proj_j_714.left;
                                                    right_j_24 = proj_j_714.right;
                                                    var_j_721 = expr_b_427;
                                                    proj_j_722 = var_j_721.bj_actual_rec;
                                                    m_match_bool_j_724 = proj_j_722 ~ any;
                                                    m_match_bool_j_727 = proj_j_722 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_728 = m_match_bool_j_727 ? (
                                                            height_j_23 = proj_j_722.height;
                                                            item_j_22 = proj_j_722.item;
                                                            left_j_21 = proj_j_722.left;
                                                            right_j_20 = proj_j_722.right;
                                                            flatten_fun_j_757 = fun expr_b_441 -> (
                                                                bool_j_729 = false;
                                                                fail_b_439 = bool_j_729;
                                                                flatten_fun_j_738 = fun expr_b_438 -> (
                                                                    var_j_730 = expr_b_438;
                                                                    m_match_bool_j_732 = var_j_730 ~ any;
                                                                    m_match_bool_j_735 = var_j_730 ~ int;
                                                                    m_match_cond_j_736 = m_match_bool_j_735 ? (
                                                                        bool_j_737 = true
                                                                    ) : (
                                                                        m_match_cond_j_733 = m_match_bool_j_732 ? (
                                                                        var_j_734 = fail_b_439
                                                                    ) : (
                                                                        void_j_731 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_740 = fun bj_null_j_16 -> (
                                                                    input_j_739 = input);
                                                                flatten_fun_j_742 = fun expr_b_440 -> (
                                                                    var_j_741 = expr_b_440);
                                                                record_j_743 = 
                                                                    {checker = flatten_fun_j_738, generator = flatten_fun_j_740, wrapper = flatten_fun_j_742};
                                                                proj_j_744 = record_j_743.checker;
                                                                var_j_745 = expr_b_441;
                                                                appl_j_746 = proj_j_744 var_j_745;
                                                                t_check_b_442 = appl_j_746;
                                                                var_j_747 = t_check_b_442;
                                                                if_j_756 = var_j_747 ? (
                                                                        
                                                                    bool_j_748 = false;
                                                                    pred_check_b_443 = bool_j_748;
                                                                    var_j_749 = is_pos;
                                                                    var_j_750 = expr_b_441;
                                                                    appl_j_751 = var_j_749 var_j_750;
                                                                    if_j_754 = appl_j_751 ? (
                                                                        bool_j_752 = true
                                                                    ) : (
                                                                        var_j_753 = pred_check_b_443
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_755 = t_check_b_442
                                                                    ));
                                                            flatten_fun_j_783 = fun bj_null_j_18 -> (
                                                                bool_j_758 = false;
                                                                fail_b_435 = bool_j_758;
                                                                flatten_fun_j_767 = fun expr_b_434 -> (
                                                                    var_j_759 = expr_b_434;
                                                                    m_match_bool_j_761 = var_j_759 ~ any;
                                                                    m_match_bool_j_764 = var_j_759 ~ int;
                                                                    m_match_cond_j_765 = m_match_bool_j_764 ? (
                                                                        bool_j_766 = true
                                                                    ) : (
                                                                        m_match_cond_j_762 = m_match_bool_j_761 ? (
                                                                        var_j_763 = fail_b_435
                                                                    ) : (
                                                                        void_j_760 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_769 = fun bj_null_j_17 -> (
                                                                    input_j_768 = input);
                                                                flatten_fun_j_771 = fun expr_b_436 -> (
                                                                    var_j_770 = expr_b_436);
                                                                record_j_772 = 
                                                                    {checker = flatten_fun_j_767, generator = flatten_fun_j_769, wrapper = flatten_fun_j_771};
                                                                proj_j_773 = record_j_772.generator;
                                                                int_j_774 = 0;
                                                                appl_j_775 = proj_j_773 int_j_774;
                                                                candidate_b_437 = appl_j_775;
                                                                var_j_776 = is_pos;
                                                                var_j_777 = candidate_b_437;
                                                                appl_j_778 = var_j_776 var_j_777;
                                                                if_j_782 = appl_j_778 ? (
                                                                        
                                                                    var_j_779 = candidate_b_437
                                                                    ) : (
                                                                        
                                                                    bool_j_780 = false;
                                                                    assume_j_781 = assume bool_j_780
                                                                    ));
                                                            flatten_fun_j_785 = fun expr_b_444 -> (
                                                                var_j_784 = expr_b_444);
                                                            record_j_786 = 
                                                                {checker = flatten_fun_j_757, generator = flatten_fun_j_783, wrapper = flatten_fun_j_785};
                                                            proj_j_787 = record_j_786.checker;
                                                            var_j_788 = height_j_23;
                                                            appl_j_789 = proj_j_787 var_j_788;
                                                            lbl_check_b_433 = appl_j_789;
                                                            var_j_790 = lbl_check_b_433;
                                                            if_j_824 = var_j_790 ? (
                                                                    bool_j_791 = false;
                                                                    fail_b_431 = bool_j_791;
                                                                    flatten_fun_j_800 = fun expr_b_430 -> (
                                                                    var_j_792 = expr_b_430;
                                                                    m_match_bool_j_794 = var_j_792 ~ any;
                                                                    m_match_bool_j_797 = var_j_792 ~ int;
                                                                    m_match_cond_j_798 = m_match_bool_j_797 ? (
                                                                        bool_j_799 = true
                                                                    ) : (
                                                                        m_match_cond_j_795 = m_match_bool_j_794 ? (
                                                                        var_j_796 = fail_b_431
                                                                    ) : (
                                                                        void_j_793 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_802 = fun bj_null_j_19 -> (
                                                                    input_j_801 = input);
                                                                    flatten_fun_j_804 = fun expr_b_432 -> (
                                                                    var_j_803 = expr_b_432);
                                                                    record_j_805 = 
                                                                    {checker = flatten_fun_j_800, generator = flatten_fun_j_802, wrapper = flatten_fun_j_804};
                                                                    proj_j_806 = record_j_805.checker;
                                                                    var_j_807 = item_j_22;
                                                                    appl_j_808 = proj_j_806 var_j_807;
                                                                    lbl_check_b_429 = appl_j_808;
                                                                    var_j_809 = lbl_check_b_429;
                                                                    if_j_822 = var_j_809 ? (
                                                                        var_j_810 = tt;
                                                                    proj_j_811 = var_j_810.checker;
                                                                    var_j_812 = left_j_21;
                                                                    appl_j_813 = proj_j_811 var_j_812;
                                                                    lbl_check_b_428 = appl_j_813;
                                                                    var_j_814 = lbl_check_b_428;
                                                                    if_j_820 = var_j_814 ? (
                                                                        var_j_815 = tt;
                                                                    proj_j_816 = var_j_815.checker;
                                                                    var_j_817 = right_j_20;
                                                                    appl_j_818 = proj_j_816 var_j_817
                                                                    ) : (
                                                                        var_j_819 = lbl_check_b_428
                                                                    )
                                                                    ) : (
                                                                        var_j_821 = lbl_check_b_429
                                                                    )
                                                                ) : (
                                                                    var_j_823 = lbl_check_b_433
                                                                )
                                                        ) : (
                                                            m_match_cond_j_725 = m_match_bool_j_724 ? (
                                                                    var_j_726 = rec_fail_b_424
                                                                ) : (
                                                                    void_j_723 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_717 = m_match_bool_j_716 ? (
                                                            var_j_718 = rec_fail_b_425
                                                        ) : (
                                                            void_j_715 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_709 = m_match_bool_j_708 ? (
                                                    var_j_710 = rec_fail_b_426
                                                ) : (
                                                    void_j_707 = {}
                                                )
                                        ));
                                flatten_fun_j_924 = fun bj_null_j_32 -> (
                                    var_j_826 = tt;
                                    proj_j_827 = var_j_826.generator;
                                    int_j_828 = 0;
                                    appl_j_829 = proj_j_827 int_j_828;
                                    right_b_409 = appl_j_829;
                                    var_j_830 = tt;
                                    proj_j_831 = var_j_830.generator;
                                    int_j_832 = 0;
                                    appl_j_833 = proj_j_831 int_j_832;
                                    left_b_408 = appl_j_833;
                                    bool_j_834 = false;
                                    fail_b_422 = bool_j_834;
                                    flatten_fun_j_843 = fun expr_b_421 -> (
                                        var_j_835 = expr_b_421;
                                        m_match_bool_j_837 = var_j_835 ~ any;
                                        m_match_bool_j_840 = var_j_835 ~ int;
                                        m_match_cond_j_841 = m_match_bool_j_840 ? (
                                                bool_j_842 = true
                                            ) : (
                                                m_match_cond_j_838 = m_match_bool_j_837 ? (
                                                        var_j_839 = fail_b_422
                                                    ) : (
                                                        void_j_836 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_845 = fun bj_null_j_28 -> (
                                        input_j_844 = input);
                                    flatten_fun_j_847 = fun expr_b_423 -> (
                                        var_j_846 = expr_b_423);
                                    record_j_848 = {checker = flatten_fun_j_843, generator = flatten_fun_j_845, wrapper = flatten_fun_j_847};
                                    proj_j_849 = record_j_848.generator;
                                    int_j_850 = 0;
                                    appl_j_851 = proj_j_849 int_j_850;
                                    item_b_407 = appl_j_851;
                                    flatten_fun_j_880 = fun expr_b_417 -> (
                                        bool_j_852 = false;
                                        fail_b_415 = bool_j_852;
                                        flatten_fun_j_861 = fun expr_b_414 -> (
                                            var_j_853 = expr_b_414;
                                            m_match_bool_j_855 = var_j_853 ~ any;
                                            m_match_bool_j_858 = var_j_853 ~ int;
                                            m_match_cond_j_859 = m_match_bool_j_858 ? (
                                                    bool_j_860 = true
                                                ) : (
                                                    m_match_cond_j_856 = m_match_bool_j_855 ? (
                                                            var_j_857 = fail_b_415
                                                        ) : (
                                                            void_j_854 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_863 = fun bj_null_j_29 -> (
                                            input_j_862 = input);
                                        flatten_fun_j_865 = fun expr_b_416 -> (
                                            var_j_864 = expr_b_416);
                                        record_j_866 = {checker = flatten_fun_j_861, generator = flatten_fun_j_863, wrapper = flatten_fun_j_865};
                                        proj_j_867 = record_j_866.checker;
                                        var_j_868 = expr_b_417;
                                        appl_j_869 = proj_j_867 var_j_868;
                                        t_check_b_418 = appl_j_869;
                                        var_j_870 = t_check_b_418;
                                        if_j_879 = var_j_870 ? (
                                                bool_j_871 = false;
                                                pred_check_b_419 = bool_j_871;
                                                var_j_872 = is_pos;
                                                var_j_873 = expr_b_417;
                                                appl_j_874 = var_j_872 var_j_873;
                                                if_j_877 = appl_j_874 ? (
                                                        bool_j_875 = true
                                                    ) : (
                                                        var_j_876 = pred_check_b_419
                                                    )
                                            ) : (
                                                var_j_878 = t_check_b_418
                                            ));
                                    flatten_fun_j_906 = fun bj_null_j_31 -> (
                                        bool_j_881 = false;
                                        fail_b_411 = bool_j_881;
                                        flatten_fun_j_890 = fun expr_b_410 -> (
                                            var_j_882 = expr_b_410;
                                            m_match_bool_j_884 = var_j_882 ~ any;
                                            m_match_bool_j_887 = var_j_882 ~ int;
                                            m_match_cond_j_888 = m_match_bool_j_887 ? (
                                                    bool_j_889 = true
                                                ) : (
                                                    m_match_cond_j_885 = m_match_bool_j_884 ? (
                                                            var_j_886 = fail_b_411
                                                        ) : (
                                                            void_j_883 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_892 = fun bj_null_j_30 -> (
                                            input_j_891 = input);
                                        flatten_fun_j_894 = fun expr_b_412 -> (
                                            var_j_893 = expr_b_412);
                                        record_j_895 = {checker = flatten_fun_j_890, generator = flatten_fun_j_892, wrapper = flatten_fun_j_894};
                                        proj_j_896 = record_j_895.generator;
                                        int_j_897 = 0;
                                        appl_j_898 = proj_j_896 int_j_897;
                                        candidate_b_413 = appl_j_898;
                                        var_j_899 = is_pos;
                                        var_j_900 = candidate_b_413;
                                        appl_j_901 = var_j_899 var_j_900;
                                        if_j_905 = appl_j_901 ? (
                                                var_j_902 = candidate_b_413
                                            ) : (
                                                bool_j_903 = false;
                                                assume_j_904 = assume bool_j_903
                                            ));
                                    flatten_fun_j_908 = fun expr_b_420 -> (
                                        var_j_907 = expr_b_420);
                                    record_j_909 = {checker = flatten_fun_j_880, generator = flatten_fun_j_906, wrapper = flatten_fun_j_908};
                                    proj_j_910 = record_j_909.generator;
                                    int_j_911 = 0;
                                    appl_j_912 = proj_j_910 int_j_911;
                                    height_b_406 = appl_j_912;
                                    var_j_913 = height_b_406;
                                    var_j_914 = item_b_407;
                                    var_j_915 = left_b_408;
                                    var_j_916 = right_b_409;
                                    record_j_917 = {height = var_j_913, item = var_j_914, left = var_j_915, right = var_j_916};
                                    record_j_918 = {};
                                    record_j_919 = {};
                                    record_j_920 = {};
                                    record_j_921 = {};
                                    record_j_922 = {height = record_j_918, item = record_j_919, left = record_j_920, right = record_j_921};
                                    record_j_923 = {bj_actual_rec = record_j_917, bj_decl_lbls = record_j_922});
                                flatten_fun_j_926 = fun expr_b_445 -> (
                                    var_j_925 = expr_b_445);
                                record_j_927 = {checker = flatten_fun_j_825, generator = flatten_fun_j_924, wrapper = flatten_fun_j_926};
                                proj_j_928 = record_j_927.generator;
                                int_j_929 = 0;
                                appl_j_930 = proj_j_928 int_j_929;
                                candidate_b_446 = appl_j_930;
                                flatten_fun_j_986 = fun t_j_33 -> (
                                    var_j_931 = t_j_33;
                                    proj_j_932 = var_j_931.bj_decl_lbls;
                                    m_match_bool_j_934 = proj_j_932 ~ any;
                                    m_match_bool_j_941 = proj_j_932 ~ 
                                        {height, _};
                                    m_match_cond_j_942 = m_match_bool_j_941 ? (
                                            var_j_943 = t_j_33;
                                            proj_j_944 = var_j_943.bj_actual_rec;
                                            proj_j_945 = proj_j_944.height
                                        ) : (
                                            m_match_cond_j_935 = m_match_bool_j_934 ? (
                                                    bool_j_936 = false;
                                                    assert_pred_j_937 = bool_j_936;
                                                    assert_res_j_938 = assert_pred_j_937 ? (
                                                            assert_res_true_j_939 = 
                                                                {}
                                                        ) : (
                                                            ab_j_940 = abort
                                                        )
                                                ) : (
                                                    void_j_933 = {}
                                                )
                                        );
                                    var_j_946 = max;
                                    var_j_947 = height_j_337_j_382;
                                    var_j_948 = t_j_33;
                                    proj_j_949 = var_j_948.bj_decl_lbls;
                                    m_match_bool_j_951 = proj_j_949 ~ any;
                                    m_match_bool_j_958 = proj_j_949 ~ 
                                        {left, _};
                                    m_match_cond_j_959 = m_match_bool_j_958 ? (
                                            var_j_960 = t_j_33;
                                            proj_j_961 = var_j_960.bj_actual_rec;
                                            proj_j_962 = proj_j_961.left
                                        ) : (
                                            m_match_cond_j_952 = m_match_bool_j_951 ? (
                                                    bool_j_953 = false;
                                                    assert_pred_j_954 = bool_j_953;
                                                    assert_res_j_955 = assert_pred_j_954 ? (
                                                            assert_res_true_j_956 = 
                                                                {}
                                                        ) : (
                                                            ab_j_957 = abort
                                                        )
                                                ) : (
                                                    void_j_950 = {}
                                                )
                                        );
                                    m_i_5354 = var_j_947 ~ fun;
                                    appl_j_963 = m_i_5354 ? (
                                            c_appl_i_5355 = var_j_947 m_match_cond_j_959
                                        ) : (
                                            ab_i_5356 = abort
                                        );
                                    m_i_5357 = var_j_946 ~ fun;
                                    appl_j_964 = m_i_5357 ? (
                                            c_appl_i_5358 = var_j_946 appl_j_963
                                        ) : (
                                            ab_i_5359 = abort
                                        );
                                    var_j_965 = height_j_337_j_382;
                                    var_j_966 = t_j_33;
                                    proj_j_967 = var_j_966.bj_decl_lbls;
                                    m_match_bool_j_969 = proj_j_967 ~ any;
                                    m_match_bool_j_976 = proj_j_967 ~ 
                                        {right, _};
                                    m_match_cond_j_977 = m_match_bool_j_976 ? (
                                            var_j_978 = t_j_33;
                                            proj_j_979 = var_j_978.bj_actual_rec;
                                            proj_j_980 = proj_j_979.right
                                        ) : (
                                            m_match_cond_j_970 = m_match_bool_j_969 ? (
                                                    bool_j_971 = false;
                                                    assert_pred_j_972 = bool_j_971;
                                                    assert_res_j_973 = assert_pred_j_972 ? (
                                                            assert_res_true_j_974 = 
                                                                {}
                                                        ) : (
                                                            ab_j_975 = abort
                                                        )
                                                ) : (
                                                    void_j_968 = {}
                                                )
                                        );
                                    m_i_5360 = var_j_965 ~ fun;
                                    appl_j_981 = m_i_5360 ? (
                                            c_appl_i_5361 = var_j_965 m_match_cond_j_977
                                        ) : (
                                            ab_i_5362 = abort
                                        );
                                    m_i_5363 = appl_j_964 ~ fun;
                                    appl_j_982 = m_i_5363 ? (
                                            c_appl_i_5364 = appl_j_964 appl_j_981
                                        ) : (
                                            ab_i_5365 = abort
                                        );
                                    int_j_983 = 1;
                                    m_bl_i_5366 = appl_j_982 ~ int;
                                    m_br_i_5367 = int_j_983 ~ int;
                                    m_b_i_5368 = m_bl_i_5366 and m_br_i_5367;
                                    binop_j_984 = m_b_i_5368 ? (
                                            c_binop_i_5369 = appl_j_982 + int_j_983
                                        ) : (
                                            ab_i_5370 = abort
                                        );
                                    m_bl_i_5371 = m_match_cond_j_942 ~ int;
                                    m_br_i_5372 = binop_j_984 ~ int;
                                    m_b_i_5373 = m_bl_i_5371 and m_br_i_5372;
                                    binop_j_985 = m_b_i_5373 ? (
                                            c_binop_i_5374 = m_match_cond_j_942 == binop_j_984
                                        ) : (
                                            ab_i_5375 = abort
                                        ));
                                var_j_987 = candidate_b_446;
                                appl_j_988 = flatten_fun_j_986 var_j_987;
                                if_j_992 = appl_j_988 ? (
                                        var_j_989 = candidate_b_446
                                    ) : (
                                        bool_j_990 = false;
                                        assume_j_991 = assume bool_j_990
                                    ));
                            flatten_fun_j_995 = fun expr_b_490 -> (
                                var_j_994 = expr_b_490);
                            record_j_996 = {checker = flatten_fun_j_702, generator = flatten_fun_j_993, wrapper = flatten_fun_j_995};
                            proj_j_997 = record_j_996.checker;
                            var_j_998 = expr_b_600;
                            appl_j_999 = proj_j_997 var_j_998;
                            if_j_1083 = appl_j_999 ? (
                                    bool_j_1000 = true
                                ) : (
                                    flatten_fun_j_1047 = fun expr_b_498 -> (
                                        bool_j_1001 = false;
                                        rec_fail_b_497 = bool_j_1001;
                                        bool_j_1002 = false;
                                        rec_fail_b_496 = bool_j_1002;
                                        bool_j_1003 = false;
                                        rec_fail_b_495 = bool_j_1003;
                                        var_j_1004 = expr_b_498;
                                        m_match_bool_j_1006 = var_j_1004 ~ any;
                                        m_match_bool_j_1009 = var_j_1004 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_1010 = m_match_bool_j_1009 ? (
                                                var_j_1011 = expr_b_498;
                                                proj_j_1012 = var_j_1011.bj_decl_lbls;
                                                m_match_bool_j_1014 = proj_j_1012 ~ any;
                                                m_match_bool_j_1017 = proj_j_1012 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1018 = m_match_bool_j_1017 ? (
                                                        leaf_j_36 = proj_j_1012.leaf;
                                                        var_j_1019 = expr_b_498;
                                                        proj_j_1020 = var_j_1019.bj_actual_rec;
                                                        m_match_bool_j_1022 = proj_j_1020 ~ any;
                                                        m_match_bool_j_1025 = proj_j_1020 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_1026 = m_match_bool_j_1025 ? (
                                                                leaf = proj_j_1020.leaf;
                                                                bool_j_1027 = false;
                                                                fail_b_500 = bool_j_1027;
                                                                flatten_fun_j_1036 = fun expr_b_499 -> (
                                                                    var_j_1028 = expr_b_499;
                                                                    m_match_bool_j_1030 = var_j_1028 ~ any;
                                                                    m_match_bool_j_1033 = var_j_1028 ~ bool;
                                                                    m_match_cond_j_1034 = m_match_bool_j_1033 ? (
                                                                        bool_j_1035 = true
                                                                    ) : (
                                                                        m_match_cond_j_1031 = m_match_bool_j_1030 ? (
                                                                        var_j_1032 = fail_b_500
                                                                    ) : (
                                                                        void_j_1029 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1040 = fun bj_null_j_35 -> (
                                                                    int_j_1037 = 0;
                                                                    input_j_1038 = input;
                                                                    m_bl_i_5376 = int_j_1037 ~ int;
                                                                    m_br_i_5377 = input_j_1038 ~ int;
                                                                    m_b_i_5378 = m_bl_i_5376 and m_br_i_5377;
                                                                    binop_j_1039 = m_b_i_5378 ? (
                                                                        c_binop_i_5379 = int_j_1037 <= input_j_1038
                                                                    ) : (
                                                                        ab_i_5380 = abort
                                                                    ));
                                                                flatten_fun_j_1042 = fun expr_b_501 -> (
                                                                    var_j_1041 = expr_b_501);
                                                                record_j_1043 = 
                                                                    {checker = flatten_fun_j_1036, generator = flatten_fun_j_1040, wrapper = flatten_fun_j_1042};
                                                                proj_j_1044 = record_j_1043.checker;
                                                                var_j_1045 = leaf;
                                                                appl_j_1046 = proj_j_1044 var_j_1045
                                                            ) : (
                                                                m_match_cond_j_1023 = m_match_bool_j_1022 ? (
                                                                        
                                                                    var_j_1024 = rec_fail_b_495
                                                                    ) : (
                                                                        
                                                                    void_j_1021 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1015 = m_match_bool_j_1014 ? (
                                                                var_j_1016 = rec_fail_b_496
                                                            ) : (
                                                                void_j_1013 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1007 = m_match_bool_j_1006 ? (
                                                        var_j_1008 = rec_fail_b_497
                                                    ) : (
                                                        void_j_1005 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1073 = fun bj_null_j_38 -> (
                                        bool_j_1048 = false;
                                        fail_b_493 = bool_j_1048;
                                        flatten_fun_j_1057 = fun expr_b_492 -> (
                                            var_j_1049 = expr_b_492;
                                            m_match_bool_j_1051 = var_j_1049 ~ any;
                                            m_match_bool_j_1054 = var_j_1049 ~ bool;
                                            m_match_cond_j_1055 = m_match_bool_j_1054 ? (
                                                    bool_j_1056 = true
                                                ) : (
                                                    m_match_cond_j_1052 = m_match_bool_j_1051 ? (
                                                            var_j_1053 = fail_b_493
                                                        ) : (
                                                            void_j_1050 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1061 = fun bj_null_j_37 -> (
                                            int_j_1058 = 0;
                                            input_j_1059 = input;
                                            m_bl_i_5381 = int_j_1058 ~ int;
                                            m_br_i_5382 = input_j_1059 ~ int;
                                            m_b_i_5383 = m_bl_i_5381 and m_br_i_5382;
                                            binop_j_1060 = m_b_i_5383 ? (
                                                    c_binop_i_5384 = int_j_1058 <= input_j_1059
                                                ) : (
                                                    ab_i_5385 = abort
                                                ));
                                        flatten_fun_j_1063 = fun expr_b_494 -> (
                                            var_j_1062 = expr_b_494);
                                        record_j_1064 = {checker = flatten_fun_j_1057, generator = flatten_fun_j_1061, wrapper = flatten_fun_j_1063};
                                        proj_j_1065 = record_j_1064.generator;
                                        int_j_1066 = 0;
                                        appl_j_1067 = proj_j_1065 int_j_1066;
                                        leaf_b_491 = appl_j_1067;
                                        var_j_1068 = leaf_b_491;
                                        record_j_1069 = {leaf = var_j_1068};
                                        record_j_1070 = {};
                                        record_j_1071 = {leaf = record_j_1070};
                                        record_j_1072 = {bj_actual_rec = record_j_1069, bj_decl_lbls = record_j_1071});
                                    flatten_fun_j_1075 = fun expr_b_502 -> (
                                        var_j_1074 = expr_b_502);
                                    record_j_1076 = {checker = flatten_fun_j_1047, generator = flatten_fun_j_1073, wrapper = flatten_fun_j_1075};
                                    proj_j_1077 = record_j_1076.checker;
                                    var_j_1078 = expr_b_600;
                                    appl_j_1079 = proj_j_1077 var_j_1078;
                                    if_j_1082 = appl_j_1079 ? (
                                            bool_j_1080 = true
                                        ) : (
                                            var_j_1081 = fail_b_602
                                        )
                                )
                        ) : (
                            flatten_fun_j_1130 = fun expr_b_595 -> (
                                bool_j_1084 = false;
                                rec_fail_b_594 = bool_j_1084;
                                bool_j_1085 = false;
                                rec_fail_b_593 = bool_j_1085;
                                bool_j_1086 = false;
                                rec_fail_b_592 = bool_j_1086;
                                var_j_1087 = expr_b_595;
                                m_match_bool_j_1089 = var_j_1087 ~ any;
                                m_match_bool_j_1092 = var_j_1087 ~ {bj_actual_rec, _};
                                m_match_cond_j_1093 = m_match_bool_j_1092 ? (
                                        var_j_1094 = expr_b_595;
                                        proj_j_1095 = var_j_1094.bj_decl_lbls;
                                        m_match_bool_j_1097 = proj_j_1095 ~ any;
                                        m_match_bool_j_1100 = proj_j_1095 ~ 
                                            {leaf, _};
                                        m_match_cond_j_1101 = m_match_bool_j_1100 ? (
                                                leaf_j_41 = proj_j_1095.leaf;
                                                var_j_1102 = expr_b_595;
                                                proj_j_1103 = var_j_1102.bj_actual_rec;
                                                m_match_bool_j_1105 = proj_j_1103 ~ any;
                                                m_match_bool_j_1108 = proj_j_1103 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_1109 = m_match_bool_j_1108 ? (
                                                        leaf_j_40 = proj_j_1103.leaf;
                                                        bool_j_1110 = false;
                                                        fail_b_597 = bool_j_1110;
                                                        flatten_fun_j_1119 = fun expr_b_596 -> (
                                                            var_j_1111 = expr_b_596;
                                                            m_match_bool_j_1113 = var_j_1111 ~ any;
                                                            m_match_bool_j_1116 = var_j_1111 ~ bool;
                                                            m_match_cond_j_1117 = m_match_bool_j_1116 ? (
                                                                    bool_j_1118 = true
                                                                ) : (
                                                                    m_match_cond_j_1114 = m_match_bool_j_1113 ? (
                                                                        var_j_1115 = fail_b_597
                                                                    ) : (
                                                                        void_j_1112 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_1123 = fun bj_null_j_39 -> (
                                                            int_j_1120 = 0;
                                                            input_j_1121 = input;
                                                            m_bl_i_5386 = int_j_1120 ~ int;
                                                            m_br_i_5387 = input_j_1121 ~ int;
                                                            m_b_i_5388 = m_bl_i_5386 and m_br_i_5387;
                                                            binop_j_1122 = m_b_i_5388 ? (
                                                                    c_binop_i_5389 = int_j_1120 <= input_j_1121
                                                                ) : (
                                                                    ab_i_5390 = abort
                                                                ));
                                                        flatten_fun_j_1125 = fun expr_b_598 -> (
                                                            var_j_1124 = expr_b_598);
                                                        record_j_1126 = 
                                                            {checker = flatten_fun_j_1119, generator = flatten_fun_j_1123, wrapper = flatten_fun_j_1125};
                                                        proj_j_1127 = record_j_1126.checker;
                                                        var_j_1128 = leaf_j_40;
                                                        appl_j_1129 = proj_j_1127 var_j_1128
                                                    ) : (
                                                        m_match_cond_j_1106 = m_match_bool_j_1105 ? (
                                                                var_j_1107 = rec_fail_b_592
                                                            ) : (
                                                                void_j_1104 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_1098 = m_match_bool_j_1097 ? (
                                                        var_j_1099 = rec_fail_b_593
                                                    ) : (
                                                        void_j_1096 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_1090 = m_match_bool_j_1089 ? (
                                                var_j_1091 = rec_fail_b_594
                                            ) : (
                                                void_j_1088 = {}
                                            )
                                    ));
                            flatten_fun_j_1156 = fun bj_null_j_43 -> (
                                bool_j_1131 = false;
                                fail_b_590 = bool_j_1131;
                                flatten_fun_j_1140 = fun expr_b_589 -> (
                                    var_j_1132 = expr_b_589;
                                    m_match_bool_j_1134 = var_j_1132 ~ any;
                                    m_match_bool_j_1137 = var_j_1132 ~ bool;
                                    m_match_cond_j_1138 = m_match_bool_j_1137 ? (
                                            bool_j_1139 = true
                                        ) : (
                                            m_match_cond_j_1135 = m_match_bool_j_1134 ? (
                                                    var_j_1136 = fail_b_590
                                                ) : (
                                                    void_j_1133 = {}
                                                )
                                        ));
                                flatten_fun_j_1144 = fun bj_null_j_42 -> (
                                    int_j_1141 = 0;
                                    input_j_1142 = input;
                                    m_bl_i_5391 = int_j_1141 ~ int;
                                    m_br_i_5392 = input_j_1142 ~ int;
                                    m_b_i_5393 = m_bl_i_5391 and m_br_i_5392;
                                    binop_j_1143 = m_b_i_5393 ? (
                                            c_binop_i_5394 = int_j_1141 <= input_j_1142
                                        ) : (
                                            ab_i_5395 = abort
                                        ));
                                flatten_fun_j_1146 = fun expr_b_591 -> (
                                    var_j_1145 = expr_b_591);
                                record_j_1147 = {checker = flatten_fun_j_1140, generator = flatten_fun_j_1144, wrapper = flatten_fun_j_1146};
                                proj_j_1148 = record_j_1147.generator;
                                int_j_1149 = 0;
                                appl_j_1150 = proj_j_1148 int_j_1149;
                                leaf_b_588 = appl_j_1150;
                                var_j_1151 = leaf_b_588;
                                record_j_1152 = {leaf = var_j_1151};
                                record_j_1153 = {};
                                record_j_1154 = {leaf = record_j_1153};
                                record_j_1155 = {bj_actual_rec = record_j_1152, bj_decl_lbls = record_j_1154});
                            flatten_fun_j_1158 = fun expr_b_599 -> (
                                var_j_1157 = expr_b_599);
                            record_j_1159 = {checker = flatten_fun_j_1130, generator = flatten_fun_j_1156, wrapper = flatten_fun_j_1158};
                            proj_j_1160 = record_j_1159.checker;
                            var_j_1161 = expr_b_600;
                            appl_j_1162 = proj_j_1160 var_j_1161;
                            if_j_1758 = appl_j_1162 ? (
                                    bool_j_1163 = true
                                ) : (
                                    flatten_fun_j_1457 = fun expr_b_584 -> (
                                        flatten_fun_j_1286 = fun expr_b_565 -> (
                                            bool_j_1164 = false;
                                            rec_fail_b_564 = bool_j_1164;
                                            bool_j_1165 = false;
                                            rec_fail_b_563 = bool_j_1165;
                                            bool_j_1166 = false;
                                            rec_fail_b_562 = bool_j_1166;
                                            var_j_1167 = expr_b_565;
                                            m_match_bool_j_1169 = var_j_1167 ~ any;
                                            m_match_bool_j_1172 = var_j_1167 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_1173 = m_match_bool_j_1172 ? (
                                                    var_j_1174 = expr_b_565;
                                                    proj_j_1175 = var_j_1174.bj_decl_lbls;
                                                    m_match_bool_j_1177 = proj_j_1175 ~ any;
                                                    m_match_bool_j_1180 = proj_j_1175 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1181 = m_match_bool_j_1180 ? (
                                                            height_j_55 = proj_j_1175.height;
                                                            item_j_54 = proj_j_1175.item;
                                                            left_j_53 = proj_j_1175.left;
                                                            right_j_52 = proj_j_1175.right;
                                                            var_j_1182 = expr_b_565;
                                                            proj_j_1183 = var_j_1182.bj_actual_rec;
                                                            m_match_bool_j_1185 = proj_j_1183 ~ any;
                                                            m_match_bool_j_1188 = proj_j_1183 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_1189 = m_match_bool_j_1188 ? (
                                                                    height_j_51 = proj_j_1183.height;
                                                                    item_j_50 = proj_j_1183.item;
                                                                    left_j_49 = proj_j_1183.left;
                                                                    right_j_48 = proj_j_1183.right;
                                                                    flatten_fun_j_1218 = fun expr_b_579 -> (
                                                                    bool_j_1190 = false;
                                                                    fail_b_577 = bool_j_1190;
                                                                    flatten_fun_j_1199 = fun expr_b_576 -> (
                                                                    var_j_1191 = expr_b_576;
                                                                    m_match_bool_j_1193 = var_j_1191 ~ any;
                                                                    m_match_bool_j_1196 = var_j_1191 ~ int;
                                                                    m_match_cond_j_1197 = m_match_bool_j_1196 ? (
                                                                        bool_j_1198 = true
                                                                    ) : (
                                                                        m_match_cond_j_1194 = m_match_bool_j_1193 ? (
                                                                        var_j_1195 = fail_b_577
                                                                    ) : (
                                                                        void_j_1192 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1201 = fun bj_null_j_44 -> (
                                                                    input_j_1200 = input);
                                                                    flatten_fun_j_1203 = fun expr_b_578 -> (
                                                                    var_j_1202 = expr_b_578);
                                                                    record_j_1204 = 
                                                                    {checker = flatten_fun_j_1199, generator = flatten_fun_j_1201, wrapper = flatten_fun_j_1203};
                                                                    proj_j_1205 = record_j_1204.checker;
                                                                    var_j_1206 = expr_b_579;
                                                                    appl_j_1207 = proj_j_1205 var_j_1206;
                                                                    t_check_b_580 = appl_j_1207;
                                                                    var_j_1208 = t_check_b_580;
                                                                    if_j_1217 = var_j_1208 ? (
                                                                        bool_j_1209 = false;
                                                                    pred_check_b_581 = bool_j_1209;
                                                                    var_j_1210 = is_pos;
                                                                    var_j_1211 = expr_b_579;
                                                                    appl_j_1212 = var_j_1210 var_j_1211;
                                                                    if_j_1215 = appl_j_1212 ? (
                                                                        bool_j_1213 = true
                                                                    ) : (
                                                                        var_j_1214 = pred_check_b_581
                                                                    )
                                                                    ) : (
                                                                        var_j_1216 = t_check_b_580
                                                                    ));
                                                                    flatten_fun_j_1244 = fun bj_null_j_46 -> (
                                                                    bool_j_1219 = false;
                                                                    fail_b_573 = bool_j_1219;
                                                                    flatten_fun_j_1228 = fun expr_b_572 -> (
                                                                    var_j_1220 = expr_b_572;
                                                                    m_match_bool_j_1222 = var_j_1220 ~ any;
                                                                    m_match_bool_j_1225 = var_j_1220 ~ int;
                                                                    m_match_cond_j_1226 = m_match_bool_j_1225 ? (
                                                                        bool_j_1227 = true
                                                                    ) : (
                                                                        m_match_cond_j_1223 = m_match_bool_j_1222 ? (
                                                                        var_j_1224 = fail_b_573
                                                                    ) : (
                                                                        void_j_1221 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1230 = fun bj_null_j_45 -> (
                                                                    input_j_1229 = input);
                                                                    flatten_fun_j_1232 = fun expr_b_574 -> (
                                                                    var_j_1231 = expr_b_574);
                                                                    record_j_1233 = 
                                                                    {checker = flatten_fun_j_1228, generator = flatten_fun_j_1230, wrapper = flatten_fun_j_1232};
                                                                    proj_j_1234 = record_j_1233.generator;
                                                                    int_j_1235 = 0;
                                                                    appl_j_1236 = proj_j_1234 int_j_1235;
                                                                    candidate_b_575 = appl_j_1236;
                                                                    var_j_1237 = is_pos;
                                                                    var_j_1238 = candidate_b_575;
                                                                    appl_j_1239 = var_j_1237 var_j_1238;
                                                                    if_j_1243 = appl_j_1239 ? (
                                                                        var_j_1240 = candidate_b_575
                                                                    ) : (
                                                                        bool_j_1241 = false;
                                                                    assume_j_1242 = assume bool_j_1241
                                                                    ));
                                                                    flatten_fun_j_1246 = fun expr_b_582 -> (
                                                                    var_j_1245 = expr_b_582);
                                                                    record_j_1247 = 
                                                                    {checker = flatten_fun_j_1218, generator = flatten_fun_j_1244, wrapper = flatten_fun_j_1246};
                                                                    proj_j_1248 = record_j_1247.checker;
                                                                    var_j_1249 = height_j_51;
                                                                    appl_j_1250 = proj_j_1248 var_j_1249;
                                                                    lbl_check_b_571 = appl_j_1250;
                                                                    var_j_1251 = lbl_check_b_571;
                                                                    if_j_1285 = var_j_1251 ? (
                                                                        bool_j_1252 = false;
                                                                    fail_b_569 = bool_j_1252;
                                                                    flatten_fun_j_1261 = fun expr_b_568 -> (
                                                                    var_j_1253 = expr_b_568;
                                                                    m_match_bool_j_1255 = var_j_1253 ~ any;
                                                                    m_match_bool_j_1258 = var_j_1253 ~ int;
                                                                    m_match_cond_j_1259 = m_match_bool_j_1258 ? (
                                                                        bool_j_1260 = true
                                                                    ) : (
                                                                        m_match_cond_j_1256 = m_match_bool_j_1255 ? (
                                                                        var_j_1257 = fail_b_569
                                                                    ) : (
                                                                        void_j_1254 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1263 = fun bj_null_j_47 -> (
                                                                    input_j_1262 = input);
                                                                    flatten_fun_j_1265 = fun expr_b_570 -> (
                                                                    var_j_1264 = expr_b_570);
                                                                    record_j_1266 = 
                                                                    {checker = flatten_fun_j_1261, generator = flatten_fun_j_1263, wrapper = flatten_fun_j_1265};
                                                                    proj_j_1267 = record_j_1266.checker;
                                                                    var_j_1268 = item_j_50;
                                                                    appl_j_1269 = proj_j_1267 var_j_1268;
                                                                    lbl_check_b_567 = appl_j_1269;
                                                                    var_j_1270 = lbl_check_b_567;
                                                                    if_j_1283 = var_j_1270 ? (
                                                                        var_j_1271 = tt;
                                                                    proj_j_1272 = var_j_1271.checker;
                                                                    var_j_1273 = left_j_49;
                                                                    appl_j_1274 = proj_j_1272 var_j_1273;
                                                                    lbl_check_b_566 = appl_j_1274;
                                                                    var_j_1275 = lbl_check_b_566;
                                                                    if_j_1281 = var_j_1275 ? (
                                                                        var_j_1276 = tt;
                                                                    proj_j_1277 = var_j_1276.checker;
                                                                    var_j_1278 = right_j_48;
                                                                    appl_j_1279 = proj_j_1277 var_j_1278
                                                                    ) : (
                                                                        var_j_1280 = lbl_check_b_566
                                                                    )
                                                                    ) : (
                                                                        var_j_1282 = lbl_check_b_567
                                                                    )
                                                                    ) : (
                                                                        var_j_1284 = lbl_check_b_571
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_1186 = m_match_bool_j_1185 ? (
                                                                        var_j_1187 = rec_fail_b_562
                                                                    ) : (
                                                                        void_j_1184 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1178 = m_match_bool_j_1177 ? (
                                                                    var_j_1179 = rec_fail_b_563
                                                                ) : (
                                                                    void_j_1176 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1170 = m_match_bool_j_1169 ? (
                                                            var_j_1171 = rec_fail_b_564
                                                        ) : (
                                                            void_j_1168 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1385 = fun bj_null_j_60 -> (
                                            var_j_1287 = tt;
                                            proj_j_1288 = var_j_1287.generator;
                                            int_j_1289 = 0;
                                            appl_j_1290 = proj_j_1288 int_j_1289;
                                            right_b_547 = appl_j_1290;
                                            var_j_1291 = tt;
                                            proj_j_1292 = var_j_1291.generator;
                                            int_j_1293 = 0;
                                            appl_j_1294 = proj_j_1292 int_j_1293;
                                            left_b_546 = appl_j_1294;
                                            bool_j_1295 = false;
                                            fail_b_560 = bool_j_1295;
                                            flatten_fun_j_1304 = fun expr_b_559 -> (
                                                var_j_1296 = expr_b_559;
                                                m_match_bool_j_1298 = var_j_1296 ~ any;
                                                m_match_bool_j_1301 = var_j_1296 ~ int;
                                                m_match_cond_j_1302 = m_match_bool_j_1301 ? (
                                                        bool_j_1303 = true
                                                    ) : (
                                                        m_match_cond_j_1299 = m_match_bool_j_1298 ? (
                                                                var_j_1300 = fail_b_560
                                                            ) : (
                                                                void_j_1297 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1306 = fun bj_null_j_56 -> (
                                                input_j_1305 = input);
                                            flatten_fun_j_1308 = fun expr_b_561 -> (
                                                var_j_1307 = expr_b_561);
                                            record_j_1309 = {checker = flatten_fun_j_1304, generator = flatten_fun_j_1306, wrapper = flatten_fun_j_1308};
                                            proj_j_1310 = record_j_1309.generator;
                                            int_j_1311 = 0;
                                            appl_j_1312 = proj_j_1310 int_j_1311;
                                            item_b_545 = appl_j_1312;
                                            flatten_fun_j_1341 = fun expr_b_555 -> (
                                                bool_j_1313 = false;
                                                fail_b_553 = bool_j_1313;
                                                flatten_fun_j_1322 = fun expr_b_552 -> (
                                                    var_j_1314 = expr_b_552;
                                                    m_match_bool_j_1316 = var_j_1314 ~ any;
                                                    m_match_bool_j_1319 = var_j_1314 ~ int;
                                                    m_match_cond_j_1320 = m_match_bool_j_1319 ? (
                                                            bool_j_1321 = true
                                                        ) : (
                                                            m_match_cond_j_1317 = m_match_bool_j_1316 ? (
                                                                    var_j_1318 = fail_b_553
                                                                ) : (
                                                                    void_j_1315 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1324 = fun bj_null_j_57 -> (
                                                    input_j_1323 = input);
                                                flatten_fun_j_1326 = fun expr_b_554 -> (
                                                    var_j_1325 = expr_b_554);
                                                record_j_1327 = {checker = flatten_fun_j_1322, generator = flatten_fun_j_1324, wrapper = flatten_fun_j_1326};
                                                proj_j_1328 = record_j_1327.checker;
                                                var_j_1329 = expr_b_555;
                                                appl_j_1330 = proj_j_1328 var_j_1329;
                                                t_check_b_556 = appl_j_1330;
                                                var_j_1331 = t_check_b_556;
                                                if_j_1340 = var_j_1331 ? (
                                                        bool_j_1332 = false;
                                                        pred_check_b_557 = bool_j_1332;
                                                        var_j_1333 = is_pos;
                                                        var_j_1334 = expr_b_555;
                                                        appl_j_1335 = var_j_1333 var_j_1334;
                                                        if_j_1338 = appl_j_1335 ? (
                                                                bool_j_1336 = true
                                                            ) : (
                                                                var_j_1337 = pred_check_b_557
                                                            )
                                                    ) : (
                                                        var_j_1339 = t_check_b_556
                                                    ));
                                            flatten_fun_j_1367 = fun bj_null_j_59 -> (
                                                bool_j_1342 = false;
                                                fail_b_549 = bool_j_1342;
                                                flatten_fun_j_1351 = fun expr_b_548 -> (
                                                    var_j_1343 = expr_b_548;
                                                    m_match_bool_j_1345 = var_j_1343 ~ any;
                                                    m_match_bool_j_1348 = var_j_1343 ~ int;
                                                    m_match_cond_j_1349 = m_match_bool_j_1348 ? (
                                                            bool_j_1350 = true
                                                        ) : (
                                                            m_match_cond_j_1346 = m_match_bool_j_1345 ? (
                                                                    var_j_1347 = fail_b_549
                                                                ) : (
                                                                    void_j_1344 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1353 = fun bj_null_j_58 -> (
                                                    input_j_1352 = input);
                                                flatten_fun_j_1355 = fun expr_b_550 -> (
                                                    var_j_1354 = expr_b_550);
                                                record_j_1356 = {checker = flatten_fun_j_1351, generator = flatten_fun_j_1353, wrapper = flatten_fun_j_1355};
                                                proj_j_1357 = record_j_1356.generator;
                                                int_j_1358 = 0;
                                                appl_j_1359 = proj_j_1357 int_j_1358;
                                                candidate_b_551 = appl_j_1359;
                                                var_j_1360 = is_pos;
                                                var_j_1361 = candidate_b_551;
                                                appl_j_1362 = var_j_1360 var_j_1361;
                                                if_j_1366 = appl_j_1362 ? (
                                                        var_j_1363 = candidate_b_551
                                                    ) : (
                                                        bool_j_1364 = false;
                                                        assume_j_1365 = assume bool_j_1364
                                                    ));
                                            flatten_fun_j_1369 = fun expr_b_558 -> (
                                                var_j_1368 = expr_b_558);
                                            record_j_1370 = {checker = flatten_fun_j_1341, generator = flatten_fun_j_1367, wrapper = flatten_fun_j_1369};
                                            proj_j_1371 = record_j_1370.generator;
                                            int_j_1372 = 0;
                                            appl_j_1373 = proj_j_1371 int_j_1372;
                                            height_b_544 = appl_j_1373;
                                            var_j_1374 = height_b_544;
                                            var_j_1375 = item_b_545;
                                            var_j_1376 = left_b_546;
                                            var_j_1377 = right_b_547;
                                            record_j_1378 = {height = var_j_1374, item = var_j_1375, left = var_j_1376, right = var_j_1377};
                                            record_j_1379 = {};
                                            record_j_1380 = {};
                                            record_j_1381 = {};
                                            record_j_1382 = {};
                                            record_j_1383 = {height = record_j_1379, item = record_j_1380, left = record_j_1381, right = record_j_1382};
                                            record_j_1384 = {bj_actual_rec = record_j_1378, bj_decl_lbls = record_j_1383});
                                        flatten_fun_j_1387 = fun expr_b_583 -> (
                                            var_j_1386 = expr_b_583);
                                        record_j_1388 = {checker = flatten_fun_j_1286, generator = flatten_fun_j_1385, wrapper = flatten_fun_j_1387};
                                        proj_j_1389 = record_j_1388.checker;
                                        var_j_1390 = expr_b_584;
                                        appl_j_1391 = proj_j_1389 var_j_1390;
                                        t_check_b_585 = appl_j_1391;
                                        var_j_1392 = t_check_b_585;
                                        if_j_1456 = var_j_1392 ? (
                                                bool_j_1393 = false;
                                                pred_check_b_586 = bool_j_1393;
                                                flatten_fun_j_1449 = fun t_j_61 -> (
                                                    var_j_1394 = t_j_61;
                                                    proj_j_1395 = var_j_1394.bj_decl_lbls;
                                                    m_match_bool_j_1397 = proj_j_1395 ~ any;
                                                    m_match_bool_j_1404 = proj_j_1395 ~ 
                                                        {height, _};
                                                    m_match_cond_j_1405 = m_match_bool_j_1404 ? (
                                                            var_j_1406 = t_j_61;
                                                            proj_j_1407 = var_j_1406.bj_actual_rec;
                                                            proj_j_1408 = proj_j_1407.height
                                                        ) : (
                                                            m_match_cond_j_1398 = m_match_bool_j_1397 ? (
                                                                    bool_j_1399 = false;
                                                                    assert_pred_j_1400 = bool_j_1399;
                                                                    assert_res_j_1401 = assert_pred_j_1400 ? (
                                                                        assert_res_true_j_1402 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1403 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1396 = 
                                                                    {}
                                                                )
                                                        );
                                                    var_j_1409 = max;
                                                    var_j_1410 = height_j_337_j_382;
                                                    var_j_1411 = t_j_61;
                                                    proj_j_1412 = var_j_1411.bj_decl_lbls;
                                                    m_match_bool_j_1414 = proj_j_1412 ~ any;
                                                    m_match_bool_j_1421 = proj_j_1412 ~ 
                                                        {left, _};
                                                    m_match_cond_j_1422 = m_match_bool_j_1421 ? (
                                                            var_j_1423 = t_j_61;
                                                            proj_j_1424 = var_j_1423.bj_actual_rec;
                                                            proj_j_1425 = proj_j_1424.left
                                                        ) : (
                                                            m_match_cond_j_1415 = m_match_bool_j_1414 ? (
                                                                    bool_j_1416 = false;
                                                                    assert_pred_j_1417 = bool_j_1416;
                                                                    assert_res_j_1418 = assert_pred_j_1417 ? (
                                                                        assert_res_true_j_1419 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1420 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1413 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5396 = var_j_1410 ~ fun;
                                                    appl_j_1426 = m_i_5396 ? (
                                                            c_appl_i_5397 = var_j_1410 m_match_cond_j_1422
                                                        ) : (
                                                            ab_i_5398 = abort
                                                        );
                                                    m_i_5399 = var_j_1409 ~ fun;
                                                    appl_j_1427 = m_i_5399 ? (
                                                            c_appl_i_5400 = var_j_1409 appl_j_1426
                                                        ) : (
                                                            ab_i_5401 = abort
                                                        );
                                                    var_j_1428 = height_j_337_j_382;
                                                    var_j_1429 = t_j_61;
                                                    proj_j_1430 = var_j_1429.bj_decl_lbls;
                                                    m_match_bool_j_1432 = proj_j_1430 ~ any;
                                                    m_match_bool_j_1439 = proj_j_1430 ~ 
                                                        {right, _};
                                                    m_match_cond_j_1440 = m_match_bool_j_1439 ? (
                                                            var_j_1441 = t_j_61;
                                                            proj_j_1442 = var_j_1441.bj_actual_rec;
                                                            proj_j_1443 = proj_j_1442.right
                                                        ) : (
                                                            m_match_cond_j_1433 = m_match_bool_j_1432 ? (
                                                                    bool_j_1434 = false;
                                                                    assert_pred_j_1435 = bool_j_1434;
                                                                    assert_res_j_1436 = assert_pred_j_1435 ? (
                                                                        assert_res_true_j_1437 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1438 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1431 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5402 = var_j_1428 ~ fun;
                                                    appl_j_1444 = m_i_5402 ? (
                                                            c_appl_i_5403 = var_j_1428 m_match_cond_j_1440
                                                        ) : (
                                                            ab_i_5404 = abort
                                                        );
                                                    m_i_5405 = appl_j_1427 ~ fun;
                                                    appl_j_1445 = m_i_5405 ? (
                                                            c_appl_i_5406 = appl_j_1427 appl_j_1444
                                                        ) : (
                                                            ab_i_5407 = abort
                                                        );
                                                    int_j_1446 = 1;
                                                    m_bl_i_5408 = appl_j_1445 ~ int;
                                                    m_br_i_5409 = int_j_1446 ~ int;
                                                    m_b_i_5410 = m_bl_i_5408 and m_br_i_5409;
                                                    binop_j_1447 = m_b_i_5410 ? (
                                                            c_binop_i_5411 = appl_j_1445 + int_j_1446
                                                        ) : (
                                                            ab_i_5412 = abort
                                                        );
                                                    m_bl_i_5413 = m_match_cond_j_1405 ~ int;
                                                    m_br_i_5414 = binop_j_1447 ~ int;
                                                    m_b_i_5415 = m_bl_i_5413 and m_br_i_5414;
                                                    binop_j_1448 = m_b_i_5415 ? (
                                                            c_binop_i_5416 = m_match_cond_j_1405 == binop_j_1447
                                                        ) : (
                                                            ab_i_5417 = abort
                                                        ));
                                                var_j_1450 = expr_b_584;
                                                appl_j_1451 = flatten_fun_j_1449 var_j_1450;
                                                if_j_1454 = appl_j_1451 ? (
                                                        bool_j_1452 = true
                                                    ) : (
                                                        var_j_1453 = pred_check_b_586
                                                    )
                                            ) : (
                                                var_j_1455 = t_check_b_585
                                            ));
                                    flatten_fun_j_1748 = fun bj_null_j_80 -> (
                                        flatten_fun_j_1580 = fun expr_b_524 -> (
                                            bool_j_1458 = false;
                                            rec_fail_b_523 = bool_j_1458;
                                            bool_j_1459 = false;
                                            rec_fail_b_522 = bool_j_1459;
                                            bool_j_1460 = false;
                                            rec_fail_b_521 = bool_j_1460;
                                            var_j_1461 = expr_b_524;
                                            m_match_bool_j_1463 = var_j_1461 ~ any;
                                            m_match_bool_j_1466 = var_j_1461 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_1467 = m_match_bool_j_1466 ? (
                                                    var_j_1468 = expr_b_524;
                                                    proj_j_1469 = var_j_1468.bj_decl_lbls;
                                                    m_match_bool_j_1471 = proj_j_1469 ~ any;
                                                    m_match_bool_j_1474 = proj_j_1469 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1475 = m_match_bool_j_1474 ? (
                                                            height_j_73 = proj_j_1469.height;
                                                            item_j_72 = proj_j_1469.item;
                                                            left_j_71 = proj_j_1469.left;
                                                            right_j_70 = proj_j_1469.right;
                                                            var_j_1476 = expr_b_524;
                                                            proj_j_1477 = var_j_1476.bj_actual_rec;
                                                            m_match_bool_j_1479 = proj_j_1477 ~ any;
                                                            m_match_bool_j_1482 = proj_j_1477 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_1483 = m_match_bool_j_1482 ? (
                                                                    height_j_69 = proj_j_1477.height;
                                                                    item_j_68 = proj_j_1477.item;
                                                                    left_j_67 = proj_j_1477.left;
                                                                    right_j_66 = proj_j_1477.right;
                                                                    flatten_fun_j_1512 = fun expr_b_538 -> (
                                                                    bool_j_1484 = false;
                                                                    fail_b_536 = bool_j_1484;
                                                                    flatten_fun_j_1493 = fun expr_b_535 -> (
                                                                    var_j_1485 = expr_b_535;
                                                                    m_match_bool_j_1487 = var_j_1485 ~ any;
                                                                    m_match_bool_j_1490 = var_j_1485 ~ int;
                                                                    m_match_cond_j_1491 = m_match_bool_j_1490 ? (
                                                                        bool_j_1492 = true
                                                                    ) : (
                                                                        m_match_cond_j_1488 = m_match_bool_j_1487 ? (
                                                                        var_j_1489 = fail_b_536
                                                                    ) : (
                                                                        void_j_1486 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1495 = fun bj_null_j_62 -> (
                                                                    input_j_1494 = input);
                                                                    flatten_fun_j_1497 = fun expr_b_537 -> (
                                                                    var_j_1496 = expr_b_537);
                                                                    record_j_1498 = 
                                                                    {checker = flatten_fun_j_1493, generator = flatten_fun_j_1495, wrapper = flatten_fun_j_1497};
                                                                    proj_j_1499 = record_j_1498.checker;
                                                                    var_j_1500 = expr_b_538;
                                                                    appl_j_1501 = proj_j_1499 var_j_1500;
                                                                    t_check_b_539 = appl_j_1501;
                                                                    var_j_1502 = t_check_b_539;
                                                                    if_j_1511 = var_j_1502 ? (
                                                                        bool_j_1503 = false;
                                                                    pred_check_b_540 = bool_j_1503;
                                                                    var_j_1504 = is_pos;
                                                                    var_j_1505 = expr_b_538;
                                                                    appl_j_1506 = var_j_1504 var_j_1505;
                                                                    if_j_1509 = appl_j_1506 ? (
                                                                        bool_j_1507 = true
                                                                    ) : (
                                                                        var_j_1508 = pred_check_b_540
                                                                    )
                                                                    ) : (
                                                                        var_j_1510 = t_check_b_539
                                                                    ));
                                                                    flatten_fun_j_1538 = fun bj_null_j_64 -> (
                                                                    bool_j_1513 = false;
                                                                    fail_b_532 = bool_j_1513;
                                                                    flatten_fun_j_1522 = fun expr_b_531 -> (
                                                                    var_j_1514 = expr_b_531;
                                                                    m_match_bool_j_1516 = var_j_1514 ~ any;
                                                                    m_match_bool_j_1519 = var_j_1514 ~ int;
                                                                    m_match_cond_j_1520 = m_match_bool_j_1519 ? (
                                                                        bool_j_1521 = true
                                                                    ) : (
                                                                        m_match_cond_j_1517 = m_match_bool_j_1516 ? (
                                                                        var_j_1518 = fail_b_532
                                                                    ) : (
                                                                        void_j_1515 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1524 = fun bj_null_j_63 -> (
                                                                    input_j_1523 = input);
                                                                    flatten_fun_j_1526 = fun expr_b_533 -> (
                                                                    var_j_1525 = expr_b_533);
                                                                    record_j_1527 = 
                                                                    {checker = flatten_fun_j_1522, generator = flatten_fun_j_1524, wrapper = flatten_fun_j_1526};
                                                                    proj_j_1528 = record_j_1527.generator;
                                                                    int_j_1529 = 0;
                                                                    appl_j_1530 = proj_j_1528 int_j_1529;
                                                                    candidate_b_534 = appl_j_1530;
                                                                    var_j_1531 = is_pos;
                                                                    var_j_1532 = candidate_b_534;
                                                                    appl_j_1533 = var_j_1531 var_j_1532;
                                                                    if_j_1537 = appl_j_1533 ? (
                                                                        var_j_1534 = candidate_b_534
                                                                    ) : (
                                                                        bool_j_1535 = false;
                                                                    assume_j_1536 = assume bool_j_1535
                                                                    ));
                                                                    flatten_fun_j_1540 = fun expr_b_541 -> (
                                                                    var_j_1539 = expr_b_541);
                                                                    record_j_1541 = 
                                                                    {checker = flatten_fun_j_1512, generator = flatten_fun_j_1538, wrapper = flatten_fun_j_1540};
                                                                    proj_j_1542 = record_j_1541.checker;
                                                                    var_j_1543 = height_j_69;
                                                                    appl_j_1544 = proj_j_1542 var_j_1543;
                                                                    lbl_check_b_530 = appl_j_1544;
                                                                    var_j_1545 = lbl_check_b_530;
                                                                    if_j_1579 = var_j_1545 ? (
                                                                        bool_j_1546 = false;
                                                                    fail_b_528 = bool_j_1546;
                                                                    flatten_fun_j_1555 = fun expr_b_527 -> (
                                                                    var_j_1547 = expr_b_527;
                                                                    m_match_bool_j_1549 = var_j_1547 ~ any;
                                                                    m_match_bool_j_1552 = var_j_1547 ~ int;
                                                                    m_match_cond_j_1553 = m_match_bool_j_1552 ? (
                                                                        bool_j_1554 = true
                                                                    ) : (
                                                                        m_match_cond_j_1550 = m_match_bool_j_1549 ? (
                                                                        var_j_1551 = fail_b_528
                                                                    ) : (
                                                                        void_j_1548 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1557 = fun bj_null_j_65 -> (
                                                                    input_j_1556 = input);
                                                                    flatten_fun_j_1559 = fun expr_b_529 -> (
                                                                    var_j_1558 = expr_b_529);
                                                                    record_j_1560 = 
                                                                    {checker = flatten_fun_j_1555, generator = flatten_fun_j_1557, wrapper = flatten_fun_j_1559};
                                                                    proj_j_1561 = record_j_1560.checker;
                                                                    var_j_1562 = item_j_68;
                                                                    appl_j_1563 = proj_j_1561 var_j_1562;
                                                                    lbl_check_b_526 = appl_j_1563;
                                                                    var_j_1564 = lbl_check_b_526;
                                                                    if_j_1577 = var_j_1564 ? (
                                                                        var_j_1565 = tt;
                                                                    proj_j_1566 = var_j_1565.checker;
                                                                    var_j_1567 = left_j_67;
                                                                    appl_j_1568 = proj_j_1566 var_j_1567;
                                                                    lbl_check_b_525 = appl_j_1568;
                                                                    var_j_1569 = lbl_check_b_525;
                                                                    if_j_1575 = var_j_1569 ? (
                                                                        var_j_1570 = tt;
                                                                    proj_j_1571 = var_j_1570.checker;
                                                                    var_j_1572 = right_j_66;
                                                                    appl_j_1573 = proj_j_1571 var_j_1572
                                                                    ) : (
                                                                        var_j_1574 = lbl_check_b_525
                                                                    )
                                                                    ) : (
                                                                        var_j_1576 = lbl_check_b_526
                                                                    )
                                                                    ) : (
                                                                        var_j_1578 = lbl_check_b_530
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_1480 = m_match_bool_j_1479 ? (
                                                                        var_j_1481 = rec_fail_b_521
                                                                    ) : (
                                                                        void_j_1478 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1472 = m_match_bool_j_1471 ? (
                                                                    var_j_1473 = rec_fail_b_522
                                                                ) : (
                                                                    void_j_1470 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1464 = m_match_bool_j_1463 ? (
                                                            var_j_1465 = rec_fail_b_523
                                                        ) : (
                                                            void_j_1462 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1679 = fun bj_null_j_78 -> (
                                            var_j_1581 = tt;
                                            proj_j_1582 = var_j_1581.generator;
                                            int_j_1583 = 0;
                                            appl_j_1584 = proj_j_1582 int_j_1583;
                                            right_b_506 = appl_j_1584;
                                            var_j_1585 = tt;
                                            proj_j_1586 = var_j_1585.generator;
                                            int_j_1587 = 0;
                                            appl_j_1588 = proj_j_1586 int_j_1587;
                                            left_b_505 = appl_j_1588;
                                            bool_j_1589 = false;
                                            fail_b_519 = bool_j_1589;
                                            flatten_fun_j_1598 = fun expr_b_518 -> (
                                                var_j_1590 = expr_b_518;
                                                m_match_bool_j_1592 = var_j_1590 ~ any;
                                                m_match_bool_j_1595 = var_j_1590 ~ int;
                                                m_match_cond_j_1596 = m_match_bool_j_1595 ? (
                                                        bool_j_1597 = true
                                                    ) : (
                                                        m_match_cond_j_1593 = m_match_bool_j_1592 ? (
                                                                var_j_1594 = fail_b_519
                                                            ) : (
                                                                void_j_1591 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_1600 = fun bj_null_j_74 -> (
                                                input_j_1599 = input);
                                            flatten_fun_j_1602 = fun expr_b_520 -> (
                                                var_j_1601 = expr_b_520);
                                            record_j_1603 = {checker = flatten_fun_j_1598, generator = flatten_fun_j_1600, wrapper = flatten_fun_j_1602};
                                            proj_j_1604 = record_j_1603.generator;
                                            int_j_1605 = 0;
                                            appl_j_1606 = proj_j_1604 int_j_1605;
                                            item_b_504 = appl_j_1606;
                                            flatten_fun_j_1635 = fun expr_b_514 -> (
                                                bool_j_1607 = false;
                                                fail_b_512 = bool_j_1607;
                                                flatten_fun_j_1616 = fun expr_b_511 -> (
                                                    var_j_1608 = expr_b_511;
                                                    m_match_bool_j_1610 = var_j_1608 ~ any;
                                                    m_match_bool_j_1613 = var_j_1608 ~ int;
                                                    m_match_cond_j_1614 = m_match_bool_j_1613 ? (
                                                            bool_j_1615 = true
                                                        ) : (
                                                            m_match_cond_j_1611 = m_match_bool_j_1610 ? (
                                                                    var_j_1612 = fail_b_512
                                                                ) : (
                                                                    void_j_1609 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1618 = fun bj_null_j_75 -> (
                                                    input_j_1617 = input);
                                                flatten_fun_j_1620 = fun expr_b_513 -> (
                                                    var_j_1619 = expr_b_513);
                                                record_j_1621 = {checker = flatten_fun_j_1616, generator = flatten_fun_j_1618, wrapper = flatten_fun_j_1620};
                                                proj_j_1622 = record_j_1621.checker;
                                                var_j_1623 = expr_b_514;
                                                appl_j_1624 = proj_j_1622 var_j_1623;
                                                t_check_b_515 = appl_j_1624;
                                                var_j_1625 = t_check_b_515;
                                                if_j_1634 = var_j_1625 ? (
                                                        bool_j_1626 = false;
                                                        pred_check_b_516 = bool_j_1626;
                                                        var_j_1627 = is_pos;
                                                        var_j_1628 = expr_b_514;
                                                        appl_j_1629 = var_j_1627 var_j_1628;
                                                        if_j_1632 = appl_j_1629 ? (
                                                                bool_j_1630 = true
                                                            ) : (
                                                                var_j_1631 = pred_check_b_516
                                                            )
                                                    ) : (
                                                        var_j_1633 = t_check_b_515
                                                    ));
                                            flatten_fun_j_1661 = fun bj_null_j_77 -> (
                                                bool_j_1636 = false;
                                                fail_b_508 = bool_j_1636;
                                                flatten_fun_j_1645 = fun expr_b_507 -> (
                                                    var_j_1637 = expr_b_507;
                                                    m_match_bool_j_1639 = var_j_1637 ~ any;
                                                    m_match_bool_j_1642 = var_j_1637 ~ int;
                                                    m_match_cond_j_1643 = m_match_bool_j_1642 ? (
                                                            bool_j_1644 = true
                                                        ) : (
                                                            m_match_cond_j_1640 = m_match_bool_j_1639 ? (
                                                                    var_j_1641 = fail_b_508
                                                                ) : (
                                                                    void_j_1638 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_1647 = fun bj_null_j_76 -> (
                                                    input_j_1646 = input);
                                                flatten_fun_j_1649 = fun expr_b_509 -> (
                                                    var_j_1648 = expr_b_509);
                                                record_j_1650 = {checker = flatten_fun_j_1645, generator = flatten_fun_j_1647, wrapper = flatten_fun_j_1649};
                                                proj_j_1651 = record_j_1650.generator;
                                                int_j_1652 = 0;
                                                appl_j_1653 = proj_j_1651 int_j_1652;
                                                candidate_b_510 = appl_j_1653;
                                                var_j_1654 = is_pos;
                                                var_j_1655 = candidate_b_510;
                                                appl_j_1656 = var_j_1654 var_j_1655;
                                                if_j_1660 = appl_j_1656 ? (
                                                        var_j_1657 = candidate_b_510
                                                    ) : (
                                                        bool_j_1658 = false;
                                                        assume_j_1659 = assume bool_j_1658
                                                    ));
                                            flatten_fun_j_1663 = fun expr_b_517 -> (
                                                var_j_1662 = expr_b_517);
                                            record_j_1664 = {checker = flatten_fun_j_1635, generator = flatten_fun_j_1661, wrapper = flatten_fun_j_1663};
                                            proj_j_1665 = record_j_1664.generator;
                                            int_j_1666 = 0;
                                            appl_j_1667 = proj_j_1665 int_j_1666;
                                            height_b_503 = appl_j_1667;
                                            var_j_1668 = height_b_503;
                                            var_j_1669 = item_b_504;
                                            var_j_1670 = left_b_505;
                                            var_j_1671 = right_b_506;
                                            record_j_1672 = {height = var_j_1668, item = var_j_1669, left = var_j_1670, right = var_j_1671};
                                            record_j_1673 = {};
                                            record_j_1674 = {};
                                            record_j_1675 = {};
                                            record_j_1676 = {};
                                            record_j_1677 = {height = record_j_1673, item = record_j_1674, left = record_j_1675, right = record_j_1676};
                                            record_j_1678 = {bj_actual_rec = record_j_1672, bj_decl_lbls = record_j_1677});
                                        flatten_fun_j_1681 = fun expr_b_542 -> (
                                            var_j_1680 = expr_b_542);
                                        record_j_1682 = {checker = flatten_fun_j_1580, generator = flatten_fun_j_1679, wrapper = flatten_fun_j_1681};
                                        proj_j_1683 = record_j_1682.generator;
                                        int_j_1684 = 0;
                                        appl_j_1685 = proj_j_1683 int_j_1684;
                                        candidate_b_543 = appl_j_1685;
                                        flatten_fun_j_1741 = fun t_j_79 -> (
                                            var_j_1686 = t_j_79;
                                            proj_j_1687 = var_j_1686.bj_decl_lbls;
                                            m_match_bool_j_1689 = proj_j_1687 ~ any;
                                            m_match_bool_j_1696 = proj_j_1687 ~ 
                                                {height, _};
                                            m_match_cond_j_1697 = m_match_bool_j_1696 ? (
                                                    var_j_1698 = t_j_79;
                                                    proj_j_1699 = var_j_1698.bj_actual_rec;
                                                    proj_j_1700 = proj_j_1699.height
                                                ) : (
                                                    m_match_cond_j_1690 = m_match_bool_j_1689 ? (
                                                            bool_j_1691 = false;
                                                            assert_pred_j_1692 = bool_j_1691;
                                                            assert_res_j_1693 = assert_pred_j_1692 ? (
                                                                    assert_res_true_j_1694 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1695 = abort
                                                                )
                                                        ) : (
                                                            void_j_1688 = 
                                                                {}
                                                        )
                                                );
                                            var_j_1701 = max;
                                            var_j_1702 = height_j_337_j_382;
                                            var_j_1703 = t_j_79;
                                            proj_j_1704 = var_j_1703.bj_decl_lbls;
                                            m_match_bool_j_1706 = proj_j_1704 ~ any;
                                            m_match_bool_j_1713 = proj_j_1704 ~ 
                                                {left, _};
                                            m_match_cond_j_1714 = m_match_bool_j_1713 ? (
                                                    var_j_1715 = t_j_79;
                                                    proj_j_1716 = var_j_1715.bj_actual_rec;
                                                    proj_j_1717 = proj_j_1716.left
                                                ) : (
                                                    m_match_cond_j_1707 = m_match_bool_j_1706 ? (
                                                            bool_j_1708 = false;
                                                            assert_pred_j_1709 = bool_j_1708;
                                                            assert_res_j_1710 = assert_pred_j_1709 ? (
                                                                    assert_res_true_j_1711 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1712 = abort
                                                                )
                                                        ) : (
                                                            void_j_1705 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5418 = var_j_1702 ~ fun;
                                            appl_j_1718 = m_i_5418 ? (
                                                    c_appl_i_5419 = var_j_1702 m_match_cond_j_1714
                                                ) : (
                                                    ab_i_5420 = abort
                                                );
                                            m_i_5421 = var_j_1701 ~ fun;
                                            appl_j_1719 = m_i_5421 ? (
                                                    c_appl_i_5422 = var_j_1701 appl_j_1718
                                                ) : (
                                                    ab_i_5423 = abort
                                                );
                                            var_j_1720 = height_j_337_j_382;
                                            var_j_1721 = t_j_79;
                                            proj_j_1722 = var_j_1721.bj_decl_lbls;
                                            m_match_bool_j_1724 = proj_j_1722 ~ any;
                                            m_match_bool_j_1731 = proj_j_1722 ~ 
                                                {right, _};
                                            m_match_cond_j_1732 = m_match_bool_j_1731 ? (
                                                    var_j_1733 = t_j_79;
                                                    proj_j_1734 = var_j_1733.bj_actual_rec;
                                                    proj_j_1735 = proj_j_1734.right
                                                ) : (
                                                    m_match_cond_j_1725 = m_match_bool_j_1724 ? (
                                                            bool_j_1726 = false;
                                                            assert_pred_j_1727 = bool_j_1726;
                                                            assert_res_j_1728 = assert_pred_j_1727 ? (
                                                                    assert_res_true_j_1729 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1730 = abort
                                                                )
                                                        ) : (
                                                            void_j_1723 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5424 = var_j_1720 ~ fun;
                                            appl_j_1736 = m_i_5424 ? (
                                                    c_appl_i_5425 = var_j_1720 m_match_cond_j_1732
                                                ) : (
                                                    ab_i_5426 = abort
                                                );
                                            m_i_5427 = appl_j_1719 ~ fun;
                                            appl_j_1737 = m_i_5427 ? (
                                                    c_appl_i_5428 = appl_j_1719 appl_j_1736
                                                ) : (
                                                    ab_i_5429 = abort
                                                );
                                            int_j_1738 = 1;
                                            m_bl_i_5430 = appl_j_1737 ~ int;
                                            m_br_i_5431 = int_j_1738 ~ int;
                                            m_b_i_5432 = m_bl_i_5430 and m_br_i_5431;
                                            binop_j_1739 = m_b_i_5432 ? (
                                                    c_binop_i_5433 = appl_j_1737 + int_j_1738
                                                ) : (
                                                    ab_i_5434 = abort
                                                );
                                            m_bl_i_5435 = m_match_cond_j_1697 ~ int;
                                            m_br_i_5436 = binop_j_1739 ~ int;
                                            m_b_i_5437 = m_bl_i_5435 and m_br_i_5436;
                                            binop_j_1740 = m_b_i_5437 ? (
                                                    c_binop_i_5438 = m_match_cond_j_1697 == binop_j_1739
                                                ) : (
                                                    ab_i_5439 = abort
                                                ));
                                        var_j_1742 = candidate_b_543;
                                        appl_j_1743 = flatten_fun_j_1741 var_j_1742;
                                        if_j_1747 = appl_j_1743 ? (
                                                var_j_1744 = candidate_b_543
                                            ) : (
                                                bool_j_1745 = false;
                                                assume_j_1746 = assume bool_j_1745
                                            ));
                                    flatten_fun_j_1750 = fun expr_b_587 -> (
                                        var_j_1749 = expr_b_587);
                                    record_j_1751 = {checker = flatten_fun_j_1457, generator = flatten_fun_j_1748, wrapper = flatten_fun_j_1750};
                                    proj_j_1752 = record_j_1751.checker;
                                    var_j_1753 = expr_b_600;
                                    appl_j_1754 = proj_j_1752 var_j_1753;
                                    if_j_1757 = appl_j_1754 ? (
                                            bool_j_1755 = true
                                        ) : (
                                            var_j_1756 = fail_b_602
                                        )
                                )
                        ));
                flatten_fun_j_2436 = fun bj_null_j_123 -> (
                    input_j_1761 = input;
                    select_int_b_405 = input_j_1761;
                    int_j_1762 = 0;
                    var_j_1763 = select_int_b_405;
                    binop_j_1764 = int_j_1762 <= var_j_1763;
                    if_j_2435 = binop_j_1764 ? (
                            flatten_fun_j_2058 = fun expr_b_389 -> (
                                flatten_fun_j_1887 = fun expr_b_370 -> (
                                    bool_j_1765 = false;
                                    rec_fail_b_369 = bool_j_1765;
                                    bool_j_1766 = false;
                                    rec_fail_b_368 = bool_j_1766;
                                    bool_j_1767 = false;
                                    rec_fail_b_367 = bool_j_1767;
                                    var_j_1768 = expr_b_370;
                                    m_match_bool_j_1770 = var_j_1768 ~ any;
                                    m_match_bool_j_1773 = var_j_1768 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_1774 = m_match_bool_j_1773 ? (
                                            var_j_1775 = expr_b_370;
                                            proj_j_1776 = var_j_1775.bj_decl_lbls;
                                            m_match_bool_j_1778 = proj_j_1776 ~ any;
                                            m_match_bool_j_1781 = proj_j_1776 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_1782 = m_match_bool_j_1781 ? (
                                                    height_j_92 = proj_j_1776.height;
                                                    item_j_91 = proj_j_1776.item;
                                                    left_j_90 = proj_j_1776.left;
                                                    right_j_89 = proj_j_1776.right;
                                                    var_j_1783 = expr_b_370;
                                                    proj_j_1784 = var_j_1783.bj_actual_rec;
                                                    m_match_bool_j_1786 = proj_j_1784 ~ any;
                                                    m_match_bool_j_1789 = proj_j_1784 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_1790 = m_match_bool_j_1789 ? (
                                                            height_j_88 = proj_j_1784.height;
                                                            item_j_87 = proj_j_1784.item;
                                                            left_j_86 = proj_j_1784.left;
                                                            right_j_85 = proj_j_1784.right;
                                                            flatten_fun_j_1819 = fun expr_b_384 -> (
                                                                bool_j_1791 = false;
                                                                fail_b_382 = bool_j_1791;
                                                                flatten_fun_j_1800 = fun expr_b_381 -> (
                                                                    var_j_1792 = expr_b_381;
                                                                    m_match_bool_j_1794 = var_j_1792 ~ any;
                                                                    m_match_bool_j_1797 = var_j_1792 ~ int;
                                                                    m_match_cond_j_1798 = m_match_bool_j_1797 ? (
                                                                        bool_j_1799 = true
                                                                    ) : (
                                                                        m_match_cond_j_1795 = m_match_bool_j_1794 ? (
                                                                        var_j_1796 = fail_b_382
                                                                    ) : (
                                                                        void_j_1793 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1802 = fun bj_null_j_81 -> (
                                                                    input_j_1801 = input);
                                                                flatten_fun_j_1804 = fun expr_b_383 -> (
                                                                    var_j_1803 = expr_b_383);
                                                                record_j_1805 = 
                                                                    {checker = flatten_fun_j_1800, generator = flatten_fun_j_1802, wrapper = flatten_fun_j_1804};
                                                                proj_j_1806 = record_j_1805.checker;
                                                                var_j_1807 = expr_b_384;
                                                                appl_j_1808 = proj_j_1806 var_j_1807;
                                                                t_check_b_385 = appl_j_1808;
                                                                var_j_1809 = t_check_b_385;
                                                                if_j_1818 = var_j_1809 ? (
                                                                        
                                                                    bool_j_1810 = false;
                                                                    pred_check_b_386 = bool_j_1810;
                                                                    var_j_1811 = is_pos;
                                                                    var_j_1812 = expr_b_384;
                                                                    appl_j_1813 = var_j_1811 var_j_1812;
                                                                    if_j_1816 = appl_j_1813 ? (
                                                                        bool_j_1814 = true
                                                                    ) : (
                                                                        var_j_1815 = pred_check_b_386
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_1817 = t_check_b_385
                                                                    ));
                                                            flatten_fun_j_1845 = fun bj_null_j_83 -> (
                                                                bool_j_1820 = false;
                                                                fail_b_378 = bool_j_1820;
                                                                flatten_fun_j_1829 = fun expr_b_377 -> (
                                                                    var_j_1821 = expr_b_377;
                                                                    m_match_bool_j_1823 = var_j_1821 ~ any;
                                                                    m_match_bool_j_1826 = var_j_1821 ~ int;
                                                                    m_match_cond_j_1827 = m_match_bool_j_1826 ? (
                                                                        bool_j_1828 = true
                                                                    ) : (
                                                                        m_match_cond_j_1824 = m_match_bool_j_1823 ? (
                                                                        var_j_1825 = fail_b_378
                                                                    ) : (
                                                                        void_j_1822 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_1831 = fun bj_null_j_82 -> (
                                                                    input_j_1830 = input);
                                                                flatten_fun_j_1833 = fun expr_b_379 -> (
                                                                    var_j_1832 = expr_b_379);
                                                                record_j_1834 = 
                                                                    {checker = flatten_fun_j_1829, generator = flatten_fun_j_1831, wrapper = flatten_fun_j_1833};
                                                                proj_j_1835 = record_j_1834.generator;
                                                                int_j_1836 = 0;
                                                                appl_j_1837 = proj_j_1835 int_j_1836;
                                                                candidate_b_380 = appl_j_1837;
                                                                var_j_1838 = is_pos;
                                                                var_j_1839 = candidate_b_380;
                                                                appl_j_1840 = var_j_1838 var_j_1839;
                                                                if_j_1844 = appl_j_1840 ? (
                                                                        
                                                                    var_j_1841 = candidate_b_380
                                                                    ) : (
                                                                        
                                                                    bool_j_1842 = false;
                                                                    assume_j_1843 = assume bool_j_1842
                                                                    ));
                                                            flatten_fun_j_1847 = fun expr_b_387 -> (
                                                                var_j_1846 = expr_b_387);
                                                            record_j_1848 = 
                                                                {checker = flatten_fun_j_1819, generator = flatten_fun_j_1845, wrapper = flatten_fun_j_1847};
                                                            proj_j_1849 = record_j_1848.checker;
                                                            var_j_1850 = height_j_88;
                                                            appl_j_1851 = proj_j_1849 var_j_1850;
                                                            lbl_check_b_376 = appl_j_1851;
                                                            var_j_1852 = lbl_check_b_376;
                                                            if_j_1886 = var_j_1852 ? (
                                                                    bool_j_1853 = false;
                                                                    fail_b_374 = bool_j_1853;
                                                                    flatten_fun_j_1862 = fun expr_b_373 -> (
                                                                    var_j_1854 = expr_b_373;
                                                                    m_match_bool_j_1856 = var_j_1854 ~ any;
                                                                    m_match_bool_j_1859 = var_j_1854 ~ int;
                                                                    m_match_cond_j_1860 = m_match_bool_j_1859 ? (
                                                                        bool_j_1861 = true
                                                                    ) : (
                                                                        m_match_cond_j_1857 = m_match_bool_j_1856 ? (
                                                                        var_j_1858 = fail_b_374
                                                                    ) : (
                                                                        void_j_1855 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_1864 = fun bj_null_j_84 -> (
                                                                    input_j_1863 = input);
                                                                    flatten_fun_j_1866 = fun expr_b_375 -> (
                                                                    var_j_1865 = expr_b_375);
                                                                    record_j_1867 = 
                                                                    {checker = flatten_fun_j_1862, generator = flatten_fun_j_1864, wrapper = flatten_fun_j_1866};
                                                                    proj_j_1868 = record_j_1867.checker;
                                                                    var_j_1869 = item_j_87;
                                                                    appl_j_1870 = proj_j_1868 var_j_1869;
                                                                    lbl_check_b_372 = appl_j_1870;
                                                                    var_j_1871 = lbl_check_b_372;
                                                                    if_j_1884 = var_j_1871 ? (
                                                                        var_j_1872 = tt;
                                                                    proj_j_1873 = var_j_1872.checker;
                                                                    var_j_1874 = left_j_86;
                                                                    appl_j_1875 = proj_j_1873 var_j_1874;
                                                                    lbl_check_b_371 = appl_j_1875;
                                                                    var_j_1876 = lbl_check_b_371;
                                                                    if_j_1882 = var_j_1876 ? (
                                                                        var_j_1877 = tt;
                                                                    proj_j_1878 = var_j_1877.checker;
                                                                    var_j_1879 = right_j_85;
                                                                    appl_j_1880 = proj_j_1878 var_j_1879
                                                                    ) : (
                                                                        var_j_1881 = lbl_check_b_371
                                                                    )
                                                                    ) : (
                                                                        var_j_1883 = lbl_check_b_372
                                                                    )
                                                                ) : (
                                                                    var_j_1885 = lbl_check_b_376
                                                                )
                                                        ) : (
                                                            m_match_cond_j_1787 = m_match_bool_j_1786 ? (
                                                                    var_j_1788 = rec_fail_b_367
                                                                ) : (
                                                                    void_j_1785 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_1779 = m_match_bool_j_1778 ? (
                                                            var_j_1780 = rec_fail_b_368
                                                        ) : (
                                                            void_j_1777 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_1771 = m_match_bool_j_1770 ? (
                                                    var_j_1772 = rec_fail_b_369
                                                ) : (
                                                    void_j_1769 = {}
                                                )
                                        ));
                                flatten_fun_j_1986 = fun bj_null_j_97 -> (
                                    var_j_1888 = tt;
                                    proj_j_1889 = var_j_1888.generator;
                                    int_j_1890 = 0;
                                    appl_j_1891 = proj_j_1889 int_j_1890;
                                    right_b_352 = appl_j_1891;
                                    var_j_1892 = tt;
                                    proj_j_1893 = var_j_1892.generator;
                                    int_j_1894 = 0;
                                    appl_j_1895 = proj_j_1893 int_j_1894;
                                    left_b_351 = appl_j_1895;
                                    bool_j_1896 = false;
                                    fail_b_365 = bool_j_1896;
                                    flatten_fun_j_1905 = fun expr_b_364 -> (
                                        var_j_1897 = expr_b_364;
                                        m_match_bool_j_1899 = var_j_1897 ~ any;
                                        m_match_bool_j_1902 = var_j_1897 ~ int;
                                        m_match_cond_j_1903 = m_match_bool_j_1902 ? (
                                                bool_j_1904 = true
                                            ) : (
                                                m_match_cond_j_1900 = m_match_bool_j_1899 ? (
                                                        var_j_1901 = fail_b_365
                                                    ) : (
                                                        void_j_1898 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_1907 = fun bj_null_j_93 -> (
                                        input_j_1906 = input);
                                    flatten_fun_j_1909 = fun expr_b_366 -> (
                                        var_j_1908 = expr_b_366);
                                    record_j_1910 = {checker = flatten_fun_j_1905, generator = flatten_fun_j_1907, wrapper = flatten_fun_j_1909};
                                    proj_j_1911 = record_j_1910.generator;
                                    int_j_1912 = 0;
                                    appl_j_1913 = proj_j_1911 int_j_1912;
                                    item_b_350 = appl_j_1913;
                                    flatten_fun_j_1942 = fun expr_b_360 -> (
                                        bool_j_1914 = false;
                                        fail_b_358 = bool_j_1914;
                                        flatten_fun_j_1923 = fun expr_b_357 -> (
                                            var_j_1915 = expr_b_357;
                                            m_match_bool_j_1917 = var_j_1915 ~ any;
                                            m_match_bool_j_1920 = var_j_1915 ~ int;
                                            m_match_cond_j_1921 = m_match_bool_j_1920 ? (
                                                    bool_j_1922 = true
                                                ) : (
                                                    m_match_cond_j_1918 = m_match_bool_j_1917 ? (
                                                            var_j_1919 = fail_b_358
                                                        ) : (
                                                            void_j_1916 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1925 = fun bj_null_j_94 -> (
                                            input_j_1924 = input);
                                        flatten_fun_j_1927 = fun expr_b_359 -> (
                                            var_j_1926 = expr_b_359);
                                        record_j_1928 = {checker = flatten_fun_j_1923, generator = flatten_fun_j_1925, wrapper = flatten_fun_j_1927};
                                        proj_j_1929 = record_j_1928.checker;
                                        var_j_1930 = expr_b_360;
                                        appl_j_1931 = proj_j_1929 var_j_1930;
                                        t_check_b_361 = appl_j_1931;
                                        var_j_1932 = t_check_b_361;
                                        if_j_1941 = var_j_1932 ? (
                                                bool_j_1933 = false;
                                                pred_check_b_362 = bool_j_1933;
                                                var_j_1934 = is_pos;
                                                var_j_1935 = expr_b_360;
                                                appl_j_1936 = var_j_1934 var_j_1935;
                                                if_j_1939 = appl_j_1936 ? (
                                                        bool_j_1937 = true
                                                    ) : (
                                                        var_j_1938 = pred_check_b_362
                                                    )
                                            ) : (
                                                var_j_1940 = t_check_b_361
                                            ));
                                    flatten_fun_j_1968 = fun bj_null_j_96 -> (
                                        bool_j_1943 = false;
                                        fail_b_354 = bool_j_1943;
                                        flatten_fun_j_1952 = fun expr_b_353 -> (
                                            var_j_1944 = expr_b_353;
                                            m_match_bool_j_1946 = var_j_1944 ~ any;
                                            m_match_bool_j_1949 = var_j_1944 ~ int;
                                            m_match_cond_j_1950 = m_match_bool_j_1949 ? (
                                                    bool_j_1951 = true
                                                ) : (
                                                    m_match_cond_j_1947 = m_match_bool_j_1946 ? (
                                                            var_j_1948 = fail_b_354
                                                        ) : (
                                                            void_j_1945 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_1954 = fun bj_null_j_95 -> (
                                            input_j_1953 = input);
                                        flatten_fun_j_1956 = fun expr_b_355 -> (
                                            var_j_1955 = expr_b_355);
                                        record_j_1957 = {checker = flatten_fun_j_1952, generator = flatten_fun_j_1954, wrapper = flatten_fun_j_1956};
                                        proj_j_1958 = record_j_1957.generator;
                                        int_j_1959 = 0;
                                        appl_j_1960 = proj_j_1958 int_j_1959;
                                        candidate_b_356 = appl_j_1960;
                                        var_j_1961 = is_pos;
                                        var_j_1962 = candidate_b_356;
                                        appl_j_1963 = var_j_1961 var_j_1962;
                                        if_j_1967 = appl_j_1963 ? (
                                                var_j_1964 = candidate_b_356
                                            ) : (
                                                bool_j_1965 = false;
                                                assume_j_1966 = assume bool_j_1965
                                            ));
                                    flatten_fun_j_1970 = fun expr_b_363 -> (
                                        var_j_1969 = expr_b_363);
                                    record_j_1971 = {checker = flatten_fun_j_1942, generator = flatten_fun_j_1968, wrapper = flatten_fun_j_1970};
                                    proj_j_1972 = record_j_1971.generator;
                                    int_j_1973 = 0;
                                    appl_j_1974 = proj_j_1972 int_j_1973;
                                    height_b_349 = appl_j_1974;
                                    var_j_1975 = height_b_349;
                                    var_j_1976 = item_b_350;
                                    var_j_1977 = left_b_351;
                                    var_j_1978 = right_b_352;
                                    record_j_1979 = {height = var_j_1975, item = var_j_1976, left = var_j_1977, right = var_j_1978};
                                    record_j_1980 = {};
                                    record_j_1981 = {};
                                    record_j_1982 = {};
                                    record_j_1983 = {};
                                    record_j_1984 = {height = record_j_1980, item = record_j_1981, left = record_j_1982, right = record_j_1983};
                                    record_j_1985 = {bj_actual_rec = record_j_1979, bj_decl_lbls = record_j_1984});
                                flatten_fun_j_1988 = fun expr_b_388 -> (
                                    var_j_1987 = expr_b_388);
                                record_j_1989 = {checker = flatten_fun_j_1887, generator = flatten_fun_j_1986, wrapper = flatten_fun_j_1988};
                                proj_j_1990 = record_j_1989.checker;
                                var_j_1991 = expr_b_389;
                                appl_j_1992 = proj_j_1990 var_j_1991;
                                t_check_b_390 = appl_j_1992;
                                var_j_1993 = t_check_b_390;
                                if_j_2057 = var_j_1993 ? (
                                        bool_j_1994 = false;
                                        pred_check_b_391 = bool_j_1994;
                                        flatten_fun_j_2050 = fun t_j_98 -> (
                                            var_j_1995 = t_j_98;
                                            proj_j_1996 = var_j_1995.bj_decl_lbls;
                                            m_match_bool_j_1998 = proj_j_1996 ~ any;
                                            m_match_bool_j_2005 = proj_j_1996 ~ 
                                                {height, _};
                                            m_match_cond_j_2006 = m_match_bool_j_2005 ? (
                                                    var_j_2007 = t_j_98;
                                                    proj_j_2008 = var_j_2007.bj_actual_rec;
                                                    proj_j_2009 = proj_j_2008.height
                                                ) : (
                                                    m_match_cond_j_1999 = m_match_bool_j_1998 ? (
                                                            bool_j_2000 = false;
                                                            assert_pred_j_2001 = bool_j_2000;
                                                            assert_res_j_2002 = assert_pred_j_2001 ? (
                                                                    assert_res_true_j_2003 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2004 = abort
                                                                )
                                                        ) : (
                                                            void_j_1997 = 
                                                                {}
                                                        )
                                                );
                                            var_j_2010 = max;
                                            var_j_2011 = height_j_337_j_382;
                                            var_j_2012 = t_j_98;
                                            proj_j_2013 = var_j_2012.bj_decl_lbls;
                                            m_match_bool_j_2015 = proj_j_2013 ~ any;
                                            m_match_bool_j_2022 = proj_j_2013 ~ 
                                                {left, _};
                                            m_match_cond_j_2023 = m_match_bool_j_2022 ? (
                                                    var_j_2024 = t_j_98;
                                                    proj_j_2025 = var_j_2024.bj_actual_rec;
                                                    proj_j_2026 = proj_j_2025.left
                                                ) : (
                                                    m_match_cond_j_2016 = m_match_bool_j_2015 ? (
                                                            bool_j_2017 = false;
                                                            assert_pred_j_2018 = bool_j_2017;
                                                            assert_res_j_2019 = assert_pred_j_2018 ? (
                                                                    assert_res_true_j_2020 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2021 = abort
                                                                )
                                                        ) : (
                                                            void_j_2014 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5440 = var_j_2011 ~ fun;
                                            appl_j_2027 = m_i_5440 ? (
                                                    c_appl_i_5441 = var_j_2011 m_match_cond_j_2023
                                                ) : (
                                                    ab_i_5442 = abort
                                                );
                                            m_i_5443 = var_j_2010 ~ fun;
                                            appl_j_2028 = m_i_5443 ? (
                                                    c_appl_i_5444 = var_j_2010 appl_j_2027
                                                ) : (
                                                    ab_i_5445 = abort
                                                );
                                            var_j_2029 = height_j_337_j_382;
                                            var_j_2030 = t_j_98;
                                            proj_j_2031 = var_j_2030.bj_decl_lbls;
                                            m_match_bool_j_2033 = proj_j_2031 ~ any;
                                            m_match_bool_j_2040 = proj_j_2031 ~ 
                                                {right, _};
                                            m_match_cond_j_2041 = m_match_bool_j_2040 ? (
                                                    var_j_2042 = t_j_98;
                                                    proj_j_2043 = var_j_2042.bj_actual_rec;
                                                    proj_j_2044 = proj_j_2043.right
                                                ) : (
                                                    m_match_cond_j_2034 = m_match_bool_j_2033 ? (
                                                            bool_j_2035 = false;
                                                            assert_pred_j_2036 = bool_j_2035;
                                                            assert_res_j_2037 = assert_pred_j_2036 ? (
                                                                    assert_res_true_j_2038 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2039 = abort
                                                                )
                                                        ) : (
                                                            void_j_2032 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5446 = var_j_2029 ~ fun;
                                            appl_j_2045 = m_i_5446 ? (
                                                    c_appl_i_5447 = var_j_2029 m_match_cond_j_2041
                                                ) : (
                                                    ab_i_5448 = abort
                                                );
                                            m_i_5449 = appl_j_2028 ~ fun;
                                            appl_j_2046 = m_i_5449 ? (
                                                    c_appl_i_5450 = appl_j_2028 appl_j_2045
                                                ) : (
                                                    ab_i_5451 = abort
                                                );
                                            int_j_2047 = 1;
                                            m_bl_i_5452 = appl_j_2046 ~ int;
                                            m_br_i_5453 = int_j_2047 ~ int;
                                            m_b_i_5454 = m_bl_i_5452 and m_br_i_5453;
                                            binop_j_2048 = m_b_i_5454 ? (
                                                    c_binop_i_5455 = appl_j_2046 + int_j_2047
                                                ) : (
                                                    ab_i_5456 = abort
                                                );
                                            m_bl_i_5457 = m_match_cond_j_2006 ~ int;
                                            m_br_i_5458 = binop_j_2048 ~ int;
                                            m_b_i_5459 = m_bl_i_5457 and m_br_i_5458;
                                            binop_j_2049 = m_b_i_5459 ? (
                                                    c_binop_i_5460 = m_match_cond_j_2006 == binop_j_2048
                                                ) : (
                                                    ab_i_5461 = abort
                                                ));
                                        var_j_2051 = expr_b_389;
                                        appl_j_2052 = flatten_fun_j_2050 var_j_2051;
                                        if_j_2055 = appl_j_2052 ? (
                                                bool_j_2053 = true
                                            ) : (
                                                var_j_2054 = pred_check_b_391
                                            )
                                    ) : (
                                        var_j_2056 = t_check_b_390
                                    ));
                            flatten_fun_j_2349 = fun bj_null_j_117 -> (
                                flatten_fun_j_2181 = fun expr_b_329 -> (
                                    bool_j_2059 = false;
                                    rec_fail_b_328 = bool_j_2059;
                                    bool_j_2060 = false;
                                    rec_fail_b_327 = bool_j_2060;
                                    bool_j_2061 = false;
                                    rec_fail_b_326 = bool_j_2061;
                                    var_j_2062 = expr_b_329;
                                    m_match_bool_j_2064 = var_j_2062 ~ any;
                                    m_match_bool_j_2067 = var_j_2062 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2068 = m_match_bool_j_2067 ? (
                                            var_j_2069 = expr_b_329;
                                            proj_j_2070 = var_j_2069.bj_decl_lbls;
                                            m_match_bool_j_2072 = proj_j_2070 ~ any;
                                            m_match_bool_j_2075 = proj_j_2070 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2076 = m_match_bool_j_2075 ? (
                                                    height_j_110 = proj_j_2070.height;
                                                    item_j_109 = proj_j_2070.item;
                                                    left_j_108 = proj_j_2070.left;
                                                    right_j_107 = proj_j_2070.right;
                                                    var_j_2077 = expr_b_329;
                                                    proj_j_2078 = var_j_2077.bj_actual_rec;
                                                    m_match_bool_j_2080 = proj_j_2078 ~ any;
                                                    m_match_bool_j_2083 = proj_j_2078 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2084 = m_match_bool_j_2083 ? (
                                                            height_j_106 = proj_j_2078.height;
                                                            item_j_105 = proj_j_2078.item;
                                                            left_j_104 = proj_j_2078.left;
                                                            right_j_103 = proj_j_2078.right;
                                                            flatten_fun_j_2113 = fun expr_b_343 -> (
                                                                bool_j_2085 = false;
                                                                fail_b_341 = bool_j_2085;
                                                                flatten_fun_j_2094 = fun expr_b_340 -> (
                                                                    var_j_2086 = expr_b_340;
                                                                    m_match_bool_j_2088 = var_j_2086 ~ any;
                                                                    m_match_bool_j_2091 = var_j_2086 ~ int;
                                                                    m_match_cond_j_2092 = m_match_bool_j_2091 ? (
                                                                        bool_j_2093 = true
                                                                    ) : (
                                                                        m_match_cond_j_2089 = m_match_bool_j_2088 ? (
                                                                        var_j_2090 = fail_b_341
                                                                    ) : (
                                                                        void_j_2087 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2096 = fun bj_null_j_99 -> (
                                                                    input_j_2095 = input);
                                                                flatten_fun_j_2098 = fun expr_b_342 -> (
                                                                    var_j_2097 = expr_b_342);
                                                                record_j_2099 = 
                                                                    {checker = flatten_fun_j_2094, generator = flatten_fun_j_2096, wrapper = flatten_fun_j_2098};
                                                                proj_j_2100 = record_j_2099.checker;
                                                                var_j_2101 = expr_b_343;
                                                                appl_j_2102 = proj_j_2100 var_j_2101;
                                                                t_check_b_344 = appl_j_2102;
                                                                var_j_2103 = t_check_b_344;
                                                                if_j_2112 = var_j_2103 ? (
                                                                        
                                                                    bool_j_2104 = false;
                                                                    pred_check_b_345 = bool_j_2104;
                                                                    var_j_2105 = is_pos;
                                                                    var_j_2106 = expr_b_343;
                                                                    appl_j_2107 = var_j_2105 var_j_2106;
                                                                    if_j_2110 = appl_j_2107 ? (
                                                                        bool_j_2108 = true
                                                                    ) : (
                                                                        var_j_2109 = pred_check_b_345
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2111 = t_check_b_344
                                                                    ));
                                                            flatten_fun_j_2139 = fun bj_null_j_101 -> (
                                                                bool_j_2114 = false;
                                                                fail_b_337 = bool_j_2114;
                                                                flatten_fun_j_2123 = fun expr_b_336 -> (
                                                                    var_j_2115 = expr_b_336;
                                                                    m_match_bool_j_2117 = var_j_2115 ~ any;
                                                                    m_match_bool_j_2120 = var_j_2115 ~ int;
                                                                    m_match_cond_j_2121 = m_match_bool_j_2120 ? (
                                                                        bool_j_2122 = true
                                                                    ) : (
                                                                        m_match_cond_j_2118 = m_match_bool_j_2117 ? (
                                                                        var_j_2119 = fail_b_337
                                                                    ) : (
                                                                        void_j_2116 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2125 = fun bj_null_j_100 -> (
                                                                    input_j_2124 = input);
                                                                flatten_fun_j_2127 = fun expr_b_338 -> (
                                                                    var_j_2126 = expr_b_338);
                                                                record_j_2128 = 
                                                                    {checker = flatten_fun_j_2123, generator = flatten_fun_j_2125, wrapper = flatten_fun_j_2127};
                                                                proj_j_2129 = record_j_2128.generator;
                                                                int_j_2130 = 0;
                                                                appl_j_2131 = proj_j_2129 int_j_2130;
                                                                candidate_b_339 = appl_j_2131;
                                                                var_j_2132 = is_pos;
                                                                var_j_2133 = candidate_b_339;
                                                                appl_j_2134 = var_j_2132 var_j_2133;
                                                                if_j_2138 = appl_j_2134 ? (
                                                                        
                                                                    var_j_2135 = candidate_b_339
                                                                    ) : (
                                                                        
                                                                    bool_j_2136 = false;
                                                                    assume_j_2137 = assume bool_j_2136
                                                                    ));
                                                            flatten_fun_j_2141 = fun expr_b_346 -> (
                                                                var_j_2140 = expr_b_346);
                                                            record_j_2142 = 
                                                                {checker = flatten_fun_j_2113, generator = flatten_fun_j_2139, wrapper = flatten_fun_j_2141};
                                                            proj_j_2143 = record_j_2142.checker;
                                                            var_j_2144 = height_j_106;
                                                            appl_j_2145 = proj_j_2143 var_j_2144;
                                                            lbl_check_b_335 = appl_j_2145;
                                                            var_j_2146 = lbl_check_b_335;
                                                            if_j_2180 = var_j_2146 ? (
                                                                    bool_j_2147 = false;
                                                                    fail_b_333 = bool_j_2147;
                                                                    flatten_fun_j_2156 = fun expr_b_332 -> (
                                                                    var_j_2148 = expr_b_332;
                                                                    m_match_bool_j_2150 = var_j_2148 ~ any;
                                                                    m_match_bool_j_2153 = var_j_2148 ~ int;
                                                                    m_match_cond_j_2154 = m_match_bool_j_2153 ? (
                                                                        bool_j_2155 = true
                                                                    ) : (
                                                                        m_match_cond_j_2151 = m_match_bool_j_2150 ? (
                                                                        var_j_2152 = fail_b_333
                                                                    ) : (
                                                                        void_j_2149 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2158 = fun bj_null_j_102 -> (
                                                                    input_j_2157 = input);
                                                                    flatten_fun_j_2160 = fun expr_b_334 -> (
                                                                    var_j_2159 = expr_b_334);
                                                                    record_j_2161 = 
                                                                    {checker = flatten_fun_j_2156, generator = flatten_fun_j_2158, wrapper = flatten_fun_j_2160};
                                                                    proj_j_2162 = record_j_2161.checker;
                                                                    var_j_2163 = item_j_105;
                                                                    appl_j_2164 = proj_j_2162 var_j_2163;
                                                                    lbl_check_b_331 = appl_j_2164;
                                                                    var_j_2165 = lbl_check_b_331;
                                                                    if_j_2178 = var_j_2165 ? (
                                                                        var_j_2166 = tt;
                                                                    proj_j_2167 = var_j_2166.checker;
                                                                    var_j_2168 = left_j_104;
                                                                    appl_j_2169 = proj_j_2167 var_j_2168;
                                                                    lbl_check_b_330 = appl_j_2169;
                                                                    var_j_2170 = lbl_check_b_330;
                                                                    if_j_2176 = var_j_2170 ? (
                                                                        var_j_2171 = tt;
                                                                    proj_j_2172 = var_j_2171.checker;
                                                                    var_j_2173 = right_j_103;
                                                                    appl_j_2174 = proj_j_2172 var_j_2173
                                                                    ) : (
                                                                        var_j_2175 = lbl_check_b_330
                                                                    )
                                                                    ) : (
                                                                        var_j_2177 = lbl_check_b_331
                                                                    )
                                                                ) : (
                                                                    var_j_2179 = lbl_check_b_335
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2081 = m_match_bool_j_2080 ? (
                                                                    var_j_2082 = rec_fail_b_326
                                                                ) : (
                                                                    void_j_2079 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2073 = m_match_bool_j_2072 ? (
                                                            var_j_2074 = rec_fail_b_327
                                                        ) : (
                                                            void_j_2071 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2065 = m_match_bool_j_2064 ? (
                                                    var_j_2066 = rec_fail_b_328
                                                ) : (
                                                    void_j_2063 = {}
                                                )
                                        ));
                                flatten_fun_j_2280 = fun bj_null_j_115 -> (
                                    var_j_2182 = tt;
                                    proj_j_2183 = var_j_2182.generator;
                                    int_j_2184 = 0;
                                    appl_j_2185 = proj_j_2183 int_j_2184;
                                    right_b_311 = appl_j_2185;
                                    var_j_2186 = tt;
                                    proj_j_2187 = var_j_2186.generator;
                                    int_j_2188 = 0;
                                    appl_j_2189 = proj_j_2187 int_j_2188;
                                    left_b_310 = appl_j_2189;
                                    bool_j_2190 = false;
                                    fail_b_324 = bool_j_2190;
                                    flatten_fun_j_2199 = fun expr_b_323 -> (
                                        var_j_2191 = expr_b_323;
                                        m_match_bool_j_2193 = var_j_2191 ~ any;
                                        m_match_bool_j_2196 = var_j_2191 ~ int;
                                        m_match_cond_j_2197 = m_match_bool_j_2196 ? (
                                                bool_j_2198 = true
                                            ) : (
                                                m_match_cond_j_2194 = m_match_bool_j_2193 ? (
                                                        var_j_2195 = fail_b_324
                                                    ) : (
                                                        void_j_2192 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2201 = fun bj_null_j_111 -> (
                                        input_j_2200 = input);
                                    flatten_fun_j_2203 = fun expr_b_325 -> (
                                        var_j_2202 = expr_b_325);
                                    record_j_2204 = {checker = flatten_fun_j_2199, generator = flatten_fun_j_2201, wrapper = flatten_fun_j_2203};
                                    proj_j_2205 = record_j_2204.generator;
                                    int_j_2206 = 0;
                                    appl_j_2207 = proj_j_2205 int_j_2206;
                                    item_b_309 = appl_j_2207;
                                    flatten_fun_j_2236 = fun expr_b_319 -> (
                                        bool_j_2208 = false;
                                        fail_b_317 = bool_j_2208;
                                        flatten_fun_j_2217 = fun expr_b_316 -> (
                                            var_j_2209 = expr_b_316;
                                            m_match_bool_j_2211 = var_j_2209 ~ any;
                                            m_match_bool_j_2214 = var_j_2209 ~ int;
                                            m_match_cond_j_2215 = m_match_bool_j_2214 ? (
                                                    bool_j_2216 = true
                                                ) : (
                                                    m_match_cond_j_2212 = m_match_bool_j_2211 ? (
                                                            var_j_2213 = fail_b_317
                                                        ) : (
                                                            void_j_2210 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2219 = fun bj_null_j_112 -> (
                                            input_j_2218 = input);
                                        flatten_fun_j_2221 = fun expr_b_318 -> (
                                            var_j_2220 = expr_b_318);
                                        record_j_2222 = {checker = flatten_fun_j_2217, generator = flatten_fun_j_2219, wrapper = flatten_fun_j_2221};
                                        proj_j_2223 = record_j_2222.checker;
                                        var_j_2224 = expr_b_319;
                                        appl_j_2225 = proj_j_2223 var_j_2224;
                                        t_check_b_320 = appl_j_2225;
                                        var_j_2226 = t_check_b_320;
                                        if_j_2235 = var_j_2226 ? (
                                                bool_j_2227 = false;
                                                pred_check_b_321 = bool_j_2227;
                                                var_j_2228 = is_pos;
                                                var_j_2229 = expr_b_319;
                                                appl_j_2230 = var_j_2228 var_j_2229;
                                                if_j_2233 = appl_j_2230 ? (
                                                        bool_j_2231 = true
                                                    ) : (
                                                        var_j_2232 = pred_check_b_321
                                                    )
                                            ) : (
                                                var_j_2234 = t_check_b_320
                                            ));
                                    flatten_fun_j_2262 = fun bj_null_j_114 -> (
                                        bool_j_2237 = false;
                                        fail_b_313 = bool_j_2237;
                                        flatten_fun_j_2246 = fun expr_b_312 -> (
                                            var_j_2238 = expr_b_312;
                                            m_match_bool_j_2240 = var_j_2238 ~ any;
                                            m_match_bool_j_2243 = var_j_2238 ~ int;
                                            m_match_cond_j_2244 = m_match_bool_j_2243 ? (
                                                    bool_j_2245 = true
                                                ) : (
                                                    m_match_cond_j_2241 = m_match_bool_j_2240 ? (
                                                            var_j_2242 = fail_b_313
                                                        ) : (
                                                            void_j_2239 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2248 = fun bj_null_j_113 -> (
                                            input_j_2247 = input);
                                        flatten_fun_j_2250 = fun expr_b_314 -> (
                                            var_j_2249 = expr_b_314);
                                        record_j_2251 = {checker = flatten_fun_j_2246, generator = flatten_fun_j_2248, wrapper = flatten_fun_j_2250};
                                        proj_j_2252 = record_j_2251.generator;
                                        int_j_2253 = 0;
                                        appl_j_2254 = proj_j_2252 int_j_2253;
                                        candidate_b_315 = appl_j_2254;
                                        var_j_2255 = is_pos;
                                        var_j_2256 = candidate_b_315;
                                        appl_j_2257 = var_j_2255 var_j_2256;
                                        if_j_2261 = appl_j_2257 ? (
                                                var_j_2258 = candidate_b_315
                                            ) : (
                                                bool_j_2259 = false;
                                                assume_j_2260 = assume bool_j_2259
                                            ));
                                    flatten_fun_j_2264 = fun expr_b_322 -> (
                                        var_j_2263 = expr_b_322);
                                    record_j_2265 = {checker = flatten_fun_j_2236, generator = flatten_fun_j_2262, wrapper = flatten_fun_j_2264};
                                    proj_j_2266 = record_j_2265.generator;
                                    int_j_2267 = 0;
                                    appl_j_2268 = proj_j_2266 int_j_2267;
                                    height_b_308 = appl_j_2268;
                                    var_j_2269 = height_b_308;
                                    var_j_2270 = item_b_309;
                                    var_j_2271 = left_b_310;
                                    var_j_2272 = right_b_311;
                                    record_j_2273 = {height = var_j_2269, item = var_j_2270, left = var_j_2271, right = var_j_2272};
                                    record_j_2274 = {};
                                    record_j_2275 = {};
                                    record_j_2276 = {};
                                    record_j_2277 = {};
                                    record_j_2278 = {height = record_j_2274, item = record_j_2275, left = record_j_2276, right = record_j_2277};
                                    record_j_2279 = {bj_actual_rec = record_j_2273, bj_decl_lbls = record_j_2278});
                                flatten_fun_j_2282 = fun expr_b_347 -> (
                                    var_j_2281 = expr_b_347);
                                record_j_2283 = {checker = flatten_fun_j_2181, generator = flatten_fun_j_2280, wrapper = flatten_fun_j_2282};
                                proj_j_2284 = record_j_2283.generator;
                                int_j_2285 = 0;
                                appl_j_2286 = proj_j_2284 int_j_2285;
                                candidate_b_348 = appl_j_2286;
                                flatten_fun_j_2342 = fun t_j_116 -> (
                                    var_j_2287 = t_j_116;
                                    proj_j_2288 = var_j_2287.bj_decl_lbls;
                                    m_match_bool_j_2290 = proj_j_2288 ~ any;
                                    m_match_bool_j_2297 = proj_j_2288 ~ 
                                        {height, _};
                                    m_match_cond_j_2298 = m_match_bool_j_2297 ? (
                                            var_j_2299 = t_j_116;
                                            proj_j_2300 = var_j_2299.bj_actual_rec;
                                            proj_j_2301 = proj_j_2300.height
                                        ) : (
                                            m_match_cond_j_2291 = m_match_bool_j_2290 ? (
                                                    bool_j_2292 = false;
                                                    assert_pred_j_2293 = bool_j_2292;
                                                    assert_res_j_2294 = assert_pred_j_2293 ? (
                                                            assert_res_true_j_2295 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2296 = abort
                                                        )
                                                ) : (
                                                    void_j_2289 = {}
                                                )
                                        );
                                    var_j_2302 = max;
                                    var_j_2303 = height_j_337_j_382;
                                    var_j_2304 = t_j_116;
                                    proj_j_2305 = var_j_2304.bj_decl_lbls;
                                    m_match_bool_j_2307 = proj_j_2305 ~ any;
                                    m_match_bool_j_2314 = proj_j_2305 ~ 
                                        {left, _};
                                    m_match_cond_j_2315 = m_match_bool_j_2314 ? (
                                            var_j_2316 = t_j_116;
                                            proj_j_2317 = var_j_2316.bj_actual_rec;
                                            proj_j_2318 = proj_j_2317.left
                                        ) : (
                                            m_match_cond_j_2308 = m_match_bool_j_2307 ? (
                                                    bool_j_2309 = false;
                                                    assert_pred_j_2310 = bool_j_2309;
                                                    assert_res_j_2311 = assert_pred_j_2310 ? (
                                                            assert_res_true_j_2312 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2313 = abort
                                                        )
                                                ) : (
                                                    void_j_2306 = {}
                                                )
                                        );
                                    m_i_5462 = var_j_2303 ~ fun;
                                    appl_j_2319 = m_i_5462 ? (
                                            c_appl_i_5463 = var_j_2303 m_match_cond_j_2315
                                        ) : (
                                            ab_i_5464 = abort
                                        );
                                    m_i_5465 = var_j_2302 ~ fun;
                                    appl_j_2320 = m_i_5465 ? (
                                            c_appl_i_5466 = var_j_2302 appl_j_2319
                                        ) : (
                                            ab_i_5467 = abort
                                        );
                                    var_j_2321 = height_j_337_j_382;
                                    var_j_2322 = t_j_116;
                                    proj_j_2323 = var_j_2322.bj_decl_lbls;
                                    m_match_bool_j_2325 = proj_j_2323 ~ any;
                                    m_match_bool_j_2332 = proj_j_2323 ~ 
                                        {right, _};
                                    m_match_cond_j_2333 = m_match_bool_j_2332 ? (
                                            var_j_2334 = t_j_116;
                                            proj_j_2335 = var_j_2334.bj_actual_rec;
                                            proj_j_2336 = proj_j_2335.right
                                        ) : (
                                            m_match_cond_j_2326 = m_match_bool_j_2325 ? (
                                                    bool_j_2327 = false;
                                                    assert_pred_j_2328 = bool_j_2327;
                                                    assert_res_j_2329 = assert_pred_j_2328 ? (
                                                            assert_res_true_j_2330 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2331 = abort
                                                        )
                                                ) : (
                                                    void_j_2324 = {}
                                                )
                                        );
                                    m_i_5468 = var_j_2321 ~ fun;
                                    appl_j_2337 = m_i_5468 ? (
                                            c_appl_i_5469 = var_j_2321 m_match_cond_j_2333
                                        ) : (
                                            ab_i_5470 = abort
                                        );
                                    m_i_5471 = appl_j_2320 ~ fun;
                                    appl_j_2338 = m_i_5471 ? (
                                            c_appl_i_5472 = appl_j_2320 appl_j_2337
                                        ) : (
                                            ab_i_5473 = abort
                                        );
                                    int_j_2339 = 1;
                                    m_bl_i_5474 = appl_j_2338 ~ int;
                                    m_br_i_5475 = int_j_2339 ~ int;
                                    m_b_i_5476 = m_bl_i_5474 and m_br_i_5475;
                                    binop_j_2340 = m_b_i_5476 ? (
                                            c_binop_i_5477 = appl_j_2338 + int_j_2339
                                        ) : (
                                            ab_i_5478 = abort
                                        );
                                    m_bl_i_5479 = m_match_cond_j_2298 ~ int;
                                    m_br_i_5480 = binop_j_2340 ~ int;
                                    m_b_i_5481 = m_bl_i_5479 and m_br_i_5480;
                                    binop_j_2341 = m_b_i_5481 ? (
                                            c_binop_i_5482 = m_match_cond_j_2298 == binop_j_2340
                                        ) : (
                                            ab_i_5483 = abort
                                        ));
                                var_j_2343 = candidate_b_348;
                                appl_j_2344 = flatten_fun_j_2342 var_j_2343;
                                if_j_2348 = appl_j_2344 ? (
                                        var_j_2345 = candidate_b_348
                                    ) : (
                                        bool_j_2346 = false;
                                        assume_j_2347 = assume bool_j_2346
                                    ));
                            flatten_fun_j_2351 = fun expr_b_392 -> (
                                var_j_2350 = expr_b_392);
                            record_j_2352 = {checker = flatten_fun_j_2058, generator = flatten_fun_j_2349, wrapper = flatten_fun_j_2351};
                            proj_j_2353 = record_j_2352.generator;
                            int_j_2354 = 0;
                            appl_j_2355 = proj_j_2353 int_j_2354
                        ) : (
                            flatten_fun_j_2402 = fun expr_b_400 -> (
                                bool_j_2356 = false;
                                rec_fail_b_399 = bool_j_2356;
                                bool_j_2357 = false;
                                rec_fail_b_398 = bool_j_2357;
                                bool_j_2358 = false;
                                rec_fail_b_397 = bool_j_2358;
                                var_j_2359 = expr_b_400;
                                m_match_bool_j_2361 = var_j_2359 ~ any;
                                m_match_bool_j_2364 = var_j_2359 ~ {bj_actual_rec, _};
                                m_match_cond_j_2365 = m_match_bool_j_2364 ? (
                                        var_j_2366 = expr_b_400;
                                        proj_j_2367 = var_j_2366.bj_decl_lbls;
                                        m_match_bool_j_2369 = proj_j_2367 ~ any;
                                        m_match_bool_j_2372 = proj_j_2367 ~ 
                                            {leaf, _};
                                        m_match_cond_j_2373 = m_match_bool_j_2372 ? (
                                                leaf_j_120 = proj_j_2367.leaf;
                                                var_j_2374 = expr_b_400;
                                                proj_j_2375 = var_j_2374.bj_actual_rec;
                                                m_match_bool_j_2377 = proj_j_2375 ~ any;
                                                m_match_bool_j_2380 = proj_j_2375 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_2381 = m_match_bool_j_2380 ? (
                                                        leaf_j_119 = proj_j_2375.leaf;
                                                        bool_j_2382 = false;
                                                        fail_b_402 = bool_j_2382;
                                                        flatten_fun_j_2391 = fun expr_b_401 -> (
                                                            var_j_2383 = expr_b_401;
                                                            m_match_bool_j_2385 = var_j_2383 ~ any;
                                                            m_match_bool_j_2388 = var_j_2383 ~ bool;
                                                            m_match_cond_j_2389 = m_match_bool_j_2388 ? (
                                                                    bool_j_2390 = true
                                                                ) : (
                                                                    m_match_cond_j_2386 = m_match_bool_j_2385 ? (
                                                                        var_j_2387 = fail_b_402
                                                                    ) : (
                                                                        void_j_2384 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_2395 = fun bj_null_j_118 -> (
                                                            int_j_2392 = 0;
                                                            input_j_2393 = input;
                                                            m_bl_i_5484 = int_j_2392 ~ int;
                                                            m_br_i_5485 = input_j_2393 ~ int;
                                                            m_b_i_5486 = m_bl_i_5484 and m_br_i_5485;
                                                            binop_j_2394 = m_b_i_5486 ? (
                                                                    c_binop_i_5487 = int_j_2392 <= input_j_2393
                                                                ) : (
                                                                    ab_i_5488 = abort
                                                                ));
                                                        flatten_fun_j_2397 = fun expr_b_403 -> (
                                                            var_j_2396 = expr_b_403);
                                                        record_j_2398 = 
                                                            {checker = flatten_fun_j_2391, generator = flatten_fun_j_2395, wrapper = flatten_fun_j_2397};
                                                        proj_j_2399 = record_j_2398.checker;
                                                        var_j_2400 = leaf_j_119;
                                                        appl_j_2401 = proj_j_2399 var_j_2400
                                                    ) : (
                                                        m_match_cond_j_2378 = m_match_bool_j_2377 ? (
                                                                var_j_2379 = rec_fail_b_397
                                                            ) : (
                                                                void_j_2376 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_2370 = m_match_bool_j_2369 ? (
                                                        var_j_2371 = rec_fail_b_398
                                                    ) : (
                                                        void_j_2368 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_2362 = m_match_bool_j_2361 ? (
                                                var_j_2363 = rec_fail_b_399
                                            ) : (
                                                void_j_2360 = {}
                                            )
                                    ));
                            flatten_fun_j_2428 = fun bj_null_j_122 -> (
                                bool_j_2403 = false;
                                fail_b_395 = bool_j_2403;
                                flatten_fun_j_2412 = fun expr_b_394 -> (
                                    var_j_2404 = expr_b_394;
                                    m_match_bool_j_2406 = var_j_2404 ~ any;
                                    m_match_bool_j_2409 = var_j_2404 ~ bool;
                                    m_match_cond_j_2410 = m_match_bool_j_2409 ? (
                                            bool_j_2411 = true
                                        ) : (
                                            m_match_cond_j_2407 = m_match_bool_j_2406 ? (
                                                    var_j_2408 = fail_b_395
                                                ) : (
                                                    void_j_2405 = {}
                                                )
                                        ));
                                flatten_fun_j_2416 = fun bj_null_j_121 -> (
                                    int_j_2413 = 0;
                                    input_j_2414 = input;
                                    m_bl_i_5489 = int_j_2413 ~ int;
                                    m_br_i_5490 = input_j_2414 ~ int;
                                    m_b_i_5491 = m_bl_i_5489 and m_br_i_5490;
                                    binop_j_2415 = m_b_i_5491 ? (
                                            c_binop_i_5492 = int_j_2413 <= input_j_2414
                                        ) : (
                                            ab_i_5493 = abort
                                        ));
                                flatten_fun_j_2418 = fun expr_b_396 -> (
                                    var_j_2417 = expr_b_396);
                                record_j_2419 = {checker = flatten_fun_j_2412, generator = flatten_fun_j_2416, wrapper = flatten_fun_j_2418};
                                proj_j_2420 = record_j_2419.generator;
                                int_j_2421 = 0;
                                appl_j_2422 = proj_j_2420 int_j_2421;
                                leaf_b_393 = appl_j_2422;
                                var_j_2423 = leaf_b_393;
                                record_j_2424 = {leaf = var_j_2423};
                                record_j_2425 = {};
                                record_j_2426 = {leaf = record_j_2425};
                                record_j_2427 = {bj_actual_rec = record_j_2424, bj_decl_lbls = record_j_2426});
                            flatten_fun_j_2430 = fun expr_b_404 -> (
                                var_j_2429 = expr_b_404);
                            record_j_2431 = {checker = flatten_fun_j_2402, generator = flatten_fun_j_2428, wrapper = flatten_fun_j_2430};
                            proj_j_2432 = record_j_2431.generator;
                            int_j_2433 = 0;
                            appl_j_2434 = proj_j_2432 int_j_2433
                        ));
                flatten_fun_j_2438 = fun expr_b_603 -> (
                    var_j_2437 = expr_b_603);
                record_j_2439 = {checker = flatten_fun_j_1760, generator = flatten_fun_j_2436, wrapper = flatten_fun_j_2438};
                proj_j_2440 = record_j_2439.checker;
                var_j_2441 = expr_b_604;
                appl_j_2442 = proj_j_2440 var_j_2441);
            var_j_2444 = self_b_7;
            int_j_2445 = 0;
            appl_j_2446 = var_j_2444 int_j_2445;
            appl_j_2447 = flatten_fun_j_2443 appl_j_2446);
        flatten_fun_j_4493 = fun bj_null_j_252 -> (
            flatten_fun_j_4488 = fun tt_j_251 -> (
                flatten_fun_j_3805 = fun expr_b_304 -> (
                    input_j_2449 = input;
                    select_int_b_305 = input_j_2449;
                    bool_j_2450 = false;
                    fail_b_306 = bool_j_2450;
                    int_j_2451 = 0;
                    var_j_2452 = select_int_b_305;
                    binop_j_2453 = int_j_2451 <= var_j_2452;
                    if_j_3804 = binop_j_2453 ? (
                            flatten_fun_j_2747 = fun expr_b_191 -> (
                                flatten_fun_j_2576 = fun expr_b_172 -> (
                                    bool_j_2454 = false;
                                    rec_fail_b_171 = bool_j_2454;
                                    bool_j_2455 = false;
                                    rec_fail_b_170 = bool_j_2455;
                                    bool_j_2456 = false;
                                    rec_fail_b_169 = bool_j_2456;
                                    var_j_2457 = expr_b_172;
                                    m_match_bool_j_2459 = var_j_2457 ~ any;
                                    m_match_bool_j_2462 = var_j_2457 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2463 = m_match_bool_j_2462 ? (
                                            var_j_2464 = expr_b_172;
                                            proj_j_2465 = var_j_2464.bj_decl_lbls;
                                            m_match_bool_j_2467 = proj_j_2465 ~ any;
                                            m_match_bool_j_2470 = proj_j_2465 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2471 = m_match_bool_j_2470 ? (
                                                    height_j_135 = proj_j_2465.height;
                                                    item_j_134 = proj_j_2465.item;
                                                    left_j_133 = proj_j_2465.left;
                                                    right_j_132 = proj_j_2465.right;
                                                    var_j_2472 = expr_b_172;
                                                    proj_j_2473 = var_j_2472.bj_actual_rec;
                                                    m_match_bool_j_2475 = proj_j_2473 ~ any;
                                                    m_match_bool_j_2478 = proj_j_2473 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2479 = m_match_bool_j_2478 ? (
                                                            height_j_131 = proj_j_2473.height;
                                                            item_j_130 = proj_j_2473.item;
                                                            left_j_129 = proj_j_2473.left;
                                                            right_j_128 = proj_j_2473.right;
                                                            flatten_fun_j_2508 = fun expr_b_186 -> (
                                                                bool_j_2480 = false;
                                                                fail_b_184 = bool_j_2480;
                                                                flatten_fun_j_2489 = fun expr_b_183 -> (
                                                                    var_j_2481 = expr_b_183;
                                                                    m_match_bool_j_2483 = var_j_2481 ~ any;
                                                                    m_match_bool_j_2486 = var_j_2481 ~ int;
                                                                    m_match_cond_j_2487 = m_match_bool_j_2486 ? (
                                                                        bool_j_2488 = true
                                                                    ) : (
                                                                        m_match_cond_j_2484 = m_match_bool_j_2483 ? (
                                                                        var_j_2485 = fail_b_184
                                                                    ) : (
                                                                        void_j_2482 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2491 = fun bj_null_j_124 -> (
                                                                    input_j_2490 = input);
                                                                flatten_fun_j_2493 = fun expr_b_185 -> (
                                                                    var_j_2492 = expr_b_185);
                                                                record_j_2494 = 
                                                                    {checker = flatten_fun_j_2489, generator = flatten_fun_j_2491, wrapper = flatten_fun_j_2493};
                                                                proj_j_2495 = record_j_2494.checker;
                                                                var_j_2496 = expr_b_186;
                                                                appl_j_2497 = proj_j_2495 var_j_2496;
                                                                t_check_b_187 = appl_j_2497;
                                                                var_j_2498 = t_check_b_187;
                                                                if_j_2507 = var_j_2498 ? (
                                                                        
                                                                    bool_j_2499 = false;
                                                                    pred_check_b_188 = bool_j_2499;
                                                                    var_j_2500 = is_pos;
                                                                    var_j_2501 = expr_b_186;
                                                                    appl_j_2502 = var_j_2500 var_j_2501;
                                                                    if_j_2505 = appl_j_2502 ? (
                                                                        bool_j_2503 = true
                                                                    ) : (
                                                                        var_j_2504 = pred_check_b_188
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2506 = t_check_b_187
                                                                    ));
                                                            flatten_fun_j_2534 = fun bj_null_j_126 -> (
                                                                bool_j_2509 = false;
                                                                fail_b_180 = bool_j_2509;
                                                                flatten_fun_j_2518 = fun expr_b_179 -> (
                                                                    var_j_2510 = expr_b_179;
                                                                    m_match_bool_j_2512 = var_j_2510 ~ any;
                                                                    m_match_bool_j_2515 = var_j_2510 ~ int;
                                                                    m_match_cond_j_2516 = m_match_bool_j_2515 ? (
                                                                        bool_j_2517 = true
                                                                    ) : (
                                                                        m_match_cond_j_2513 = m_match_bool_j_2512 ? (
                                                                        var_j_2514 = fail_b_180
                                                                    ) : (
                                                                        void_j_2511 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2520 = fun bj_null_j_125 -> (
                                                                    input_j_2519 = input);
                                                                flatten_fun_j_2522 = fun expr_b_181 -> (
                                                                    var_j_2521 = expr_b_181);
                                                                record_j_2523 = 
                                                                    {checker = flatten_fun_j_2518, generator = flatten_fun_j_2520, wrapper = flatten_fun_j_2522};
                                                                proj_j_2524 = record_j_2523.generator;
                                                                int_j_2525 = 0;
                                                                appl_j_2526 = proj_j_2524 int_j_2525;
                                                                candidate_b_182 = appl_j_2526;
                                                                var_j_2527 = is_pos;
                                                                var_j_2528 = candidate_b_182;
                                                                appl_j_2529 = var_j_2527 var_j_2528;
                                                                if_j_2533 = appl_j_2529 ? (
                                                                        
                                                                    var_j_2530 = candidate_b_182
                                                                    ) : (
                                                                        
                                                                    bool_j_2531 = false;
                                                                    assume_j_2532 = assume bool_j_2531
                                                                    ));
                                                            flatten_fun_j_2536 = fun expr_b_189 -> (
                                                                var_j_2535 = expr_b_189);
                                                            record_j_2537 = 
                                                                {checker = flatten_fun_j_2508, generator = flatten_fun_j_2534, wrapper = flatten_fun_j_2536};
                                                            proj_j_2538 = record_j_2537.checker;
                                                            var_j_2539 = height_j_131;
                                                            appl_j_2540 = proj_j_2538 var_j_2539;
                                                            lbl_check_b_178 = appl_j_2540;
                                                            var_j_2541 = lbl_check_b_178;
                                                            if_j_2575 = var_j_2541 ? (
                                                                    bool_j_2542 = false;
                                                                    fail_b_176 = bool_j_2542;
                                                                    flatten_fun_j_2551 = fun expr_b_175 -> (
                                                                    var_j_2543 = expr_b_175;
                                                                    m_match_bool_j_2545 = var_j_2543 ~ any;
                                                                    m_match_bool_j_2548 = var_j_2543 ~ int;
                                                                    m_match_cond_j_2549 = m_match_bool_j_2548 ? (
                                                                        bool_j_2550 = true
                                                                    ) : (
                                                                        m_match_cond_j_2546 = m_match_bool_j_2545 ? (
                                                                        var_j_2547 = fail_b_176
                                                                    ) : (
                                                                        void_j_2544 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2553 = fun bj_null_j_127 -> (
                                                                    input_j_2552 = input);
                                                                    flatten_fun_j_2555 = fun expr_b_177 -> (
                                                                    var_j_2554 = expr_b_177);
                                                                    record_j_2556 = 
                                                                    {checker = flatten_fun_j_2551, generator = flatten_fun_j_2553, wrapper = flatten_fun_j_2555};
                                                                    proj_j_2557 = record_j_2556.checker;
                                                                    var_j_2558 = item_j_130;
                                                                    appl_j_2559 = proj_j_2557 var_j_2558;
                                                                    lbl_check_b_174 = appl_j_2559;
                                                                    var_j_2560 = lbl_check_b_174;
                                                                    if_j_2573 = var_j_2560 ? (
                                                                        var_j_2561 = tt_j_251;
                                                                    proj_j_2562 = var_j_2561.checker;
                                                                    var_j_2563 = left_j_129;
                                                                    appl_j_2564 = proj_j_2562 var_j_2563;
                                                                    lbl_check_b_173 = appl_j_2564;
                                                                    var_j_2565 = lbl_check_b_173;
                                                                    if_j_2571 = var_j_2565 ? (
                                                                        var_j_2566 = tt_j_251;
                                                                    proj_j_2567 = var_j_2566.checker;
                                                                    var_j_2568 = right_j_128;
                                                                    appl_j_2569 = proj_j_2567 var_j_2568
                                                                    ) : (
                                                                        var_j_2570 = lbl_check_b_173
                                                                    )
                                                                    ) : (
                                                                        var_j_2572 = lbl_check_b_174
                                                                    )
                                                                ) : (
                                                                    var_j_2574 = lbl_check_b_178
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2476 = m_match_bool_j_2475 ? (
                                                                    var_j_2477 = rec_fail_b_169
                                                                ) : (
                                                                    void_j_2474 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2468 = m_match_bool_j_2467 ? (
                                                            var_j_2469 = rec_fail_b_170
                                                        ) : (
                                                            void_j_2466 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2460 = m_match_bool_j_2459 ? (
                                                    var_j_2461 = rec_fail_b_171
                                                ) : (
                                                    void_j_2458 = {}
                                                )
                                        ));
                                flatten_fun_j_2675 = fun bj_null_j_140 -> (
                                    var_j_2577 = tt_j_251;
                                    proj_j_2578 = var_j_2577.generator;
                                    int_j_2579 = 0;
                                    appl_j_2580 = proj_j_2578 int_j_2579;
                                    right_b_154 = appl_j_2580;
                                    var_j_2581 = tt_j_251;
                                    proj_j_2582 = var_j_2581.generator;
                                    int_j_2583 = 0;
                                    appl_j_2584 = proj_j_2582 int_j_2583;
                                    left_b_153 = appl_j_2584;
                                    bool_j_2585 = false;
                                    fail_b_167 = bool_j_2585;
                                    flatten_fun_j_2594 = fun expr_b_166 -> (
                                        var_j_2586 = expr_b_166;
                                        m_match_bool_j_2588 = var_j_2586 ~ any;
                                        m_match_bool_j_2591 = var_j_2586 ~ int;
                                        m_match_cond_j_2592 = m_match_bool_j_2591 ? (
                                                bool_j_2593 = true
                                            ) : (
                                                m_match_cond_j_2589 = m_match_bool_j_2588 ? (
                                                        var_j_2590 = fail_b_167
                                                    ) : (
                                                        void_j_2587 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2596 = fun bj_null_j_136 -> (
                                        input_j_2595 = input);
                                    flatten_fun_j_2598 = fun expr_b_168 -> (
                                        var_j_2597 = expr_b_168);
                                    record_j_2599 = {checker = flatten_fun_j_2594, generator = flatten_fun_j_2596, wrapper = flatten_fun_j_2598};
                                    proj_j_2600 = record_j_2599.generator;
                                    int_j_2601 = 0;
                                    appl_j_2602 = proj_j_2600 int_j_2601;
                                    item_b_152 = appl_j_2602;
                                    flatten_fun_j_2631 = fun expr_b_162 -> (
                                        bool_j_2603 = false;
                                        fail_b_160 = bool_j_2603;
                                        flatten_fun_j_2612 = fun expr_b_159 -> (
                                            var_j_2604 = expr_b_159;
                                            m_match_bool_j_2606 = var_j_2604 ~ any;
                                            m_match_bool_j_2609 = var_j_2604 ~ int;
                                            m_match_cond_j_2610 = m_match_bool_j_2609 ? (
                                                    bool_j_2611 = true
                                                ) : (
                                                    m_match_cond_j_2607 = m_match_bool_j_2606 ? (
                                                            var_j_2608 = fail_b_160
                                                        ) : (
                                                            void_j_2605 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2614 = fun bj_null_j_137 -> (
                                            input_j_2613 = input);
                                        flatten_fun_j_2616 = fun expr_b_161 -> (
                                            var_j_2615 = expr_b_161);
                                        record_j_2617 = {checker = flatten_fun_j_2612, generator = flatten_fun_j_2614, wrapper = flatten_fun_j_2616};
                                        proj_j_2618 = record_j_2617.checker;
                                        var_j_2619 = expr_b_162;
                                        appl_j_2620 = proj_j_2618 var_j_2619;
                                        t_check_b_163 = appl_j_2620;
                                        var_j_2621 = t_check_b_163;
                                        if_j_2630 = var_j_2621 ? (
                                                bool_j_2622 = false;
                                                pred_check_b_164 = bool_j_2622;
                                                var_j_2623 = is_pos;
                                                var_j_2624 = expr_b_162;
                                                appl_j_2625 = var_j_2623 var_j_2624;
                                                if_j_2628 = appl_j_2625 ? (
                                                        bool_j_2626 = true
                                                    ) : (
                                                        var_j_2627 = pred_check_b_164
                                                    )
                                            ) : (
                                                var_j_2629 = t_check_b_163
                                            ));
                                    flatten_fun_j_2657 = fun bj_null_j_139 -> (
                                        bool_j_2632 = false;
                                        fail_b_156 = bool_j_2632;
                                        flatten_fun_j_2641 = fun expr_b_155 -> (
                                            var_j_2633 = expr_b_155;
                                            m_match_bool_j_2635 = var_j_2633 ~ any;
                                            m_match_bool_j_2638 = var_j_2633 ~ int;
                                            m_match_cond_j_2639 = m_match_bool_j_2638 ? (
                                                    bool_j_2640 = true
                                                ) : (
                                                    m_match_cond_j_2636 = m_match_bool_j_2635 ? (
                                                            var_j_2637 = fail_b_156
                                                        ) : (
                                                            void_j_2634 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2643 = fun bj_null_j_138 -> (
                                            input_j_2642 = input);
                                        flatten_fun_j_2645 = fun expr_b_157 -> (
                                            var_j_2644 = expr_b_157);
                                        record_j_2646 = {checker = flatten_fun_j_2641, generator = flatten_fun_j_2643, wrapper = flatten_fun_j_2645};
                                        proj_j_2647 = record_j_2646.generator;
                                        int_j_2648 = 0;
                                        appl_j_2649 = proj_j_2647 int_j_2648;
                                        candidate_b_158 = appl_j_2649;
                                        var_j_2650 = is_pos;
                                        var_j_2651 = candidate_b_158;
                                        appl_j_2652 = var_j_2650 var_j_2651;
                                        if_j_2656 = appl_j_2652 ? (
                                                var_j_2653 = candidate_b_158
                                            ) : (
                                                bool_j_2654 = false;
                                                assume_j_2655 = assume bool_j_2654
                                            ));
                                    flatten_fun_j_2659 = fun expr_b_165 -> (
                                        var_j_2658 = expr_b_165);
                                    record_j_2660 = {checker = flatten_fun_j_2631, generator = flatten_fun_j_2657, wrapper = flatten_fun_j_2659};
                                    proj_j_2661 = record_j_2660.generator;
                                    int_j_2662 = 0;
                                    appl_j_2663 = proj_j_2661 int_j_2662;
                                    height_b_151 = appl_j_2663;
                                    var_j_2664 = height_b_151;
                                    var_j_2665 = item_b_152;
                                    var_j_2666 = left_b_153;
                                    var_j_2667 = right_b_154;
                                    record_j_2668 = {height = var_j_2664, item = var_j_2665, left = var_j_2666, right = var_j_2667};
                                    record_j_2669 = {};
                                    record_j_2670 = {};
                                    record_j_2671 = {};
                                    record_j_2672 = {};
                                    record_j_2673 = {height = record_j_2669, item = record_j_2670, left = record_j_2671, right = record_j_2672};
                                    record_j_2674 = {bj_actual_rec = record_j_2668, bj_decl_lbls = record_j_2673});
                                flatten_fun_j_2677 = fun expr_b_190 -> (
                                    var_j_2676 = expr_b_190);
                                record_j_2678 = {checker = flatten_fun_j_2576, generator = flatten_fun_j_2675, wrapper = flatten_fun_j_2677};
                                proj_j_2679 = record_j_2678.checker;
                                var_j_2680 = expr_b_191;
                                appl_j_2681 = proj_j_2679 var_j_2680;
                                t_check_b_192 = appl_j_2681;
                                var_j_2682 = t_check_b_192;
                                if_j_2746 = var_j_2682 ? (
                                        bool_j_2683 = false;
                                        pred_check_b_193 = bool_j_2683;
                                        flatten_fun_j_2739 = fun t_j_141 -> (
                                            var_j_2684 = t_j_141;
                                            proj_j_2685 = var_j_2684.bj_decl_lbls;
                                            m_match_bool_j_2687 = proj_j_2685 ~ any;
                                            m_match_bool_j_2694 = proj_j_2685 ~ 
                                                {height, _};
                                            m_match_cond_j_2695 = m_match_bool_j_2694 ? (
                                                    var_j_2696 = t_j_141;
                                                    proj_j_2697 = var_j_2696.bj_actual_rec;
                                                    proj_j_2698 = proj_j_2697.height
                                                ) : (
                                                    m_match_cond_j_2688 = m_match_bool_j_2687 ? (
                                                            bool_j_2689 = false;
                                                            assert_pred_j_2690 = bool_j_2689;
                                                            assert_res_j_2691 = assert_pred_j_2690 ? (
                                                                    assert_res_true_j_2692 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2693 = abort
                                                                )
                                                        ) : (
                                                            void_j_2686 = 
                                                                {}
                                                        )
                                                );
                                            var_j_2699 = max;
                                            var_j_2700 = height_j_337_j_382;
                                            var_j_2701 = t_j_141;
                                            proj_j_2702 = var_j_2701.bj_decl_lbls;
                                            m_match_bool_j_2704 = proj_j_2702 ~ any;
                                            m_match_bool_j_2711 = proj_j_2702 ~ 
                                                {left, _};
                                            m_match_cond_j_2712 = m_match_bool_j_2711 ? (
                                                    var_j_2713 = t_j_141;
                                                    proj_j_2714 = var_j_2713.bj_actual_rec;
                                                    proj_j_2715 = proj_j_2714.left
                                                ) : (
                                                    m_match_cond_j_2705 = m_match_bool_j_2704 ? (
                                                            bool_j_2706 = false;
                                                            assert_pred_j_2707 = bool_j_2706;
                                                            assert_res_j_2708 = assert_pred_j_2707 ? (
                                                                    assert_res_true_j_2709 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2710 = abort
                                                                )
                                                        ) : (
                                                            void_j_2703 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5494 = var_j_2700 ~ fun;
                                            appl_j_2716 = m_i_5494 ? (
                                                    c_appl_i_5495 = var_j_2700 m_match_cond_j_2712
                                                ) : (
                                                    ab_i_5496 = abort
                                                );
                                            m_i_5497 = var_j_2699 ~ fun;
                                            appl_j_2717 = m_i_5497 ? (
                                                    c_appl_i_5498 = var_j_2699 appl_j_2716
                                                ) : (
                                                    ab_i_5499 = abort
                                                );
                                            var_j_2718 = height_j_337_j_382;
                                            var_j_2719 = t_j_141;
                                            proj_j_2720 = var_j_2719.bj_decl_lbls;
                                            m_match_bool_j_2722 = proj_j_2720 ~ any;
                                            m_match_bool_j_2729 = proj_j_2720 ~ 
                                                {right, _};
                                            m_match_cond_j_2730 = m_match_bool_j_2729 ? (
                                                    var_j_2731 = t_j_141;
                                                    proj_j_2732 = var_j_2731.bj_actual_rec;
                                                    proj_j_2733 = proj_j_2732.right
                                                ) : (
                                                    m_match_cond_j_2723 = m_match_bool_j_2722 ? (
                                                            bool_j_2724 = false;
                                                            assert_pred_j_2725 = bool_j_2724;
                                                            assert_res_j_2726 = assert_pred_j_2725 ? (
                                                                    assert_res_true_j_2727 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_2728 = abort
                                                                )
                                                        ) : (
                                                            void_j_2721 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5500 = var_j_2718 ~ fun;
                                            appl_j_2734 = m_i_5500 ? (
                                                    c_appl_i_5501 = var_j_2718 m_match_cond_j_2730
                                                ) : (
                                                    ab_i_5502 = abort
                                                );
                                            m_i_5503 = appl_j_2717 ~ fun;
                                            appl_j_2735 = m_i_5503 ? (
                                                    c_appl_i_5504 = appl_j_2717 appl_j_2734
                                                ) : (
                                                    ab_i_5505 = abort
                                                );
                                            int_j_2736 = 1;
                                            m_bl_i_5506 = appl_j_2735 ~ int;
                                            m_br_i_5507 = int_j_2736 ~ int;
                                            m_b_i_5508 = m_bl_i_5506 and m_br_i_5507;
                                            binop_j_2737 = m_b_i_5508 ? (
                                                    c_binop_i_5509 = appl_j_2735 + int_j_2736
                                                ) : (
                                                    ab_i_5510 = abort
                                                );
                                            m_bl_i_5511 = m_match_cond_j_2695 ~ int;
                                            m_br_i_5512 = binop_j_2737 ~ int;
                                            m_b_i_5513 = m_bl_i_5511 and m_br_i_5512;
                                            binop_j_2738 = m_b_i_5513 ? (
                                                    c_binop_i_5514 = m_match_cond_j_2695 == binop_j_2737
                                                ) : (
                                                    ab_i_5515 = abort
                                                ));
                                        var_j_2740 = expr_b_191;
                                        appl_j_2741 = flatten_fun_j_2739 var_j_2740;
                                        if_j_2744 = appl_j_2741 ? (
                                                bool_j_2742 = true
                                            ) : (
                                                var_j_2743 = pred_check_b_193
                                            )
                                    ) : (
                                        var_j_2745 = t_check_b_192
                                    ));
                            flatten_fun_j_3038 = fun bj_null_j_160 -> (
                                flatten_fun_j_2870 = fun expr_b_131 -> (
                                    bool_j_2748 = false;
                                    rec_fail_b_130 = bool_j_2748;
                                    bool_j_2749 = false;
                                    rec_fail_b_129 = bool_j_2749;
                                    bool_j_2750 = false;
                                    rec_fail_b_128 = bool_j_2750;
                                    var_j_2751 = expr_b_131;
                                    m_match_bool_j_2753 = var_j_2751 ~ any;
                                    m_match_bool_j_2756 = var_j_2751 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_2757 = m_match_bool_j_2756 ? (
                                            var_j_2758 = expr_b_131;
                                            proj_j_2759 = var_j_2758.bj_decl_lbls;
                                            m_match_bool_j_2761 = proj_j_2759 ~ any;
                                            m_match_bool_j_2764 = proj_j_2759 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_2765 = m_match_bool_j_2764 ? (
                                                    height_j_153 = proj_j_2759.height;
                                                    item_j_152 = proj_j_2759.item;
                                                    left_j_151 = proj_j_2759.left;
                                                    right_j_150 = proj_j_2759.right;
                                                    var_j_2766 = expr_b_131;
                                                    proj_j_2767 = var_j_2766.bj_actual_rec;
                                                    m_match_bool_j_2769 = proj_j_2767 ~ any;
                                                    m_match_bool_j_2772 = proj_j_2767 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_2773 = m_match_bool_j_2772 ? (
                                                            height_j_149 = proj_j_2767.height;
                                                            item_j_148 = proj_j_2767.item;
                                                            left_j_147 = proj_j_2767.left;
                                                            right_j_146 = proj_j_2767.right;
                                                            flatten_fun_j_2802 = fun expr_b_145 -> (
                                                                bool_j_2774 = false;
                                                                fail_b_143 = bool_j_2774;
                                                                flatten_fun_j_2783 = fun expr_b_142 -> (
                                                                    var_j_2775 = expr_b_142;
                                                                    m_match_bool_j_2777 = var_j_2775 ~ any;
                                                                    m_match_bool_j_2780 = var_j_2775 ~ int;
                                                                    m_match_cond_j_2781 = m_match_bool_j_2780 ? (
                                                                        bool_j_2782 = true
                                                                    ) : (
                                                                        m_match_cond_j_2778 = m_match_bool_j_2777 ? (
                                                                        var_j_2779 = fail_b_143
                                                                    ) : (
                                                                        void_j_2776 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2785 = fun bj_null_j_142 -> (
                                                                    input_j_2784 = input);
                                                                flatten_fun_j_2787 = fun expr_b_144 -> (
                                                                    var_j_2786 = expr_b_144);
                                                                record_j_2788 = 
                                                                    {checker = flatten_fun_j_2783, generator = flatten_fun_j_2785, wrapper = flatten_fun_j_2787};
                                                                proj_j_2789 = record_j_2788.checker;
                                                                var_j_2790 = expr_b_145;
                                                                appl_j_2791 = proj_j_2789 var_j_2790;
                                                                t_check_b_146 = appl_j_2791;
                                                                var_j_2792 = t_check_b_146;
                                                                if_j_2801 = var_j_2792 ? (
                                                                        
                                                                    bool_j_2793 = false;
                                                                    pred_check_b_147 = bool_j_2793;
                                                                    var_j_2794 = is_pos;
                                                                    var_j_2795 = expr_b_145;
                                                                    appl_j_2796 = var_j_2794 var_j_2795;
                                                                    if_j_2799 = appl_j_2796 ? (
                                                                        bool_j_2797 = true
                                                                    ) : (
                                                                        var_j_2798 = pred_check_b_147
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_2800 = t_check_b_146
                                                                    ));
                                                            flatten_fun_j_2828 = fun bj_null_j_144 -> (
                                                                bool_j_2803 = false;
                                                                fail_b_139 = bool_j_2803;
                                                                flatten_fun_j_2812 = fun expr_b_138 -> (
                                                                    var_j_2804 = expr_b_138;
                                                                    m_match_bool_j_2806 = var_j_2804 ~ any;
                                                                    m_match_bool_j_2809 = var_j_2804 ~ int;
                                                                    m_match_cond_j_2810 = m_match_bool_j_2809 ? (
                                                                        bool_j_2811 = true
                                                                    ) : (
                                                                        m_match_cond_j_2807 = m_match_bool_j_2806 ? (
                                                                        var_j_2808 = fail_b_139
                                                                    ) : (
                                                                        void_j_2805 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_2814 = fun bj_null_j_143 -> (
                                                                    input_j_2813 = input);
                                                                flatten_fun_j_2816 = fun expr_b_140 -> (
                                                                    var_j_2815 = expr_b_140);
                                                                record_j_2817 = 
                                                                    {checker = flatten_fun_j_2812, generator = flatten_fun_j_2814, wrapper = flatten_fun_j_2816};
                                                                proj_j_2818 = record_j_2817.generator;
                                                                int_j_2819 = 0;
                                                                appl_j_2820 = proj_j_2818 int_j_2819;
                                                                candidate_b_141 = appl_j_2820;
                                                                var_j_2821 = is_pos;
                                                                var_j_2822 = candidate_b_141;
                                                                appl_j_2823 = var_j_2821 var_j_2822;
                                                                if_j_2827 = appl_j_2823 ? (
                                                                        
                                                                    var_j_2824 = candidate_b_141
                                                                    ) : (
                                                                        
                                                                    bool_j_2825 = false;
                                                                    assume_j_2826 = assume bool_j_2825
                                                                    ));
                                                            flatten_fun_j_2830 = fun expr_b_148 -> (
                                                                var_j_2829 = expr_b_148);
                                                            record_j_2831 = 
                                                                {checker = flatten_fun_j_2802, generator = flatten_fun_j_2828, wrapper = flatten_fun_j_2830};
                                                            proj_j_2832 = record_j_2831.checker;
                                                            var_j_2833 = height_j_149;
                                                            appl_j_2834 = proj_j_2832 var_j_2833;
                                                            lbl_check_b_137 = appl_j_2834;
                                                            var_j_2835 = lbl_check_b_137;
                                                            if_j_2869 = var_j_2835 ? (
                                                                    bool_j_2836 = false;
                                                                    fail_b_135 = bool_j_2836;
                                                                    flatten_fun_j_2845 = fun expr_b_134 -> (
                                                                    var_j_2837 = expr_b_134;
                                                                    m_match_bool_j_2839 = var_j_2837 ~ any;
                                                                    m_match_bool_j_2842 = var_j_2837 ~ int;
                                                                    m_match_cond_j_2843 = m_match_bool_j_2842 ? (
                                                                        bool_j_2844 = true
                                                                    ) : (
                                                                        m_match_cond_j_2840 = m_match_bool_j_2839 ? (
                                                                        var_j_2841 = fail_b_135
                                                                    ) : (
                                                                        void_j_2838 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_2847 = fun bj_null_j_145 -> (
                                                                    input_j_2846 = input);
                                                                    flatten_fun_j_2849 = fun expr_b_136 -> (
                                                                    var_j_2848 = expr_b_136);
                                                                    record_j_2850 = 
                                                                    {checker = flatten_fun_j_2845, generator = flatten_fun_j_2847, wrapper = flatten_fun_j_2849};
                                                                    proj_j_2851 = record_j_2850.checker;
                                                                    var_j_2852 = item_j_148;
                                                                    appl_j_2853 = proj_j_2851 var_j_2852;
                                                                    lbl_check_b_133 = appl_j_2853;
                                                                    var_j_2854 = lbl_check_b_133;
                                                                    if_j_2867 = var_j_2854 ? (
                                                                        var_j_2855 = tt_j_251;
                                                                    proj_j_2856 = var_j_2855.checker;
                                                                    var_j_2857 = left_j_147;
                                                                    appl_j_2858 = proj_j_2856 var_j_2857;
                                                                    lbl_check_b_132 = appl_j_2858;
                                                                    var_j_2859 = lbl_check_b_132;
                                                                    if_j_2865 = var_j_2859 ? (
                                                                        var_j_2860 = tt_j_251;
                                                                    proj_j_2861 = var_j_2860.checker;
                                                                    var_j_2862 = right_j_146;
                                                                    appl_j_2863 = proj_j_2861 var_j_2862
                                                                    ) : (
                                                                        var_j_2864 = lbl_check_b_132
                                                                    )
                                                                    ) : (
                                                                        var_j_2866 = lbl_check_b_133
                                                                    )
                                                                ) : (
                                                                    var_j_2868 = lbl_check_b_137
                                                                )
                                                        ) : (
                                                            m_match_cond_j_2770 = m_match_bool_j_2769 ? (
                                                                    var_j_2771 = rec_fail_b_128
                                                                ) : (
                                                                    void_j_2768 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_2762 = m_match_bool_j_2761 ? (
                                                            var_j_2763 = rec_fail_b_129
                                                        ) : (
                                                            void_j_2760 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_2754 = m_match_bool_j_2753 ? (
                                                    var_j_2755 = rec_fail_b_130
                                                ) : (
                                                    void_j_2752 = {}
                                                )
                                        ));
                                flatten_fun_j_2969 = fun bj_null_j_158 -> (
                                    var_j_2871 = tt_j_251;
                                    proj_j_2872 = var_j_2871.generator;
                                    int_j_2873 = 0;
                                    appl_j_2874 = proj_j_2872 int_j_2873;
                                    right_b_113 = appl_j_2874;
                                    var_j_2875 = tt_j_251;
                                    proj_j_2876 = var_j_2875.generator;
                                    int_j_2877 = 0;
                                    appl_j_2878 = proj_j_2876 int_j_2877;
                                    left_b_112 = appl_j_2878;
                                    bool_j_2879 = false;
                                    fail_b_126 = bool_j_2879;
                                    flatten_fun_j_2888 = fun expr_b_125 -> (
                                        var_j_2880 = expr_b_125;
                                        m_match_bool_j_2882 = var_j_2880 ~ any;
                                        m_match_bool_j_2885 = var_j_2880 ~ int;
                                        m_match_cond_j_2886 = m_match_bool_j_2885 ? (
                                                bool_j_2887 = true
                                            ) : (
                                                m_match_cond_j_2883 = m_match_bool_j_2882 ? (
                                                        var_j_2884 = fail_b_126
                                                    ) : (
                                                        void_j_2881 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_2890 = fun bj_null_j_154 -> (
                                        input_j_2889 = input);
                                    flatten_fun_j_2892 = fun expr_b_127 -> (
                                        var_j_2891 = expr_b_127);
                                    record_j_2893 = {checker = flatten_fun_j_2888, generator = flatten_fun_j_2890, wrapper = flatten_fun_j_2892};
                                    proj_j_2894 = record_j_2893.generator;
                                    int_j_2895 = 0;
                                    appl_j_2896 = proj_j_2894 int_j_2895;
                                    item_b_111 = appl_j_2896;
                                    flatten_fun_j_2925 = fun expr_b_121 -> (
                                        bool_j_2897 = false;
                                        fail_b_119 = bool_j_2897;
                                        flatten_fun_j_2906 = fun expr_b_118 -> (
                                            var_j_2898 = expr_b_118;
                                            m_match_bool_j_2900 = var_j_2898 ~ any;
                                            m_match_bool_j_2903 = var_j_2898 ~ int;
                                            m_match_cond_j_2904 = m_match_bool_j_2903 ? (
                                                    bool_j_2905 = true
                                                ) : (
                                                    m_match_cond_j_2901 = m_match_bool_j_2900 ? (
                                                            var_j_2902 = fail_b_119
                                                        ) : (
                                                            void_j_2899 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2908 = fun bj_null_j_155 -> (
                                            input_j_2907 = input);
                                        flatten_fun_j_2910 = fun expr_b_120 -> (
                                            var_j_2909 = expr_b_120);
                                        record_j_2911 = {checker = flatten_fun_j_2906, generator = flatten_fun_j_2908, wrapper = flatten_fun_j_2910};
                                        proj_j_2912 = record_j_2911.checker;
                                        var_j_2913 = expr_b_121;
                                        appl_j_2914 = proj_j_2912 var_j_2913;
                                        t_check_b_122 = appl_j_2914;
                                        var_j_2915 = t_check_b_122;
                                        if_j_2924 = var_j_2915 ? (
                                                bool_j_2916 = false;
                                                pred_check_b_123 = bool_j_2916;
                                                var_j_2917 = is_pos;
                                                var_j_2918 = expr_b_121;
                                                appl_j_2919 = var_j_2917 var_j_2918;
                                                if_j_2922 = appl_j_2919 ? (
                                                        bool_j_2920 = true
                                                    ) : (
                                                        var_j_2921 = pred_check_b_123
                                                    )
                                            ) : (
                                                var_j_2923 = t_check_b_122
                                            ));
                                    flatten_fun_j_2951 = fun bj_null_j_157 -> (
                                        bool_j_2926 = false;
                                        fail_b_115 = bool_j_2926;
                                        flatten_fun_j_2935 = fun expr_b_114 -> (
                                            var_j_2927 = expr_b_114;
                                            m_match_bool_j_2929 = var_j_2927 ~ any;
                                            m_match_bool_j_2932 = var_j_2927 ~ int;
                                            m_match_cond_j_2933 = m_match_bool_j_2932 ? (
                                                    bool_j_2934 = true
                                                ) : (
                                                    m_match_cond_j_2930 = m_match_bool_j_2929 ? (
                                                            var_j_2931 = fail_b_115
                                                        ) : (
                                                            void_j_2928 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_2937 = fun bj_null_j_156 -> (
                                            input_j_2936 = input);
                                        flatten_fun_j_2939 = fun expr_b_116 -> (
                                            var_j_2938 = expr_b_116);
                                        record_j_2940 = {checker = flatten_fun_j_2935, generator = flatten_fun_j_2937, wrapper = flatten_fun_j_2939};
                                        proj_j_2941 = record_j_2940.generator;
                                        int_j_2942 = 0;
                                        appl_j_2943 = proj_j_2941 int_j_2942;
                                        candidate_b_117 = appl_j_2943;
                                        var_j_2944 = is_pos;
                                        var_j_2945 = candidate_b_117;
                                        appl_j_2946 = var_j_2944 var_j_2945;
                                        if_j_2950 = appl_j_2946 ? (
                                                var_j_2947 = candidate_b_117
                                            ) : (
                                                bool_j_2948 = false;
                                                assume_j_2949 = assume bool_j_2948
                                            ));
                                    flatten_fun_j_2953 = fun expr_b_124 -> (
                                        var_j_2952 = expr_b_124);
                                    record_j_2954 = {checker = flatten_fun_j_2925, generator = flatten_fun_j_2951, wrapper = flatten_fun_j_2953};
                                    proj_j_2955 = record_j_2954.generator;
                                    int_j_2956 = 0;
                                    appl_j_2957 = proj_j_2955 int_j_2956;
                                    height_b_110 = appl_j_2957;
                                    var_j_2958 = height_b_110;
                                    var_j_2959 = item_b_111;
                                    var_j_2960 = left_b_112;
                                    var_j_2961 = right_b_113;
                                    record_j_2962 = {height = var_j_2958, item = var_j_2959, left = var_j_2960, right = var_j_2961};
                                    record_j_2963 = {};
                                    record_j_2964 = {};
                                    record_j_2965 = {};
                                    record_j_2966 = {};
                                    record_j_2967 = {height = record_j_2963, item = record_j_2964, left = record_j_2965, right = record_j_2966};
                                    record_j_2968 = {bj_actual_rec = record_j_2962, bj_decl_lbls = record_j_2967});
                                flatten_fun_j_2971 = fun expr_b_149 -> (
                                    var_j_2970 = expr_b_149);
                                record_j_2972 = {checker = flatten_fun_j_2870, generator = flatten_fun_j_2969, wrapper = flatten_fun_j_2971};
                                proj_j_2973 = record_j_2972.generator;
                                int_j_2974 = 0;
                                appl_j_2975 = proj_j_2973 int_j_2974;
                                candidate_b_150 = appl_j_2975;
                                flatten_fun_j_3031 = fun t_j_159 -> (
                                    var_j_2976 = t_j_159;
                                    proj_j_2977 = var_j_2976.bj_decl_lbls;
                                    m_match_bool_j_2979 = proj_j_2977 ~ any;
                                    m_match_bool_j_2986 = proj_j_2977 ~ 
                                        {height, _};
                                    m_match_cond_j_2987 = m_match_bool_j_2986 ? (
                                            var_j_2988 = t_j_159;
                                            proj_j_2989 = var_j_2988.bj_actual_rec;
                                            proj_j_2990 = proj_j_2989.height
                                        ) : (
                                            m_match_cond_j_2980 = m_match_bool_j_2979 ? (
                                                    bool_j_2981 = false;
                                                    assert_pred_j_2982 = bool_j_2981;
                                                    assert_res_j_2983 = assert_pred_j_2982 ? (
                                                            assert_res_true_j_2984 = 
                                                                {}
                                                        ) : (
                                                            ab_j_2985 = abort
                                                        )
                                                ) : (
                                                    void_j_2978 = {}
                                                )
                                        );
                                    var_j_2991 = max;
                                    var_j_2992 = height_j_337_j_382;
                                    var_j_2993 = t_j_159;
                                    proj_j_2994 = var_j_2993.bj_decl_lbls;
                                    m_match_bool_j_2996 = proj_j_2994 ~ any;
                                    m_match_bool_j_3003 = proj_j_2994 ~ 
                                        {left, _};
                                    m_match_cond_j_3004 = m_match_bool_j_3003 ? (
                                            var_j_3005 = t_j_159;
                                            proj_j_3006 = var_j_3005.bj_actual_rec;
                                            proj_j_3007 = proj_j_3006.left
                                        ) : (
                                            m_match_cond_j_2997 = m_match_bool_j_2996 ? (
                                                    bool_j_2998 = false;
                                                    assert_pred_j_2999 = bool_j_2998;
                                                    assert_res_j_3000 = assert_pred_j_2999 ? (
                                                            assert_res_true_j_3001 = 
                                                                {}
                                                        ) : (
                                                            ab_j_3002 = abort
                                                        )
                                                ) : (
                                                    void_j_2995 = {}
                                                )
                                        );
                                    m_i_5516 = var_j_2992 ~ fun;
                                    appl_j_3008 = m_i_5516 ? (
                                            c_appl_i_5517 = var_j_2992 m_match_cond_j_3004
                                        ) : (
                                            ab_i_5518 = abort
                                        );
                                    m_i_5519 = var_j_2991 ~ fun;
                                    appl_j_3009 = m_i_5519 ? (
                                            c_appl_i_5520 = var_j_2991 appl_j_3008
                                        ) : (
                                            ab_i_5521 = abort
                                        );
                                    var_j_3010 = height_j_337_j_382;
                                    var_j_3011 = t_j_159;
                                    proj_j_3012 = var_j_3011.bj_decl_lbls;
                                    m_match_bool_j_3014 = proj_j_3012 ~ any;
                                    m_match_bool_j_3021 = proj_j_3012 ~ 
                                        {right, _};
                                    m_match_cond_j_3022 = m_match_bool_j_3021 ? (
                                            var_j_3023 = t_j_159;
                                            proj_j_3024 = var_j_3023.bj_actual_rec;
                                            proj_j_3025 = proj_j_3024.right
                                        ) : (
                                            m_match_cond_j_3015 = m_match_bool_j_3014 ? (
                                                    bool_j_3016 = false;
                                                    assert_pred_j_3017 = bool_j_3016;
                                                    assert_res_j_3018 = assert_pred_j_3017 ? (
                                                            assert_res_true_j_3019 = 
                                                                {}
                                                        ) : (
                                                            ab_j_3020 = abort
                                                        )
                                                ) : (
                                                    void_j_3013 = {}
                                                )
                                        );
                                    m_i_5522 = var_j_3010 ~ fun;
                                    appl_j_3026 = m_i_5522 ? (
                                            c_appl_i_5523 = var_j_3010 m_match_cond_j_3022
                                        ) : (
                                            ab_i_5524 = abort
                                        );
                                    m_i_5525 = appl_j_3009 ~ fun;
                                    appl_j_3027 = m_i_5525 ? (
                                            c_appl_i_5526 = appl_j_3009 appl_j_3026
                                        ) : (
                                            ab_i_5527 = abort
                                        );
                                    int_j_3028 = 1;
                                    m_bl_i_5528 = appl_j_3027 ~ int;
                                    m_br_i_5529 = int_j_3028 ~ int;
                                    m_b_i_5530 = m_bl_i_5528 and m_br_i_5529;
                                    binop_j_3029 = m_b_i_5530 ? (
                                            c_binop_i_5531 = appl_j_3027 + int_j_3028
                                        ) : (
                                            ab_i_5532 = abort
                                        );
                                    m_bl_i_5533 = m_match_cond_j_2987 ~ int;
                                    m_br_i_5534 = binop_j_3029 ~ int;
                                    m_b_i_5535 = m_bl_i_5533 and m_br_i_5534;
                                    binop_j_3030 = m_b_i_5535 ? (
                                            c_binop_i_5536 = m_match_cond_j_2987 == binop_j_3029
                                        ) : (
                                            ab_i_5537 = abort
                                        ));
                                var_j_3032 = candidate_b_150;
                                appl_j_3033 = flatten_fun_j_3031 var_j_3032;
                                if_j_3037 = appl_j_3033 ? (
                                        var_j_3034 = candidate_b_150
                                    ) : (
                                        bool_j_3035 = false;
                                        assume_j_3036 = assume bool_j_3035
                                    ));
                            flatten_fun_j_3040 = fun expr_b_194 -> (
                                var_j_3039 = expr_b_194);
                            record_j_3041 = {checker = flatten_fun_j_2747, generator = flatten_fun_j_3038, wrapper = flatten_fun_j_3040};
                            proj_j_3042 = record_j_3041.checker;
                            var_j_3043 = expr_b_304;
                            appl_j_3044 = proj_j_3042 var_j_3043;
                            if_j_3128 = appl_j_3044 ? (
                                    bool_j_3045 = true
                                ) : (
                                    flatten_fun_j_3092 = fun expr_b_202 -> (
                                        bool_j_3046 = false;
                                        rec_fail_b_201 = bool_j_3046;
                                        bool_j_3047 = false;
                                        rec_fail_b_200 = bool_j_3047;
                                        bool_j_3048 = false;
                                        rec_fail_b_199 = bool_j_3048;
                                        var_j_3049 = expr_b_202;
                                        m_match_bool_j_3051 = var_j_3049 ~ any;
                                        m_match_bool_j_3054 = var_j_3049 ~ 
                                            {bj_actual_rec, _};
                                        m_match_cond_j_3055 = m_match_bool_j_3054 ? (
                                                var_j_3056 = expr_b_202;
                                                proj_j_3057 = var_j_3056.bj_decl_lbls;
                                                m_match_bool_j_3059 = proj_j_3057 ~ any;
                                                m_match_bool_j_3062 = proj_j_3057 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_3063 = m_match_bool_j_3062 ? (
                                                        leaf_j_163 = proj_j_3057.leaf;
                                                        var_j_3064 = expr_b_202;
                                                        proj_j_3065 = var_j_3064.bj_actual_rec;
                                                        m_match_bool_j_3067 = proj_j_3065 ~ any;
                                                        m_match_bool_j_3070 = proj_j_3065 ~ 
                                                            {leaf, _};
                                                        m_match_cond_j_3071 = m_match_bool_j_3070 ? (
                                                                leaf_j_162 = proj_j_3065.leaf;
                                                                bool_j_3072 = false;
                                                                fail_b_204 = bool_j_3072;
                                                                flatten_fun_j_3081 = fun expr_b_203 -> (
                                                                    var_j_3073 = expr_b_203;
                                                                    m_match_bool_j_3075 = var_j_3073 ~ any;
                                                                    m_match_bool_j_3078 = var_j_3073 ~ bool;
                                                                    m_match_cond_j_3079 = m_match_bool_j_3078 ? (
                                                                        bool_j_3080 = true
                                                                    ) : (
                                                                        m_match_cond_j_3076 = m_match_bool_j_3075 ? (
                                                                        var_j_3077 = fail_b_204
                                                                    ) : (
                                                                        void_j_3074 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3085 = fun bj_null_j_161 -> (
                                                                    int_j_3082 = 0;
                                                                    input_j_3083 = input;
                                                                    m_bl_i_5538 = int_j_3082 ~ int;
                                                                    m_br_i_5539 = input_j_3083 ~ int;
                                                                    m_b_i_5540 = m_bl_i_5538 and m_br_i_5539;
                                                                    binop_j_3084 = m_b_i_5540 ? (
                                                                        c_binop_i_5541 = int_j_3082 <= input_j_3083
                                                                    ) : (
                                                                        ab_i_5542 = abort
                                                                    ));
                                                                flatten_fun_j_3087 = fun expr_b_205 -> (
                                                                    var_j_3086 = expr_b_205);
                                                                record_j_3088 = 
                                                                    {checker = flatten_fun_j_3081, generator = flatten_fun_j_3085, wrapper = flatten_fun_j_3087};
                                                                proj_j_3089 = record_j_3088.checker;
                                                                var_j_3090 = leaf_j_162;
                                                                appl_j_3091 = proj_j_3089 var_j_3090
                                                            ) : (
                                                                m_match_cond_j_3068 = m_match_bool_j_3067 ? (
                                                                        
                                                                    var_j_3069 = rec_fail_b_199
                                                                    ) : (
                                                                        
                                                                    void_j_3066 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ) : (
                                                        m_match_cond_j_3060 = m_match_bool_j_3059 ? (
                                                                var_j_3061 = rec_fail_b_200
                                                            ) : (
                                                                void_j_3058 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_3052 = m_match_bool_j_3051 ? (
                                                        var_j_3053 = rec_fail_b_201
                                                    ) : (
                                                        void_j_3050 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_3118 = fun bj_null_j_165 -> (
                                        bool_j_3093 = false;
                                        fail_b_197 = bool_j_3093;
                                        flatten_fun_j_3102 = fun expr_b_196 -> (
                                            var_j_3094 = expr_b_196;
                                            m_match_bool_j_3096 = var_j_3094 ~ any;
                                            m_match_bool_j_3099 = var_j_3094 ~ bool;
                                            m_match_cond_j_3100 = m_match_bool_j_3099 ? (
                                                    bool_j_3101 = true
                                                ) : (
                                                    m_match_cond_j_3097 = m_match_bool_j_3096 ? (
                                                            var_j_3098 = fail_b_197
                                                        ) : (
                                                            void_j_3095 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3106 = fun bj_null_j_164 -> (
                                            int_j_3103 = 0;
                                            input_j_3104 = input;
                                            m_bl_i_5543 = int_j_3103 ~ int;
                                            m_br_i_5544 = input_j_3104 ~ int;
                                            m_b_i_5545 = m_bl_i_5543 and m_br_i_5544;
                                            binop_j_3105 = m_b_i_5545 ? (
                                                    c_binop_i_5546 = int_j_3103 <= input_j_3104
                                                ) : (
                                                    ab_i_5547 = abort
                                                ));
                                        flatten_fun_j_3108 = fun expr_b_198 -> (
                                            var_j_3107 = expr_b_198);
                                        record_j_3109 = {checker = flatten_fun_j_3102, generator = flatten_fun_j_3106, wrapper = flatten_fun_j_3108};
                                        proj_j_3110 = record_j_3109.generator;
                                        int_j_3111 = 0;
                                        appl_j_3112 = proj_j_3110 int_j_3111;
                                        leaf_b_195 = appl_j_3112;
                                        var_j_3113 = leaf_b_195;
                                        record_j_3114 = {leaf = var_j_3113};
                                        record_j_3115 = {};
                                        record_j_3116 = {leaf = record_j_3115};
                                        record_j_3117 = {bj_actual_rec = record_j_3114, bj_decl_lbls = record_j_3116});
                                    flatten_fun_j_3120 = fun expr_b_206 -> (
                                        var_j_3119 = expr_b_206);
                                    record_j_3121 = {checker = flatten_fun_j_3092, generator = flatten_fun_j_3118, wrapper = flatten_fun_j_3120};
                                    proj_j_3122 = record_j_3121.checker;
                                    var_j_3123 = expr_b_304;
                                    appl_j_3124 = proj_j_3122 var_j_3123;
                                    if_j_3127 = appl_j_3124 ? (
                                            bool_j_3125 = true
                                        ) : (
                                            var_j_3126 = fail_b_306
                                        )
                                )
                        ) : (
                            flatten_fun_j_3175 = fun expr_b_299 -> (
                                bool_j_3129 = false;
                                rec_fail_b_298 = bool_j_3129;
                                bool_j_3130 = false;
                                rec_fail_b_297 = bool_j_3130;
                                bool_j_3131 = false;
                                rec_fail_b_296 = bool_j_3131;
                                var_j_3132 = expr_b_299;
                                m_match_bool_j_3134 = var_j_3132 ~ any;
                                m_match_bool_j_3137 = var_j_3132 ~ {bj_actual_rec, _};
                                m_match_cond_j_3138 = m_match_bool_j_3137 ? (
                                        var_j_3139 = expr_b_299;
                                        proj_j_3140 = var_j_3139.bj_decl_lbls;
                                        m_match_bool_j_3142 = proj_j_3140 ~ any;
                                        m_match_bool_j_3145 = proj_j_3140 ~ 
                                            {leaf, _};
                                        m_match_cond_j_3146 = m_match_bool_j_3145 ? (
                                                leaf_j_168 = proj_j_3140.leaf;
                                                var_j_3147 = expr_b_299;
                                                proj_j_3148 = var_j_3147.bj_actual_rec;
                                                m_match_bool_j_3150 = proj_j_3148 ~ any;
                                                m_match_bool_j_3153 = proj_j_3148 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_3154 = m_match_bool_j_3153 ? (
                                                        leaf_j_167 = proj_j_3148.leaf;
                                                        bool_j_3155 = false;
                                                        fail_b_301 = bool_j_3155;
                                                        flatten_fun_j_3164 = fun expr_b_300 -> (
                                                            var_j_3156 = expr_b_300;
                                                            m_match_bool_j_3158 = var_j_3156 ~ any;
                                                            m_match_bool_j_3161 = var_j_3156 ~ bool;
                                                            m_match_cond_j_3162 = m_match_bool_j_3161 ? (
                                                                    bool_j_3163 = true
                                                                ) : (
                                                                    m_match_cond_j_3159 = m_match_bool_j_3158 ? (
                                                                        var_j_3160 = fail_b_301
                                                                    ) : (
                                                                        void_j_3157 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_3168 = fun bj_null_j_166 -> (
                                                            int_j_3165 = 0;
                                                            input_j_3166 = input;
                                                            m_bl_i_5548 = int_j_3165 ~ int;
                                                            m_br_i_5549 = input_j_3166 ~ int;
                                                            m_b_i_5550 = m_bl_i_5548 and m_br_i_5549;
                                                            binop_j_3167 = m_b_i_5550 ? (
                                                                    c_binop_i_5551 = int_j_3165 <= input_j_3166
                                                                ) : (
                                                                    ab_i_5552 = abort
                                                                ));
                                                        flatten_fun_j_3170 = fun expr_b_302 -> (
                                                            var_j_3169 = expr_b_302);
                                                        record_j_3171 = 
                                                            {checker = flatten_fun_j_3164, generator = flatten_fun_j_3168, wrapper = flatten_fun_j_3170};
                                                        proj_j_3172 = record_j_3171.checker;
                                                        var_j_3173 = leaf_j_167;
                                                        appl_j_3174 = proj_j_3172 var_j_3173
                                                    ) : (
                                                        m_match_cond_j_3151 = m_match_bool_j_3150 ? (
                                                                var_j_3152 = rec_fail_b_296
                                                            ) : (
                                                                void_j_3149 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_3143 = m_match_bool_j_3142 ? (
                                                        var_j_3144 = rec_fail_b_297
                                                    ) : (
                                                        void_j_3141 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_3135 = m_match_bool_j_3134 ? (
                                                var_j_3136 = rec_fail_b_298
                                            ) : (
                                                void_j_3133 = {}
                                            )
                                    ));
                            flatten_fun_j_3201 = fun bj_null_j_170 -> (
                                bool_j_3176 = false;
                                fail_b_294 = bool_j_3176;
                                flatten_fun_j_3185 = fun expr_b_293 -> (
                                    var_j_3177 = expr_b_293;
                                    m_match_bool_j_3179 = var_j_3177 ~ any;
                                    m_match_bool_j_3182 = var_j_3177 ~ bool;
                                    m_match_cond_j_3183 = m_match_bool_j_3182 ? (
                                            bool_j_3184 = true
                                        ) : (
                                            m_match_cond_j_3180 = m_match_bool_j_3179 ? (
                                                    var_j_3181 = fail_b_294
                                                ) : (
                                                    void_j_3178 = {}
                                                )
                                        ));
                                flatten_fun_j_3189 = fun bj_null_j_169 -> (
                                    int_j_3186 = 0;
                                    input_j_3187 = input;
                                    m_bl_i_5553 = int_j_3186 ~ int;
                                    m_br_i_5554 = input_j_3187 ~ int;
                                    m_b_i_5555 = m_bl_i_5553 and m_br_i_5554;
                                    binop_j_3188 = m_b_i_5555 ? (
                                            c_binop_i_5556 = int_j_3186 <= input_j_3187
                                        ) : (
                                            ab_i_5557 = abort
                                        ));
                                flatten_fun_j_3191 = fun expr_b_295 -> (
                                    var_j_3190 = expr_b_295);
                                record_j_3192 = {checker = flatten_fun_j_3185, generator = flatten_fun_j_3189, wrapper = flatten_fun_j_3191};
                                proj_j_3193 = record_j_3192.generator;
                                int_j_3194 = 0;
                                appl_j_3195 = proj_j_3193 int_j_3194;
                                leaf_b_292 = appl_j_3195;
                                var_j_3196 = leaf_b_292;
                                record_j_3197 = {leaf = var_j_3196};
                                record_j_3198 = {};
                                record_j_3199 = {leaf = record_j_3198};
                                record_j_3200 = {bj_actual_rec = record_j_3197, bj_decl_lbls = record_j_3199});
                            flatten_fun_j_3203 = fun expr_b_303 -> (
                                var_j_3202 = expr_b_303);
                            record_j_3204 = {checker = flatten_fun_j_3175, generator = flatten_fun_j_3201, wrapper = flatten_fun_j_3203};
                            proj_j_3205 = record_j_3204.checker;
                            var_j_3206 = expr_b_304;
                            appl_j_3207 = proj_j_3205 var_j_3206;
                            if_j_3803 = appl_j_3207 ? (
                                    bool_j_3208 = true
                                ) : (
                                    flatten_fun_j_3502 = fun expr_b_288 -> (
                                        flatten_fun_j_3331 = fun expr_b_269 -> (
                                            bool_j_3209 = false;
                                            rec_fail_b_268 = bool_j_3209;
                                            bool_j_3210 = false;
                                            rec_fail_b_267 = bool_j_3210;
                                            bool_j_3211 = false;
                                            rec_fail_b_266 = bool_j_3211;
                                            var_j_3212 = expr_b_269;
                                            m_match_bool_j_3214 = var_j_3212 ~ any;
                                            m_match_bool_j_3217 = var_j_3212 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_3218 = m_match_bool_j_3217 ? (
                                                    var_j_3219 = expr_b_269;
                                                    proj_j_3220 = var_j_3219.bj_decl_lbls;
                                                    m_match_bool_j_3222 = proj_j_3220 ~ any;
                                                    m_match_bool_j_3225 = proj_j_3220 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3226 = m_match_bool_j_3225 ? (
                                                            height_j_182 = proj_j_3220.height;
                                                            item_j_181 = proj_j_3220.item;
                                                            left_j_180 = proj_j_3220.left;
                                                            right_j_179 = proj_j_3220.right;
                                                            var_j_3227 = expr_b_269;
                                                            proj_j_3228 = var_j_3227.bj_actual_rec;
                                                            m_match_bool_j_3230 = proj_j_3228 ~ any;
                                                            m_match_bool_j_3233 = proj_j_3228 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_3234 = m_match_bool_j_3233 ? (
                                                                    height_j_178 = proj_j_3228.height;
                                                                    item_j_177 = proj_j_3228.item;
                                                                    left_j_176 = proj_j_3228.left;
                                                                    right_j_175 = proj_j_3228.right;
                                                                    flatten_fun_j_3263 = fun expr_b_283 -> (
                                                                    bool_j_3235 = false;
                                                                    fail_b_281 = bool_j_3235;
                                                                    flatten_fun_j_3244 = fun expr_b_280 -> (
                                                                    var_j_3236 = expr_b_280;
                                                                    m_match_bool_j_3238 = var_j_3236 ~ any;
                                                                    m_match_bool_j_3241 = var_j_3236 ~ int;
                                                                    m_match_cond_j_3242 = m_match_bool_j_3241 ? (
                                                                        bool_j_3243 = true
                                                                    ) : (
                                                                        m_match_cond_j_3239 = m_match_bool_j_3238 ? (
                                                                        var_j_3240 = fail_b_281
                                                                    ) : (
                                                                        void_j_3237 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3246 = fun bj_null_j_171 -> (
                                                                    input_j_3245 = input);
                                                                    flatten_fun_j_3248 = fun expr_b_282 -> (
                                                                    var_j_3247 = expr_b_282);
                                                                    record_j_3249 = 
                                                                    {checker = flatten_fun_j_3244, generator = flatten_fun_j_3246, wrapper = flatten_fun_j_3248};
                                                                    proj_j_3250 = record_j_3249.checker;
                                                                    var_j_3251 = expr_b_283;
                                                                    appl_j_3252 = proj_j_3250 var_j_3251;
                                                                    t_check_b_284 = appl_j_3252;
                                                                    var_j_3253 = t_check_b_284;
                                                                    if_j_3262 = var_j_3253 ? (
                                                                        bool_j_3254 = false;
                                                                    pred_check_b_285 = bool_j_3254;
                                                                    var_j_3255 = is_pos;
                                                                    var_j_3256 = expr_b_283;
                                                                    appl_j_3257 = var_j_3255 var_j_3256;
                                                                    if_j_3260 = appl_j_3257 ? (
                                                                        bool_j_3258 = true
                                                                    ) : (
                                                                        var_j_3259 = pred_check_b_285
                                                                    )
                                                                    ) : (
                                                                        var_j_3261 = t_check_b_284
                                                                    ));
                                                                    flatten_fun_j_3289 = fun bj_null_j_173 -> (
                                                                    bool_j_3264 = false;
                                                                    fail_b_277 = bool_j_3264;
                                                                    flatten_fun_j_3273 = fun expr_b_276 -> (
                                                                    var_j_3265 = expr_b_276;
                                                                    m_match_bool_j_3267 = var_j_3265 ~ any;
                                                                    m_match_bool_j_3270 = var_j_3265 ~ int;
                                                                    m_match_cond_j_3271 = m_match_bool_j_3270 ? (
                                                                        bool_j_3272 = true
                                                                    ) : (
                                                                        m_match_cond_j_3268 = m_match_bool_j_3267 ? (
                                                                        var_j_3269 = fail_b_277
                                                                    ) : (
                                                                        void_j_3266 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3275 = fun bj_null_j_172 -> (
                                                                    input_j_3274 = input);
                                                                    flatten_fun_j_3277 = fun expr_b_278 -> (
                                                                    var_j_3276 = expr_b_278);
                                                                    record_j_3278 = 
                                                                    {checker = flatten_fun_j_3273, generator = flatten_fun_j_3275, wrapper = flatten_fun_j_3277};
                                                                    proj_j_3279 = record_j_3278.generator;
                                                                    int_j_3280 = 0;
                                                                    appl_j_3281 = proj_j_3279 int_j_3280;
                                                                    candidate_b_279 = appl_j_3281;
                                                                    var_j_3282 = is_pos;
                                                                    var_j_3283 = candidate_b_279;
                                                                    appl_j_3284 = var_j_3282 var_j_3283;
                                                                    if_j_3288 = appl_j_3284 ? (
                                                                        var_j_3285 = candidate_b_279
                                                                    ) : (
                                                                        bool_j_3286 = false;
                                                                    assume_j_3287 = assume bool_j_3286
                                                                    ));
                                                                    flatten_fun_j_3291 = fun expr_b_286 -> (
                                                                    var_j_3290 = expr_b_286);
                                                                    record_j_3292 = 
                                                                    {checker = flatten_fun_j_3263, generator = flatten_fun_j_3289, wrapper = flatten_fun_j_3291};
                                                                    proj_j_3293 = record_j_3292.checker;
                                                                    var_j_3294 = height_j_178;
                                                                    appl_j_3295 = proj_j_3293 var_j_3294;
                                                                    lbl_check_b_275 = appl_j_3295;
                                                                    var_j_3296 = lbl_check_b_275;
                                                                    if_j_3330 = var_j_3296 ? (
                                                                        bool_j_3297 = false;
                                                                    fail_b_273 = bool_j_3297;
                                                                    flatten_fun_j_3306 = fun expr_b_272 -> (
                                                                    var_j_3298 = expr_b_272;
                                                                    m_match_bool_j_3300 = var_j_3298 ~ any;
                                                                    m_match_bool_j_3303 = var_j_3298 ~ int;
                                                                    m_match_cond_j_3304 = m_match_bool_j_3303 ? (
                                                                        bool_j_3305 = true
                                                                    ) : (
                                                                        m_match_cond_j_3301 = m_match_bool_j_3300 ? (
                                                                        var_j_3302 = fail_b_273
                                                                    ) : (
                                                                        void_j_3299 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3308 = fun bj_null_j_174 -> (
                                                                    input_j_3307 = input);
                                                                    flatten_fun_j_3310 = fun expr_b_274 -> (
                                                                    var_j_3309 = expr_b_274);
                                                                    record_j_3311 = 
                                                                    {checker = flatten_fun_j_3306, generator = flatten_fun_j_3308, wrapper = flatten_fun_j_3310};
                                                                    proj_j_3312 = record_j_3311.checker;
                                                                    var_j_3313 = item_j_177;
                                                                    appl_j_3314 = proj_j_3312 var_j_3313;
                                                                    lbl_check_b_271 = appl_j_3314;
                                                                    var_j_3315 = lbl_check_b_271;
                                                                    if_j_3328 = var_j_3315 ? (
                                                                        var_j_3316 = tt_j_251;
                                                                    proj_j_3317 = var_j_3316.checker;
                                                                    var_j_3318 = left_j_176;
                                                                    appl_j_3319 = proj_j_3317 var_j_3318;
                                                                    lbl_check_b_270 = appl_j_3319;
                                                                    var_j_3320 = lbl_check_b_270;
                                                                    if_j_3326 = var_j_3320 ? (
                                                                        var_j_3321 = tt_j_251;
                                                                    proj_j_3322 = var_j_3321.checker;
                                                                    var_j_3323 = right_j_175;
                                                                    appl_j_3324 = proj_j_3322 var_j_3323
                                                                    ) : (
                                                                        var_j_3325 = lbl_check_b_270
                                                                    )
                                                                    ) : (
                                                                        var_j_3327 = lbl_check_b_271
                                                                    )
                                                                    ) : (
                                                                        var_j_3329 = lbl_check_b_275
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_3231 = m_match_bool_j_3230 ? (
                                                                        var_j_3232 = rec_fail_b_266
                                                                    ) : (
                                                                        void_j_3229 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3223 = m_match_bool_j_3222 ? (
                                                                    var_j_3224 = rec_fail_b_267
                                                                ) : (
                                                                    void_j_3221 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3215 = m_match_bool_j_3214 ? (
                                                            var_j_3216 = rec_fail_b_268
                                                        ) : (
                                                            void_j_3213 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3430 = fun bj_null_j_187 -> (
                                            var_j_3332 = tt_j_251;
                                            proj_j_3333 = var_j_3332.generator;
                                            int_j_3334 = 0;
                                            appl_j_3335 = proj_j_3333 int_j_3334;
                                            right_b_251 = appl_j_3335;
                                            var_j_3336 = tt_j_251;
                                            proj_j_3337 = var_j_3336.generator;
                                            int_j_3338 = 0;
                                            appl_j_3339 = proj_j_3337 int_j_3338;
                                            left_b_250 = appl_j_3339;
                                            bool_j_3340 = false;
                                            fail_b_264 = bool_j_3340;
                                            flatten_fun_j_3349 = fun expr_b_263 -> (
                                                var_j_3341 = expr_b_263;
                                                m_match_bool_j_3343 = var_j_3341 ~ any;
                                                m_match_bool_j_3346 = var_j_3341 ~ int;
                                                m_match_cond_j_3347 = m_match_bool_j_3346 ? (
                                                        bool_j_3348 = true
                                                    ) : (
                                                        m_match_cond_j_3344 = m_match_bool_j_3343 ? (
                                                                var_j_3345 = fail_b_264
                                                            ) : (
                                                                void_j_3342 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_3351 = fun bj_null_j_183 -> (
                                                input_j_3350 = input);
                                            flatten_fun_j_3353 = fun expr_b_265 -> (
                                                var_j_3352 = expr_b_265);
                                            record_j_3354 = {checker = flatten_fun_j_3349, generator = flatten_fun_j_3351, wrapper = flatten_fun_j_3353};
                                            proj_j_3355 = record_j_3354.generator;
                                            int_j_3356 = 0;
                                            appl_j_3357 = proj_j_3355 int_j_3356;
                                            item_b_249 = appl_j_3357;
                                            flatten_fun_j_3386 = fun expr_b_259 -> (
                                                bool_j_3358 = false;
                                                fail_b_257 = bool_j_3358;
                                                flatten_fun_j_3367 = fun expr_b_256 -> (
                                                    var_j_3359 = expr_b_256;
                                                    m_match_bool_j_3361 = var_j_3359 ~ any;
                                                    m_match_bool_j_3364 = var_j_3359 ~ int;
                                                    m_match_cond_j_3365 = m_match_bool_j_3364 ? (
                                                            bool_j_3366 = true
                                                        ) : (
                                                            m_match_cond_j_3362 = m_match_bool_j_3361 ? (
                                                                    var_j_3363 = fail_b_257
                                                                ) : (
                                                                    void_j_3360 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3369 = fun bj_null_j_184 -> (
                                                    input_j_3368 = input);
                                                flatten_fun_j_3371 = fun expr_b_258 -> (
                                                    var_j_3370 = expr_b_258);
                                                record_j_3372 = {checker = flatten_fun_j_3367, generator = flatten_fun_j_3369, wrapper = flatten_fun_j_3371};
                                                proj_j_3373 = record_j_3372.checker;
                                                var_j_3374 = expr_b_259;
                                                appl_j_3375 = proj_j_3373 var_j_3374;
                                                t_check_b_260 = appl_j_3375;
                                                var_j_3376 = t_check_b_260;
                                                if_j_3385 = var_j_3376 ? (
                                                        bool_j_3377 = false;
                                                        pred_check_b_261 = bool_j_3377;
                                                        var_j_3378 = is_pos;
                                                        var_j_3379 = expr_b_259;
                                                        appl_j_3380 = var_j_3378 var_j_3379;
                                                        if_j_3383 = appl_j_3380 ? (
                                                                bool_j_3381 = true
                                                            ) : (
                                                                var_j_3382 = pred_check_b_261
                                                            )
                                                    ) : (
                                                        var_j_3384 = t_check_b_260
                                                    ));
                                            flatten_fun_j_3412 = fun bj_null_j_186 -> (
                                                bool_j_3387 = false;
                                                fail_b_253 = bool_j_3387;
                                                flatten_fun_j_3396 = fun expr_b_252 -> (
                                                    var_j_3388 = expr_b_252;
                                                    m_match_bool_j_3390 = var_j_3388 ~ any;
                                                    m_match_bool_j_3393 = var_j_3388 ~ int;
                                                    m_match_cond_j_3394 = m_match_bool_j_3393 ? (
                                                            bool_j_3395 = true
                                                        ) : (
                                                            m_match_cond_j_3391 = m_match_bool_j_3390 ? (
                                                                    var_j_3392 = fail_b_253
                                                                ) : (
                                                                    void_j_3389 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3398 = fun bj_null_j_185 -> (
                                                    input_j_3397 = input);
                                                flatten_fun_j_3400 = fun expr_b_254 -> (
                                                    var_j_3399 = expr_b_254);
                                                record_j_3401 = {checker = flatten_fun_j_3396, generator = flatten_fun_j_3398, wrapper = flatten_fun_j_3400};
                                                proj_j_3402 = record_j_3401.generator;
                                                int_j_3403 = 0;
                                                appl_j_3404 = proj_j_3402 int_j_3403;
                                                candidate_b_255 = appl_j_3404;
                                                var_j_3405 = is_pos;
                                                var_j_3406 = candidate_b_255;
                                                appl_j_3407 = var_j_3405 var_j_3406;
                                                if_j_3411 = appl_j_3407 ? (
                                                        var_j_3408 = candidate_b_255
                                                    ) : (
                                                        bool_j_3409 = false;
                                                        assume_j_3410 = assume bool_j_3409
                                                    ));
                                            flatten_fun_j_3414 = fun expr_b_262 -> (
                                                var_j_3413 = expr_b_262);
                                            record_j_3415 = {checker = flatten_fun_j_3386, generator = flatten_fun_j_3412, wrapper = flatten_fun_j_3414};
                                            proj_j_3416 = record_j_3415.generator;
                                            int_j_3417 = 0;
                                            appl_j_3418 = proj_j_3416 int_j_3417;
                                            height_b_248 = appl_j_3418;
                                            var_j_3419 = height_b_248;
                                            var_j_3420 = item_b_249;
                                            var_j_3421 = left_b_250;
                                            var_j_3422 = right_b_251;
                                            record_j_3423 = {height = var_j_3419, item = var_j_3420, left = var_j_3421, right = var_j_3422};
                                            record_j_3424 = {};
                                            record_j_3425 = {};
                                            record_j_3426 = {};
                                            record_j_3427 = {};
                                            record_j_3428 = {height = record_j_3424, item = record_j_3425, left = record_j_3426, right = record_j_3427};
                                            record_j_3429 = {bj_actual_rec = record_j_3423, bj_decl_lbls = record_j_3428});
                                        flatten_fun_j_3432 = fun expr_b_287 -> (
                                            var_j_3431 = expr_b_287);
                                        record_j_3433 = {checker = flatten_fun_j_3331, generator = flatten_fun_j_3430, wrapper = flatten_fun_j_3432};
                                        proj_j_3434 = record_j_3433.checker;
                                        var_j_3435 = expr_b_288;
                                        appl_j_3436 = proj_j_3434 var_j_3435;
                                        t_check_b_289 = appl_j_3436;
                                        var_j_3437 = t_check_b_289;
                                        if_j_3501 = var_j_3437 ? (
                                                bool_j_3438 = false;
                                                pred_check_b_290 = bool_j_3438;
                                                flatten_fun_j_3494 = fun t_j_188 -> (
                                                    var_j_3439 = t_j_188;
                                                    proj_j_3440 = var_j_3439.bj_decl_lbls;
                                                    m_match_bool_j_3442 = proj_j_3440 ~ any;
                                                    m_match_bool_j_3449 = proj_j_3440 ~ 
                                                        {height, _};
                                                    m_match_cond_j_3450 = m_match_bool_j_3449 ? (
                                                            var_j_3451 = t_j_188;
                                                            proj_j_3452 = var_j_3451.bj_actual_rec;
                                                            proj_j_3453 = proj_j_3452.height
                                                        ) : (
                                                            m_match_cond_j_3443 = m_match_bool_j_3442 ? (
                                                                    bool_j_3444 = false;
                                                                    assert_pred_j_3445 = bool_j_3444;
                                                                    assert_res_j_3446 = assert_pred_j_3445 ? (
                                                                        assert_res_true_j_3447 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3448 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3441 = 
                                                                    {}
                                                                )
                                                        );
                                                    var_j_3454 = max;
                                                    var_j_3455 = height_j_337_j_382;
                                                    var_j_3456 = t_j_188;
                                                    proj_j_3457 = var_j_3456.bj_decl_lbls;
                                                    m_match_bool_j_3459 = proj_j_3457 ~ any;
                                                    m_match_bool_j_3466 = proj_j_3457 ~ 
                                                        {left, _};
                                                    m_match_cond_j_3467 = m_match_bool_j_3466 ? (
                                                            var_j_3468 = t_j_188;
                                                            proj_j_3469 = var_j_3468.bj_actual_rec;
                                                            proj_j_3470 = proj_j_3469.left
                                                        ) : (
                                                            m_match_cond_j_3460 = m_match_bool_j_3459 ? (
                                                                    bool_j_3461 = false;
                                                                    assert_pred_j_3462 = bool_j_3461;
                                                                    assert_res_j_3463 = assert_pred_j_3462 ? (
                                                                        assert_res_true_j_3464 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3465 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3458 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5558 = var_j_3455 ~ fun;
                                                    appl_j_3471 = m_i_5558 ? (
                                                            c_appl_i_5559 = var_j_3455 m_match_cond_j_3467
                                                        ) : (
                                                            ab_i_5560 = abort
                                                        );
                                                    m_i_5561 = var_j_3454 ~ fun;
                                                    appl_j_3472 = m_i_5561 ? (
                                                            c_appl_i_5562 = var_j_3454 appl_j_3471
                                                        ) : (
                                                            ab_i_5563 = abort
                                                        );
                                                    var_j_3473 = height_j_337_j_382;
                                                    var_j_3474 = t_j_188;
                                                    proj_j_3475 = var_j_3474.bj_decl_lbls;
                                                    m_match_bool_j_3477 = proj_j_3475 ~ any;
                                                    m_match_bool_j_3484 = proj_j_3475 ~ 
                                                        {right, _};
                                                    m_match_cond_j_3485 = m_match_bool_j_3484 ? (
                                                            var_j_3486 = t_j_188;
                                                            proj_j_3487 = var_j_3486.bj_actual_rec;
                                                            proj_j_3488 = proj_j_3487.right
                                                        ) : (
                                                            m_match_cond_j_3478 = m_match_bool_j_3477 ? (
                                                                    bool_j_3479 = false;
                                                                    assert_pred_j_3480 = bool_j_3479;
                                                                    assert_res_j_3481 = assert_pred_j_3480 ? (
                                                                        assert_res_true_j_3482 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_3483 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_3476 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_5564 = var_j_3473 ~ fun;
                                                    appl_j_3489 = m_i_5564 ? (
                                                            c_appl_i_5565 = var_j_3473 m_match_cond_j_3485
                                                        ) : (
                                                            ab_i_5566 = abort
                                                        );
                                                    m_i_5567 = appl_j_3472 ~ fun;
                                                    appl_j_3490 = m_i_5567 ? (
                                                            c_appl_i_5568 = appl_j_3472 appl_j_3489
                                                        ) : (
                                                            ab_i_5569 = abort
                                                        );
                                                    int_j_3491 = 1;
                                                    m_bl_i_5570 = appl_j_3490 ~ int;
                                                    m_br_i_5571 = int_j_3491 ~ int;
                                                    m_b_i_5572 = m_bl_i_5570 and m_br_i_5571;
                                                    binop_j_3492 = m_b_i_5572 ? (
                                                            c_binop_i_5573 = appl_j_3490 + int_j_3491
                                                        ) : (
                                                            ab_i_5574 = abort
                                                        );
                                                    m_bl_i_5575 = m_match_cond_j_3450 ~ int;
                                                    m_br_i_5576 = binop_j_3492 ~ int;
                                                    m_b_i_5577 = m_bl_i_5575 and m_br_i_5576;
                                                    binop_j_3493 = m_b_i_5577 ? (
                                                            c_binop_i_5578 = m_match_cond_j_3450 == binop_j_3492
                                                        ) : (
                                                            ab_i_5579 = abort
                                                        ));
                                                var_j_3495 = expr_b_288;
                                                appl_j_3496 = flatten_fun_j_3494 var_j_3495;
                                                if_j_3499 = appl_j_3496 ? (
                                                        bool_j_3497 = true
                                                    ) : (
                                                        var_j_3498 = pred_check_b_290
                                                    )
                                            ) : (
                                                var_j_3500 = t_check_b_289
                                            ));
                                    flatten_fun_j_3793 = fun bj_null_j_207 -> (
                                        flatten_fun_j_3625 = fun expr_b_228 -> (
                                            bool_j_3503 = false;
                                            rec_fail_b_227 = bool_j_3503;
                                            bool_j_3504 = false;
                                            rec_fail_b_226 = bool_j_3504;
                                            bool_j_3505 = false;
                                            rec_fail_b_225 = bool_j_3505;
                                            var_j_3506 = expr_b_228;
                                            m_match_bool_j_3508 = var_j_3506 ~ any;
                                            m_match_bool_j_3511 = var_j_3506 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_3512 = m_match_bool_j_3511 ? (
                                                    var_j_3513 = expr_b_228;
                                                    proj_j_3514 = var_j_3513.bj_decl_lbls;
                                                    m_match_bool_j_3516 = proj_j_3514 ~ any;
                                                    m_match_bool_j_3519 = proj_j_3514 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3520 = m_match_bool_j_3519 ? (
                                                            height_j_200 = proj_j_3514.height;
                                                            item_j_199 = proj_j_3514.item;
                                                            left_j_198 = proj_j_3514.left;
                                                            right_j_197 = proj_j_3514.right;
                                                            var_j_3521 = expr_b_228;
                                                            proj_j_3522 = var_j_3521.bj_actual_rec;
                                                            m_match_bool_j_3524 = proj_j_3522 ~ any;
                                                            m_match_bool_j_3527 = proj_j_3522 ~ 
                                                                {height, item, left, right, _};
                                                            m_match_cond_j_3528 = m_match_bool_j_3527 ? (
                                                                    height_j_196 = proj_j_3522.height;
                                                                    item_j_195 = proj_j_3522.item;
                                                                    left_j_194 = proj_j_3522.left;
                                                                    right_j_193 = proj_j_3522.right;
                                                                    flatten_fun_j_3557 = fun expr_b_242 -> (
                                                                    bool_j_3529 = false;
                                                                    fail_b_240 = bool_j_3529;
                                                                    flatten_fun_j_3538 = fun expr_b_239 -> (
                                                                    var_j_3530 = expr_b_239;
                                                                    m_match_bool_j_3532 = var_j_3530 ~ any;
                                                                    m_match_bool_j_3535 = var_j_3530 ~ int;
                                                                    m_match_cond_j_3536 = m_match_bool_j_3535 ? (
                                                                        bool_j_3537 = true
                                                                    ) : (
                                                                        m_match_cond_j_3533 = m_match_bool_j_3532 ? (
                                                                        var_j_3534 = fail_b_240
                                                                    ) : (
                                                                        void_j_3531 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3540 = fun bj_null_j_189 -> (
                                                                    input_j_3539 = input);
                                                                    flatten_fun_j_3542 = fun expr_b_241 -> (
                                                                    var_j_3541 = expr_b_241);
                                                                    record_j_3543 = 
                                                                    {checker = flatten_fun_j_3538, generator = flatten_fun_j_3540, wrapper = flatten_fun_j_3542};
                                                                    proj_j_3544 = record_j_3543.checker;
                                                                    var_j_3545 = expr_b_242;
                                                                    appl_j_3546 = proj_j_3544 var_j_3545;
                                                                    t_check_b_243 = appl_j_3546;
                                                                    var_j_3547 = t_check_b_243;
                                                                    if_j_3556 = var_j_3547 ? (
                                                                        bool_j_3548 = false;
                                                                    pred_check_b_244 = bool_j_3548;
                                                                    var_j_3549 = is_pos;
                                                                    var_j_3550 = expr_b_242;
                                                                    appl_j_3551 = var_j_3549 var_j_3550;
                                                                    if_j_3554 = appl_j_3551 ? (
                                                                        bool_j_3552 = true
                                                                    ) : (
                                                                        var_j_3553 = pred_check_b_244
                                                                    )
                                                                    ) : (
                                                                        var_j_3555 = t_check_b_243
                                                                    ));
                                                                    flatten_fun_j_3583 = fun bj_null_j_191 -> (
                                                                    bool_j_3558 = false;
                                                                    fail_b_236 = bool_j_3558;
                                                                    flatten_fun_j_3567 = fun expr_b_235 -> (
                                                                    var_j_3559 = expr_b_235;
                                                                    m_match_bool_j_3561 = var_j_3559 ~ any;
                                                                    m_match_bool_j_3564 = var_j_3559 ~ int;
                                                                    m_match_cond_j_3565 = m_match_bool_j_3564 ? (
                                                                        bool_j_3566 = true
                                                                    ) : (
                                                                        m_match_cond_j_3562 = m_match_bool_j_3561 ? (
                                                                        var_j_3563 = fail_b_236
                                                                    ) : (
                                                                        void_j_3560 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3569 = fun bj_null_j_190 -> (
                                                                    input_j_3568 = input);
                                                                    flatten_fun_j_3571 = fun expr_b_237 -> (
                                                                    var_j_3570 = expr_b_237);
                                                                    record_j_3572 = 
                                                                    {checker = flatten_fun_j_3567, generator = flatten_fun_j_3569, wrapper = flatten_fun_j_3571};
                                                                    proj_j_3573 = record_j_3572.generator;
                                                                    int_j_3574 = 0;
                                                                    appl_j_3575 = proj_j_3573 int_j_3574;
                                                                    candidate_b_238 = appl_j_3575;
                                                                    var_j_3576 = is_pos;
                                                                    var_j_3577 = candidate_b_238;
                                                                    appl_j_3578 = var_j_3576 var_j_3577;
                                                                    if_j_3582 = appl_j_3578 ? (
                                                                        var_j_3579 = candidate_b_238
                                                                    ) : (
                                                                        bool_j_3580 = false;
                                                                    assume_j_3581 = assume bool_j_3580
                                                                    ));
                                                                    flatten_fun_j_3585 = fun expr_b_245 -> (
                                                                    var_j_3584 = expr_b_245);
                                                                    record_j_3586 = 
                                                                    {checker = flatten_fun_j_3557, generator = flatten_fun_j_3583, wrapper = flatten_fun_j_3585};
                                                                    proj_j_3587 = record_j_3586.checker;
                                                                    var_j_3588 = height_j_196;
                                                                    appl_j_3589 = proj_j_3587 var_j_3588;
                                                                    lbl_check_b_234 = appl_j_3589;
                                                                    var_j_3590 = lbl_check_b_234;
                                                                    if_j_3624 = var_j_3590 ? (
                                                                        bool_j_3591 = false;
                                                                    fail_b_232 = bool_j_3591;
                                                                    flatten_fun_j_3600 = fun expr_b_231 -> (
                                                                    var_j_3592 = expr_b_231;
                                                                    m_match_bool_j_3594 = var_j_3592 ~ any;
                                                                    m_match_bool_j_3597 = var_j_3592 ~ int;
                                                                    m_match_cond_j_3598 = m_match_bool_j_3597 ? (
                                                                        bool_j_3599 = true
                                                                    ) : (
                                                                        m_match_cond_j_3595 = m_match_bool_j_3594 ? (
                                                                        var_j_3596 = fail_b_232
                                                                    ) : (
                                                                        void_j_3593 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3602 = fun bj_null_j_192 -> (
                                                                    input_j_3601 = input);
                                                                    flatten_fun_j_3604 = fun expr_b_233 -> (
                                                                    var_j_3603 = expr_b_233);
                                                                    record_j_3605 = 
                                                                    {checker = flatten_fun_j_3600, generator = flatten_fun_j_3602, wrapper = flatten_fun_j_3604};
                                                                    proj_j_3606 = record_j_3605.checker;
                                                                    var_j_3607 = item_j_195;
                                                                    appl_j_3608 = proj_j_3606 var_j_3607;
                                                                    lbl_check_b_230 = appl_j_3608;
                                                                    var_j_3609 = lbl_check_b_230;
                                                                    if_j_3622 = var_j_3609 ? (
                                                                        var_j_3610 = tt_j_251;
                                                                    proj_j_3611 = var_j_3610.checker;
                                                                    var_j_3612 = left_j_194;
                                                                    appl_j_3613 = proj_j_3611 var_j_3612;
                                                                    lbl_check_b_229 = appl_j_3613;
                                                                    var_j_3614 = lbl_check_b_229;
                                                                    if_j_3620 = var_j_3614 ? (
                                                                        var_j_3615 = tt_j_251;
                                                                    proj_j_3616 = var_j_3615.checker;
                                                                    var_j_3617 = right_j_193;
                                                                    appl_j_3618 = proj_j_3616 var_j_3617
                                                                    ) : (
                                                                        var_j_3619 = lbl_check_b_229
                                                                    )
                                                                    ) : (
                                                                        var_j_3621 = lbl_check_b_230
                                                                    )
                                                                    ) : (
                                                                        var_j_3623 = lbl_check_b_234
                                                                    )
                                                                ) : (
                                                                    m_match_cond_j_3525 = m_match_bool_j_3524 ? (
                                                                        var_j_3526 = rec_fail_b_225
                                                                    ) : (
                                                                        void_j_3523 = 
                                                                    {}
                                                                    )
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3517 = m_match_bool_j_3516 ? (
                                                                    var_j_3518 = rec_fail_b_226
                                                                ) : (
                                                                    void_j_3515 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3509 = m_match_bool_j_3508 ? (
                                                            var_j_3510 = rec_fail_b_227
                                                        ) : (
                                                            void_j_3507 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3724 = fun bj_null_j_205 -> (
                                            var_j_3626 = tt_j_251;
                                            proj_j_3627 = var_j_3626.generator;
                                            int_j_3628 = 0;
                                            appl_j_3629 = proj_j_3627 int_j_3628;
                                            right_b_210 = appl_j_3629;
                                            var_j_3630 = tt_j_251;
                                            proj_j_3631 = var_j_3630.generator;
                                            int_j_3632 = 0;
                                            appl_j_3633 = proj_j_3631 int_j_3632;
                                            left_b_209 = appl_j_3633;
                                            bool_j_3634 = false;
                                            fail_b_223 = bool_j_3634;
                                            flatten_fun_j_3643 = fun expr_b_222 -> (
                                                var_j_3635 = expr_b_222;
                                                m_match_bool_j_3637 = var_j_3635 ~ any;
                                                m_match_bool_j_3640 = var_j_3635 ~ int;
                                                m_match_cond_j_3641 = m_match_bool_j_3640 ? (
                                                        bool_j_3642 = true
                                                    ) : (
                                                        m_match_cond_j_3638 = m_match_bool_j_3637 ? (
                                                                var_j_3639 = fail_b_223
                                                            ) : (
                                                                void_j_3636 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_3645 = fun bj_null_j_201 -> (
                                                input_j_3644 = input);
                                            flatten_fun_j_3647 = fun expr_b_224 -> (
                                                var_j_3646 = expr_b_224);
                                            record_j_3648 = {checker = flatten_fun_j_3643, generator = flatten_fun_j_3645, wrapper = flatten_fun_j_3647};
                                            proj_j_3649 = record_j_3648.generator;
                                            int_j_3650 = 0;
                                            appl_j_3651 = proj_j_3649 int_j_3650;
                                            item_b_208 = appl_j_3651;
                                            flatten_fun_j_3680 = fun expr_b_218 -> (
                                                bool_j_3652 = false;
                                                fail_b_216 = bool_j_3652;
                                                flatten_fun_j_3661 = fun expr_b_215 -> (
                                                    var_j_3653 = expr_b_215;
                                                    m_match_bool_j_3655 = var_j_3653 ~ any;
                                                    m_match_bool_j_3658 = var_j_3653 ~ int;
                                                    m_match_cond_j_3659 = m_match_bool_j_3658 ? (
                                                            bool_j_3660 = true
                                                        ) : (
                                                            m_match_cond_j_3656 = m_match_bool_j_3655 ? (
                                                                    var_j_3657 = fail_b_216
                                                                ) : (
                                                                    void_j_3654 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3663 = fun bj_null_j_202 -> (
                                                    input_j_3662 = input);
                                                flatten_fun_j_3665 = fun expr_b_217 -> (
                                                    var_j_3664 = expr_b_217);
                                                record_j_3666 = {checker = flatten_fun_j_3661, generator = flatten_fun_j_3663, wrapper = flatten_fun_j_3665};
                                                proj_j_3667 = record_j_3666.checker;
                                                var_j_3668 = expr_b_218;
                                                appl_j_3669 = proj_j_3667 var_j_3668;
                                                t_check_b_219 = appl_j_3669;
                                                var_j_3670 = t_check_b_219;
                                                if_j_3679 = var_j_3670 ? (
                                                        bool_j_3671 = false;
                                                        pred_check_b_220 = bool_j_3671;
                                                        var_j_3672 = is_pos;
                                                        var_j_3673 = expr_b_218;
                                                        appl_j_3674 = var_j_3672 var_j_3673;
                                                        if_j_3677 = appl_j_3674 ? (
                                                                bool_j_3675 = true
                                                            ) : (
                                                                var_j_3676 = pred_check_b_220
                                                            )
                                                    ) : (
                                                        var_j_3678 = t_check_b_219
                                                    ));
                                            flatten_fun_j_3706 = fun bj_null_j_204 -> (
                                                bool_j_3681 = false;
                                                fail_b_212 = bool_j_3681;
                                                flatten_fun_j_3690 = fun expr_b_211 -> (
                                                    var_j_3682 = expr_b_211;
                                                    m_match_bool_j_3684 = var_j_3682 ~ any;
                                                    m_match_bool_j_3687 = var_j_3682 ~ int;
                                                    m_match_cond_j_3688 = m_match_bool_j_3687 ? (
                                                            bool_j_3689 = true
                                                        ) : (
                                                            m_match_cond_j_3685 = m_match_bool_j_3684 ? (
                                                                    var_j_3686 = fail_b_212
                                                                ) : (
                                                                    void_j_3683 = 
                                                                    {}
                                                                )
                                                        ));
                                                flatten_fun_j_3692 = fun bj_null_j_203 -> (
                                                    input_j_3691 = input);
                                                flatten_fun_j_3694 = fun expr_b_213 -> (
                                                    var_j_3693 = expr_b_213);
                                                record_j_3695 = {checker = flatten_fun_j_3690, generator = flatten_fun_j_3692, wrapper = flatten_fun_j_3694};
                                                proj_j_3696 = record_j_3695.generator;
                                                int_j_3697 = 0;
                                                appl_j_3698 = proj_j_3696 int_j_3697;
                                                candidate_b_214 = appl_j_3698;
                                                var_j_3699 = is_pos;
                                                var_j_3700 = candidate_b_214;
                                                appl_j_3701 = var_j_3699 var_j_3700;
                                                if_j_3705 = appl_j_3701 ? (
                                                        var_j_3702 = candidate_b_214
                                                    ) : (
                                                        bool_j_3703 = false;
                                                        assume_j_3704 = assume bool_j_3703
                                                    ));
                                            flatten_fun_j_3708 = fun expr_b_221 -> (
                                                var_j_3707 = expr_b_221);
                                            record_j_3709 = {checker = flatten_fun_j_3680, generator = flatten_fun_j_3706, wrapper = flatten_fun_j_3708};
                                            proj_j_3710 = record_j_3709.generator;
                                            int_j_3711 = 0;
                                            appl_j_3712 = proj_j_3710 int_j_3711;
                                            height_b_207 = appl_j_3712;
                                            var_j_3713 = height_b_207;
                                            var_j_3714 = item_b_208;
                                            var_j_3715 = left_b_209;
                                            var_j_3716 = right_b_210;
                                            record_j_3717 = {height = var_j_3713, item = var_j_3714, left = var_j_3715, right = var_j_3716};
                                            record_j_3718 = {};
                                            record_j_3719 = {};
                                            record_j_3720 = {};
                                            record_j_3721 = {};
                                            record_j_3722 = {height = record_j_3718, item = record_j_3719, left = record_j_3720, right = record_j_3721};
                                            record_j_3723 = {bj_actual_rec = record_j_3717, bj_decl_lbls = record_j_3722});
                                        flatten_fun_j_3726 = fun expr_b_246 -> (
                                            var_j_3725 = expr_b_246);
                                        record_j_3727 = {checker = flatten_fun_j_3625, generator = flatten_fun_j_3724, wrapper = flatten_fun_j_3726};
                                        proj_j_3728 = record_j_3727.generator;
                                        int_j_3729 = 0;
                                        appl_j_3730 = proj_j_3728 int_j_3729;
                                        candidate_b_247 = appl_j_3730;
                                        flatten_fun_j_3786 = fun t_j_206 -> (
                                            var_j_3731 = t_j_206;
                                            proj_j_3732 = var_j_3731.bj_decl_lbls;
                                            m_match_bool_j_3734 = proj_j_3732 ~ any;
                                            m_match_bool_j_3741 = proj_j_3732 ~ 
                                                {height, _};
                                            m_match_cond_j_3742 = m_match_bool_j_3741 ? (
                                                    var_j_3743 = t_j_206;
                                                    proj_j_3744 = var_j_3743.bj_actual_rec;
                                                    proj_j_3745 = proj_j_3744.height
                                                ) : (
                                                    m_match_cond_j_3735 = m_match_bool_j_3734 ? (
                                                            bool_j_3736 = false;
                                                            assert_pred_j_3737 = bool_j_3736;
                                                            assert_res_j_3738 = assert_pred_j_3737 ? (
                                                                    assert_res_true_j_3739 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3740 = abort
                                                                )
                                                        ) : (
                                                            void_j_3733 = 
                                                                {}
                                                        )
                                                );
                                            var_j_3746 = max;
                                            var_j_3747 = height_j_337_j_382;
                                            var_j_3748 = t_j_206;
                                            proj_j_3749 = var_j_3748.bj_decl_lbls;
                                            m_match_bool_j_3751 = proj_j_3749 ~ any;
                                            m_match_bool_j_3758 = proj_j_3749 ~ 
                                                {left, _};
                                            m_match_cond_j_3759 = m_match_bool_j_3758 ? (
                                                    var_j_3760 = t_j_206;
                                                    proj_j_3761 = var_j_3760.bj_actual_rec;
                                                    proj_j_3762 = proj_j_3761.left
                                                ) : (
                                                    m_match_cond_j_3752 = m_match_bool_j_3751 ? (
                                                            bool_j_3753 = false;
                                                            assert_pred_j_3754 = bool_j_3753;
                                                            assert_res_j_3755 = assert_pred_j_3754 ? (
                                                                    assert_res_true_j_3756 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3757 = abort
                                                                )
                                                        ) : (
                                                            void_j_3750 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5580 = var_j_3747 ~ fun;
                                            appl_j_3763 = m_i_5580 ? (
                                                    c_appl_i_5581 = var_j_3747 m_match_cond_j_3759
                                                ) : (
                                                    ab_i_5582 = abort
                                                );
                                            m_i_5583 = var_j_3746 ~ fun;
                                            appl_j_3764 = m_i_5583 ? (
                                                    c_appl_i_5584 = var_j_3746 appl_j_3763
                                                ) : (
                                                    ab_i_5585 = abort
                                                );
                                            var_j_3765 = height_j_337_j_382;
                                            var_j_3766 = t_j_206;
                                            proj_j_3767 = var_j_3766.bj_decl_lbls;
                                            m_match_bool_j_3769 = proj_j_3767 ~ any;
                                            m_match_bool_j_3776 = proj_j_3767 ~ 
                                                {right, _};
                                            m_match_cond_j_3777 = m_match_bool_j_3776 ? (
                                                    var_j_3778 = t_j_206;
                                                    proj_j_3779 = var_j_3778.bj_actual_rec;
                                                    proj_j_3780 = proj_j_3779.right
                                                ) : (
                                                    m_match_cond_j_3770 = m_match_bool_j_3769 ? (
                                                            bool_j_3771 = false;
                                                            assert_pred_j_3772 = bool_j_3771;
                                                            assert_res_j_3773 = assert_pred_j_3772 ? (
                                                                    assert_res_true_j_3774 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_3775 = abort
                                                                )
                                                        ) : (
                                                            void_j_3768 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5586 = var_j_3765 ~ fun;
                                            appl_j_3781 = m_i_5586 ? (
                                                    c_appl_i_5587 = var_j_3765 m_match_cond_j_3777
                                                ) : (
                                                    ab_i_5588 = abort
                                                );
                                            m_i_5589 = appl_j_3764 ~ fun;
                                            appl_j_3782 = m_i_5589 ? (
                                                    c_appl_i_5590 = appl_j_3764 appl_j_3781
                                                ) : (
                                                    ab_i_5591 = abort
                                                );
                                            int_j_3783 = 1;
                                            m_bl_i_5592 = appl_j_3782 ~ int;
                                            m_br_i_5593 = int_j_3783 ~ int;
                                            m_b_i_5594 = m_bl_i_5592 and m_br_i_5593;
                                            binop_j_3784 = m_b_i_5594 ? (
                                                    c_binop_i_5595 = appl_j_3782 + int_j_3783
                                                ) : (
                                                    ab_i_5596 = abort
                                                );
                                            m_bl_i_5597 = m_match_cond_j_3742 ~ int;
                                            m_br_i_5598 = binop_j_3784 ~ int;
                                            m_b_i_5599 = m_bl_i_5597 and m_br_i_5598;
                                            binop_j_3785 = m_b_i_5599 ? (
                                                    c_binop_i_5600 = m_match_cond_j_3742 == binop_j_3784
                                                ) : (
                                                    ab_i_5601 = abort
                                                ));
                                        var_j_3787 = candidate_b_247;
                                        appl_j_3788 = flatten_fun_j_3786 var_j_3787;
                                        if_j_3792 = appl_j_3788 ? (
                                                var_j_3789 = candidate_b_247
                                            ) : (
                                                bool_j_3790 = false;
                                                assume_j_3791 = assume bool_j_3790
                                            ));
                                    flatten_fun_j_3795 = fun expr_b_291 -> (
                                        var_j_3794 = expr_b_291);
                                    record_j_3796 = {checker = flatten_fun_j_3502, generator = flatten_fun_j_3793, wrapper = flatten_fun_j_3795};
                                    proj_j_3797 = record_j_3796.checker;
                                    var_j_3798 = expr_b_304;
                                    appl_j_3799 = proj_j_3797 var_j_3798;
                                    if_j_3802 = appl_j_3799 ? (
                                            bool_j_3800 = true
                                        ) : (
                                            var_j_3801 = fail_b_306
                                        )
                                )
                        ));
                flatten_fun_j_4481 = fun bj_null_j_250 -> (
                    input_j_3806 = input;
                    select_int_b_109 = input_j_3806;
                    int_j_3807 = 0;
                    var_j_3808 = select_int_b_109;
                    binop_j_3809 = int_j_3807 <= var_j_3808;
                    if_j_4480 = binop_j_3809 ? (
                            flatten_fun_j_4103 = fun expr_b_93 -> (
                                flatten_fun_j_3932 = fun expr_b_74 -> (
                                    bool_j_3810 = false;
                                    rec_fail_b_73 = bool_j_3810;
                                    bool_j_3811 = false;
                                    rec_fail_b_72 = bool_j_3811;
                                    bool_j_3812 = false;
                                    rec_fail_b_71 = bool_j_3812;
                                    var_j_3813 = expr_b_74;
                                    m_match_bool_j_3815 = var_j_3813 ~ any;
                                    m_match_bool_j_3818 = var_j_3813 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_3819 = m_match_bool_j_3818 ? (
                                            var_j_3820 = expr_b_74;
                                            proj_j_3821 = var_j_3820.bj_decl_lbls;
                                            m_match_bool_j_3823 = proj_j_3821 ~ any;
                                            m_match_bool_j_3826 = proj_j_3821 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_3827 = m_match_bool_j_3826 ? (
                                                    height_j_219 = proj_j_3821.height;
                                                    item_j_218 = proj_j_3821.item;
                                                    left_j_217 = proj_j_3821.left;
                                                    right_j_216 = proj_j_3821.right;
                                                    var_j_3828 = expr_b_74;
                                                    proj_j_3829 = var_j_3828.bj_actual_rec;
                                                    m_match_bool_j_3831 = proj_j_3829 ~ any;
                                                    m_match_bool_j_3834 = proj_j_3829 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_3835 = m_match_bool_j_3834 ? (
                                                            height_j_215 = proj_j_3829.height;
                                                            item_j_214 = proj_j_3829.item;
                                                            left_j_213 = proj_j_3829.left;
                                                            right_j_212 = proj_j_3829.right;
                                                            flatten_fun_j_3864 = fun expr_b_88 -> (
                                                                bool_j_3836 = false;
                                                                fail_b_86 = bool_j_3836;
                                                                flatten_fun_j_3845 = fun expr_b_85 -> (
                                                                    var_j_3837 = expr_b_85;
                                                                    m_match_bool_j_3839 = var_j_3837 ~ any;
                                                                    m_match_bool_j_3842 = var_j_3837 ~ int;
                                                                    m_match_cond_j_3843 = m_match_bool_j_3842 ? (
                                                                        bool_j_3844 = true
                                                                    ) : (
                                                                        m_match_cond_j_3840 = m_match_bool_j_3839 ? (
                                                                        var_j_3841 = fail_b_86
                                                                    ) : (
                                                                        void_j_3838 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3847 = fun bj_null_j_208 -> (
                                                                    input_j_3846 = input);
                                                                flatten_fun_j_3849 = fun expr_b_87 -> (
                                                                    var_j_3848 = expr_b_87);
                                                                record_j_3850 = 
                                                                    {checker = flatten_fun_j_3845, generator = flatten_fun_j_3847, wrapper = flatten_fun_j_3849};
                                                                proj_j_3851 = record_j_3850.checker;
                                                                var_j_3852 = expr_b_88;
                                                                appl_j_3853 = proj_j_3851 var_j_3852;
                                                                t_check_b_89 = appl_j_3853;
                                                                var_j_3854 = t_check_b_89;
                                                                if_j_3863 = var_j_3854 ? (
                                                                        
                                                                    bool_j_3855 = false;
                                                                    pred_check_b_90 = bool_j_3855;
                                                                    var_j_3856 = is_pos;
                                                                    var_j_3857 = expr_b_88;
                                                                    appl_j_3858 = var_j_3856 var_j_3857;
                                                                    if_j_3861 = appl_j_3858 ? (
                                                                        bool_j_3859 = true
                                                                    ) : (
                                                                        var_j_3860 = pred_check_b_90
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_3862 = t_check_b_89
                                                                    ));
                                                            flatten_fun_j_3890 = fun bj_null_j_210 -> (
                                                                bool_j_3865 = false;
                                                                fail_b_82 = bool_j_3865;
                                                                flatten_fun_j_3874 = fun expr_b_81 -> (
                                                                    var_j_3866 = expr_b_81;
                                                                    m_match_bool_j_3868 = var_j_3866 ~ any;
                                                                    m_match_bool_j_3871 = var_j_3866 ~ int;
                                                                    m_match_cond_j_3872 = m_match_bool_j_3871 ? (
                                                                        bool_j_3873 = true
                                                                    ) : (
                                                                        m_match_cond_j_3869 = m_match_bool_j_3868 ? (
                                                                        var_j_3870 = fail_b_82
                                                                    ) : (
                                                                        void_j_3867 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_3876 = fun bj_null_j_209 -> (
                                                                    input_j_3875 = input);
                                                                flatten_fun_j_3878 = fun expr_b_83 -> (
                                                                    var_j_3877 = expr_b_83);
                                                                record_j_3879 = 
                                                                    {checker = flatten_fun_j_3874, generator = flatten_fun_j_3876, wrapper = flatten_fun_j_3878};
                                                                proj_j_3880 = record_j_3879.generator;
                                                                int_j_3881 = 0;
                                                                appl_j_3882 = proj_j_3880 int_j_3881;
                                                                candidate_b_84 = appl_j_3882;
                                                                var_j_3883 = is_pos;
                                                                var_j_3884 = candidate_b_84;
                                                                appl_j_3885 = var_j_3883 var_j_3884;
                                                                if_j_3889 = appl_j_3885 ? (
                                                                        
                                                                    var_j_3886 = candidate_b_84
                                                                    ) : (
                                                                        
                                                                    bool_j_3887 = false;
                                                                    assume_j_3888 = assume bool_j_3887
                                                                    ));
                                                            flatten_fun_j_3892 = fun expr_b_91 -> (
                                                                var_j_3891 = expr_b_91);
                                                            record_j_3893 = 
                                                                {checker = flatten_fun_j_3864, generator = flatten_fun_j_3890, wrapper = flatten_fun_j_3892};
                                                            proj_j_3894 = record_j_3893.checker;
                                                            var_j_3895 = height_j_215;
                                                            appl_j_3896 = proj_j_3894 var_j_3895;
                                                            lbl_check_b_80 = appl_j_3896;
                                                            var_j_3897 = lbl_check_b_80;
                                                            if_j_3931 = var_j_3897 ? (
                                                                    bool_j_3898 = false;
                                                                    fail_b_78 = bool_j_3898;
                                                                    flatten_fun_j_3907 = fun expr_b_77 -> (
                                                                    var_j_3899 = expr_b_77;
                                                                    m_match_bool_j_3901 = var_j_3899 ~ any;
                                                                    m_match_bool_j_3904 = var_j_3899 ~ int;
                                                                    m_match_cond_j_3905 = m_match_bool_j_3904 ? (
                                                                        bool_j_3906 = true
                                                                    ) : (
                                                                        m_match_cond_j_3902 = m_match_bool_j_3901 ? (
                                                                        var_j_3903 = fail_b_78
                                                                    ) : (
                                                                        void_j_3900 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_3909 = fun bj_null_j_211 -> (
                                                                    input_j_3908 = input);
                                                                    flatten_fun_j_3911 = fun expr_b_79 -> (
                                                                    var_j_3910 = expr_b_79);
                                                                    record_j_3912 = 
                                                                    {checker = flatten_fun_j_3907, generator = flatten_fun_j_3909, wrapper = flatten_fun_j_3911};
                                                                    proj_j_3913 = record_j_3912.checker;
                                                                    var_j_3914 = item_j_214;
                                                                    appl_j_3915 = proj_j_3913 var_j_3914;
                                                                    lbl_check_b_76 = appl_j_3915;
                                                                    var_j_3916 = lbl_check_b_76;
                                                                    if_j_3929 = var_j_3916 ? (
                                                                        var_j_3917 = tt_j_251;
                                                                    proj_j_3918 = var_j_3917.checker;
                                                                    var_j_3919 = left_j_213;
                                                                    appl_j_3920 = proj_j_3918 var_j_3919;
                                                                    lbl_check_b_75 = appl_j_3920;
                                                                    var_j_3921 = lbl_check_b_75;
                                                                    if_j_3927 = var_j_3921 ? (
                                                                        var_j_3922 = tt_j_251;
                                                                    proj_j_3923 = var_j_3922.checker;
                                                                    var_j_3924 = right_j_212;
                                                                    appl_j_3925 = proj_j_3923 var_j_3924
                                                                    ) : (
                                                                        var_j_3926 = lbl_check_b_75
                                                                    )
                                                                    ) : (
                                                                        var_j_3928 = lbl_check_b_76
                                                                    )
                                                                ) : (
                                                                    var_j_3930 = lbl_check_b_80
                                                                )
                                                        ) : (
                                                            m_match_cond_j_3832 = m_match_bool_j_3831 ? (
                                                                    var_j_3833 = rec_fail_b_71
                                                                ) : (
                                                                    void_j_3830 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_3824 = m_match_bool_j_3823 ? (
                                                            var_j_3825 = rec_fail_b_72
                                                        ) : (
                                                            void_j_3822 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_3816 = m_match_bool_j_3815 ? (
                                                    var_j_3817 = rec_fail_b_73
                                                ) : (
                                                    void_j_3814 = {}
                                                )
                                        ));
                                flatten_fun_j_4031 = fun bj_null_j_224 -> (
                                    var_j_3933 = tt_j_251;
                                    proj_j_3934 = var_j_3933.generator;
                                    int_j_3935 = 0;
                                    appl_j_3936 = proj_j_3934 int_j_3935;
                                    right_b_56 = appl_j_3936;
                                    var_j_3937 = tt_j_251;
                                    proj_j_3938 = var_j_3937.generator;
                                    int_j_3939 = 0;
                                    appl_j_3940 = proj_j_3938 int_j_3939;
                                    left_b_55 = appl_j_3940;
                                    bool_j_3941 = false;
                                    fail_b_69 = bool_j_3941;
                                    flatten_fun_j_3950 = fun expr_b_68 -> (
                                        var_j_3942 = expr_b_68;
                                        m_match_bool_j_3944 = var_j_3942 ~ any;
                                        m_match_bool_j_3947 = var_j_3942 ~ int;
                                        m_match_cond_j_3948 = m_match_bool_j_3947 ? (
                                                bool_j_3949 = true
                                            ) : (
                                                m_match_cond_j_3945 = m_match_bool_j_3944 ? (
                                                        var_j_3946 = fail_b_69
                                                    ) : (
                                                        void_j_3943 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_3952 = fun bj_null_j_220 -> (
                                        input_j_3951 = input);
                                    flatten_fun_j_3954 = fun expr_b_70 -> (
                                        var_j_3953 = expr_b_70);
                                    record_j_3955 = {checker = flatten_fun_j_3950, generator = flatten_fun_j_3952, wrapper = flatten_fun_j_3954};
                                    proj_j_3956 = record_j_3955.generator;
                                    int_j_3957 = 0;
                                    appl_j_3958 = proj_j_3956 int_j_3957;
                                    item_b_54 = appl_j_3958;
                                    flatten_fun_j_3987 = fun expr_b_64 -> (
                                        bool_j_3959 = false;
                                        fail_b_62 = bool_j_3959;
                                        flatten_fun_j_3968 = fun expr_b_61 -> (
                                            var_j_3960 = expr_b_61;
                                            m_match_bool_j_3962 = var_j_3960 ~ any;
                                            m_match_bool_j_3965 = var_j_3960 ~ int;
                                            m_match_cond_j_3966 = m_match_bool_j_3965 ? (
                                                    bool_j_3967 = true
                                                ) : (
                                                    m_match_cond_j_3963 = m_match_bool_j_3962 ? (
                                                            var_j_3964 = fail_b_62
                                                        ) : (
                                                            void_j_3961 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3970 = fun bj_null_j_221 -> (
                                            input_j_3969 = input);
                                        flatten_fun_j_3972 = fun expr_b_63 -> (
                                            var_j_3971 = expr_b_63);
                                        record_j_3973 = {checker = flatten_fun_j_3968, generator = flatten_fun_j_3970, wrapper = flatten_fun_j_3972};
                                        proj_j_3974 = record_j_3973.checker;
                                        var_j_3975 = expr_b_64;
                                        appl_j_3976 = proj_j_3974 var_j_3975;
                                        t_check_b_65 = appl_j_3976;
                                        var_j_3977 = t_check_b_65;
                                        if_j_3986 = var_j_3977 ? (
                                                bool_j_3978 = false;
                                                pred_check_b_66 = bool_j_3978;
                                                var_j_3979 = is_pos;
                                                var_j_3980 = expr_b_64;
                                                appl_j_3981 = var_j_3979 var_j_3980;
                                                if_j_3984 = appl_j_3981 ? (
                                                        bool_j_3982 = true
                                                    ) : (
                                                        var_j_3983 = pred_check_b_66
                                                    )
                                            ) : (
                                                var_j_3985 = t_check_b_65
                                            ));
                                    flatten_fun_j_4013 = fun bj_null_j_223 -> (
                                        bool_j_3988 = false;
                                        fail_b_58 = bool_j_3988;
                                        flatten_fun_j_3997 = fun expr_b_57 -> (
                                            var_j_3989 = expr_b_57;
                                            m_match_bool_j_3991 = var_j_3989 ~ any;
                                            m_match_bool_j_3994 = var_j_3989 ~ int;
                                            m_match_cond_j_3995 = m_match_bool_j_3994 ? (
                                                    bool_j_3996 = true
                                                ) : (
                                                    m_match_cond_j_3992 = m_match_bool_j_3991 ? (
                                                            var_j_3993 = fail_b_58
                                                        ) : (
                                                            void_j_3990 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_3999 = fun bj_null_j_222 -> (
                                            input_j_3998 = input);
                                        flatten_fun_j_4001 = fun expr_b_59 -> (
                                            var_j_4000 = expr_b_59);
                                        record_j_4002 = {checker = flatten_fun_j_3997, generator = flatten_fun_j_3999, wrapper = flatten_fun_j_4001};
                                        proj_j_4003 = record_j_4002.generator;
                                        int_j_4004 = 0;
                                        appl_j_4005 = proj_j_4003 int_j_4004;
                                        candidate_b_60 = appl_j_4005;
                                        var_j_4006 = is_pos;
                                        var_j_4007 = candidate_b_60;
                                        appl_j_4008 = var_j_4006 var_j_4007;
                                        if_j_4012 = appl_j_4008 ? (
                                                var_j_4009 = candidate_b_60
                                            ) : (
                                                bool_j_4010 = false;
                                                assume_j_4011 = assume bool_j_4010
                                            ));
                                    flatten_fun_j_4015 = fun expr_b_67 -> (
                                        var_j_4014 = expr_b_67);
                                    record_j_4016 = {checker = flatten_fun_j_3987, generator = flatten_fun_j_4013, wrapper = flatten_fun_j_4015};
                                    proj_j_4017 = record_j_4016.generator;
                                    int_j_4018 = 0;
                                    appl_j_4019 = proj_j_4017 int_j_4018;
                                    height_b_53 = appl_j_4019;
                                    var_j_4020 = height_b_53;
                                    var_j_4021 = item_b_54;
                                    var_j_4022 = left_b_55;
                                    var_j_4023 = right_b_56;
                                    record_j_4024 = {height = var_j_4020, item = var_j_4021, left = var_j_4022, right = var_j_4023};
                                    record_j_4025 = {};
                                    record_j_4026 = {};
                                    record_j_4027 = {};
                                    record_j_4028 = {};
                                    record_j_4029 = {height = record_j_4025, item = record_j_4026, left = record_j_4027, right = record_j_4028};
                                    record_j_4030 = {bj_actual_rec = record_j_4024, bj_decl_lbls = record_j_4029});
                                flatten_fun_j_4033 = fun expr_b_92 -> (
                                    var_j_4032 = expr_b_92);
                                record_j_4034 = {checker = flatten_fun_j_3932, generator = flatten_fun_j_4031, wrapper = flatten_fun_j_4033};
                                proj_j_4035 = record_j_4034.checker;
                                var_j_4036 = expr_b_93;
                                appl_j_4037 = proj_j_4035 var_j_4036;
                                t_check_b_94 = appl_j_4037;
                                var_j_4038 = t_check_b_94;
                                if_j_4102 = var_j_4038 ? (
                                        bool_j_4039 = false;
                                        pred_check_b_95 = bool_j_4039;
                                        flatten_fun_j_4095 = fun t_j_225 -> (
                                            var_j_4040 = t_j_225;
                                            proj_j_4041 = var_j_4040.bj_decl_lbls;
                                            m_match_bool_j_4043 = proj_j_4041 ~ any;
                                            m_match_bool_j_4050 = proj_j_4041 ~ 
                                                {height, _};
                                            m_match_cond_j_4051 = m_match_bool_j_4050 ? (
                                                    var_j_4052 = t_j_225;
                                                    proj_j_4053 = var_j_4052.bj_actual_rec;
                                                    proj_j_4054 = proj_j_4053.height
                                                ) : (
                                                    m_match_cond_j_4044 = m_match_bool_j_4043 ? (
                                                            bool_j_4045 = false;
                                                            assert_pred_j_4046 = bool_j_4045;
                                                            assert_res_j_4047 = assert_pred_j_4046 ? (
                                                                    assert_res_true_j_4048 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_4049 = abort
                                                                )
                                                        ) : (
                                                            void_j_4042 = 
                                                                {}
                                                        )
                                                );
                                            var_j_4055 = max;
                                            var_j_4056 = height_j_337_j_382;
                                            var_j_4057 = t_j_225;
                                            proj_j_4058 = var_j_4057.bj_decl_lbls;
                                            m_match_bool_j_4060 = proj_j_4058 ~ any;
                                            m_match_bool_j_4067 = proj_j_4058 ~ 
                                                {left, _};
                                            m_match_cond_j_4068 = m_match_bool_j_4067 ? (
                                                    var_j_4069 = t_j_225;
                                                    proj_j_4070 = var_j_4069.bj_actual_rec;
                                                    proj_j_4071 = proj_j_4070.left
                                                ) : (
                                                    m_match_cond_j_4061 = m_match_bool_j_4060 ? (
                                                            bool_j_4062 = false;
                                                            assert_pred_j_4063 = bool_j_4062;
                                                            assert_res_j_4064 = assert_pred_j_4063 ? (
                                                                    assert_res_true_j_4065 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_4066 = abort
                                                                )
                                                        ) : (
                                                            void_j_4059 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5602 = var_j_4056 ~ fun;
                                            appl_j_4072 = m_i_5602 ? (
                                                    c_appl_i_5603 = var_j_4056 m_match_cond_j_4068
                                                ) : (
                                                    ab_i_5604 = abort
                                                );
                                            m_i_5605 = var_j_4055 ~ fun;
                                            appl_j_4073 = m_i_5605 ? (
                                                    c_appl_i_5606 = var_j_4055 appl_j_4072
                                                ) : (
                                                    ab_i_5607 = abort
                                                );
                                            var_j_4074 = height_j_337_j_382;
                                            var_j_4075 = t_j_225;
                                            proj_j_4076 = var_j_4075.bj_decl_lbls;
                                            m_match_bool_j_4078 = proj_j_4076 ~ any;
                                            m_match_bool_j_4085 = proj_j_4076 ~ 
                                                {right, _};
                                            m_match_cond_j_4086 = m_match_bool_j_4085 ? (
                                                    var_j_4087 = t_j_225;
                                                    proj_j_4088 = var_j_4087.bj_actual_rec;
                                                    proj_j_4089 = proj_j_4088.right
                                                ) : (
                                                    m_match_cond_j_4079 = m_match_bool_j_4078 ? (
                                                            bool_j_4080 = false;
                                                            assert_pred_j_4081 = bool_j_4080;
                                                            assert_res_j_4082 = assert_pred_j_4081 ? (
                                                                    assert_res_true_j_4083 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_4084 = abort
                                                                )
                                                        ) : (
                                                            void_j_4077 = 
                                                                {}
                                                        )
                                                );
                                            m_i_5608 = var_j_4074 ~ fun;
                                            appl_j_4090 = m_i_5608 ? (
                                                    c_appl_i_5609 = var_j_4074 m_match_cond_j_4086
                                                ) : (
                                                    ab_i_5610 = abort
                                                );
                                            m_i_5611 = appl_j_4073 ~ fun;
                                            appl_j_4091 = m_i_5611 ? (
                                                    c_appl_i_5612 = appl_j_4073 appl_j_4090
                                                ) : (
                                                    ab_i_5613 = abort
                                                );
                                            int_j_4092 = 1;
                                            m_bl_i_5614 = appl_j_4091 ~ int;
                                            m_br_i_5615 = int_j_4092 ~ int;
                                            m_b_i_5616 = m_bl_i_5614 and m_br_i_5615;
                                            binop_j_4093 = m_b_i_5616 ? (
                                                    c_binop_i_5617 = appl_j_4091 + int_j_4092
                                                ) : (
                                                    ab_i_5618 = abort
                                                );
                                            m_bl_i_5619 = m_match_cond_j_4051 ~ int;
                                            m_br_i_5620 = binop_j_4093 ~ int;
                                            m_b_i_5621 = m_bl_i_5619 and m_br_i_5620;
                                            binop_j_4094 = m_b_i_5621 ? (
                                                    c_binop_i_5622 = m_match_cond_j_4051 == binop_j_4093
                                                ) : (
                                                    ab_i_5623 = abort
                                                ));
                                        var_j_4096 = expr_b_93;
                                        appl_j_4097 = flatten_fun_j_4095 var_j_4096;
                                        if_j_4100 = appl_j_4097 ? (
                                                bool_j_4098 = true
                                            ) : (
                                                var_j_4099 = pred_check_b_95
                                            )
                                    ) : (
                                        var_j_4101 = t_check_b_94
                                    ));
                            flatten_fun_j_4394 = fun bj_null_j_244 -> (
                                flatten_fun_j_4226 = fun expr_b_33 -> (
                                    bool_j_4104 = false;
                                    rec_fail_b_32 = bool_j_4104;
                                    bool_j_4105 = false;
                                    rec_fail_b_31 = bool_j_4105;
                                    bool_j_4106 = false;
                                    rec_fail_b_30 = bool_j_4106;
                                    var_j_4107 = expr_b_33;
                                    m_match_bool_j_4109 = var_j_4107 ~ any;
                                    m_match_bool_j_4112 = var_j_4107 ~ 
                                        {bj_actual_rec, _};
                                    m_match_cond_j_4113 = m_match_bool_j_4112 ? (
                                            var_j_4114 = expr_b_33;
                                            proj_j_4115 = var_j_4114.bj_decl_lbls;
                                            m_match_bool_j_4117 = proj_j_4115 ~ any;
                                            m_match_bool_j_4120 = proj_j_4115 ~ 
                                                {height, item, left, right, _};
                                            m_match_cond_j_4121 = m_match_bool_j_4120 ? (
                                                    height_j_237 = proj_j_4115.height;
                                                    item_j_236 = proj_j_4115.item;
                                                    left_j_235 = proj_j_4115.left;
                                                    right_j_234 = proj_j_4115.right;
                                                    var_j_4122 = expr_b_33;
                                                    proj_j_4123 = var_j_4122.bj_actual_rec;
                                                    m_match_bool_j_4125 = proj_j_4123 ~ any;
                                                    m_match_bool_j_4128 = proj_j_4123 ~ 
                                                        {height, item, left, right, _};
                                                    m_match_cond_j_4129 = m_match_bool_j_4128 ? (
                                                            height_j_233 = proj_j_4123.height;
                                                            item_j_232 = proj_j_4123.item;
                                                            left_j_231 = proj_j_4123.left;
                                                            right_j_230 = proj_j_4123.right;
                                                            flatten_fun_j_4158 = fun expr_b_47 -> (
                                                                bool_j_4130 = false;
                                                                fail_b_45 = bool_j_4130;
                                                                flatten_fun_j_4139 = fun expr_b_44 -> (
                                                                    var_j_4131 = expr_b_44;
                                                                    m_match_bool_j_4133 = var_j_4131 ~ any;
                                                                    m_match_bool_j_4136 = var_j_4131 ~ int;
                                                                    m_match_cond_j_4137 = m_match_bool_j_4136 ? (
                                                                        bool_j_4138 = true
                                                                    ) : (
                                                                        m_match_cond_j_4134 = m_match_bool_j_4133 ? (
                                                                        var_j_4135 = fail_b_45
                                                                    ) : (
                                                                        void_j_4132 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_4141 = fun bj_null_j_226 -> (
                                                                    input_j_4140 = input);
                                                                flatten_fun_j_4143 = fun expr_b_46 -> (
                                                                    var_j_4142 = expr_b_46);
                                                                record_j_4144 = 
                                                                    {checker = flatten_fun_j_4139, generator = flatten_fun_j_4141, wrapper = flatten_fun_j_4143};
                                                                proj_j_4145 = record_j_4144.checker;
                                                                var_j_4146 = expr_b_47;
                                                                appl_j_4147 = proj_j_4145 var_j_4146;
                                                                t_check_b_48 = appl_j_4147;
                                                                var_j_4148 = t_check_b_48;
                                                                if_j_4157 = var_j_4148 ? (
                                                                        
                                                                    bool_j_4149 = false;
                                                                    pred_check_b_49 = bool_j_4149;
                                                                    var_j_4150 = is_pos;
                                                                    var_j_4151 = expr_b_47;
                                                                    appl_j_4152 = var_j_4150 var_j_4151;
                                                                    if_j_4155 = appl_j_4152 ? (
                                                                        bool_j_4153 = true
                                                                    ) : (
                                                                        var_j_4154 = pred_check_b_49
                                                                    )
                                                                    ) : (
                                                                        
                                                                    var_j_4156 = t_check_b_48
                                                                    ));
                                                            flatten_fun_j_4184 = fun bj_null_j_228 -> (
                                                                bool_j_4159 = false;
                                                                fail_b_41 = bool_j_4159;
                                                                flatten_fun_j_4168 = fun expr_b_40 -> (
                                                                    var_j_4160 = expr_b_40;
                                                                    m_match_bool_j_4162 = var_j_4160 ~ any;
                                                                    m_match_bool_j_4165 = var_j_4160 ~ int;
                                                                    m_match_cond_j_4166 = m_match_bool_j_4165 ? (
                                                                        bool_j_4167 = true
                                                                    ) : (
                                                                        m_match_cond_j_4163 = m_match_bool_j_4162 ? (
                                                                        var_j_4164 = fail_b_41
                                                                    ) : (
                                                                        void_j_4161 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_4170 = fun bj_null_j_227 -> (
                                                                    input_j_4169 = input);
                                                                flatten_fun_j_4172 = fun expr_b_42 -> (
                                                                    var_j_4171 = expr_b_42);
                                                                record_j_4173 = 
                                                                    {checker = flatten_fun_j_4168, generator = flatten_fun_j_4170, wrapper = flatten_fun_j_4172};
                                                                proj_j_4174 = record_j_4173.generator;
                                                                int_j_4175 = 0;
                                                                appl_j_4176 = proj_j_4174 int_j_4175;
                                                                candidate_b_43 = appl_j_4176;
                                                                var_j_4177 = is_pos;
                                                                var_j_4178 = candidate_b_43;
                                                                appl_j_4179 = var_j_4177 var_j_4178;
                                                                if_j_4183 = appl_j_4179 ? (
                                                                        
                                                                    var_j_4180 = candidate_b_43
                                                                    ) : (
                                                                        
                                                                    bool_j_4181 = false;
                                                                    assume_j_4182 = assume bool_j_4181
                                                                    ));
                                                            flatten_fun_j_4186 = fun expr_b_50 -> (
                                                                var_j_4185 = expr_b_50);
                                                            record_j_4187 = 
                                                                {checker = flatten_fun_j_4158, generator = flatten_fun_j_4184, wrapper = flatten_fun_j_4186};
                                                            proj_j_4188 = record_j_4187.checker;
                                                            var_j_4189 = height_j_233;
                                                            appl_j_4190 = proj_j_4188 var_j_4189;
                                                            lbl_check_b_39 = appl_j_4190;
                                                            var_j_4191 = lbl_check_b_39;
                                                            if_j_4225 = var_j_4191 ? (
                                                                    bool_j_4192 = false;
                                                                    fail_b_37 = bool_j_4192;
                                                                    flatten_fun_j_4201 = fun expr_b_36 -> (
                                                                    var_j_4193 = expr_b_36;
                                                                    m_match_bool_j_4195 = var_j_4193 ~ any;
                                                                    m_match_bool_j_4198 = var_j_4193 ~ int;
                                                                    m_match_cond_j_4199 = m_match_bool_j_4198 ? (
                                                                        bool_j_4200 = true
                                                                    ) : (
                                                                        m_match_cond_j_4196 = m_match_bool_j_4195 ? (
                                                                        var_j_4197 = fail_b_37
                                                                    ) : (
                                                                        void_j_4194 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                    flatten_fun_j_4203 = fun bj_null_j_229 -> (
                                                                    input_j_4202 = input);
                                                                    flatten_fun_j_4205 = fun expr_b_38 -> (
                                                                    var_j_4204 = expr_b_38);
                                                                    record_j_4206 = 
                                                                    {checker = flatten_fun_j_4201, generator = flatten_fun_j_4203, wrapper = flatten_fun_j_4205};
                                                                    proj_j_4207 = record_j_4206.checker;
                                                                    var_j_4208 = item_j_232;
                                                                    appl_j_4209 = proj_j_4207 var_j_4208;
                                                                    lbl_check_b_35 = appl_j_4209;
                                                                    var_j_4210 = lbl_check_b_35;
                                                                    if_j_4223 = var_j_4210 ? (
                                                                        var_j_4211 = tt_j_251;
                                                                    proj_j_4212 = var_j_4211.checker;
                                                                    var_j_4213 = left_j_231;
                                                                    appl_j_4214 = proj_j_4212 var_j_4213;
                                                                    lbl_check_b_34 = appl_j_4214;
                                                                    var_j_4215 = lbl_check_b_34;
                                                                    if_j_4221 = var_j_4215 ? (
                                                                        var_j_4216 = tt_j_251;
                                                                    proj_j_4217 = var_j_4216.checker;
                                                                    var_j_4218 = right_j_230;
                                                                    appl_j_4219 = proj_j_4217 var_j_4218
                                                                    ) : (
                                                                        var_j_4220 = lbl_check_b_34
                                                                    )
                                                                    ) : (
                                                                        var_j_4222 = lbl_check_b_35
                                                                    )
                                                                ) : (
                                                                    var_j_4224 = lbl_check_b_39
                                                                )
                                                        ) : (
                                                            m_match_cond_j_4126 = m_match_bool_j_4125 ? (
                                                                    var_j_4127 = rec_fail_b_30
                                                                ) : (
                                                                    void_j_4124 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_4118 = m_match_bool_j_4117 ? (
                                                            var_j_4119 = rec_fail_b_31
                                                        ) : (
                                                            void_j_4116 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            m_match_cond_j_4110 = m_match_bool_j_4109 ? (
                                                    var_j_4111 = rec_fail_b_32
                                                ) : (
                                                    void_j_4108 = {}
                                                )
                                        ));
                                flatten_fun_j_4325 = fun bj_null_j_242 -> (
                                    var_j_4227 = tt_j_251;
                                    proj_j_4228 = var_j_4227.generator;
                                    int_j_4229 = 0;
                                    appl_j_4230 = proj_j_4228 int_j_4229;
                                    right_b_15 = appl_j_4230;
                                    var_j_4231 = tt_j_251;
                                    proj_j_4232 = var_j_4231.generator;
                                    int_j_4233 = 0;
                                    appl_j_4234 = proj_j_4232 int_j_4233;
                                    left_b_14 = appl_j_4234;
                                    bool_j_4235 = false;
                                    fail_b_28 = bool_j_4235;
                                    flatten_fun_j_4244 = fun expr_b_27 -> (
                                        var_j_4236 = expr_b_27;
                                        m_match_bool_j_4238 = var_j_4236 ~ any;
                                        m_match_bool_j_4241 = var_j_4236 ~ int;
                                        m_match_cond_j_4242 = m_match_bool_j_4241 ? (
                                                bool_j_4243 = true
                                            ) : (
                                                m_match_cond_j_4239 = m_match_bool_j_4238 ? (
                                                        var_j_4240 = fail_b_28
                                                    ) : (
                                                        void_j_4237 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_4246 = fun bj_null_j_238 -> (
                                        input_j_4245 = input);
                                    flatten_fun_j_4248 = fun expr_b_29 -> (
                                        var_j_4247 = expr_b_29);
                                    record_j_4249 = {checker = flatten_fun_j_4244, generator = flatten_fun_j_4246, wrapper = flatten_fun_j_4248};
                                    proj_j_4250 = record_j_4249.generator;
                                    int_j_4251 = 0;
                                    appl_j_4252 = proj_j_4250 int_j_4251;
                                    item_b_13 = appl_j_4252;
                                    flatten_fun_j_4281 = fun expr_b_23 -> (
                                        bool_j_4253 = false;
                                        fail_b_21 = bool_j_4253;
                                        flatten_fun_j_4262 = fun expr_b_20 -> (
                                            var_j_4254 = expr_b_20;
                                            m_match_bool_j_4256 = var_j_4254 ~ any;
                                            m_match_bool_j_4259 = var_j_4254 ~ int;
                                            m_match_cond_j_4260 = m_match_bool_j_4259 ? (
                                                    bool_j_4261 = true
                                                ) : (
                                                    m_match_cond_j_4257 = m_match_bool_j_4256 ? (
                                                            var_j_4258 = fail_b_21
                                                        ) : (
                                                            void_j_4255 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4264 = fun bj_null_j_239 -> (
                                            input_j_4263 = input);
                                        flatten_fun_j_4266 = fun expr_b_22 -> (
                                            var_j_4265 = expr_b_22);
                                        record_j_4267 = {checker = flatten_fun_j_4262, generator = flatten_fun_j_4264, wrapper = flatten_fun_j_4266};
                                        proj_j_4268 = record_j_4267.checker;
                                        var_j_4269 = expr_b_23;
                                        appl_j_4270 = proj_j_4268 var_j_4269;
                                        t_check_b_24 = appl_j_4270;
                                        var_j_4271 = t_check_b_24;
                                        if_j_4280 = var_j_4271 ? (
                                                bool_j_4272 = false;
                                                pred_check_b_25 = bool_j_4272;
                                                var_j_4273 = is_pos;
                                                var_j_4274 = expr_b_23;
                                                appl_j_4275 = var_j_4273 var_j_4274;
                                                if_j_4278 = appl_j_4275 ? (
                                                        bool_j_4276 = true
                                                    ) : (
                                                        var_j_4277 = pred_check_b_25
                                                    )
                                            ) : (
                                                var_j_4279 = t_check_b_24
                                            ));
                                    flatten_fun_j_4307 = fun bj_null_j_241 -> (
                                        bool_j_4282 = false;
                                        fail_b_17 = bool_j_4282;
                                        flatten_fun_j_4291 = fun expr_b_16 -> (
                                            var_j_4283 = expr_b_16;
                                            m_match_bool_j_4285 = var_j_4283 ~ any;
                                            m_match_bool_j_4288 = var_j_4283 ~ int;
                                            m_match_cond_j_4289 = m_match_bool_j_4288 ? (
                                                    bool_j_4290 = true
                                                ) : (
                                                    m_match_cond_j_4286 = m_match_bool_j_4285 ? (
                                                            var_j_4287 = fail_b_17
                                                        ) : (
                                                            void_j_4284 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_4293 = fun bj_null_j_240 -> (
                                            input_j_4292 = input);
                                        flatten_fun_j_4295 = fun expr_b_18 -> (
                                            var_j_4294 = expr_b_18);
                                        record_j_4296 = {checker = flatten_fun_j_4291, generator = flatten_fun_j_4293, wrapper = flatten_fun_j_4295};
                                        proj_j_4297 = record_j_4296.generator;
                                        int_j_4298 = 0;
                                        appl_j_4299 = proj_j_4297 int_j_4298;
                                        candidate_b_19 = appl_j_4299;
                                        var_j_4300 = is_pos;
                                        var_j_4301 = candidate_b_19;
                                        appl_j_4302 = var_j_4300 var_j_4301;
                                        if_j_4306 = appl_j_4302 ? (
                                                var_j_4303 = candidate_b_19
                                            ) : (
                                                bool_j_4304 = false;
                                                assume_j_4305 = assume bool_j_4304
                                            ));
                                    flatten_fun_j_4309 = fun expr_b_26 -> (
                                        var_j_4308 = expr_b_26);
                                    record_j_4310 = {checker = flatten_fun_j_4281, generator = flatten_fun_j_4307, wrapper = flatten_fun_j_4309};
                                    proj_j_4311 = record_j_4310.generator;
                                    int_j_4312 = 0;
                                    appl_j_4313 = proj_j_4311 int_j_4312;
                                    height_b_12 = appl_j_4313;
                                    var_j_4314 = height_b_12;
                                    var_j_4315 = item_b_13;
                                    var_j_4316 = left_b_14;
                                    var_j_4317 = right_b_15;
                                    record_j_4318 = {height = var_j_4314, item = var_j_4315, left = var_j_4316, right = var_j_4317};
                                    record_j_4319 = {};
                                    record_j_4320 = {};
                                    record_j_4321 = {};
                                    record_j_4322 = {};
                                    record_j_4323 = {height = record_j_4319, item = record_j_4320, left = record_j_4321, right = record_j_4322};
                                    record_j_4324 = {bj_actual_rec = record_j_4318, bj_decl_lbls = record_j_4323});
                                flatten_fun_j_4327 = fun expr_b_51 -> (
                                    var_j_4326 = expr_b_51);
                                record_j_4328 = {checker = flatten_fun_j_4226, generator = flatten_fun_j_4325, wrapper = flatten_fun_j_4327};
                                proj_j_4329 = record_j_4328.generator;
                                int_j_4330 = 0;
                                appl_j_4331 = proj_j_4329 int_j_4330;
                                candidate_b_52 = appl_j_4331;
                                flatten_fun_j_4387 = fun t_j_243 -> (
                                    var_j_4332 = t_j_243;
                                    proj_j_4333 = var_j_4332.bj_decl_lbls;
                                    m_match_bool_j_4335 = proj_j_4333 ~ any;
                                    m_match_bool_j_4342 = proj_j_4333 ~ 
                                        {height, _};
                                    m_match_cond_j_4343 = m_match_bool_j_4342 ? (
                                            var_j_4344 = t_j_243;
                                            proj_j_4345 = var_j_4344.bj_actual_rec;
                                            proj_j_4346 = proj_j_4345.height
                                        ) : (
                                            m_match_cond_j_4336 = m_match_bool_j_4335 ? (
                                                    bool_j_4337 = false;
                                                    assert_pred_j_4338 = bool_j_4337;
                                                    assert_res_j_4339 = assert_pred_j_4338 ? (
                                                            assert_res_true_j_4340 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4341 = abort
                                                        )
                                                ) : (
                                                    void_j_4334 = {}
                                                )
                                        );
                                    var_j_4347 = max;
                                    var_j_4348 = height_j_337_j_382;
                                    var_j_4349 = t_j_243;
                                    proj_j_4350 = var_j_4349.bj_decl_lbls;
                                    m_match_bool_j_4352 = proj_j_4350 ~ any;
                                    m_match_bool_j_4359 = proj_j_4350 ~ 
                                        {left, _};
                                    m_match_cond_j_4360 = m_match_bool_j_4359 ? (
                                            var_j_4361 = t_j_243;
                                            proj_j_4362 = var_j_4361.bj_actual_rec;
                                            proj_j_4363 = proj_j_4362.left
                                        ) : (
                                            m_match_cond_j_4353 = m_match_bool_j_4352 ? (
                                                    bool_j_4354 = false;
                                                    assert_pred_j_4355 = bool_j_4354;
                                                    assert_res_j_4356 = assert_pred_j_4355 ? (
                                                            assert_res_true_j_4357 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4358 = abort
                                                        )
                                                ) : (
                                                    void_j_4351 = {}
                                                )
                                        );
                                    m_i_5624 = var_j_4348 ~ fun;
                                    appl_j_4364 = m_i_5624 ? (
                                            c_appl_i_5625 = var_j_4348 m_match_cond_j_4360
                                        ) : (
                                            ab_i_5626 = abort
                                        );
                                    m_i_5627 = var_j_4347 ~ fun;
                                    appl_j_4365 = m_i_5627 ? (
                                            c_appl_i_5628 = var_j_4347 appl_j_4364
                                        ) : (
                                            ab_i_5629 = abort
                                        );
                                    var_j_4366 = height_j_337_j_382;
                                    var_j_4367 = t_j_243;
                                    proj_j_4368 = var_j_4367.bj_decl_lbls;
                                    m_match_bool_j_4370 = proj_j_4368 ~ any;
                                    m_match_bool_j_4377 = proj_j_4368 ~ 
                                        {right, _};
                                    m_match_cond_j_4378 = m_match_bool_j_4377 ? (
                                            var_j_4379 = t_j_243;
                                            proj_j_4380 = var_j_4379.bj_actual_rec;
                                            proj_j_4381 = proj_j_4380.right
                                        ) : (
                                            m_match_cond_j_4371 = m_match_bool_j_4370 ? (
                                                    bool_j_4372 = false;
                                                    assert_pred_j_4373 = bool_j_4372;
                                                    assert_res_j_4374 = assert_pred_j_4373 ? (
                                                            assert_res_true_j_4375 = 
                                                                {}
                                                        ) : (
                                                            ab_j_4376 = abort
                                                        )
                                                ) : (
                                                    void_j_4369 = {}
                                                )
                                        );
                                    m_i_5630 = var_j_4366 ~ fun;
                                    appl_j_4382 = m_i_5630 ? (
                                            c_appl_i_5631 = var_j_4366 m_match_cond_j_4378
                                        ) : (
                                            ab_i_5632 = abort
                                        );
                                    m_i_5633 = appl_j_4365 ~ fun;
                                    appl_j_4383 = m_i_5633 ? (
                                            c_appl_i_5634 = appl_j_4365 appl_j_4382
                                        ) : (
                                            ab_i_5635 = abort
                                        );
                                    int_j_4384 = 1;
                                    m_bl_i_5636 = appl_j_4383 ~ int;
                                    m_br_i_5637 = int_j_4384 ~ int;
                                    m_b_i_5638 = m_bl_i_5636 and m_br_i_5637;
                                    binop_j_4385 = m_b_i_5638 ? (
                                            c_binop_i_5639 = appl_j_4383 + int_j_4384
                                        ) : (
                                            ab_i_5640 = abort
                                        );
                                    m_bl_i_5641 = m_match_cond_j_4343 ~ int;
                                    m_br_i_5642 = binop_j_4385 ~ int;
                                    m_b_i_5643 = m_bl_i_5641 and m_br_i_5642;
                                    binop_j_4386 = m_b_i_5643 ? (
                                            c_binop_i_5644 = m_match_cond_j_4343 == binop_j_4385
                                        ) : (
                                            ab_i_5645 = abort
                                        ));
                                var_j_4388 = candidate_b_52;
                                appl_j_4389 = flatten_fun_j_4387 var_j_4388;
                                if_j_4393 = appl_j_4389 ? (
                                        var_j_4390 = candidate_b_52
                                    ) : (
                                        bool_j_4391 = false;
                                        assume_j_4392 = assume bool_j_4391
                                    ));
                            flatten_fun_j_4396 = fun expr_b_96 -> (
                                var_j_4395 = expr_b_96);
                            record_j_4397 = {checker = flatten_fun_j_4103, generator = flatten_fun_j_4394, wrapper = flatten_fun_j_4396};
                            proj_j_4398 = record_j_4397.generator;
                            int_j_4399 = 0;
                            appl_j_4400 = proj_j_4398 int_j_4399
                        ) : (
                            flatten_fun_j_4447 = fun expr_b_104 -> (
                                bool_j_4401 = false;
                                rec_fail_b_103 = bool_j_4401;
                                bool_j_4402 = false;
                                rec_fail_b_102 = bool_j_4402;
                                bool_j_4403 = false;
                                rec_fail_b_101 = bool_j_4403;
                                var_j_4404 = expr_b_104;
                                m_match_bool_j_4406 = var_j_4404 ~ any;
                                m_match_bool_j_4409 = var_j_4404 ~ {bj_actual_rec, _};
                                m_match_cond_j_4410 = m_match_bool_j_4409 ? (
                                        var_j_4411 = expr_b_104;
                                        proj_j_4412 = var_j_4411.bj_decl_lbls;
                                        m_match_bool_j_4414 = proj_j_4412 ~ any;
                                        m_match_bool_j_4417 = proj_j_4412 ~ 
                                            {leaf, _};
                                        m_match_cond_j_4418 = m_match_bool_j_4417 ? (
                                                leaf_j_247 = proj_j_4412.leaf;
                                                var_j_4419 = expr_b_104;
                                                proj_j_4420 = var_j_4419.bj_actual_rec;
                                                m_match_bool_j_4422 = proj_j_4420 ~ any;
                                                m_match_bool_j_4425 = proj_j_4420 ~ 
                                                    {leaf, _};
                                                m_match_cond_j_4426 = m_match_bool_j_4425 ? (
                                                        leaf_j_246 = proj_j_4420.leaf;
                                                        bool_j_4427 = false;
                                                        fail_b_106 = bool_j_4427;
                                                        flatten_fun_j_4436 = fun expr_b_105 -> (
                                                            var_j_4428 = expr_b_105;
                                                            m_match_bool_j_4430 = var_j_4428 ~ any;
                                                            m_match_bool_j_4433 = var_j_4428 ~ bool;
                                                            m_match_cond_j_4434 = m_match_bool_j_4433 ? (
                                                                    bool_j_4435 = true
                                                                ) : (
                                                                    m_match_cond_j_4431 = m_match_bool_j_4430 ? (
                                                                        var_j_4432 = fail_b_106
                                                                    ) : (
                                                                        void_j_4429 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_4440 = fun bj_null_j_245 -> (
                                                            int_j_4437 = 0;
                                                            input_j_4438 = input;
                                                            m_bl_i_5646 = int_j_4437 ~ int;
                                                            m_br_i_5647 = input_j_4438 ~ int;
                                                            m_b_i_5648 = m_bl_i_5646 and m_br_i_5647;
                                                            binop_j_4439 = m_b_i_5648 ? (
                                                                    c_binop_i_5649 = int_j_4437 <= input_j_4438
                                                                ) : (
                                                                    ab_i_5650 = abort
                                                                ));
                                                        flatten_fun_j_4442 = fun expr_b_107 -> (
                                                            var_j_4441 = expr_b_107);
                                                        record_j_4443 = 
                                                            {checker = flatten_fun_j_4436, generator = flatten_fun_j_4440, wrapper = flatten_fun_j_4442};
                                                        proj_j_4444 = record_j_4443.checker;
                                                        var_j_4445 = leaf_j_246;
                                                        appl_j_4446 = proj_j_4444 var_j_4445
                                                    ) : (
                                                        m_match_cond_j_4423 = m_match_bool_j_4422 ? (
                                                                var_j_4424 = rec_fail_b_101
                                                            ) : (
                                                                void_j_4421 = 
                                                                    {}
                                                            )
                                                    )
                                            ) : (
                                                m_match_cond_j_4415 = m_match_bool_j_4414 ? (
                                                        var_j_4416 = rec_fail_b_102
                                                    ) : (
                                                        void_j_4413 = 
                                                            {}
                                                    )
                                            )
                                    ) : (
                                        m_match_cond_j_4407 = m_match_bool_j_4406 ? (
                                                var_j_4408 = rec_fail_b_103
                                            ) : (
                                                void_j_4405 = {}
                                            )
                                    ));
                            flatten_fun_j_4473 = fun bj_null_j_249 -> (
                                bool_j_4448 = false;
                                fail_b_99 = bool_j_4448;
                                flatten_fun_j_4457 = fun expr_b_98 -> (
                                    var_j_4449 = expr_b_98;
                                    m_match_bool_j_4451 = var_j_4449 ~ any;
                                    m_match_bool_j_4454 = var_j_4449 ~ bool;
                                    m_match_cond_j_4455 = m_match_bool_j_4454 ? (
                                            bool_j_4456 = true
                                        ) : (
                                            m_match_cond_j_4452 = m_match_bool_j_4451 ? (
                                                    var_j_4453 = fail_b_99
                                                ) : (
                                                    void_j_4450 = {}
                                                )
                                        ));
                                flatten_fun_j_4461 = fun bj_null_j_248 -> (
                                    int_j_4458 = 0;
                                    input_j_4459 = input;
                                    m_bl_i_5651 = int_j_4458 ~ int;
                                    m_br_i_5652 = input_j_4459 ~ int;
                                    m_b_i_5653 = m_bl_i_5651 and m_br_i_5652;
                                    binop_j_4460 = m_b_i_5653 ? (
                                            c_binop_i_5654 = int_j_4458 <= input_j_4459
                                        ) : (
                                            ab_i_5655 = abort
                                        ));
                                flatten_fun_j_4463 = fun expr_b_100 -> (
                                    var_j_4462 = expr_b_100);
                                record_j_4464 = {checker = flatten_fun_j_4457, generator = flatten_fun_j_4461, wrapper = flatten_fun_j_4463};
                                proj_j_4465 = record_j_4464.generator;
                                int_j_4466 = 0;
                                appl_j_4467 = proj_j_4465 int_j_4466;
                                leaf_b_97 = appl_j_4467;
                                var_j_4468 = leaf_b_97;
                                record_j_4469 = {leaf = var_j_4468};
                                record_j_4470 = {};
                                record_j_4471 = {leaf = record_j_4470};
                                record_j_4472 = {bj_actual_rec = record_j_4469, bj_decl_lbls = record_j_4471});
                            flatten_fun_j_4475 = fun expr_b_108 -> (
                                var_j_4474 = expr_b_108);
                            record_j_4476 = {checker = flatten_fun_j_4447, generator = flatten_fun_j_4473, wrapper = flatten_fun_j_4475};
                            proj_j_4477 = record_j_4476.generator;
                            int_j_4478 = 0;
                            appl_j_4479 = proj_j_4477 int_j_4478
                        ));
                flatten_fun_j_4483 = fun expr_b_307 -> (
                    var_j_4482 = expr_b_307);
                record_j_4484 = {checker = flatten_fun_j_3805, generator = flatten_fun_j_4481, wrapper = flatten_fun_j_4483};
                proj_j_4485 = record_j_4484.generator;
                int_j_4486 = 0;
                appl_j_4487 = proj_j_4485 int_j_4486);
            var_j_4489 = self_b_7;
            int_j_4490 = 0;
            appl_j_4491 = var_j_4489 int_j_4490;
            appl_j_4492 = flatten_fun_j_4488 appl_j_4491);
        flatten_fun_j_4495 = fun expr_b_605 -> (
            var_j_4494 = expr_b_605);
        record_j_4496 = {checker = flatten_fun_j_2448, generator = flatten_fun_j_4493, wrapper = flatten_fun_j_4495}));
appl_j_4499 = ycomb_b_11 flatten_fun_j_4498;
int_j_4500 = 0;
appl_j_4501 = appl_j_4499 int_j_4500;
and__j_4509 = fun b1 -> (
    and__j_4508 = fun b2 -> (
        var_j_4502 = b1;
        m_i_5656 = var_j_4502 ~ bool;
        if_j_4507 = m_i_5656 ? (
                c_cond_i_5660 = var_j_4502 ? (
                        var_j_4503 = b2;
                        int_j_4504 = 0;
                        m_i_5657 = var_j_4503 ~ fun;
                        appl_j_4505 = m_i_5657 ? (
                                c_appl_i_5658 = var_j_4503 int_j_4504
                            ) : (
                                ab_i_5659 = abort
                            )
                    ) : (
                        bool_j_4506 = false
                    )
            ) : (
                ab_i_5661 = abort
            )));
and_ = and__j_4509;
is_leaf_j_4571 = fun x_j_335 -> (
    flatten_fun_j_4568 = fun x_b_0 -> (
        int_j_4510 = 0;
        input_j_4511 = input;
        m_bl_i_5662 = int_j_4510 ~ int;
        m_br_i_5663 = input_j_4511 ~ int;
        m_b_i_5664 = m_bl_i_5662 and m_br_i_5663;
        binop_j_4512 = m_b_i_5664 ? (
                c_binop_i_5665 = int_j_4510 < input_j_4511
            ) : (
                ab_i_5666 = abort
            );
        if_j_4518 = binop_j_4512 ? (
                var_j_4513 = appl_j_4501;
                proj_j_4514 = var_j_4513.checker;
                var_j_4515 = x_b_0;
                m_i_5667 = proj_j_4514 ~ fun;
                appl_j_4516 = m_i_5667 ? (
                        c_appl_i_5668 = proj_j_4514 var_j_4515
                    ) : (
                        ab_i_5669 = abort
                    )
            ) : (
                bool_j_4517 = true
            );
        arg_check_b_1 = if_j_4518;
        var_j_4519 = arg_check_b_1;
        if_j_4567 = var_j_4519 ? (
                bool_j_4520 = false;
                fail_b_607 = bool_j_4520;
                flatten_fun_j_4529 = fun expr_b_606 -> (
                    var_j_4521 = expr_b_606;
                    m_match_bool_j_4523 = var_j_4521 ~ any;
                    m_match_bool_j_4526 = var_j_4521 ~ bool;
                    m_match_cond_j_4527 = m_match_bool_j_4526 ? (
                            bool_j_4528 = true
                        ) : (
                            m_match_cond_j_4524 = m_match_bool_j_4523 ? (
                                    var_j_4525 = fail_b_607
                                ) : (
                                    void_j_4522 = {}
                                )
                        ));
                flatten_fun_j_4533 = fun bj_null_j_332 -> (
                    int_j_4530 = 0;
                    input_j_4531 = input;
                    m_bl_i_5670 = int_j_4530 ~ int;
                    m_br_i_5671 = input_j_4531 ~ int;
                    m_b_i_5672 = m_bl_i_5670 and m_br_i_5671;
                    binop_j_4532 = m_b_i_5672 ? (
                            c_binop_i_5673 = int_j_4530 <= input_j_4531
                        ) : (
                            ab_i_5674 = abort
                        ));
                flatten_fun_j_4535 = fun expr_b_608 -> (
                    var_j_4534 = expr_b_608);
                record_j_4536 = {checker = flatten_fun_j_4529, generator = flatten_fun_j_4533, wrapper = flatten_fun_j_4535};
                proj_j_4537 = record_j_4536.wrapper;
                bool_j_4538 = false;
                fail_b_609 = bool_j_4538;
                var_j_4539 = x_j_335;
                m_match_bool_j_4541 = var_j_4539 ~ {bj_untouched, _};
                m_match_bool_j_4548 = var_j_4539 ~ {bj_actual_rec, _};
                m_match_cond_j_4549 = m_match_bool_j_4548 ? (
                        actual_rec_b_669 = var_j_4539.bj_actual_rec;
                        var_j_4550 = x_j_335;
                        proj_j_4551 = var_j_4550.bj_decl_lbls;
                        m_match_bool_j_4553 = proj_j_4551 ~ {_};
                        m_match_bool_j_4556 = proj_j_4551 ~ {leaf};
                        m_match_cond_j_4557 = m_match_bool_j_4556 ? (
                                b_j_334 = proj_j_4551.leaf;
                                var_j_4558 = actual_rec_b_669;
                                proj_j_4559 = var_j_4558.leaf;
                                b_j_333 = proj_j_4559;
                                bool_j_4560 = true
                            ) : (
                                m_match_cond_j_4554 = m_match_bool_j_4553 ? (
                                        bool_j_4555 = false
                                    ) : (
                                        ab_j_4552 = abort
                                    )
                            )
                    ) : (
                        m_match_cond_j_4542 = m_match_bool_j_4541 ? (
                                var_j_4543 = fail_b_609;
                                assert_pred_j_4544 = var_j_4543;
                                assert_res_j_4545 = assert_pred_j_4544 ? (
                                        assert_res_true_j_4546 = {}
                                    ) : (
                                        ab_j_4547 = abort
                                    )
                            ) : (
                                ab_j_4540 = abort
                            )
                    );
                m_i_5675 = proj_j_4537 ~ fun;
                appl_j_4561 = m_i_5675 ? (
                        c_appl_i_5676 = proj_j_4537 m_match_cond_j_4549
                    ) : (
                        ab_i_5677 = abort
                    )
            ) : (
                var_j_4562 = arg_check_b_1;
                assert_pred_j_4563 = var_j_4562;
                assert_res_j_4564 = assert_pred_j_4563 ? (
                        assert_res_true_j_4565 = {}
                    ) : (
                        ab_j_4566 = abort
                    )
            ));
    var_j_4569 = x_j_335;
    appl_j_4570 = flatten_fun_j_4568 var_j_4569);
is_leaf = is_leaf_j_4571;
proj_j_4573 = appl_j_4501.generator;
int_j_4574 = 0;
appl_j_4575 = proj_j_4573 int_j_4574;
x_b_652 = appl_j_4575;
bool_j_4576 = false;
fail_b_611 = bool_j_4576;
flatten_fun_j_4585 = fun expr_b_610 -> (
    var_j_4577 = expr_b_610;
    m_match_bool_j_4579 = var_j_4577 ~ any;
    m_match_bool_j_4582 = var_j_4577 ~ bool;
    m_match_cond_j_4583 = m_match_bool_j_4582 ? (
            bool_j_4584 = true
        ) : (
            m_match_cond_j_4580 = m_match_bool_j_4579 ? (
                    var_j_4581 = fail_b_611
                ) : (
                    void_j_4578 = {}
                )
        ));
flatten_fun_j_4589 = fun bj_null_j_254 -> (
    int_j_4586 = 0;
    input_j_4587 = input;
    m_bl_i_5678 = int_j_4586 ~ int;
    m_br_i_5679 = input_j_4587 ~ int;
    m_b_i_5680 = m_bl_i_5678 and m_br_i_5679;
    binop_j_4588 = m_b_i_5680 ? (
            c_binop_i_5681 = int_j_4586 <= input_j_4587
        ) : (
            ab_i_5682 = abort
        ));
flatten_fun_j_4591 = fun expr_b_612 -> (
    var_j_4590 = expr_b_612);
record_j_4592 = {checker = flatten_fun_j_4585, generator = flatten_fun_j_4589, wrapper = flatten_fun_j_4591};
proj_j_4593 = record_j_4592.checker;
appl_j_4596 = is_leaf x_b_652;
appl_j_4597 = proj_j_4593 appl_j_4596;
check_res_b_668 = appl_j_4597;
if_j_5318 = check_res_b_668 ? (
        item_exn_j_4619 = fun x_j_331 -> (
            bool_j_4599 = false;
            fail_b_613 = bool_j_4599;
            var_j_4600 = x_j_331;
            m_match_bool_j_4602 = var_j_4600 ~ {bj_untouched, _};
            m_match_bool_j_4609 = var_j_4600 ~ {bj_actual_rec, _};
            m_match_cond_j_4610 = m_match_bool_j_4609 ? (
                    actual_rec_b_653 = var_j_4600.bj_actual_rec;
                    var_j_4611 = x_j_331;
                    proj_j_4612 = var_j_4611.bj_decl_lbls;
                    m_match_bool_j_4614 = proj_j_4612 ~ {item, _};
                    m_match_cond_j_4615 = m_match_bool_j_4614 ? (
                            i_j_330 = proj_j_4612.item;
                            var_j_4616 = actual_rec_b_653;
                            proj_j_4617 = var_j_4616.item;
                            i_j_329 = proj_j_4617;
                            var_j_4618 = i_j_329
                        ) : (
                            ab_j_4613 = abort
                        )
                ) : (
                    m_match_cond_j_4603 = m_match_bool_j_4602 ? (
                            var_j_4604 = fail_b_613;
                            assert_pred_j_4605 = var_j_4604;
                            assert_res_j_4606 = assert_pred_j_4605 ? (
                                    assert_res_true_j_4607 = {}
                                ) : (
                                    ab_j_4608 = abort
                                )
                        ) : (
                            ab_j_4601 = abort
                        )
                ));
        item_exn = item_exn_j_4619;
        left_exn_j_4640 = fun x_j_328 -> (
            bool_j_4620 = false;
            fail_b_614 = bool_j_4620;
            var_j_4621 = x_j_328;
            m_match_bool_j_4623 = var_j_4621 ~ {bj_untouched, _};
            m_match_bool_j_4630 = var_j_4621 ~ {bj_actual_rec, _};
            m_match_cond_j_4631 = m_match_bool_j_4630 ? (
                    actual_rec_b_654 = var_j_4621.bj_actual_rec;
                    var_j_4632 = x_j_328;
                    proj_j_4633 = var_j_4632.bj_decl_lbls;
                    m_match_bool_j_4635 = proj_j_4633 ~ {left, _};
                    m_match_cond_j_4636 = m_match_bool_j_4635 ? (
                            left_j_327 = proj_j_4633.left;
                            var_j_4637 = actual_rec_b_654;
                            proj_j_4638 = var_j_4637.left;
                            left_j_326 = proj_j_4638;
                            var_j_4639 = left_j_326
                        ) : (
                            ab_j_4634 = abort
                        )
                ) : (
                    m_match_cond_j_4624 = m_match_bool_j_4623 ? (
                            var_j_4625 = fail_b_614;
                            assert_pred_j_4626 = var_j_4625;
                            assert_res_j_4627 = assert_pred_j_4626 ? (
                                    assert_res_true_j_4628 = {}
                                ) : (
                                    ab_j_4629 = abort
                                )
                        ) : (
                            ab_j_4622 = abort
                        )
                ));
        left_exn = left_exn_j_4640;
        right_exn_j_4661 = fun x_j_325 -> (
            bool_j_4641 = false;
            fail_b_615 = bool_j_4641;
            var_j_4642 = x_j_325;
            m_match_bool_j_4644 = var_j_4642 ~ {bj_untouched, _};
            m_match_bool_j_4651 = var_j_4642 ~ {bj_actual_rec, _};
            m_match_cond_j_4652 = m_match_bool_j_4651 ? (
                    actual_rec_b_655 = var_j_4642.bj_actual_rec;
                    var_j_4653 = x_j_325;
                    proj_j_4654 = var_j_4653.bj_decl_lbls;
                    m_match_bool_j_4656 = proj_j_4654 ~ {right, _};
                    m_match_cond_j_4657 = m_match_bool_j_4656 ? (
                            right_j_324 = proj_j_4654.right;
                            var_j_4658 = actual_rec_b_655;
                            proj_j_4659 = var_j_4658.right;
                            right_j_323 = proj_j_4659;
                            var_j_4660 = right_j_323
                        ) : (
                            ab_j_4655 = abort
                        )
                ) : (
                    m_match_cond_j_4645 = m_match_bool_j_4644 ? (
                            var_j_4646 = fail_b_615;
                            assert_pred_j_4647 = var_j_4646;
                            assert_res_j_4648 = assert_pred_j_4647 ? (
                                    assert_res_true_j_4649 = {}
                                ) : (
                                    ab_j_4650 = abort
                                )
                        ) : (
                            ab_j_4643 = abort
                        )
                ));
        right_exn = right_exn_j_4661;
        bool_j_4662 = true;
        record_j_4663 = {leaf = bool_j_4662};
        record_j_4664 = {};
        record_j_4665 = {leaf = record_j_4664};
        record_j_4666 = {bj_actual_rec = record_j_4663, bj_decl_lbls = record_j_4665};
        empty = record_j_4666;
        balance_factor_j_4700 = fun x_j_322 -> (
            bool_j_4667 = false;
            fail_b_616 = bool_j_4667;
            var_j_4668 = x_j_322;
            m_match_bool_j_4670 = var_j_4668 ~ {bj_untouched, _};
            m_match_bool_j_4677 = var_j_4668 ~ {bj_actual_rec, _};
            m_match_cond_j_4678 = m_match_bool_j_4677 ? (
                    actual_rec_b_656 = var_j_4668.bj_actual_rec;
                    var_j_4679 = x_j_322;
                    proj_j_4680 = var_j_4679.bj_decl_lbls;
                    m_match_bool_j_4682 = proj_j_4680 ~ {left, right, _};
                    m_match_bool_j_4695 = proj_j_4680 ~ {leaf};
                    m_match_cond_j_4696 = m_match_bool_j_4695 ? (
                            leaf_j_317 = proj_j_4680.leaf;
                            var_j_4697 = actual_rec_b_656;
                            proj_j_4698 = var_j_4697.leaf;
                            leaf_j_316 = proj_j_4698;
                            int_j_4699 = 0
                        ) : (
                            m_match_cond_j_4683 = m_match_bool_j_4682 ? (
                                    left_j_321 = proj_j_4680.left;
                                    right_j_320 = proj_j_4680.right;
                                    var_j_4684 = actual_rec_b_656;
                                    proj_j_4685 = var_j_4684.right;
                                    right_j_319 = proj_j_4685;
                                    var_j_4686 = actual_rec_b_656;
                                    proj_j_4687 = var_j_4686.left;
                                    left_j_318 = proj_j_4687;
                                    var_j_4688 = height_j_337_j_382;
                                    var_j_4689 = left_j_318;
                                    m_i_5683 = var_j_4688 ~ fun;
                                    appl_j_4690 = m_i_5683 ? (
                                            c_appl_i_5684 = var_j_4688 var_j_4689
                                        ) : (
                                            ab_i_5685 = abort
                                        );
                                    var_j_4691 = height_j_337_j_382;
                                    var_j_4692 = right_j_319;
                                    m_i_5686 = var_j_4691 ~ fun;
                                    appl_j_4693 = m_i_5686 ? (
                                            c_appl_i_5687 = var_j_4691 var_j_4692
                                        ) : (
                                            ab_i_5688 = abort
                                        );
                                    m_bl_i_5689 = appl_j_4690 ~ int;
                                    m_br_i_5690 = appl_j_4693 ~ int;
                                    m_b_i_5691 = m_bl_i_5689 and m_br_i_5690;
                                    binop_j_4694 = m_b_i_5691 ? (
                                            c_binop_i_5692 = appl_j_4690 - appl_j_4693
                                        ) : (
                                            ab_i_5693 = abort
                                        )
                                ) : (
                                    ab_j_4681 = abort
                                )
                        )
                ) : (
                    m_match_cond_j_4671 = m_match_bool_j_4670 ? (
                            var_j_4672 = fail_b_616;
                            assert_pred_j_4673 = var_j_4672;
                            assert_res_j_4674 = assert_pred_j_4673 ? (
                                    assert_res_true_j_4675 = {}
                                ) : (
                                    ab_j_4676 = abort
                                )
                        ) : (
                            ab_j_4669 = abort
                        )
                ));
        balance_factor = balance_factor_j_4700;
        abs_j_4709 = fun a -> (
            int_j_4701 = 0;
            var_j_4702 = a;
            m_bl_i_5694 = int_j_4701 ~ int;
            m_br_i_5695 = var_j_4702 ~ int;
            m_b_i_5696 = m_bl_i_5694 and m_br_i_5695;
            binop_j_4703 = m_b_i_5696 ? (
                    c_binop_i_5697 = int_j_4701 < var_j_4702
                ) : (
                    ab_i_5698 = abort
                );
            m_i_5699 = binop_j_4703 ~ bool;
            if_j_4708 = m_i_5699 ? (
                    c_cond_i_5705 = binop_j_4703 ? (
                            var_j_4704 = a
                        ) : (
                            int_j_4705 = 0;
                            var_j_4706 = a;
                            m_bl_i_5700 = int_j_4705 ~ int;
                            m_br_i_5701 = var_j_4706 ~ int;
                            m_b_i_5702 = m_bl_i_5700 and m_br_i_5701;
                            binop_j_4707 = m_b_i_5702 ? (
                                    c_binop_i_5703 = int_j_4705 - var_j_4706
                                ) : (
                                    ab_i_5704 = abort
                                )
                        )
                ) : (
                    ab_i_5706 = abort
                ));
        abs = abs_j_4709;
        flatten_fun_j_4755 = fun is_balanced_j_1 -> (
            flatten_fun_j_4754 = fun x -> (
                var_j_4710 = is_balanced_j_1;
                var_j_4711 = is_balanced_j_1;
                appl_j_4712 = var_j_4710 var_j_4711;
                is_balanced = appl_j_4712;
                bool_j_4713 = false;
                fail_b_617 = bool_j_4713;
                var_j_4714 = x;
                m_match_bool_j_4716 = var_j_4714 ~ {bj_untouched, _};
                m_match_bool_j_4723 = var_j_4714 ~ {bj_actual_rec, _};
                m_match_cond_j_4724 = m_match_bool_j_4723 ? (
                        actual_rec_b_657 = var_j_4714.bj_actual_rec;
                        var_j_4725 = x;
                        proj_j_4726 = var_j_4725.bj_decl_lbls;
                        m_match_bool_j_4728 = proj_j_4726 ~ {left, right, _};
                        m_match_bool_j_4749 = proj_j_4726 ~ {leaf};
                        m_match_cond_j_4750 = m_match_bool_j_4749 ? (
                                leaf_j_256 = proj_j_4726.leaf;
                                var_j_4751 = actual_rec_b_657;
                                proj_j_4752 = var_j_4751.leaf;
                                leaf_j_255 = proj_j_4752;
                                bool_j_4753 = true
                            ) : (
                                m_match_cond_j_4729 = m_match_bool_j_4728 ? (
                                        left_j_260 = proj_j_4726.left;
                                        right_j_259 = proj_j_4726.right;
                                        var_j_4730 = actual_rec_b_657;
                                        proj_j_4731 = var_j_4730.right;
                                        right_j_258 = proj_j_4731;
                                        var_j_4732 = actual_rec_b_657;
                                        proj_j_4733 = var_j_4732.left;
                                        left_j_257 = proj_j_4733;
                                        var_j_4734 = abs;
                                        var_j_4735 = balance_factor;
                                        var_j_4736 = x;
                                        m_i_5707 = var_j_4735 ~ fun;
                                        appl_j_4737 = m_i_5707 ? (
                                                c_appl_i_5708 = var_j_4735 var_j_4736
                                            ) : (
                                                ab_i_5709 = abort
                                            );
                                        m_i_5710 = var_j_4734 ~ fun;
                                        appl_j_4738 = m_i_5710 ? (
                                                c_appl_i_5711 = var_j_4734 appl_j_4737
                                            ) : (
                                                ab_i_5712 = abort
                                            );
                                        int_j_4739 = 2;
                                        m_bl_i_5713 = appl_j_4738 ~ int;
                                        m_br_i_5714 = int_j_4739 ~ int;
                                        m_b_i_5715 = m_bl_i_5713 and m_br_i_5714;
                                        binop_j_4740 = m_b_i_5715 ? (
                                                c_binop_i_5716 = appl_j_4738 < int_j_4739
                                            ) : (
                                                ab_i_5717 = abort
                                            );
                                        var_j_4741 = is_balanced;
                                        var_j_4742 = left_j_257;
                                        m_i_5718 = var_j_4741 ~ fun;
                                        appl_j_4743 = m_i_5718 ? (
                                                c_appl_i_5719 = var_j_4741 var_j_4742
                                            ) : (
                                                ab_i_5720 = abort
                                            );
                                        m_bl_i_5721 = binop_j_4740 ~ bool;
                                        m_br_i_5722 = appl_j_4743 ~ bool;
                                        m_b_i_5723 = m_bl_i_5721 and m_br_i_5722;
                                        binop_j_4744 = m_b_i_5723 ? (
                                                c_binop_i_5724 = binop_j_4740 and appl_j_4743
                                            ) : (
                                                ab_i_5725 = abort
                                            );
                                        var_j_4745 = is_balanced;
                                        var_j_4746 = right_j_258;
                                        m_i_5726 = var_j_4745 ~ fun;
                                        appl_j_4747 = m_i_5726 ? (
                                                c_appl_i_5727 = var_j_4745 var_j_4746
                                            ) : (
                                                ab_i_5728 = abort
                                            );
                                        m_bl_i_5729 = binop_j_4744 ~ bool;
                                        m_br_i_5730 = appl_j_4747 ~ bool;
                                        m_b_i_5731 = m_bl_i_5729 and m_br_i_5730;
                                        binop_j_4748 = m_b_i_5731 ? (
                                                c_binop_i_5732 = binop_j_4744 and appl_j_4747
                                            ) : (
                                                ab_i_5733 = abort
                                            )
                                    ) : (
                                        ab_j_4727 = abort
                                    )
                            )
                    ) : (
                        m_match_cond_j_4717 = m_match_bool_j_4716 ? (
                                var_j_4718 = fail_b_617;
                                assert_pred_j_4719 = var_j_4718;
                                assert_res_j_4720 = assert_pred_j_4719 ? (
                                        assert_res_true_j_4721 = {}
                                    ) : (
                                        ab_j_4722 = abort
                                    )
                            ) : (
                                ab_j_4715 = abort
                            )
                    )));
        is_balanced_j_1_j_315 = flatten_fun_j_4755;
        var_j_4756 = is_balanced_j_1_j_315;
        var_j_4757 = is_balanced_j_1_j_315;
        appl_j_4758 = var_j_4756 var_j_4757;
        is_balanced_j_314 = appl_j_4758;
        create_node_j_4782 = fun item_j_313 -> (
            create_node_j_4781 = fun left_j_312 -> (
                create_node_j_4780 = fun right_j_311 -> (
                    int_j_4759 = 1;
                    var_j_4760 = max;
                    var_j_4761 = height_j_337_j_382;
                    var_j_4762 = left_j_312;
                    m_i_5734 = var_j_4761 ~ fun;
                    appl_j_4763 = m_i_5734 ? (
                            c_appl_i_5735 = var_j_4761 var_j_4762
                        ) : (
                            ab_i_5736 = abort
                        );
                    m_i_5737 = var_j_4760 ~ fun;
                    appl_j_4764 = m_i_5737 ? (
                            c_appl_i_5738 = var_j_4760 appl_j_4763
                        ) : (
                            ab_i_5739 = abort
                        );
                    var_j_4765 = height_j_337_j_382;
                    var_j_4766 = right_j_311;
                    m_i_5740 = var_j_4765 ~ fun;
                    appl_j_4767 = m_i_5740 ? (
                            c_appl_i_5741 = var_j_4765 var_j_4766
                        ) : (
                            ab_i_5742 = abort
                        );
                    m_i_5743 = appl_j_4764 ~ fun;
                    appl_j_4768 = m_i_5743 ? (
                            c_appl_i_5744 = appl_j_4764 appl_j_4767
                        ) : (
                            ab_i_5745 = abort
                        );
                    m_bl_i_5746 = int_j_4759 ~ int;
                    m_br_i_5747 = appl_j_4768 ~ int;
                    m_b_i_5748 = m_bl_i_5746 and m_br_i_5747;
                    binop_j_4769 = m_b_i_5748 ? (
                            c_binop_i_5749 = int_j_4759 + appl_j_4768
                        ) : (
                            ab_i_5750 = abort
                        );
                    var_j_4770 = item_j_313;
                    var_j_4771 = left_j_312;
                    var_j_4772 = right_j_311;
                    record_j_4773 = {height = binop_j_4769, item = var_j_4770, left = var_j_4771, right = var_j_4772};
                    record_j_4774 = {};
                    record_j_4775 = {};
                    record_j_4776 = {};
                    record_j_4777 = {};
                    record_j_4778 = {height = record_j_4774, item = record_j_4775, left = record_j_4776, right = record_j_4777};
                    record_j_4779 = {bj_actual_rec = record_j_4773, bj_decl_lbls = record_j_4778})));
        create_node = create_node_j_4782;
        rotate_left_j_4842 = fun x_j_310 -> (
            bool_j_4783 = false;
            fail_b_618 = bool_j_4783;
            var_j_4784 = x_j_310;
            m_match_bool_j_4786 = var_j_4784 ~ {bj_untouched, _};
            m_match_bool_j_4793 = var_j_4784 ~ {bj_actual_rec, _};
            m_match_cond_j_4794 = m_match_bool_j_4793 ? (
                    actual_rec_b_659 = var_j_4784.bj_actual_rec;
                    var_j_4795 = x_j_310;
                    proj_j_4796 = var_j_4795.bj_decl_lbls;
                    m_match_bool_j_4798 = proj_j_4796 ~ {item, left, right, _};
                    m_match_cond_j_4799 = m_match_bool_j_4798 ? (
                            item_j_309 = proj_j_4796.item;
                            left_j_308 = proj_j_4796.left;
                            right_j_307 = proj_j_4796.right;
                            var_j_4800 = actual_rec_b_659;
                            proj_j_4801 = var_j_4800.right;
                            right_j_306 = proj_j_4801;
                            var_j_4802 = actual_rec_b_659;
                            proj_j_4803 = var_j_4802.left;
                            left_j_305 = proj_j_4803;
                            var_j_4804 = actual_rec_b_659;
                            proj_j_4805 = var_j_4804.item;
                            item_j_304 = proj_j_4805;
                            bool_j_4806 = false;
                            fail_b_619 = bool_j_4806;
                            var_j_4807 = right_j_306;
                            m_match_bool_j_4809 = var_j_4807 ~ {bj_untouched, _};
                            m_match_bool_j_4816 = var_j_4807 ~ {bj_actual_rec, _};
                            m_match_cond_j_4817 = m_match_bool_j_4816 ? (
                                    actual_rec_b_658 = var_j_4807.bj_actual_rec;
                                    var_j_4818 = right_j_306;
                                    proj_j_4819 = var_j_4818.bj_decl_lbls;
                                    m_match_bool_j_4821 = proj_j_4819 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_4822 = m_match_bool_j_4821 ? (
                                            ri_j_303 = proj_j_4819.item;
                                            rleft_j_302 = proj_j_4819.left;
                                            rright_j_301 = proj_j_4819.right;
                                            var_j_4823 = actual_rec_b_658;
                                            proj_j_4824 = var_j_4823.right;
                                            rright = proj_j_4824;
                                            var_j_4825 = actual_rec_b_658;
                                            proj_j_4826 = var_j_4825.left;
                                            rleft = proj_j_4826;
                                            var_j_4827 = actual_rec_b_658;
                                            proj_j_4828 = var_j_4827.item;
                                            ri = proj_j_4828;
                                            var_j_4829 = create_node;
                                            var_j_4830 = ri;
                                            m_i_5751 = var_j_4829 ~ fun;
                                            appl_j_4831 = m_i_5751 ? (
                                                    c_appl_i_5752 = var_j_4829 var_j_4830
                                                ) : (
                                                    ab_i_5753 = abort
                                                );
                                            var_j_4832 = create_node;
                                            var_j_4833 = item_j_304;
                                            m_i_5754 = var_j_4832 ~ fun;
                                            appl_j_4834 = m_i_5754 ? (
                                                    c_appl_i_5755 = var_j_4832 var_j_4833
                                                ) : (
                                                    ab_i_5756 = abort
                                                );
                                            var_j_4835 = left_j_305;
                                            m_i_5757 = appl_j_4834 ~ fun;
                                            appl_j_4836 = m_i_5757 ? (
                                                    c_appl_i_5758 = appl_j_4834 var_j_4835
                                                ) : (
                                                    ab_i_5759 = abort
                                                );
                                            var_j_4837 = rleft;
                                            m_i_5760 = appl_j_4836 ~ fun;
                                            appl_j_4838 = m_i_5760 ? (
                                                    c_appl_i_5761 = appl_j_4836 var_j_4837
                                                ) : (
                                                    ab_i_5762 = abort
                                                );
                                            m_i_5763 = appl_j_4831 ~ fun;
                                            appl_j_4839 = m_i_5763 ? (
                                                    c_appl_i_5764 = appl_j_4831 appl_j_4838
                                                ) : (
                                                    ab_i_5765 = abort
                                                );
                                            var_j_4840 = rright;
                                            m_i_5766 = appl_j_4839 ~ fun;
                                            appl_j_4841 = m_i_5766 ? (
                                                    c_appl_i_5767 = appl_j_4839 var_j_4840
                                                ) : (
                                                    ab_i_5768 = abort
                                                )
                                        ) : (
                                            ab_j_4820 = abort
                                        )
                                ) : (
                                    m_match_cond_j_4810 = m_match_bool_j_4809 ? (
                                            var_j_4811 = fail_b_619;
                                            assert_pred_j_4812 = var_j_4811;
                                            assert_res_j_4813 = assert_pred_j_4812 ? (
                                                    assert_res_true_j_4814 = 
                                                        {}
                                                ) : (
                                                    ab_j_4815 = abort
                                                )
                                        ) : (
                                            ab_j_4808 = abort
                                        )
                                )
                        ) : (
                            ab_j_4797 = abort
                        )
                ) : (
                    m_match_cond_j_4787 = m_match_bool_j_4786 ? (
                            var_j_4788 = fail_b_618;
                            assert_pred_j_4789 = var_j_4788;
                            assert_res_j_4790 = assert_pred_j_4789 ? (
                                    assert_res_true_j_4791 = {}
                                ) : (
                                    ab_j_4792 = abort
                                )
                        ) : (
                            ab_j_4785 = abort
                        )
                ));
        rotate_left = rotate_left_j_4842;
        rotate_right_j_4902 = fun x_j_300 -> (
            bool_j_4843 = false;
            fail_b_620 = bool_j_4843;
            var_j_4844 = x_j_300;
            m_match_bool_j_4846 = var_j_4844 ~ {bj_untouched, _};
            m_match_bool_j_4853 = var_j_4844 ~ {bj_actual_rec, _};
            m_match_cond_j_4854 = m_match_bool_j_4853 ? (
                    actual_rec_b_661 = var_j_4844.bj_actual_rec;
                    var_j_4855 = x_j_300;
                    proj_j_4856 = var_j_4855.bj_decl_lbls;
                    m_match_bool_j_4858 = proj_j_4856 ~ {item, left, right, _};
                    m_match_cond_j_4859 = m_match_bool_j_4858 ? (
                            item_j_299 = proj_j_4856.item;
                            left_j_298 = proj_j_4856.left;
                            right_j_297 = proj_j_4856.right;
                            var_j_4860 = actual_rec_b_661;
                            proj_j_4861 = var_j_4860.right;
                            right_j_296 = proj_j_4861;
                            var_j_4862 = actual_rec_b_661;
                            proj_j_4863 = var_j_4862.left;
                            left_j_295 = proj_j_4863;
                            var_j_4864 = actual_rec_b_661;
                            proj_j_4865 = var_j_4864.item;
                            item_j_294 = proj_j_4865;
                            bool_j_4866 = false;
                            fail_b_621 = bool_j_4866;
                            var_j_4867 = left_j_295;
                            m_match_bool_j_4869 = var_j_4867 ~ {bj_untouched, _};
                            m_match_bool_j_4876 = var_j_4867 ~ {bj_actual_rec, _};
                            m_match_cond_j_4877 = m_match_bool_j_4876 ? (
                                    actual_rec_b_660 = var_j_4867.bj_actual_rec;
                                    var_j_4878 = left_j_295;
                                    proj_j_4879 = var_j_4878.bj_decl_lbls;
                                    m_match_bool_j_4881 = proj_j_4879 ~ 
                                        {item, left, right, _};
                                    m_match_cond_j_4882 = m_match_bool_j_4881 ? (
                                            li_j_293 = proj_j_4879.item;
                                            lleft_j_292 = proj_j_4879.left;
                                            lright_j_291 = proj_j_4879.right;
                                            var_j_4883 = actual_rec_b_660;
                                            proj_j_4884 = var_j_4883.right;
                                            lright = proj_j_4884;
                                            var_j_4885 = actual_rec_b_660;
                                            proj_j_4886 = var_j_4885.left;
                                            lleft = proj_j_4886;
                                            var_j_4887 = actual_rec_b_660;
                                            proj_j_4888 = var_j_4887.item;
                                            li = proj_j_4888;
                                            var_j_4889 = create_node;
                                            var_j_4890 = li;
                                            m_i_5769 = var_j_4889 ~ fun;
                                            appl_j_4891 = m_i_5769 ? (
                                                    c_appl_i_5770 = var_j_4889 var_j_4890
                                                ) : (
                                                    ab_i_5771 = abort
                                                );
                                            var_j_4892 = lleft;
                                            m_i_5772 = appl_j_4891 ~ fun;
                                            appl_j_4893 = m_i_5772 ? (
                                                    c_appl_i_5773 = appl_j_4891 var_j_4892
                                                ) : (
                                                    ab_i_5774 = abort
                                                );
                                            var_j_4894 = create_node;
                                            var_j_4895 = item_j_294;
                                            m_i_5775 = var_j_4894 ~ fun;
                                            appl_j_4896 = m_i_5775 ? (
                                                    c_appl_i_5776 = var_j_4894 var_j_4895
                                                ) : (
                                                    ab_i_5777 = abort
                                                );
                                            var_j_4897 = lright;
                                            m_i_5778 = appl_j_4896 ~ fun;
                                            appl_j_4898 = m_i_5778 ? (
                                                    c_appl_i_5779 = appl_j_4896 var_j_4897
                                                ) : (
                                                    ab_i_5780 = abort
                                                );
                                            var_j_4899 = right_j_296;
                                            m_i_5781 = appl_j_4898 ~ fun;
                                            appl_j_4900 = m_i_5781 ? (
                                                    c_appl_i_5782 = appl_j_4898 var_j_4899
                                                ) : (
                                                    ab_i_5783 = abort
                                                );
                                            m_i_5784 = appl_j_4893 ~ fun;
                                            appl_j_4901 = m_i_5784 ? (
                                                    c_appl_i_5785 = appl_j_4893 appl_j_4900
                                                ) : (
                                                    ab_i_5786 = abort
                                                )
                                        ) : (
                                            ab_j_4880 = abort
                                        )
                                ) : (
                                    m_match_cond_j_4870 = m_match_bool_j_4869 ? (
                                            var_j_4871 = fail_b_621;
                                            assert_pred_j_4872 = var_j_4871;
                                            assert_res_j_4873 = assert_pred_j_4872 ? (
                                                    assert_res_true_j_4874 = 
                                                        {}
                                                ) : (
                                                    ab_j_4875 = abort
                                                )
                                        ) : (
                                            ab_j_4868 = abort
                                        )
                                )
                        ) : (
                            ab_j_4857 = abort
                        )
                ) : (
                    m_match_cond_j_4847 = m_match_bool_j_4846 ? (
                            var_j_4848 = fail_b_620;
                            assert_pred_j_4849 = var_j_4848;
                            assert_res_j_4850 = assert_pred_j_4849 ? (
                                    assert_res_true_j_4851 = {}
                                ) : (
                                    ab_j_4852 = abort
                                )
                        ) : (
                            ab_j_4845 = abort
                        )
                ));
        rotate_right = rotate_right_j_4902;
        rotate_left_right_j_4937 = fun x_j_290 -> (
            bool_j_4903 = false;
            fail_b_622 = bool_j_4903;
            var_j_4904 = x_j_290;
            m_match_bool_j_4906 = var_j_4904 ~ {bj_untouched, _};
            m_match_bool_j_4913 = var_j_4904 ~ {bj_actual_rec, _};
            m_match_cond_j_4914 = m_match_bool_j_4913 ? (
                    actual_rec_b_662 = var_j_4904.bj_actual_rec;
                    var_j_4915 = x_j_290;
                    proj_j_4916 = var_j_4915.bj_decl_lbls;
                    m_match_bool_j_4918 = proj_j_4916 ~ {item, left, right, _};
                    m_match_cond_j_4919 = m_match_bool_j_4918 ? (
                            item_j_289 = proj_j_4916.item;
                            left_j_288 = proj_j_4916.left;
                            right_j_287 = proj_j_4916.right;
                            var_j_4920 = actual_rec_b_662;
                            proj_j_4921 = var_j_4920.right;
                            right_j_286 = proj_j_4921;
                            var_j_4922 = actual_rec_b_662;
                            proj_j_4923 = var_j_4922.left;
                            left_j_285 = proj_j_4923;
                            var_j_4924 = actual_rec_b_662;
                            proj_j_4925 = var_j_4924.item;
                            item_j_284 = proj_j_4925;
                            var_j_4926 = rotate_right;
                            var_j_4927 = create_node;
                            var_j_4928 = item_j_284;
                            m_i_5787 = var_j_4927 ~ fun;
                            appl_j_4929 = m_i_5787 ? (
                                    c_appl_i_5788 = var_j_4927 var_j_4928
                                ) : (
                                    ab_i_5789 = abort
                                );
                            var_j_4930 = rotate_left;
                            var_j_4931 = left_j_285;
                            m_i_5790 = var_j_4930 ~ fun;
                            appl_j_4932 = m_i_5790 ? (
                                    c_appl_i_5791 = var_j_4930 var_j_4931
                                ) : (
                                    ab_i_5792 = abort
                                );
                            m_i_5793 = appl_j_4929 ~ fun;
                            appl_j_4933 = m_i_5793 ? (
                                    c_appl_i_5794 = appl_j_4929 appl_j_4932
                                ) : (
                                    ab_i_5795 = abort
                                );
                            var_j_4934 = right_j_286;
                            m_i_5796 = appl_j_4933 ~ fun;
                            appl_j_4935 = m_i_5796 ? (
                                    c_appl_i_5797 = appl_j_4933 var_j_4934
                                ) : (
                                    ab_i_5798 = abort
                                );
                            m_i_5799 = var_j_4926 ~ fun;
                            appl_j_4936 = m_i_5799 ? (
                                    c_appl_i_5800 = var_j_4926 appl_j_4935
                                ) : (
                                    ab_i_5801 = abort
                                )
                        ) : (
                            ab_j_4917 = abort
                        )
                ) : (
                    m_match_cond_j_4907 = m_match_bool_j_4906 ? (
                            var_j_4908 = fail_b_622;
                            assert_pred_j_4909 = var_j_4908;
                            assert_res_j_4910 = assert_pred_j_4909 ? (
                                    assert_res_true_j_4911 = {}
                                ) : (
                                    ab_j_4912 = abort
                                )
                        ) : (
                            ab_j_4905 = abort
                        )
                ));
        rotate_left_right = rotate_left_right_j_4937;
        rotate_right_left_j_4972 = fun x_j_283 -> (
            bool_j_4938 = false;
            fail_b_623 = bool_j_4938;
            var_j_4939 = x_j_283;
            m_match_bool_j_4941 = var_j_4939 ~ {bj_untouched, _};
            m_match_bool_j_4948 = var_j_4939 ~ {bj_actual_rec, _};
            m_match_cond_j_4949 = m_match_bool_j_4948 ? (
                    actual_rec_b_663 = var_j_4939.bj_actual_rec;
                    var_j_4950 = x_j_283;
                    proj_j_4951 = var_j_4950.bj_decl_lbls;
                    m_match_bool_j_4953 = proj_j_4951 ~ {item, left, right, _};
                    m_match_cond_j_4954 = m_match_bool_j_4953 ? (
                            item_j_282 = proj_j_4951.item;
                            left_j_281 = proj_j_4951.left;
                            right_j_280 = proj_j_4951.right;
                            var_j_4955 = actual_rec_b_663;
                            proj_j_4956 = var_j_4955.right;
                            right_j_279 = proj_j_4956;
                            var_j_4957 = actual_rec_b_663;
                            proj_j_4958 = var_j_4957.left;
                            left_j_278 = proj_j_4958;
                            var_j_4959 = actual_rec_b_663;
                            proj_j_4960 = var_j_4959.item;
                            item_j_277 = proj_j_4960;
                            var_j_4961 = rotate_left;
                            var_j_4962 = create_node;
                            var_j_4963 = item_j_277;
                            m_i_5802 = var_j_4962 ~ fun;
                            appl_j_4964 = m_i_5802 ? (
                                    c_appl_i_5803 = var_j_4962 var_j_4963
                                ) : (
                                    ab_i_5804 = abort
                                );
                            var_j_4965 = left_j_278;
                            m_i_5805 = appl_j_4964 ~ fun;
                            appl_j_4966 = m_i_5805 ? (
                                    c_appl_i_5806 = appl_j_4964 var_j_4965
                                ) : (
                                    ab_i_5807 = abort
                                );
                            var_j_4967 = rotate_right;
                            var_j_4968 = right_j_279;
                            m_i_5808 = var_j_4967 ~ fun;
                            appl_j_4969 = m_i_5808 ? (
                                    c_appl_i_5809 = var_j_4967 var_j_4968
                                ) : (
                                    ab_i_5810 = abort
                                );
                            m_i_5811 = appl_j_4966 ~ fun;
                            appl_j_4970 = m_i_5811 ? (
                                    c_appl_i_5812 = appl_j_4966 appl_j_4969
                                ) : (
                                    ab_i_5813 = abort
                                );
                            m_i_5814 = var_j_4961 ~ fun;
                            appl_j_4971 = m_i_5814 ? (
                                    c_appl_i_5815 = var_j_4961 appl_j_4970
                                ) : (
                                    ab_i_5816 = abort
                                )
                        ) : (
                            ab_j_4952 = abort
                        )
                ) : (
                    m_match_cond_j_4942 = m_match_bool_j_4941 ? (
                            var_j_4943 = fail_b_623;
                            assert_pred_j_4944 = var_j_4943;
                            assert_res_j_4945 = assert_pred_j_4944 ? (
                                    assert_res_true_j_4946 = {}
                                ) : (
                                    ab_j_4947 = abort
                                )
                        ) : (
                            ab_j_4940 = abort
                        )
                ));
        rotate_right_left = rotate_right_left_j_4972;
        flatten_fun_j_5213 = fun insert_j_0 -> (
            flatten_fun_j_5212 = fun tree -> (
                flatten_fun_j_5211 = fun i_j_271 -> (
                    var_j_4973 = insert_j_0;
                    var_j_4974 = insert_j_0;
                    appl_j_4975 = var_j_4973 var_j_4974;
                    insert = appl_j_4975;
                    flatten_fun_j_5208 = fun tree_b_4 -> (
                        int_j_4976 = 0;
                        input_j_4977 = input;
                        m_bl_i_5817 = int_j_4976 ~ int;
                        m_br_i_5818 = input_j_4977 ~ int;
                        m_b_i_5819 = m_bl_i_5817 and m_br_i_5818;
                        binop_j_4978 = m_b_i_5819 ? (
                                c_binop_i_5820 = int_j_4976 < input_j_4977
                            ) : (
                                ab_i_5821 = abort
                            );
                        if_j_5013 = binop_j_4978 ? (
                                flatten_fun_j_4993 = fun expr_b_633 -> (
                                    var_j_4979 = appl_j_4501;
                                    proj_j_4980 = var_j_4979.checker;
                                    var_j_4981 = expr_b_633;
                                    appl_j_4982 = proj_j_4980 var_j_4981;
                                    t_check_b_634 = appl_j_4982;
                                    var_j_4983 = t_check_b_634;
                                    if_j_4992 = var_j_4983 ? (
                                            bool_j_4984 = false;
                                            pred_check_b_635 = bool_j_4984;
                                            var_j_4985 = is_balanced_j_314;
                                            var_j_4986 = expr_b_633;
                                            appl_j_4987 = var_j_4985 var_j_4986;
                                            if_j_4990 = appl_j_4987 ? (
                                                    bool_j_4988 = true
                                                ) : (
                                                    var_j_4989 = pred_check_b_635
                                                )
                                        ) : (
                                            var_j_4991 = t_check_b_634
                                        ));
                                flatten_fun_j_5005 = fun bj_null_j_261 -> (
                                    var_j_4994 = appl_j_4501;
                                    proj_j_4995 = var_j_4994.generator;
                                    int_j_4996 = 0;
                                    appl_j_4997 = proj_j_4995 int_j_4996;
                                    candidate_b_632 = appl_j_4997;
                                    var_j_4998 = is_balanced_j_314;
                                    var_j_4999 = candidate_b_632;
                                    appl_j_5000 = var_j_4998 var_j_4999;
                                    if_j_5004 = appl_j_5000 ? (
                                            var_j_5001 = candidate_b_632
                                        ) : (
                                            bool_j_5002 = false;
                                            assume_j_5003 = assume bool_j_5002
                                        ));
                                flatten_fun_j_5007 = fun expr_b_636 -> (
                                    var_j_5006 = expr_b_636);
                                record_j_5008 = {checker = flatten_fun_j_4993, generator = flatten_fun_j_5005, wrapper = flatten_fun_j_5007};
                                proj_j_5009 = record_j_5008.checker;
                                var_j_5010 = tree_b_4;
                                m_i_5822 = proj_j_5009 ~ fun;
                                appl_j_5011 = m_i_5822 ? (
                                        c_appl_i_5823 = proj_j_5009 var_j_5010
                                    ) : (
                                        ab_i_5824 = abort
                                    )
                            ) : (
                                bool_j_5012 = true
                            );
                        arg_check_b_5 = if_j_5013;
                        var_j_5014 = arg_check_b_5;
                        if_j_5207 = var_j_5014 ? (
                                flatten_fun_j_5199 = fun i_b_2 -> (
                                    int_j_5015 = 0;
                                    input_j_5016 = input;
                                    m_bl_i_5825 = int_j_5015 ~ int;
                                    m_br_i_5826 = input_j_5016 ~ int;
                                    m_b_i_5827 = m_bl_i_5825 and m_br_i_5826;
                                    binop_j_5017 = m_b_i_5827 ? (
                                            c_binop_i_5828 = int_j_5015 < input_j_5016
                                        ) : (
                                            ab_i_5829 = abort
                                        );
                                    if_j_5037 = binop_j_5017 ? (
                                            bool_j_5018 = false;
                                            fail_b_638 = bool_j_5018;
                                            flatten_fun_j_5027 = fun expr_b_637 -> (
                                                var_j_5019 = expr_b_637;
                                                m_match_bool_j_5021 = var_j_5019 ~ any;
                                                m_match_bool_j_5024 = var_j_5019 ~ int;
                                                m_match_cond_j_5025 = m_match_bool_j_5024 ? (
                                                        bool_j_5026 = true
                                                    ) : (
                                                        m_match_cond_j_5022 = m_match_bool_j_5021 ? (
                                                                var_j_5023 = fail_b_638
                                                            ) : (
                                                                void_j_5020 = 
                                                                    {}
                                                            )
                                                    ));
                                            flatten_fun_j_5029 = fun bj_null_j_262 -> (
                                                input_j_5028 = input);
                                            flatten_fun_j_5031 = fun expr_b_639 -> (
                                                var_j_5030 = expr_b_639);
                                            record_j_5032 = {checker = flatten_fun_j_5027, generator = flatten_fun_j_5029, wrapper = flatten_fun_j_5031};
                                            proj_j_5033 = record_j_5032.checker;
                                            var_j_5034 = i_b_2;
                                            m_i_5830 = proj_j_5033 ~ fun;
                                            appl_j_5035 = m_i_5830 ? (
                                                    c_appl_i_5831 = proj_j_5033 var_j_5034
                                                ) : (
                                                    ab_i_5832 = abort
                                                )
                                        ) : (
                                            bool_j_5036 = true
                                        );
                                    arg_check_b_3 = if_j_5037;
                                    var_j_5038 = arg_check_b_3;
                                    if_j_5198 = var_j_5038 ? (
                                            flatten_fun_j_5053 = fun expr_b_641 -> (
                                                var_j_5039 = appl_j_4501;
                                                proj_j_5040 = var_j_5039.checker;
                                                var_j_5041 = expr_b_641;
                                                appl_j_5042 = proj_j_5040 var_j_5041;
                                                t_check_b_642 = appl_j_5042;
                                                var_j_5043 = t_check_b_642;
                                                if_j_5052 = var_j_5043 ? (
                                                        bool_j_5044 = false;
                                                        pred_check_b_643 = bool_j_5044;
                                                        var_j_5045 = is_balanced_j_314;
                                                        var_j_5046 = expr_b_641;
                                                        appl_j_5047 = var_j_5045 var_j_5046;
                                                        if_j_5050 = appl_j_5047 ? (
                                                                bool_j_5048 = true
                                                            ) : (
                                                                var_j_5049 = pred_check_b_643
                                                            )
                                                    ) : (
                                                        var_j_5051 = t_check_b_642
                                                    ));
                                            flatten_fun_j_5065 = fun bj_null_j_263 -> (
                                                var_j_5054 = appl_j_4501;
                                                proj_j_5055 = var_j_5054.generator;
                                                int_j_5056 = 0;
                                                appl_j_5057 = proj_j_5055 int_j_5056;
                                                candidate_b_640 = appl_j_5057;
                                                var_j_5058 = is_balanced_j_314;
                                                var_j_5059 = candidate_b_640;
                                                appl_j_5060 = var_j_5058 var_j_5059;
                                                if_j_5064 = appl_j_5060 ? (
                                                        var_j_5061 = candidate_b_640
                                                    ) : (
                                                        bool_j_5062 = false;
                                                        assume_j_5063 = assume bool_j_5062
                                                    ));
                                            flatten_fun_j_5067 = fun expr_b_644 -> (
                                                var_j_5066 = expr_b_644);
                                            record_j_5068 = {checker = flatten_fun_j_5053, generator = flatten_fun_j_5065, wrapper = flatten_fun_j_5067};
                                            proj_j_5069 = record_j_5068.wrapper;
                                            rebalance_j_5113 = fun i -> (
                                                rebalance_j_5112 = fun node -> (
                                                    var_j_5070 = balance_factor;
                                                    var_j_5071 = node;
                                                    m_i_5833 = var_j_5070 ~ fun;
                                                    appl_j_5072 = m_i_5833 ? (
                                                            c_appl_i_5834 = var_j_5070 var_j_5071
                                                        ) : (
                                                            ab_i_5835 = abort
                                                        );
                                                    bf = appl_j_5072;
                                                    int_j_5073 = 1;
                                                    var_j_5074 = bf;
                                                    m_bl_i_5836 = int_j_5073 ~ int;
                                                    m_br_i_5837 = var_j_5074 ~ int;
                                                    m_b_i_5838 = m_bl_i_5836 and m_br_i_5837;
                                                    binop_j_5075 = m_b_i_5838 ? (
                                                            c_binop_i_5839 = int_j_5073 < var_j_5074
                                                        ) : (
                                                            ab_i_5840 = abort
                                                        );
                                                    m_i_5841 = binop_j_5075 ~ bool;
                                                    if_j_5111 = m_i_5841 ? (
                                                            c_cond_i_5895 = binop_j_5075 ? (
                                                                    var_j_5076 = i;
                                                                    var_j_5077 = item_exn;
                                                                    var_j_5078 = left_exn;
                                                                    var_j_5079 = node;
                                                                    m_i_5842 = var_j_5078 ~ fun;
                                                                    appl_j_5080 = m_i_5842 ? (
                                                                        c_appl_i_5843 = var_j_5078 var_j_5079
                                                                    ) : (
                                                                        ab_i_5844 = abort
                                                                    );
                                                                    m_i_5845 = var_j_5077 ~ fun;
                                                                    appl_j_5081 = m_i_5845 ? (
                                                                        c_appl_i_5846 = var_j_5077 appl_j_5080
                                                                    ) : (
                                                                        ab_i_5847 = abort
                                                                    );
                                                                    m_bl_i_5848 = var_j_5076 ~ int;
                                                                    m_br_i_5849 = appl_j_5081 ~ int;
                                                                    m_b_i_5850 = m_bl_i_5848 and m_br_i_5849;
                                                                    binop_j_5082 = m_b_i_5850 ? (
                                                                        c_binop_i_5851 = var_j_5076 < appl_j_5081
                                                                    ) : (
                                                                        ab_i_5852 = abort
                                                                    );
                                                                    m_i_5853 = binop_j_5082 ~ bool;
                                                                    if_j_5089 = m_i_5853 ? (
                                                                        c_cond_i_5860 = binop_j_5082 ? (
                                                                        var_j_5083 = rotate_left;
                                                                    var_j_5084 = node;
                                                                    m_i_5854 = var_j_5083 ~ fun;
                                                                    appl_j_5085 = m_i_5854 ? (
                                                                        c_appl_i_5855 = var_j_5083 var_j_5084
                                                                    ) : (
                                                                        ab_i_5856 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5086 = rotate_left_right;
                                                                    var_j_5087 = node;
                                                                    m_i_5857 = var_j_5086 ~ fun;
                                                                    appl_j_5088 = m_i_5857 ? (
                                                                        c_appl_i_5858 = var_j_5086 var_j_5087
                                                                    ) : (
                                                                        ab_i_5859 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_5861 = abort
                                                                    )
                                                                ) : (
                                                                    var_j_5090 = bf;
                                                                    int_j_5091 = 0;
                                                                    int_j_5092 = 1;
                                                                    m_bl_i_5862 = int_j_5091 ~ int;
                                                                    m_br_i_5863 = int_j_5092 ~ int;
                                                                    m_b_i_5864 = m_bl_i_5862 and m_br_i_5863;
                                                                    binop_j_5093 = m_b_i_5864 ? (
                                                                        c_binop_i_5865 = int_j_5091 - int_j_5092
                                                                    ) : (
                                                                        ab_i_5866 = abort
                                                                    );
                                                                    m_bl_i_5867 = var_j_5090 ~ int;
                                                                    m_br_i_5868 = binop_j_5093 ~ int;
                                                                    m_b_i_5869 = m_bl_i_5867 and m_br_i_5868;
                                                                    binop_j_5094 = m_b_i_5869 ? (
                                                                        c_binop_i_5870 = var_j_5090 < binop_j_5093
                                                                    ) : (
                                                                        ab_i_5871 = abort
                                                                    );
                                                                    m_i_5872 = binop_j_5094 ~ bool;
                                                                    if_j_5110 = m_i_5872 ? (
                                                                        c_cond_i_5893 = binop_j_5094 ? (
                                                                        var_j_5095 = item_exn;
                                                                    var_j_5096 = right_exn;
                                                                    var_j_5097 = node;
                                                                    m_i_5873 = var_j_5096 ~ fun;
                                                                    appl_j_5098 = m_i_5873 ? (
                                                                        c_appl_i_5874 = var_j_5096 var_j_5097
                                                                    ) : (
                                                                        ab_i_5875 = abort
                                                                    );
                                                                    m_i_5876 = var_j_5095 ~ fun;
                                                                    appl_j_5099 = m_i_5876 ? (
                                                                        c_appl_i_5877 = var_j_5095 appl_j_5098
                                                                    ) : (
                                                                        ab_i_5878 = abort
                                                                    );
                                                                    var_j_5100 = i;
                                                                    m_bl_i_5879 = appl_j_5099 ~ int;
                                                                    m_br_i_5880 = var_j_5100 ~ int;
                                                                    m_b_i_5881 = m_bl_i_5879 and m_br_i_5880;
                                                                    binop_j_5101 = m_b_i_5881 ? (
                                                                        c_binop_i_5882 = appl_j_5099 < var_j_5100
                                                                    ) : (
                                                                        ab_i_5883 = abort
                                                                    );
                                                                    m_i_5884 = binop_j_5101 ~ bool;
                                                                    if_j_5108 = m_i_5884 ? (
                                                                        c_cond_i_5891 = binop_j_5101 ? (
                                                                        var_j_5102 = rotate_left;
                                                                    var_j_5103 = node;
                                                                    m_i_5885 = var_j_5102 ~ fun;
                                                                    appl_j_5104 = m_i_5885 ? (
                                                                        c_appl_i_5886 = var_j_5102 var_j_5103
                                                                    ) : (
                                                                        ab_i_5887 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5105 = rotate_right_left;
                                                                    var_j_5106 = node;
                                                                    m_i_5888 = var_j_5105 ~ fun;
                                                                    appl_j_5107 = m_i_5888 ? (
                                                                        c_appl_i_5889 = var_j_5105 var_j_5106
                                                                    ) : (
                                                                        ab_i_5890 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_5892 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5109 = node
                                                                    )
                                                                    ) : (
                                                                        ab_i_5894 = abort
                                                                    )
                                                                )
                                                        ) : (
                                                            ab_i_5896 = abort
                                                        )));
                                            rebalance = rebalance_j_5113;
                                            bool_j_5114 = false;
                                            fail_b_645 = bool_j_5114;
                                            var_j_5115 = tree;
                                            m_match_bool_j_5117 = var_j_5115 ~ 
                                                {bj_untouched, _};
                                            m_match_bool_j_5124 = var_j_5115 ~ 
                                                {bj_actual_rec, _};
                                            m_match_cond_j_5125 = m_match_bool_j_5124 ? (
                                                    actual_rec_b_667 = var_j_5115.bj_actual_rec;
                                                    var_j_5126 = tree;
                                                    proj_j_5127 = var_j_5126.bj_decl_lbls;
                                                    m_match_bool_j_5129 = proj_j_5127 ~ 
                                                        {item, left, right, _};
                                                    m_match_bool_j_5173 = proj_j_5127 ~ 
                                                        {leaf};
                                                    m_match_cond_j_5174 = m_match_bool_j_5173 ? (
                                                            b_j_264 = proj_j_5127.leaf;
                                                            var_j_5175 = actual_rec_b_667;
                                                            proj_j_5176 = var_j_5175.leaf;
                                                            b = proj_j_5176;
                                                            var_j_5177 = create_node;
                                                            var_j_5178 = i_j_271;
                                                            m_i_5897 = var_j_5177 ~ fun;
                                                            appl_j_5179 = m_i_5897 ? (
                                                                    c_appl_i_5898 = var_j_5177 var_j_5178
                                                                ) : (
                                                                    ab_i_5899 = abort
                                                                );
                                                            bool_j_5180 = true;
                                                            record_j_5181 = 
                                                                {leaf = bool_j_5180};
                                                            record_j_5182 = 
                                                                {};
                                                            record_j_5183 = 
                                                                {leaf = record_j_5182};
                                                            record_j_5184 = 
                                                                {bj_actual_rec = record_j_5181, bj_decl_lbls = record_j_5183};
                                                            m_i_5900 = appl_j_5179 ~ fun;
                                                            appl_j_5185 = m_i_5900 ? (
                                                                    c_appl_i_5901 = appl_j_5179 record_j_5184
                                                                ) : (
                                                                    ab_i_5902 = abort
                                                                );
                                                            bool_j_5186 = true;
                                                            record_j_5187 = 
                                                                {leaf = bool_j_5186};
                                                            record_j_5188 = 
                                                                {};
                                                            record_j_5189 = 
                                                                {leaf = record_j_5188};
                                                            record_j_5190 = 
                                                                {bj_actual_rec = record_j_5187, bj_decl_lbls = record_j_5189};
                                                            m_i_5903 = appl_j_5185 ~ fun;
                                                            appl_j_5191 = m_i_5903 ? (
                                                                    c_appl_i_5904 = appl_j_5185 record_j_5190
                                                                ) : (
                                                                    ab_i_5905 = abort
                                                                )
                                                        ) : (
                                                            m_match_cond_j_5130 = m_match_bool_j_5129 ? (
                                                                    item_j_270 = proj_j_5127.item;
                                                                    left_j_269 = proj_j_5127.left;
                                                                    right_j_268 = proj_j_5127.right;
                                                                    var_j_5131 = actual_rec_b_667;
                                                                    proj_j_5132 = var_j_5131.right;
                                                                    right_j_267 = proj_j_5132;
                                                                    var_j_5133 = actual_rec_b_667;
                                                                    proj_j_5134 = var_j_5133.left;
                                                                    left_j_266 = proj_j_5134;
                                                                    var_j_5135 = actual_rec_b_667;
                                                                    proj_j_5136 = var_j_5135.item;
                                                                    item_j_265 = proj_j_5136;
                                                                    var_j_5137 = i_j_271;
                                                                    var_j_5138 = item_j_265;
                                                                    m_bl_i_5906 = var_j_5137 ~ int;
                                                                    m_br_i_5907 = var_j_5138 ~ int;
                                                                    m_b_i_5908 = m_bl_i_5906 and m_br_i_5907;
                                                                    binop_j_5139 = m_b_i_5908 ? (
                                                                        c_binop_i_5909 = var_j_5137 < var_j_5138
                                                                    ) : (
                                                                        ab_i_5910 = abort
                                                                    );
                                                                    m_i_5911 = binop_j_5139 ~ bool;
                                                                    if_j_5167 = m_i_5911 ? (
                                                                        c_cond_i_5950 = binop_j_5139 ? (
                                                                        var_j_5140 = create_node;
                                                                    var_j_5141 = item_j_265;
                                                                    m_i_5912 = var_j_5140 ~ fun;
                                                                    appl_j_5142 = m_i_5912 ? (
                                                                        c_appl_i_5913 = var_j_5140 var_j_5141
                                                                    ) : (
                                                                        ab_i_5914 = abort
                                                                    );
                                                                    var_j_5143 = insert;
                                                                    var_j_5144 = left_j_266;
                                                                    m_i_5915 = var_j_5143 ~ fun;
                                                                    appl_j_5145 = m_i_5915 ? (
                                                                        c_appl_i_5916 = var_j_5143 var_j_5144
                                                                    ) : (
                                                                        ab_i_5917 = abort
                                                                    );
                                                                    var_j_5146 = i_j_271;
                                                                    m_i_5918 = appl_j_5145 ~ fun;
                                                                    appl_j_5147 = m_i_5918 ? (
                                                                        c_appl_i_5919 = appl_j_5145 var_j_5146
                                                                    ) : (
                                                                        ab_i_5920 = abort
                                                                    );
                                                                    m_i_5921 = appl_j_5142 ~ fun;
                                                                    appl_j_5148 = m_i_5921 ? (
                                                                        c_appl_i_5922 = appl_j_5142 appl_j_5147
                                                                    ) : (
                                                                        ab_i_5923 = abort
                                                                    );
                                                                    var_j_5149 = right_j_267;
                                                                    m_i_5924 = appl_j_5148 ~ fun;
                                                                    appl_j_5150 = m_i_5924 ? (
                                                                        c_appl_i_5925 = appl_j_5148 var_j_5149
                                                                    ) : (
                                                                        ab_i_5926 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5151 = item_j_265;
                                                                    var_j_5152 = i_j_271;
                                                                    m_bl_i_5927 = var_j_5151 ~ int;
                                                                    m_br_i_5928 = var_j_5152 ~ int;
                                                                    m_b_i_5929 = m_bl_i_5927 and m_br_i_5928;
                                                                    binop_j_5153 = m_b_i_5929 ? (
                                                                        c_binop_i_5930 = var_j_5151 < var_j_5152
                                                                    ) : (
                                                                        ab_i_5931 = abort
                                                                    );
                                                                    m_i_5932 = binop_j_5153 ~ bool;
                                                                    if_j_5166 = m_i_5932 ? (
                                                                        c_cond_i_5948 = binop_j_5153 ? (
                                                                        var_j_5154 = create_node;
                                                                    var_j_5155 = item_j_265;
                                                                    m_i_5933 = var_j_5154 ~ fun;
                                                                    appl_j_5156 = m_i_5933 ? (
                                                                        c_appl_i_5934 = var_j_5154 var_j_5155
                                                                    ) : (
                                                                        ab_i_5935 = abort
                                                                    );
                                                                    var_j_5157 = left_j_266;
                                                                    m_i_5936 = appl_j_5156 ~ fun;
                                                                    appl_j_5158 = m_i_5936 ? (
                                                                        c_appl_i_5937 = appl_j_5156 var_j_5157
                                                                    ) : (
                                                                        ab_i_5938 = abort
                                                                    );
                                                                    var_j_5159 = insert;
                                                                    var_j_5160 = right_j_267;
                                                                    m_i_5939 = var_j_5159 ~ fun;
                                                                    appl_j_5161 = m_i_5939 ? (
                                                                        c_appl_i_5940 = var_j_5159 var_j_5160
                                                                    ) : (
                                                                        ab_i_5941 = abort
                                                                    );
                                                                    var_j_5162 = i_j_271;
                                                                    m_i_5942 = appl_j_5161 ~ fun;
                                                                    appl_j_5163 = m_i_5942 ? (
                                                                        c_appl_i_5943 = appl_j_5161 var_j_5162
                                                                    ) : (
                                                                        ab_i_5944 = abort
                                                                    );
                                                                    m_i_5945 = appl_j_5158 ~ fun;
                                                                    appl_j_5164 = m_i_5945 ? (
                                                                        c_appl_i_5946 = appl_j_5158 appl_j_5163
                                                                    ) : (
                                                                        ab_i_5947 = abort
                                                                    )
                                                                    ) : (
                                                                        var_j_5165 = tree
                                                                    )
                                                                    ) : (
                                                                        ab_i_5949 = abort
                                                                    )
                                                                    )
                                                                    ) : (
                                                                        ab_i_5951 = abort
                                                                    );
                                                                    new_node = if_j_5167;
                                                                    var_j_5168 = rebalance;
                                                                    var_j_5169 = i_j_271;
                                                                    m_i_5952 = var_j_5168 ~ fun;
                                                                    appl_j_5170 = m_i_5952 ? (
                                                                        c_appl_i_5953 = var_j_5168 var_j_5169
                                                                    ) : (
                                                                        ab_i_5954 = abort
                                                                    );
                                                                    var_j_5171 = new_node;
                                                                    m_i_5955 = appl_j_5170 ~ fun;
                                                                    appl_j_5172 = m_i_5955 ? (
                                                                        c_appl_i_5956 = appl_j_5170 var_j_5171
                                                                    ) : (
                                                                        ab_i_5957 = abort
                                                                    )
                                                                ) : (
                                                                    ab_j_5128 = abort
                                                                )
                                                        )
                                                ) : (
                                                    m_match_cond_j_5118 = m_match_bool_j_5117 ? (
                                                            var_j_5119 = fail_b_645;
                                                            assert_pred_j_5120 = var_j_5119;
                                                            assert_res_j_5121 = assert_pred_j_5120 ? (
                                                                    assert_res_true_j_5122 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_5123 = abort
                                                                )
                                                        ) : (
                                                            ab_j_5116 = abort
                                                        )
                                                );
                                            m_i_5958 = proj_j_5069 ~ fun;
                                            appl_j_5192 = m_i_5958 ? (
                                                    c_appl_i_5959 = proj_j_5069 m_match_cond_j_5125
                                                ) : (
                                                    ab_i_5960 = abort
                                                )
                                        ) : (
                                            var_j_5193 = arg_check_b_3;
                                            assert_pred_j_5194 = var_j_5193;
                                            assert_res_j_5195 = assert_pred_j_5194 ? (
                                                    assert_res_true_j_5196 = 
                                                        {}
                                                ) : (
                                                    ab_j_5197 = abort
                                                )
                                        ));
                                var_j_5200 = i_j_271;
                                appl_j_5201 = flatten_fun_j_5199 var_j_5200
                            ) : (
                                var_j_5202 = arg_check_b_5;
                                assert_pred_j_5203 = var_j_5202;
                                assert_res_j_5204 = assert_pred_j_5203 ? (
                                        assert_res_true_j_5205 = {}
                                    ) : (
                                        ab_j_5206 = abort
                                    )
                            ));
                    var_j_5209 = tree;
                    appl_j_5210 = flatten_fun_j_5208 var_j_5209)));
        insert_j_0_j_276 = flatten_fun_j_5213;
        var_j_5214 = insert_j_0_j_276;
        var_j_5215 = insert_j_0_j_276;
        appl_j_5216 = var_j_5214 var_j_5215;
        insert_j_275 = appl_j_5216;
        flatten_fun_j_5231 = fun expr_b_625 -> (
            var_j_5217 = appl_j_4501;
            proj_j_5218 = var_j_5217.checker;
            var_j_5219 = expr_b_625;
            appl_j_5220 = proj_j_5218 var_j_5219;
            t_check_b_626 = appl_j_5220;
            var_j_5221 = t_check_b_626;
            if_j_5230 = var_j_5221 ? (
                    bool_j_5222 = false;
                    pred_check_b_627 = bool_j_5222;
                    var_j_5223 = is_balanced_j_314;
                    var_j_5224 = expr_b_625;
                    appl_j_5225 = var_j_5223 var_j_5224;
                    if_j_5228 = appl_j_5225 ? (
                            bool_j_5226 = true
                        ) : (
                            var_j_5227 = pred_check_b_627
                        )
                ) : (
                    var_j_5229 = t_check_b_626
                ));
        flatten_fun_j_5243 = fun bj_null_j_272 -> (
            var_j_5232 = appl_j_4501;
            proj_j_5233 = var_j_5232.generator;
            int_j_5234 = 0;
            appl_j_5235 = proj_j_5233 int_j_5234;
            candidate_b_624 = appl_j_5235;
            var_j_5236 = is_balanced_j_314;
            var_j_5237 = candidate_b_624;
            appl_j_5238 = var_j_5236 var_j_5237;
            if_j_5242 = appl_j_5238 ? (
                    var_j_5239 = candidate_b_624
                ) : (
                    bool_j_5240 = false;
                    assume_j_5241 = assume bool_j_5240
                ));
        flatten_fun_j_5245 = fun expr_b_628 -> (
            var_j_5244 = expr_b_628);
        record_j_5246 = {checker = flatten_fun_j_5231, generator = flatten_fun_j_5243, wrapper = flatten_fun_j_5245};
        proj_j_5247 = record_j_5246.generator;
        int_j_5248 = 0;
        appl_j_5249 = proj_j_5247 int_j_5248;
        tree_b_666 = appl_j_5249;
        bool_j_5250 = false;
        fail_b_630 = bool_j_5250;
        flatten_fun_j_5259 = fun expr_b_629 -> (
            var_j_5251 = expr_b_629;
            m_match_bool_j_5253 = var_j_5251 ~ any;
            m_match_bool_j_5256 = var_j_5251 ~ int;
            m_match_cond_j_5257 = m_match_bool_j_5256 ? (
                    bool_j_5258 = true
                ) : (
                    m_match_cond_j_5254 = m_match_bool_j_5253 ? (
                            var_j_5255 = fail_b_630
                        ) : (
                            void_j_5252 = {}
                        )
                ));
        flatten_fun_j_5261 = fun bj_null_j_273 -> (
            input_j_5260 = input);
        flatten_fun_j_5263 = fun expr_b_631 -> (
            var_j_5262 = expr_b_631);
        record_j_5264 = {checker = flatten_fun_j_5259, generator = flatten_fun_j_5261, wrapper = flatten_fun_j_5263};
        proj_j_5265 = record_j_5264.generator;
        int_j_5266 = 0;
        appl_j_5267 = proj_j_5265 int_j_5266;
        i_b_665 = appl_j_5267;
        flatten_fun_j_5282 = fun expr_b_647 -> (
            var_j_5268 = appl_j_4501;
            proj_j_5269 = var_j_5268.checker;
            var_j_5270 = expr_b_647;
            appl_j_5271 = proj_j_5269 var_j_5270;
            t_check_b_648 = appl_j_5271;
            var_j_5272 = t_check_b_648;
            if_j_5281 = var_j_5272 ? (
                    bool_j_5273 = false;
                    pred_check_b_649 = bool_j_5273;
                    var_j_5274 = is_balanced_j_314;
                    var_j_5275 = expr_b_647;
                    appl_j_5276 = var_j_5274 var_j_5275;
                    if_j_5279 = appl_j_5276 ? (
                            bool_j_5277 = true
                        ) : (
                            var_j_5278 = pred_check_b_649
                        )
                ) : (
                    var_j_5280 = t_check_b_648
                ));
        flatten_fun_j_5294 = fun bj_null_j_274 -> (
            var_j_5283 = appl_j_4501;
            proj_j_5284 = var_j_5283.generator;
            int_j_5285 = 0;
            appl_j_5286 = proj_j_5284 int_j_5285;
            candidate_b_646 = appl_j_5286;
            var_j_5287 = is_balanced_j_314;
            var_j_5288 = candidate_b_646;
            appl_j_5289 = var_j_5287 var_j_5288;
            if_j_5293 = appl_j_5289 ? (
                    var_j_5290 = candidate_b_646
                ) : (
                    bool_j_5291 = false;
                    assume_j_5292 = assume bool_j_5291
                ));
        flatten_fun_j_5296 = fun expr_b_650 -> (
            var_j_5295 = expr_b_650);
        record_j_5297 = {checker = flatten_fun_j_5282, generator = flatten_fun_j_5294, wrapper = flatten_fun_j_5296};
        proj_j_5298 = record_j_5297.checker;
        var_j_5299 = insert_j_275;
        var_j_5300 = tree_b_666;
        appl_j_5301 = var_j_5299 var_j_5300;
        var_j_5302 = i_b_665;
        appl_j_5303 = appl_j_5301 var_j_5302;
        appl_j_5304 = proj_j_5298 appl_j_5303;
        check_res_b_664 = appl_j_5304;
        var_j_5305 = check_res_b_664;
        if_j_5312 = var_j_5305 ? (
                var_j_5306 = insert_j_275
            ) : (
                error_var_j_5307 = check_res_b_664;
                assert_pred_j_5308 = error_var_j_5307;
                assert_res_j_5309 = assert_pred_j_5308 ? (
                        assert_res_true_j_5310 = {}
                    ) : (
                        ab_j_5311 = abort
                    )
            )
    ) : (
        error_var_j_5313 = check_res_b_668;
        assert_pred_j_5314 = error_var_j_5313;
        assert_res_j_5315 = assert_pred_j_5314 ? (
                assert_res_true_j_5316 = {}
            ) : (
                ab_j_5317 = abort
            )
    );
i_result = if_j_5318