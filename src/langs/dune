(copy_files# parse-bluejay/*.{ml,mli})
(copy_files parse-bluejay/*.{mll,mly})

(ocamllex
  lexer
)
(menhir
  (flags --explain)
  (modules
    parser
  )
)

(library
 (name langs)
 (public_name jay.langs)
 (synopsis "Languages in Jaylang")
 (libraries
  core
  batteries
  preface
  monadlib
  ; bluejay
  fmt)
 (preprocess
  (pps ocaml-monadic ppx_sexp_conv ppx_compare ppx_hash)) ; todo ppx for hash, equal
;  (flags
;   (:standard -w -39) ;for ppx_deriving_yojson, which generates extra rec flags
;   )
)
