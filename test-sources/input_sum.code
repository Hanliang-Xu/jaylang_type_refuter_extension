# EXPECT-INPUT-SEQUENCES-REACH r_3 [ 0 ] !
# EXPECT-INPUT-SEQUENCES-REACH r_is_zero [ 0 ] !
# EXPECT-INPUT-SEQUENCES-REACH r_2 [ 0 ] !
# EXPECT-INPUT-SEQUENCES-REACH nn [ 1 ] !

## none of these expects work.

sum = fun sum_clone -> (
  dummy_1 = 0;
  r_3 = fun n -> (
    dummy_2 = 0;
    zero = 0;
    r_is_zero = n == zero;
    variable3 = r_is_zero
    ? (
      dummy_3 = 0;
      r_2 = 0;
    ) : (
      one = 1;
      nn = n - one;
      ssum = sum_clone sum_clone;
      partial_sum = ssum nn;
      r_1 = n + partial_sum;    
    );
  );
);

x = input;
sum_f = sum sum;
result = sum_f x;
