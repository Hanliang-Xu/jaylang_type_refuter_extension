bool_j_9 = false;
fail_b_1 = bool_j_9;
flatten_fun_j_18 = fun expr_b_0 -> (
    var_j_10 = expr_b_0;
    m_match_bool_j_12 = var_j_10 ~ any;
    m_match_bool_j_15 = var_j_10 ~ bool;
    m_match_cond_j_16 = m_match_bool_j_15 ? (
            bool_j_17 = true
        ) : (
            m_match_cond_j_13 = m_match_bool_j_12 ? (
                    var_j_14 = fail_b_1
                ) : (
                    void_j_11 = {}
                )
        ));
flatten_fun_j_22 = fun bj_null -> (
    int_j_19 = 0;
    input_j_20 = input;
    m_bl_i_225 = int_j_19 ~ int;
    m_br_i_226 = input_j_20 ~ int;
    m_b_i_227 = m_bl_i_225 and m_br_i_226;
    binop_j_21 = m_b_i_227 ? (
            c_binop_i_228 = int_j_19 <= input_j_20
        ) : (
            ab_i_229 = abort
        ));
record_j_23 = {checker = flatten_fun_j_18, generator = flatten_fun_j_22};
t = record_j_23;
sample_functor_0_j_43 = fun module -> (
    var_j_24 = module;
    proj_j_25 = var_j_24.bj_decl_lbls;
    m_match_bool_j_27 = proj_j_25 ~ any;
    m_match_bool_j_34 = proj_j_25 ~ {emptyset, _};
    m_match_cond_j_35 = m_match_bool_j_34 ? (
            var_j_36 = module;
            proj_j_37 = var_j_36.bj_actual_rec;
            proj_j_38 = proj_j_37.emptyset
        ) : (
            m_match_cond_j_28 = m_match_bool_j_27 ? (
                    bool_j_29 = false;
                    assert_pred_j_30 = bool_j_29;
                    assert_res_j_31 = assert_pred_j_30 ? (
                            assert_res_true_j_32 = {}
                        ) : (
                            ab_j_33 = abort
                        )
                ) : (
                    void_j_26 = {}
                )
        );
    record_j_39 = {empty = m_match_cond_j_35};
    record_j_40 = {};
    record_j_41 = {empty = record_j_40};
    record_j_42 = {bj_actual_rec = record_j_39, bj_decl_lbls = record_j_41});
sample_functor_0 = sample_functor_0_j_43;
flatten_fun_j_74 = fun expr_b_7 -> (
    bool_j_44 = false;
    rec_fail_b_6 = bool_j_44;
    bool_j_45 = false;
    rec_fail_b_5 = bool_j_45;
    bool_j_46 = false;
    rec_fail_b_4 = bool_j_46;
    var_j_47 = expr_b_7;
    m_match_bool_j_49 = var_j_47 ~ any;
    m_match_bool_j_52 = var_j_47 ~ {bj_actual_rec, _};
    m_match_cond_j_53 = m_match_bool_j_52 ? (
            var_j_54 = expr_b_7;
            proj_j_55 = var_j_54.bj_decl_lbls;
            m_match_bool_j_57 = proj_j_55 ~ any;
            m_match_bool_j_60 = proj_j_55 ~ {emptyset, _};
            m_match_cond_j_61 = m_match_bool_j_60 ? (
                    emptyset_j_0 = proj_j_55.emptyset;
                    var_j_62 = expr_b_7;
                    proj_j_63 = var_j_62.bj_actual_rec;
                    m_match_bool_j_65 = proj_j_63 ~ any;
                    m_match_bool_j_68 = proj_j_63 ~ {emptyset, _};
                    m_match_cond_j_69 = m_match_bool_j_68 ? (
                            emptyset = proj_j_63.emptyset;
                            var_j_70 = t;
                            proj_j_71 = var_j_70.checker;
                            var_j_72 = emptyset;
                            appl_j_73 = proj_j_71 var_j_72
                        ) : (
                            m_match_cond_j_66 = m_match_bool_j_65 ? (
                                    var_j_67 = rec_fail_b_4
                                ) : (
                                    void_j_64 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_58 = m_match_bool_j_57 ? (
                            var_j_59 = rec_fail_b_5
                        ) : (
                            void_j_56 = {}
                        )
                )
        ) : (
            m_match_cond_j_50 = m_match_bool_j_49 ? (
                    var_j_51 = rec_fail_b_6
                ) : (
                    void_j_48 = {}
                )
        ));
flatten_fun_j_84 = fun bj_null_j_1 -> (
    var_j_75 = t;
    proj_j_76 = var_j_75.generator;
    int_j_77 = 0;
    appl_j_78 = proj_j_76 int_j_77;
    emptyset_b_3 = appl_j_78;
    var_j_79 = emptyset_b_3;
    record_j_80 = {emptyset = var_j_79};
    record_j_81 = {};
    record_j_82 = {emptyset = record_j_81};
    record_j_83 = {bj_actual_rec = record_j_80, bj_decl_lbls = record_j_82});
record_j_85 = {checker = flatten_fun_j_74, generator = flatten_fun_j_84};
proj_j_86 = record_j_85.generator;
int_j_87 = 0;
appl_j_88 = proj_j_86 int_j_87;
module_b_24 = appl_j_88;
flatten_fun_j_119 = fun expr_b_13 -> (
    bool_j_89 = false;
    rec_fail_b_12 = bool_j_89;
    bool_j_90 = false;
    rec_fail_b_11 = bool_j_90;
    bool_j_91 = false;
    rec_fail_b_10 = bool_j_91;
    var_j_92 = expr_b_13;
    m_match_bool_j_94 = var_j_92 ~ any;
    m_match_bool_j_97 = var_j_92 ~ {bj_actual_rec, _};
    m_match_cond_j_98 = m_match_bool_j_97 ? (
            var_j_99 = expr_b_13;
            proj_j_100 = var_j_99.bj_decl_lbls;
            m_match_bool_j_102 = proj_j_100 ~ any;
            m_match_bool_j_105 = proj_j_100 ~ {empty, _};
            m_match_cond_j_106 = m_match_bool_j_105 ? (
                    empty_j_2 = proj_j_100.empty;
                    var_j_107 = expr_b_13;
                    proj_j_108 = var_j_107.bj_actual_rec;
                    m_match_bool_j_110 = proj_j_108 ~ any;
                    m_match_bool_j_113 = proj_j_108 ~ {empty, _};
                    m_match_cond_j_114 = m_match_bool_j_113 ? (
                            empty = proj_j_108.empty;
                            var_j_115 = t;
                            proj_j_116 = var_j_115.checker;
                            var_j_117 = empty;
                            appl_j_118 = proj_j_116 var_j_117
                        ) : (
                            m_match_cond_j_111 = m_match_bool_j_110 ? (
                                    var_j_112 = rec_fail_b_10
                                ) : (
                                    void_j_109 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_103 = m_match_bool_j_102 ? (
                            var_j_104 = rec_fail_b_11
                        ) : (
                            void_j_101 = {}
                        )
                )
        ) : (
            m_match_cond_j_95 = m_match_bool_j_94 ? (
                    var_j_96 = rec_fail_b_12
                ) : (
                    void_j_93 = {}
                )
        ));
flatten_fun_j_129 = fun bj_null_j_3 -> (
    var_j_120 = t;
    proj_j_121 = var_j_120.generator;
    int_j_122 = 0;
    appl_j_123 = proj_j_121 int_j_122;
    empty_b_9 = appl_j_123;
    var_j_124 = empty_b_9;
    record_j_125 = {empty = var_j_124};
    record_j_126 = {};
    record_j_127 = {empty = record_j_126};
    record_j_128 = {bj_actual_rec = record_j_125, bj_decl_lbls = record_j_127});
record_j_130 = {checker = flatten_fun_j_119, generator = flatten_fun_j_129};
proj_j_131 = record_j_130.checker;
appl_j_134 = sample_functor_0 module_b_24;
appl_j_135 = proj_j_131 appl_j_134;
check_res_b_25 = appl_j_135;
if_j_143 = check_res_b_25 ? (
        var_j_137 = sample_functor_0
    ) : (
        error_var_j_138 = check_res_b_25;
        assert_pred_j_139 = error_var_j_138;
        assert_res_j_140 = assert_pred_j_139 ? (
                assert_res_true_j_141 = {}
            ) : (
                ab_j_142 = abort
            )
    );
sample_functor = if_j_143;
bool_j_144 = false;
fail_b_16 = bool_j_144;
flatten_fun_j_153 = fun expr_b_15 -> (
    var_j_145 = expr_b_15;
    m_match_bool_j_147 = var_j_145 ~ any;
    m_match_bool_j_150 = var_j_145 ~ bool;
    m_match_cond_j_151 = m_match_bool_j_150 ? (
            bool_j_152 = true
        ) : (
            m_match_cond_j_148 = m_match_bool_j_147 ? (
                    var_j_149 = fail_b_16
                ) : (
                    void_j_146 = {}
                )
        ));
flatten_fun_j_157 = fun bj_null_j_4 -> (
    int_j_154 = 0;
    input_j_155 = input;
    m_bl_i_230 = int_j_154 ~ int;
    m_br_i_231 = input_j_155 ~ int;
    m_b_i_232 = m_bl_i_230 and m_br_i_231;
    binop_j_156 = m_b_i_232 ? (
            c_binop_i_233 = int_j_154 <= input_j_155
        ) : (
            ab_i_234 = abort
        ));
record_j_158 = {checker = flatten_fun_j_153, generator = flatten_fun_j_157};
int_j_159 = 1;
record_j_160 = {emptyset = int_j_159};
record_j_161 = {};
record_j_162 = {emptyset = record_j_161};
record_j_163 = {bj_actual_rec = record_j_160, bj_decl_lbls = record_j_162};
sample_module_b_26 = record_j_163;
proj_j_165 = sample_module_b_26.bj_actual_rec;
record_j_166 = {};
record_j_167 = {empty = record_j_166};
record_j_168 = {bj_actual_rec = proj_j_165, bj_decl_lbls = record_j_167};
sample_module = record_j_168;
flatten_fun_j_199 = fun expr_b_22 -> (
    bool_j_169 = false;
    rec_fail_b_21 = bool_j_169;
    bool_j_170 = false;
    rec_fail_b_20 = bool_j_170;
    bool_j_171 = false;
    rec_fail_b_19 = bool_j_171;
    var_j_172 = expr_b_22;
    m_match_bool_j_174 = var_j_172 ~ any;
    m_match_bool_j_177 = var_j_172 ~ {bj_actual_rec, _};
    m_match_cond_j_178 = m_match_bool_j_177 ? (
            var_j_179 = expr_b_22;
            proj_j_180 = var_j_179.bj_decl_lbls;
            m_match_bool_j_182 = proj_j_180 ~ any;
            m_match_bool_j_185 = proj_j_180 ~ {empty, _};
            m_match_cond_j_186 = m_match_bool_j_185 ? (
                    empty_j_6 = proj_j_180.empty;
                    var_j_187 = expr_b_22;
                    proj_j_188 = var_j_187.bj_actual_rec;
                    m_match_bool_j_190 = proj_j_188 ~ any;
                    m_match_bool_j_193 = proj_j_188 ~ {empty, _};
                    m_match_cond_j_194 = m_match_bool_j_193 ? (
                            empty_j_5 = proj_j_188.empty;
                            var_j_195 = record_j_158;
                            proj_j_196 = var_j_195.checker;
                            var_j_197 = empty_j_5;
                            appl_j_198 = proj_j_196 var_j_197
                        ) : (
                            m_match_cond_j_191 = m_match_bool_j_190 ? (
                                    var_j_192 = rec_fail_b_19
                                ) : (
                                    void_j_189 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_183 = m_match_bool_j_182 ? (
                            var_j_184 = rec_fail_b_20
                        ) : (
                            void_j_181 = {}
                        )
                )
        ) : (
            m_match_cond_j_175 = m_match_bool_j_174 ? (
                    var_j_176 = rec_fail_b_21
                ) : (
                    void_j_173 = {}
                )
        ));
flatten_fun_j_209 = fun bj_null_j_7 -> (
    var_j_200 = record_j_158;
    proj_j_201 = var_j_200.generator;
    int_j_202 = 0;
    appl_j_203 = proj_j_201 int_j_202;
    empty_b_18 = appl_j_203;
    var_j_204 = empty_b_18;
    record_j_205 = {empty = var_j_204};
    record_j_206 = {};
    record_j_207 = {empty = record_j_206};
    record_j_208 = {bj_actual_rec = record_j_205, bj_decl_lbls = record_j_207});
record_j_210 = {checker = flatten_fun_j_199, generator = flatten_fun_j_209};
proj_j_211 = record_j_210.checker;
appl_j_213 = proj_j_211 sample_module_b_26;
check_res_b_27 = appl_j_213;
if_j_224 = check_res_b_27 ? (
        var_j_215 = sample_functor;
        var_j_216 = sample_module;
        m_i_235 = var_j_215 ~ fun;
        appl_j_217 = m_i_235 ? (
                c_appl_i_236 = var_j_215 var_j_216
            ) : (
                ab_i_237 = abort
            );
        functor_appld = appl_j_217;
        var_j_218 = functor_appld
    ) : (
        error_var_j_219 = check_res_b_27;
        assert_pred_j_220 = error_var_j_219;
        assert_res_j_221 = assert_pred_j_220 ? (
                assert_res_true_j_222 = {}
            ) : (
                ab_j_223 = abort
            )
    );
i_result = if_j_224