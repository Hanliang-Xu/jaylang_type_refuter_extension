i_first = {};
flatten_fun_j_80 = fun expr_b_11 -> (
    bool_j_15 = false;
    rec_fail_b_10 = bool_j_15;
    bool_j_16 = false;
    rec_fail_b_9 = bool_j_16;
    bool_j_17 = false;
    rec_fail_b_8 = bool_j_17;
    var_j_18 = expr_b_11;
    m_match_bool_j_20 = var_j_18 ~ any;
    m_match_bool_j_23 = var_j_18 ~ {bj_actual_rec, _};
    m_match_cond_j_24 = m_match_bool_j_23 ? (
            var_j_25 = expr_b_11;
            proj_j_26 = var_j_25.bj_decl_lbls;
            m_match_bool_j_28 = proj_j_26 ~ any;
            m_match_bool_j_31 = proj_j_26 ~ {a, b, _};
            m_match_cond_j_32 = m_match_bool_j_31 ? (
                    a_j_2 = proj_j_26.a;
                    b_j_1 = proj_j_26.b;
                    var_j_33 = expr_b_11;
                    proj_j_34 = var_j_33.bj_actual_rec;
                    m_match_bool_j_36 = proj_j_34 ~ any;
                    m_match_bool_j_39 = proj_j_34 ~ {a, b, _};
                    m_match_cond_j_40 = m_match_bool_j_39 ? (
                            a = proj_j_34.a;
                            b = proj_j_34.b;
                            bool_j_41 = false;
                            fail_b_17 = bool_j_41;
                            flatten_fun_j_50 = fun expr_b_16 -> (
                                var_j_42 = expr_b_16;
                                m_match_bool_j_44 = var_j_42 ~ any;
                                m_match_bool_j_47 = var_j_42 ~ int;
                                m_match_cond_j_48 = m_match_bool_j_47 ? (
                                        bool_j_49 = true
                                    ) : (
                                        m_match_cond_j_45 = m_match_bool_j_44 ? (
                                                var_j_46 = fail_b_17
                                            ) : (
                                                void_j_43 = {}
                                            )
                                    ));
                            flatten_fun_j_52 = fun bj_null -> (
                                input_j_51 = input);
                            flatten_fun_j_54 = fun expr_b_18 -> (
                                var_j_53 = expr_b_18);
                            record_j_55 = {checker = flatten_fun_j_50, generator = flatten_fun_j_52, wrapper = flatten_fun_j_54};
                            proj_j_56 = record_j_55.checker;
                            var_j_57 = a;
                            appl_j_58 = proj_j_56 var_j_57;
                            lbl_check_b_15 = appl_j_58;
                            var_j_59 = lbl_check_b_15;
                            if_j_79 = var_j_59 ? (
                                    bool_j_60 = false;
                                    fail_b_13 = bool_j_60;
                                    flatten_fun_j_69 = fun expr_b_12 -> (
                                        var_j_61 = expr_b_12;
                                        m_match_bool_j_63 = var_j_61 ~ any;
                                        m_match_bool_j_66 = var_j_61 ~ int;
                                        m_match_cond_j_67 = m_match_bool_j_66 ? (
                                                bool_j_68 = true
                                            ) : (
                                                m_match_cond_j_64 = m_match_bool_j_63 ? (
                                                        var_j_65 = fail_b_13
                                                    ) : (
                                                        void_j_62 = {}
                                                    )
                                            ));
                                    flatten_fun_j_71 = fun bj_null_j_0 -> (
                                        input_j_70 = input);
                                    flatten_fun_j_73 = fun expr_b_14 -> (
                                        var_j_72 = expr_b_14);
                                    record_j_74 = {checker = flatten_fun_j_69, generator = flatten_fun_j_71, wrapper = flatten_fun_j_73};
                                    proj_j_75 = record_j_74.checker;
                                    var_j_76 = b;
                                    appl_j_77 = proj_j_75 var_j_76
                                ) : (
                                    var_j_78 = lbl_check_b_15
                                )
                        ) : (
                            m_match_cond_j_37 = m_match_bool_j_36 ? (
                                    var_j_38 = rec_fail_b_8
                                ) : (
                                    void_j_35 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_29 = m_match_bool_j_28 ? (
                            var_j_30 = rec_fail_b_9
                        ) : (
                            void_j_27 = {}
                        )
                )
        ) : (
            m_match_cond_j_21 = m_match_bool_j_20 ? (
                    var_j_22 = rec_fail_b_10
                ) : (
                    void_j_19 = {}
                )
        ));
flatten_fun_j_124 = fun bj_null_j_5 -> (
    bool_j_81 = false;
    fail_b_6 = bool_j_81;
    flatten_fun_j_90 = fun expr_b_5 -> (
        var_j_82 = expr_b_5;
        m_match_bool_j_84 = var_j_82 ~ any;
        m_match_bool_j_87 = var_j_82 ~ int;
        m_match_cond_j_88 = m_match_bool_j_87 ? (
                bool_j_89 = true
            ) : (
                m_match_cond_j_85 = m_match_bool_j_84 ? (
                        var_j_86 = fail_b_6
                    ) : (
                        void_j_83 = {}
                    )
            ));
    flatten_fun_j_92 = fun bj_null_j_3 -> (
        input_j_91 = input);
    flatten_fun_j_94 = fun expr_b_7 -> (
        var_j_93 = expr_b_7);
    record_j_95 = {checker = flatten_fun_j_90, generator = flatten_fun_j_92, wrapper = flatten_fun_j_94};
    proj_j_96 = record_j_95.generator;
    int_j_97 = 0;
    appl_j_98 = proj_j_96 int_j_97;
    b_b_1 = appl_j_98;
    bool_j_99 = false;
    fail_b_3 = bool_j_99;
    flatten_fun_j_108 = fun expr_b_2 -> (
        var_j_100 = expr_b_2;
        m_match_bool_j_102 = var_j_100 ~ any;
        m_match_bool_j_105 = var_j_100 ~ int;
        m_match_cond_j_106 = m_match_bool_j_105 ? (
                bool_j_107 = true
            ) : (
                m_match_cond_j_103 = m_match_bool_j_102 ? (
                        var_j_104 = fail_b_3
                    ) : (
                        void_j_101 = {}
                    )
            ));
    flatten_fun_j_110 = fun bj_null_j_4 -> (
        input_j_109 = input);
    flatten_fun_j_112 = fun expr_b_4 -> (
        var_j_111 = expr_b_4);
    record_j_113 = {checker = flatten_fun_j_108, generator = flatten_fun_j_110, wrapper = flatten_fun_j_112};
    proj_j_114 = record_j_113.generator;
    int_j_115 = 0;
    appl_j_116 = proj_j_114 int_j_115;
    a_b_0 = appl_j_116;
    var_j_117 = a_b_0;
    var_j_118 = b_b_1;
    record_j_119 = {a = var_j_117, b = var_j_118};
    record_j_120 = {};
    record_j_121 = {};
    record_j_122 = {a = record_j_120, b = record_j_121};
    record_j_123 = {bj_actual_rec = record_j_119, bj_decl_lbls = record_j_122});
flatten_fun_j_126 = fun expr_b_19 -> (
    var_j_125 = expr_b_19);
record_j_127 = {checker = flatten_fun_j_80, generator = flatten_fun_j_124, wrapper = flatten_fun_j_126};
proj_j_128 = record_j_127.wrapper;
int_j_129 = 1;
int_j_130 = 3;
record_j_131 = {a = int_j_129, c = int_j_130};
record_j_132 = {};
record_j_133 = {};
record_j_134 = {a = record_j_132, c = record_j_133};
record_j_135 = {bj_actual_rec = record_j_131, bj_decl_lbls = record_j_134};
m_i_267 = proj_j_128 ~ fun;
appl_j_136 = m_i_267 ? (
        c_appl_i_268 = proj_j_128 record_j_135
    ) : (
        ab_i_269 = abort
    );
r_b_40 = appl_j_136;
proj_j_138 = r_b_40.bj_actual_rec;
record_j_139 = {};
record_j_140 = {};
record_j_141 = {a = record_j_139, b = record_j_140};
record_j_142 = {bj_actual_rec = proj_j_138, bj_decl_lbls = record_j_141};
r = record_j_142;
flatten_fun_j_208 = fun expr_b_31 -> (
    bool_j_143 = false;
    rec_fail_b_30 = bool_j_143;
    bool_j_144 = false;
    rec_fail_b_29 = bool_j_144;
    bool_j_145 = false;
    rec_fail_b_28 = bool_j_145;
    var_j_146 = expr_b_31;
    m_match_bool_j_148 = var_j_146 ~ any;
    m_match_bool_j_151 = var_j_146 ~ {bj_actual_rec, _};
    m_match_cond_j_152 = m_match_bool_j_151 ? (
            var_j_153 = expr_b_31;
            proj_j_154 = var_j_153.bj_decl_lbls;
            m_match_bool_j_156 = proj_j_154 ~ any;
            m_match_bool_j_159 = proj_j_154 ~ {a, b, _};
            m_match_cond_j_160 = m_match_bool_j_159 ? (
                    a_j_11 = proj_j_154.a;
                    b_j_10 = proj_j_154.b;
                    var_j_161 = expr_b_31;
                    proj_j_162 = var_j_161.bj_actual_rec;
                    m_match_bool_j_164 = proj_j_162 ~ any;
                    m_match_bool_j_167 = proj_j_162 ~ {a, b, _};
                    m_match_cond_j_168 = m_match_bool_j_167 ? (
                            a_j_9 = proj_j_162.a;
                            b_j_8 = proj_j_162.b;
                            bool_j_169 = false;
                            fail_b_37 = bool_j_169;
                            flatten_fun_j_178 = fun expr_b_36 -> (
                                var_j_170 = expr_b_36;
                                m_match_bool_j_172 = var_j_170 ~ any;
                                m_match_bool_j_175 = var_j_170 ~ int;
                                m_match_cond_j_176 = m_match_bool_j_175 ? (
                                        bool_j_177 = true
                                    ) : (
                                        m_match_cond_j_173 = m_match_bool_j_172 ? (
                                                var_j_174 = fail_b_37
                                            ) : (
                                                void_j_171 = {}
                                            )
                                    ));
                            flatten_fun_j_180 = fun bj_null_j_6 -> (
                                input_j_179 = input);
                            flatten_fun_j_182 = fun expr_b_38 -> (
                                var_j_181 = expr_b_38);
                            record_j_183 = {checker = flatten_fun_j_178, generator = flatten_fun_j_180, wrapper = flatten_fun_j_182};
                            proj_j_184 = record_j_183.checker;
                            var_j_185 = a_j_9;
                            appl_j_186 = proj_j_184 var_j_185;
                            lbl_check_b_35 = appl_j_186;
                            var_j_187 = lbl_check_b_35;
                            if_j_207 = var_j_187 ? (
                                    bool_j_188 = false;
                                    fail_b_33 = bool_j_188;
                                    flatten_fun_j_197 = fun expr_b_32 -> (
                                        var_j_189 = expr_b_32;
                                        m_match_bool_j_191 = var_j_189 ~ any;
                                        m_match_bool_j_194 = var_j_189 ~ int;
                                        m_match_cond_j_195 = m_match_bool_j_194 ? (
                                                bool_j_196 = true
                                            ) : (
                                                m_match_cond_j_192 = m_match_bool_j_191 ? (
                                                        var_j_193 = fail_b_33
                                                    ) : (
                                                        void_j_190 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_199 = fun bj_null_j_7 -> (
                                        input_j_198 = input);
                                    flatten_fun_j_201 = fun expr_b_34 -> (
                                        var_j_200 = expr_b_34);
                                    record_j_202 = {checker = flatten_fun_j_197, generator = flatten_fun_j_199, wrapper = flatten_fun_j_201};
                                    proj_j_203 = record_j_202.checker;
                                    var_j_204 = b_j_8;
                                    appl_j_205 = proj_j_203 var_j_204
                                ) : (
                                    var_j_206 = lbl_check_b_35
                                )
                        ) : (
                            m_match_cond_j_165 = m_match_bool_j_164 ? (
                                    var_j_166 = rec_fail_b_28
                                ) : (
                                    void_j_163 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_157 = m_match_bool_j_156 ? (
                            var_j_158 = rec_fail_b_29
                        ) : (
                            void_j_155 = {}
                        )
                )
        ) : (
            m_match_cond_j_149 = m_match_bool_j_148 ? (
                    var_j_150 = rec_fail_b_30
                ) : (
                    void_j_147 = {}
                )
        ));
flatten_fun_j_252 = fun bj_null_j_14 -> (
    bool_j_209 = false;
    fail_b_26 = bool_j_209;
    flatten_fun_j_218 = fun expr_b_25 -> (
        var_j_210 = expr_b_25;
        m_match_bool_j_212 = var_j_210 ~ any;
        m_match_bool_j_215 = var_j_210 ~ int;
        m_match_cond_j_216 = m_match_bool_j_215 ? (
                bool_j_217 = true
            ) : (
                m_match_cond_j_213 = m_match_bool_j_212 ? (
                        var_j_214 = fail_b_26
                    ) : (
                        void_j_211 = {}
                    )
            ));
    flatten_fun_j_220 = fun bj_null_j_12 -> (
        input_j_219 = input);
    flatten_fun_j_222 = fun expr_b_27 -> (
        var_j_221 = expr_b_27);
    record_j_223 = {checker = flatten_fun_j_218, generator = flatten_fun_j_220, wrapper = flatten_fun_j_222};
    proj_j_224 = record_j_223.generator;
    int_j_225 = 0;
    appl_j_226 = proj_j_224 int_j_225;
    b_b_21 = appl_j_226;
    bool_j_227 = false;
    fail_b_23 = bool_j_227;
    flatten_fun_j_236 = fun expr_b_22 -> (
        var_j_228 = expr_b_22;
        m_match_bool_j_230 = var_j_228 ~ any;
        m_match_bool_j_233 = var_j_228 ~ int;
        m_match_cond_j_234 = m_match_bool_j_233 ? (
                bool_j_235 = true
            ) : (
                m_match_cond_j_231 = m_match_bool_j_230 ? (
                        var_j_232 = fail_b_23
                    ) : (
                        void_j_229 = {}
                    )
            ));
    flatten_fun_j_238 = fun bj_null_j_13 -> (
        input_j_237 = input);
    flatten_fun_j_240 = fun expr_b_24 -> (
        var_j_239 = expr_b_24);
    record_j_241 = {checker = flatten_fun_j_236, generator = flatten_fun_j_238, wrapper = flatten_fun_j_240};
    proj_j_242 = record_j_241.generator;
    int_j_243 = 0;
    appl_j_244 = proj_j_242 int_j_243;
    a_b_20 = appl_j_244;
    var_j_245 = a_b_20;
    var_j_246 = b_b_21;
    record_j_247 = {a = var_j_245, b = var_j_246};
    record_j_248 = {};
    record_j_249 = {};
    record_j_250 = {a = record_j_248, b = record_j_249};
    record_j_251 = {bj_actual_rec = record_j_247, bj_decl_lbls = record_j_250});
flatten_fun_j_254 = fun expr_b_39 -> (
    var_j_253 = expr_b_39);
record_j_255 = {checker = flatten_fun_j_208, generator = flatten_fun_j_252, wrapper = flatten_fun_j_254};
proj_j_256 = record_j_255.checker;
appl_j_258 = proj_j_256 r_b_40;
check_res_b_41 = appl_j_258;
if_j_266 = check_res_b_41 ? (
        var_j_260 = r
    ) : (
        error_var_j_261 = check_res_b_41;
        assert_pred_j_262 = error_var_j_261;
        assert_res_j_263 = assert_pred_j_262 ? (
                assert_res_true_j_264 = {}
            ) : (
                ab_j_265 = abort
            )
    );
i_result = if_j_266