(***
  (features (Higher_order_functions Refinement_types Dependent_types))
*)

(* error is that max is not performed on `x` but predicate relies on x *)

let max max2 x y z =
  max2 y z

let f x y =
  if x >= y
  then x
  else y

let main (x <- int) (y : int) (z : int) : { c : int | c == f x c } =
  max f y x z 
