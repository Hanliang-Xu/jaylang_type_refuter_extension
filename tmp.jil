i_first = {};
flatten_fun_j_128 = fun expr_b_15 -> (
    bool_j_63 = false;
    rec_fail_b_14 = bool_j_63;
    bool_j_64 = false;
    rec_fail_b_13 = bool_j_64;
    bool_j_65 = false;
    rec_fail_b_12 = bool_j_65;
    var_j_66 = expr_b_15;
    m_match_bool_j_68 = var_j_66 ~ any;
    m_match_bool_j_71 = var_j_66 ~ {bj_actual_rec, _};
    m_match_cond_j_72 = m_match_bool_j_71 ? (
            var_j_73 = expr_b_15;
            proj_j_74 = var_j_73.bj_decl_lbls;
            m_match_bool_j_76 = proj_j_74 ~ any;
            m_match_bool_j_79 = proj_j_74 ~ {x, y, _};
            m_match_cond_j_80 = m_match_bool_j_79 ? (
                    x_j_4 = proj_j_74.x;
                    y_j_3 = proj_j_74.y;
                    var_j_81 = expr_b_15;
                    proj_j_82 = var_j_81.bj_actual_rec;
                    m_match_bool_j_84 = proj_j_82 ~ any;
                    m_match_bool_j_87 = proj_j_82 ~ {x, y, _};
                    m_match_cond_j_88 = m_match_bool_j_87 ? (
                            x = proj_j_82.x;
                            y = proj_j_82.y;
                            bool_j_89 = false;
                            fail_b_21 = bool_j_89;
                            flatten_fun_j_98 = fun expr_b_20 -> (
                                var_j_90 = expr_b_20;
                                m_match_bool_j_92 = var_j_90 ~ any;
                                m_match_bool_j_95 = var_j_90 ~ int;
                                m_match_cond_j_96 = m_match_bool_j_95 ? (
                                        bool_j_97 = true
                                    ) : (
                                        m_match_cond_j_93 = m_match_bool_j_92 ? (
                                                var_j_94 = fail_b_21
                                            ) : (
                                                void_j_91 = {}
                                            )
                                    ));
                            flatten_fun_j_100 = fun bj_null -> (
                                input_j_99 = input);
                            flatten_fun_j_102 = fun expr_b_22 -> (
                                var_j_101 = expr_b_22);
                            record_j_103 = {checker = flatten_fun_j_98, generator = flatten_fun_j_100, wrapper = flatten_fun_j_102};
                            proj_j_104 = record_j_103.checker;
                            var_j_105 = x;
                            appl_j_106 = proj_j_104 var_j_105;
                            lbl_check_b_19 = appl_j_106;
                            var_j_107 = lbl_check_b_19;
                            if_j_127 = var_j_107 ? (
                                    bool_j_108 = false;
                                    fail_b_17 = bool_j_108;
                                    flatten_fun_j_117 = fun expr_b_16 -> (
                                        var_j_109 = expr_b_16;
                                        m_match_bool_j_111 = var_j_109 ~ any;
                                        m_match_bool_j_114 = var_j_109 ~ int;
                                        m_match_cond_j_115 = m_match_bool_j_114 ? (
                                                bool_j_116 = true
                                            ) : (
                                                m_match_cond_j_112 = m_match_bool_j_111 ? (
                                                        var_j_113 = fail_b_17
                                                    ) : (
                                                        void_j_110 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_119 = fun bj_null_j_2 -> (
                                        input_j_118 = input);
                                    flatten_fun_j_121 = fun expr_b_18 -> (
                                        var_j_120 = expr_b_18);
                                    record_j_122 = {checker = flatten_fun_j_117, generator = flatten_fun_j_119, wrapper = flatten_fun_j_121};
                                    proj_j_123 = record_j_122.checker;
                                    var_j_124 = y;
                                    appl_j_125 = proj_j_123 var_j_124
                                ) : (
                                    var_j_126 = lbl_check_b_19
                                )
                        ) : (
                            m_match_cond_j_85 = m_match_bool_j_84 ? (
                                    var_j_86 = rec_fail_b_12
                                ) : (
                                    void_j_83 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_77 = m_match_bool_j_76 ? (
                            var_j_78 = rec_fail_b_13
                        ) : (
                            void_j_75 = {}
                        )
                )
        ) : (
            m_match_cond_j_69 = m_match_bool_j_68 ? (
                    var_j_70 = rec_fail_b_14
                ) : (
                    void_j_67 = {}
                )
        ));
flatten_fun_j_172 = fun bj_null_j_7 -> (
    bool_j_129 = false;
    fail_b_10 = bool_j_129;
    flatten_fun_j_138 = fun expr_b_9 -> (
        var_j_130 = expr_b_9;
        m_match_bool_j_132 = var_j_130 ~ any;
        m_match_bool_j_135 = var_j_130 ~ int;
        m_match_cond_j_136 = m_match_bool_j_135 ? (
                bool_j_137 = true
            ) : (
                m_match_cond_j_133 = m_match_bool_j_132 ? (
                        var_j_134 = fail_b_10
                    ) : (
                        void_j_131 = {}
                    )
            ));
    flatten_fun_j_140 = fun bj_null_j_5 -> (
        input_j_139 = input);
    flatten_fun_j_142 = fun expr_b_11 -> (
        var_j_141 = expr_b_11);
    record_j_143 = {checker = flatten_fun_j_138, generator = flatten_fun_j_140, wrapper = flatten_fun_j_142};
    proj_j_144 = record_j_143.generator;
    int_j_145 = 0;
    appl_j_146 = proj_j_144 int_j_145;
    y_b_5 = appl_j_146;
    bool_j_147 = false;
    fail_b_7 = bool_j_147;
    flatten_fun_j_156 = fun expr_b_6 -> (
        var_j_148 = expr_b_6;
        m_match_bool_j_150 = var_j_148 ~ any;
        m_match_bool_j_153 = var_j_148 ~ int;
        m_match_cond_j_154 = m_match_bool_j_153 ? (
                bool_j_155 = true
            ) : (
                m_match_cond_j_151 = m_match_bool_j_150 ? (
                        var_j_152 = fail_b_7
                    ) : (
                        void_j_149 = {}
                    )
            ));
    flatten_fun_j_158 = fun bj_null_j_6 -> (
        input_j_157 = input);
    flatten_fun_j_160 = fun expr_b_8 -> (
        var_j_159 = expr_b_8);
    record_j_161 = {checker = flatten_fun_j_156, generator = flatten_fun_j_158, wrapper = flatten_fun_j_160};
    proj_j_162 = record_j_161.generator;
    int_j_163 = 0;
    appl_j_164 = proj_j_162 int_j_163;
    x_b_4 = appl_j_164;
    var_j_165 = x_b_4;
    var_j_166 = y_b_5;
    record_j_167 = {x = var_j_165, y = var_j_166};
    record_j_168 = {};
    record_j_169 = {};
    record_j_170 = {x = record_j_168, y = record_j_169};
    record_j_171 = {bj_actual_rec = record_j_167, bj_decl_lbls = record_j_170});
flatten_fun_j_179 = fun expr_b_23 -> (
    var_j_173 = expr_b_23;
    proj_j_174 = var_j_173.bj_actual_rec;
    record_j_175 = {};
    record_j_176 = {};
    record_j_177 = {x = record_j_175, y = record_j_176};
    record_j_178 = {bj_actual_rec = proj_j_174, bj_decl_lbls = record_j_177});
record_j_180 = {checker = flatten_fun_j_128, generator = flatten_fun_j_172, wrapper = flatten_fun_j_179};
coord = record_j_180;
flatten_fun_j_200 = fun f_b_26 -> (
    flatten_fun_j_189 = fun x_b_25 -> (
        flatten_fun_j_188 = fun freeze_b_27 -> (
            var_j_181 = f_b_26;
            var_j_182 = x_b_25;
            var_j_183 = x_b_25;
            appl_j_184 = var_j_182 var_j_183;
            appl_j_185 = var_j_181 appl_j_184;
            var_j_186 = freeze_b_27;
            appl_j_187 = appl_j_185 var_j_186));
    flatten_fun_j_198 = fun x_b_25_j_9 -> (
        flatten_fun_j_197 = fun freeze_b_27_j_8 -> (
            var_j_190 = f_b_26;
            var_j_191 = x_b_25_j_9;
            var_j_192 = x_b_25_j_9;
            appl_j_193 = var_j_191 var_j_192;
            appl_j_194 = var_j_190 appl_j_193;
            var_j_195 = freeze_b_27_j_8;
            appl_j_196 = appl_j_194 var_j_195));
    appl_j_199 = flatten_fun_j_189 flatten_fun_j_198);
ycomb_b_28 = flatten_fun_j_200;
flatten_fun_j_748 = fun self_b_24 -> (
    flatten_fun_j_747 = fun bj_null_j_36 -> (
        flatten_fun_j_472 = fun expr_b_109 -> (
            flatten_fun_j_467 = fun tt -> (
                flatten_fun_j_339 = fun expr_b_90 -> (
                    bool_j_202 = false;
                    rec_fail_b_89 = bool_j_202;
                    bool_j_203 = false;
                    rec_fail_b_88 = bool_j_203;
                    bool_j_204 = false;
                    rec_fail_b_87 = bool_j_204;
                    var_j_205 = expr_b_90;
                    m_match_bool_j_207 = var_j_205 ~ any;
                    m_match_bool_j_210 = var_j_205 ~ {bj_actual_rec, _};
                    m_match_cond_j_211 = m_match_bool_j_210 ? (
                            var_j_212 = expr_b_90;
                            proj_j_213 = var_j_212.bj_decl_lbls;
                            m_match_bool_j_215 = proj_j_213 ~ any;
                            m_match_bool_j_218 = proj_j_213 ~ {parent, relative_coord, _};
                            m_match_cond_j_219 = m_match_bool_j_218 ? (
                                    parent_j_15 = proj_j_213.parent;
                                    relative_coord_j_14 = proj_j_213.relative_coord;
                                    var_j_220 = expr_b_90;
                                    proj_j_221 = var_j_220.bj_actual_rec;
                                    m_match_bool_j_223 = proj_j_221 ~ any;
                                    m_match_bool_j_226 = proj_j_221 ~ 
                                        {parent, relative_coord, _};
                                    m_match_cond_j_227 = m_match_bool_j_226 ? (
                                            parent = proj_j_221.parent;
                                            relative_coord = proj_j_221.relative_coord;
                                            flatten_fun_j_260 = fun expr_b_95 -> (
                                                bool_j_228 = false;
                                                match_fail_b_96 = bool_j_228;
                                                var_j_229 = expr_b_95;
                                                m_match_bool_j_231 = var_j_229 ~ any;
                                                m_match_bool_j_234 = var_j_229 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_254 = var_j_229 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_255 = m_match_bool_j_254 ? (
                                                        v_val_b_101 = var_j_229.j_value;
                                                        var_j_256 = tt;
                                                        proj_j_257 = var_j_256.checker;
                                                        var_j_258 = v_val_b_101;
                                                        appl_j_259 = proj_j_257 var_j_258
                                                    ) : (
                                                        m_match_cond_j_235 = m_match_bool_j_234 ? (
                                                                v_val_b_97 = var_j_229.j_value;
                                                                bool_j_236 = false;
                                                                fail_b_99 = bool_j_236;
                                                                flatten_fun_j_245 = fun expr_b_98 -> (
                                                                    var_j_237 = expr_b_98;
                                                                    m_match_bool_j_239 = var_j_237 ~ any;
                                                                    m_match_bool_j_242 = var_j_237 ~ int;
                                                                    m_match_cond_j_243 = m_match_bool_j_242 ? (
                                                                        bool_j_244 = true
                                                                    ) : (
                                                                        m_match_cond_j_240 = m_match_bool_j_239 ? (
                                                                        var_j_241 = fail_b_99
                                                                    ) : (
                                                                        void_j_238 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_247 = fun bj_null_j_10 -> (
                                                                    input_j_246 = input);
                                                                flatten_fun_j_249 = fun expr_b_100 -> (
                                                                    var_j_248 = expr_b_100);
                                                                record_j_250 = 
                                                                    {checker = flatten_fun_j_245, generator = flatten_fun_j_247, wrapper = flatten_fun_j_249};
                                                                proj_j_251 = record_j_250.checker;
                                                                var_j_252 = v_val_b_97;
                                                                appl_j_253 = proj_j_251 var_j_252
                                                            ) : (
                                                                m_match_cond_j_232 = m_match_bool_j_231 ? (
                                                                        
                                                                    var_j_233 = match_fail_b_96
                                                                    ) : (
                                                                        
                                                                    void_j_230 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_291 = fun bj_null_j_12 -> (
                                                int_j_261 = 0;
                                                input_j_262 = input;
                                                m_bl_i_1591 = int_j_261 ~ int;
                                                m_br_i_1592 = input_j_262 ~ int;
                                                m_b_i_1593 = m_bl_i_1591 and m_br_i_1592;
                                                binop_j_263 = m_b_i_1593 ? (
                                                        c_binop_i_1594 = int_j_261 < input_j_262
                                                    ) : (
                                                        ab_i_1595 = abort
                                                    );
                                                if_j_290 = binop_j_263 ? (
                                                        var_j_264 = tt;
                                                        proj_j_265 = var_j_264.generator;
                                                        int_j_266 = 0;
                                                        appl_j_267 = proj_j_265 int_j_266;
                                                        record_j_268 = 
                                                            {};
                                                        record_j_269 = 
                                                            {j_value = appl_j_267, j_variant_Some = record_j_268}
                                                    ) : (
                                                        bool_j_270 = false;
                                                        fail_b_93 = bool_j_270;
                                                        flatten_fun_j_279 = fun expr_b_92 -> (
                                                            var_j_271 = expr_b_92;
                                                            m_match_bool_j_273 = var_j_271 ~ any;
                                                            m_match_bool_j_276 = var_j_271 ~ int;
                                                            m_match_cond_j_277 = m_match_bool_j_276 ? (
                                                                    bool_j_278 = true
                                                                ) : (
                                                                    m_match_cond_j_274 = m_match_bool_j_273 ? (
                                                                        var_j_275 = fail_b_93
                                                                    ) : (
                                                                        void_j_272 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_281 = fun bj_null_j_11 -> (
                                                            input_j_280 = input);
                                                        flatten_fun_j_283 = fun expr_b_94 -> (
                                                            var_j_282 = expr_b_94);
                                                        record_j_284 = 
                                                            {checker = flatten_fun_j_279, generator = flatten_fun_j_281, wrapper = flatten_fun_j_283};
                                                        proj_j_285 = record_j_284.generator;
                                                        int_j_286 = 0;
                                                        appl_j_287 = proj_j_285 int_j_286;
                                                        record_j_288 = 
                                                            {};
                                                        record_j_289 = 
                                                            {j_value = appl_j_287, j_variant_None = record_j_288}
                                                    ));
                                            flatten_fun_j_327 = fun expr_b_102 -> (
                                                var_j_292 = expr_b_102;
                                                m_match_bool_j_294 = var_j_292 ~ any;
                                                m_match_bool_j_297 = var_j_292 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_319 = var_j_292 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_320 = m_match_bool_j_319 ? (
                                                        v_val_b_107 = var_j_292.j_value;
                                                        var_j_321 = tt;
                                                        proj_j_322 = var_j_321.wrapper;
                                                        var_j_323 = v_val_b_107;
                                                        appl_j_324 = proj_j_322 var_j_323;
                                                        record_j_325 = 
                                                            {};
                                                        record_j_326 = 
                                                            {j_value = appl_j_324, j_variant_Some = record_j_325}
                                                    ) : (
                                                        m_match_cond_j_298 = m_match_bool_j_297 ? (
                                                                v_val_b_103 = var_j_292.j_value;
                                                                bool_j_299 = false;
                                                                fail_b_105 = bool_j_299;
                                                                flatten_fun_j_308 = fun expr_b_104 -> (
                                                                    var_j_300 = expr_b_104;
                                                                    m_match_bool_j_302 = var_j_300 ~ any;
                                                                    m_match_bool_j_305 = var_j_300 ~ int;
                                                                    m_match_cond_j_306 = m_match_bool_j_305 ? (
                                                                        bool_j_307 = true
                                                                    ) : (
                                                                        m_match_cond_j_303 = m_match_bool_j_302 ? (
                                                                        var_j_304 = fail_b_105
                                                                    ) : (
                                                                        void_j_301 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_310 = fun bj_null_j_13 -> (
                                                                    input_j_309 = input);
                                                                flatten_fun_j_312 = fun expr_b_106 -> (
                                                                    var_j_311 = expr_b_106);
                                                                record_j_313 = 
                                                                    {checker = flatten_fun_j_308, generator = flatten_fun_j_310, wrapper = flatten_fun_j_312};
                                                                proj_j_314 = record_j_313.wrapper;
                                                                var_j_315 = v_val_b_103;
                                                                appl_j_316 = proj_j_314 var_j_315;
                                                                record_j_317 = 
                                                                    {};
                                                                record_j_318 = 
                                                                    {j_value = appl_j_316, j_variant_None = record_j_317}
                                                            ) : (
                                                                m_match_cond_j_295 = m_match_bool_j_294 ? (
                                                                        
                                                                    var_j_296 = expr_b_102
                                                                    ) : (
                                                                        
                                                                    void_j_293 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            record_j_328 = {checker = flatten_fun_j_260, generator = flatten_fun_j_291, wrapper = flatten_fun_j_327};
                                            proj_j_329 = record_j_328.checker;
                                            var_j_330 = parent;
                                            appl_j_331 = proj_j_329 var_j_330;
                                            lbl_check_b_91 = appl_j_331;
                                            var_j_332 = lbl_check_b_91;
                                            if_j_338 = var_j_332 ? (
                                                    var_j_333 = coord;
                                                    proj_j_334 = var_j_333.checker;
                                                    var_j_335 = relative_coord;
                                                    appl_j_336 = proj_j_334 var_j_335
                                                ) : (
                                                    var_j_337 = lbl_check_b_91
                                                )
                                        ) : (
                                            m_match_cond_j_224 = m_match_bool_j_223 ? (
                                                    var_j_225 = rec_fail_b_87
                                                ) : (
                                                    void_j_222 = {}
                                                )
                                        )
                                ) : (
                                    m_match_cond_j_216 = m_match_bool_j_215 ? (
                                            var_j_217 = rec_fail_b_88
                                        ) : (
                                            void_j_214 = {}
                                        )
                                )
                        ) : (
                            m_match_cond_j_208 = m_match_bool_j_207 ? (
                                    var_j_209 = rec_fail_b_89
                                ) : (
                                    void_j_206 = {}
                                )
                        ));
                flatten_fun_j_455 = fun bj_null_j_20 -> (
                    var_j_340 = coord;
                    proj_j_341 = var_j_340.generator;
                    int_j_342 = 0;
                    appl_j_343 = proj_j_341 int_j_342;
                    relative_coord_b_70 = appl_j_343;
                    flatten_fun_j_376 = fun expr_b_74 -> (
                        bool_j_344 = false;
                        match_fail_b_75 = bool_j_344;
                        var_j_345 = expr_b_74;
                        m_match_bool_j_347 = var_j_345 ~ any;
                        m_match_bool_j_350 = var_j_345 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_370 = var_j_345 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_371 = m_match_bool_j_370 ? (
                                v_val_b_80 = var_j_345.j_value;
                                var_j_372 = tt;
                                proj_j_373 = var_j_372.checker;
                                var_j_374 = v_val_b_80;
                                appl_j_375 = proj_j_373 var_j_374
                            ) : (
                                m_match_cond_j_351 = m_match_bool_j_350 ? (
                                        v_val_b_76 = var_j_345.j_value;
                                        bool_j_352 = false;
                                        fail_b_78 = bool_j_352;
                                        flatten_fun_j_361 = fun expr_b_77 -> (
                                            var_j_353 = expr_b_77;
                                            m_match_bool_j_355 = var_j_353 ~ any;
                                            m_match_bool_j_358 = var_j_353 ~ int;
                                            m_match_cond_j_359 = m_match_bool_j_358 ? (
                                                    bool_j_360 = true
                                                ) : (
                                                    m_match_cond_j_356 = m_match_bool_j_355 ? (
                                                            var_j_357 = fail_b_78
                                                        ) : (
                                                            void_j_354 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_363 = fun bj_null_j_16 -> (
                                            input_j_362 = input);
                                        flatten_fun_j_365 = fun expr_b_79 -> (
                                            var_j_364 = expr_b_79);
                                        record_j_366 = {checker = flatten_fun_j_361, generator = flatten_fun_j_363, wrapper = flatten_fun_j_365};
                                        proj_j_367 = record_j_366.checker;
                                        var_j_368 = v_val_b_76;
                                        appl_j_369 = proj_j_367 var_j_368
                                    ) : (
                                        m_match_cond_j_348 = m_match_bool_j_347 ? (
                                                var_j_349 = match_fail_b_75
                                            ) : (
                                                void_j_346 = {}
                                            )
                                    )
                            ));
                    flatten_fun_j_407 = fun bj_null_j_18 -> (
                        int_j_377 = 0;
                        input_j_378 = input;
                        m_bl_i_1596 = int_j_377 ~ int;
                        m_br_i_1597 = input_j_378 ~ int;
                        m_b_i_1598 = m_bl_i_1596 and m_br_i_1597;
                        binop_j_379 = m_b_i_1598 ? (
                                c_binop_i_1599 = int_j_377 < input_j_378
                            ) : (
                                ab_i_1600 = abort
                            );
                        if_j_406 = binop_j_379 ? (
                                var_j_380 = tt;
                                proj_j_381 = var_j_380.generator;
                                int_j_382 = 0;
                                appl_j_383 = proj_j_381 int_j_382;
                                record_j_384 = {};
                                record_j_385 = {j_value = appl_j_383, j_variant_Some = record_j_384}
                            ) : (
                                bool_j_386 = false;
                                fail_b_72 = bool_j_386;
                                flatten_fun_j_395 = fun expr_b_71 -> (
                                    var_j_387 = expr_b_71;
                                    m_match_bool_j_389 = var_j_387 ~ any;
                                    m_match_bool_j_392 = var_j_387 ~ int;
                                    m_match_cond_j_393 = m_match_bool_j_392 ? (
                                            bool_j_394 = true
                                        ) : (
                                            m_match_cond_j_390 = m_match_bool_j_389 ? (
                                                    var_j_391 = fail_b_72
                                                ) : (
                                                    void_j_388 = {}
                                                )
                                        ));
                                flatten_fun_j_397 = fun bj_null_j_17 -> (
                                    input_j_396 = input);
                                flatten_fun_j_399 = fun expr_b_73 -> (
                                    var_j_398 = expr_b_73);
                                record_j_400 = {checker = flatten_fun_j_395, generator = flatten_fun_j_397, wrapper = flatten_fun_j_399};
                                proj_j_401 = record_j_400.generator;
                                int_j_402 = 0;
                                appl_j_403 = proj_j_401 int_j_402;
                                record_j_404 = {};
                                record_j_405 = {j_value = appl_j_403, j_variant_None = record_j_404}
                            ));
                    flatten_fun_j_443 = fun expr_b_81 -> (
                        var_j_408 = expr_b_81;
                        m_match_bool_j_410 = var_j_408 ~ any;
                        m_match_bool_j_413 = var_j_408 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_435 = var_j_408 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_436 = m_match_bool_j_435 ? (
                                v_val_b_86 = var_j_408.j_value;
                                var_j_437 = tt;
                                proj_j_438 = var_j_437.wrapper;
                                var_j_439 = v_val_b_86;
                                appl_j_440 = proj_j_438 var_j_439;
                                record_j_441 = {};
                                record_j_442 = {j_value = appl_j_440, j_variant_Some = record_j_441}
                            ) : (
                                m_match_cond_j_414 = m_match_bool_j_413 ? (
                                        v_val_b_82 = var_j_408.j_value;
                                        bool_j_415 = false;
                                        fail_b_84 = bool_j_415;
                                        flatten_fun_j_424 = fun expr_b_83 -> (
                                            var_j_416 = expr_b_83;
                                            m_match_bool_j_418 = var_j_416 ~ any;
                                            m_match_bool_j_421 = var_j_416 ~ int;
                                            m_match_cond_j_422 = m_match_bool_j_421 ? (
                                                    bool_j_423 = true
                                                ) : (
                                                    m_match_cond_j_419 = m_match_bool_j_418 ? (
                                                            var_j_420 = fail_b_84
                                                        ) : (
                                                            void_j_417 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_426 = fun bj_null_j_19 -> (
                                            input_j_425 = input);
                                        flatten_fun_j_428 = fun expr_b_85 -> (
                                            var_j_427 = expr_b_85);
                                        record_j_429 = {checker = flatten_fun_j_424, generator = flatten_fun_j_426, wrapper = flatten_fun_j_428};
                                        proj_j_430 = record_j_429.wrapper;
                                        var_j_431 = v_val_b_82;
                                        appl_j_432 = proj_j_430 var_j_431;
                                        record_j_433 = {};
                                        record_j_434 = {j_value = appl_j_432, j_variant_None = record_j_433}
                                    ) : (
                                        m_match_cond_j_411 = m_match_bool_j_410 ? (
                                                var_j_412 = expr_b_81
                                            ) : (
                                                void_j_409 = {}
                                            )
                                    )
                            ));
                    record_j_444 = {checker = flatten_fun_j_376, generator = flatten_fun_j_407, wrapper = flatten_fun_j_443};
                    proj_j_445 = record_j_444.generator;
                    int_j_446 = 0;
                    appl_j_447 = proj_j_445 int_j_446;
                    parent_b_69 = appl_j_447;
                    var_j_448 = parent_b_69;
                    var_j_449 = relative_coord_b_70;
                    record_j_450 = {parent = var_j_448, relative_coord = var_j_449};
                    record_j_451 = {};
                    record_j_452 = {};
                    record_j_453 = {parent = record_j_451, relative_coord = record_j_452};
                    record_j_454 = {bj_actual_rec = record_j_450, bj_decl_lbls = record_j_453});
                flatten_fun_j_462 = fun expr_b_108 -> (
                    var_j_456 = expr_b_108;
                    proj_j_457 = var_j_456.bj_actual_rec;
                    record_j_458 = {};
                    record_j_459 = {};
                    record_j_460 = {parent = record_j_458, relative_coord = record_j_459};
                    record_j_461 = {bj_actual_rec = proj_j_457, bj_decl_lbls = record_j_460});
                record_j_463 = {checker = flatten_fun_j_339, generator = flatten_fun_j_455, wrapper = flatten_fun_j_462};
                proj_j_464 = record_j_463.checker;
                var_j_465 = expr_b_109;
                appl_j_466 = proj_j_464 var_j_465);
            var_j_468 = self_b_24;
            int_j_469 = 0;
            appl_j_470 = var_j_468 int_j_469;
            appl_j_471 = flatten_fun_j_467 appl_j_470);
        flatten_fun_j_743 = fun bj_null_j_35 -> (
            flatten_fun_j_738 = fun tt_j_34 -> (
                flatten_fun_j_610 = fun expr_b_50 -> (
                    bool_j_473 = false;
                    rec_fail_b_49 = bool_j_473;
                    bool_j_474 = false;
                    rec_fail_b_48 = bool_j_474;
                    bool_j_475 = false;
                    rec_fail_b_47 = bool_j_475;
                    var_j_476 = expr_b_50;
                    m_match_bool_j_478 = var_j_476 ~ any;
                    m_match_bool_j_481 = var_j_476 ~ {bj_actual_rec, _};
                    m_match_cond_j_482 = m_match_bool_j_481 ? (
                            var_j_483 = expr_b_50;
                            proj_j_484 = var_j_483.bj_decl_lbls;
                            m_match_bool_j_486 = proj_j_484 ~ any;
                            m_match_bool_j_489 = proj_j_484 ~ {parent, relative_coord, _};
                            m_match_cond_j_490 = m_match_bool_j_489 ? (
                                    parent_j_28 = proj_j_484.parent;
                                    relative_coord_j_27 = proj_j_484.relative_coord;
                                    var_j_491 = expr_b_50;
                                    proj_j_492 = var_j_491.bj_actual_rec;
                                    m_match_bool_j_494 = proj_j_492 ~ any;
                                    m_match_bool_j_497 = proj_j_492 ~ 
                                        {parent, relative_coord, _};
                                    m_match_cond_j_498 = m_match_bool_j_497 ? (
                                            parent_j_26 = proj_j_492.parent;
                                            relative_coord_j_25 = proj_j_492.relative_coord;
                                            flatten_fun_j_531 = fun expr_b_55 -> (
                                                bool_j_499 = false;
                                                match_fail_b_56 = bool_j_499;
                                                var_j_500 = expr_b_55;
                                                m_match_bool_j_502 = var_j_500 ~ any;
                                                m_match_bool_j_505 = var_j_500 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_525 = var_j_500 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_526 = m_match_bool_j_525 ? (
                                                        v_val_b_61 = var_j_500.j_value;
                                                        var_j_527 = tt_j_34;
                                                        proj_j_528 = var_j_527.checker;
                                                        var_j_529 = v_val_b_61;
                                                        appl_j_530 = proj_j_528 var_j_529
                                                    ) : (
                                                        m_match_cond_j_506 = m_match_bool_j_505 ? (
                                                                v_val_b_57 = var_j_500.j_value;
                                                                bool_j_507 = false;
                                                                fail_b_59 = bool_j_507;
                                                                flatten_fun_j_516 = fun expr_b_58 -> (
                                                                    var_j_508 = expr_b_58;
                                                                    m_match_bool_j_510 = var_j_508 ~ any;
                                                                    m_match_bool_j_513 = var_j_508 ~ int;
                                                                    m_match_cond_j_514 = m_match_bool_j_513 ? (
                                                                        bool_j_515 = true
                                                                    ) : (
                                                                        m_match_cond_j_511 = m_match_bool_j_510 ? (
                                                                        var_j_512 = fail_b_59
                                                                    ) : (
                                                                        void_j_509 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_518 = fun bj_null_j_21 -> (
                                                                    input_j_517 = input);
                                                                flatten_fun_j_520 = fun expr_b_60 -> (
                                                                    var_j_519 = expr_b_60);
                                                                record_j_521 = 
                                                                    {checker = flatten_fun_j_516, generator = flatten_fun_j_518, wrapper = flatten_fun_j_520};
                                                                proj_j_522 = record_j_521.checker;
                                                                var_j_523 = v_val_b_57;
                                                                appl_j_524 = proj_j_522 var_j_523
                                                            ) : (
                                                                m_match_cond_j_503 = m_match_bool_j_502 ? (
                                                                        
                                                                    var_j_504 = match_fail_b_56
                                                                    ) : (
                                                                        
                                                                    void_j_501 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_562 = fun bj_null_j_23 -> (
                                                int_j_532 = 0;
                                                input_j_533 = input;
                                                m_bl_i_1601 = int_j_532 ~ int;
                                                m_br_i_1602 = input_j_533 ~ int;
                                                m_b_i_1603 = m_bl_i_1601 and m_br_i_1602;
                                                binop_j_534 = m_b_i_1603 ? (
                                                        c_binop_i_1604 = int_j_532 < input_j_533
                                                    ) : (
                                                        ab_i_1605 = abort
                                                    );
                                                if_j_561 = binop_j_534 ? (
                                                        var_j_535 = tt_j_34;
                                                        proj_j_536 = var_j_535.generator;
                                                        int_j_537 = 0;
                                                        appl_j_538 = proj_j_536 int_j_537;
                                                        record_j_539 = 
                                                            {};
                                                        record_j_540 = 
                                                            {j_value = appl_j_538, j_variant_Some = record_j_539}
                                                    ) : (
                                                        bool_j_541 = false;
                                                        fail_b_53 = bool_j_541;
                                                        flatten_fun_j_550 = fun expr_b_52 -> (
                                                            var_j_542 = expr_b_52;
                                                            m_match_bool_j_544 = var_j_542 ~ any;
                                                            m_match_bool_j_547 = var_j_542 ~ int;
                                                            m_match_cond_j_548 = m_match_bool_j_547 ? (
                                                                    bool_j_549 = true
                                                                ) : (
                                                                    m_match_cond_j_545 = m_match_bool_j_544 ? (
                                                                        var_j_546 = fail_b_53
                                                                    ) : (
                                                                        void_j_543 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_552 = fun bj_null_j_22 -> (
                                                            input_j_551 = input);
                                                        flatten_fun_j_554 = fun expr_b_54 -> (
                                                            var_j_553 = expr_b_54);
                                                        record_j_555 = 
                                                            {checker = flatten_fun_j_550, generator = flatten_fun_j_552, wrapper = flatten_fun_j_554};
                                                        proj_j_556 = record_j_555.generator;
                                                        int_j_557 = 0;
                                                        appl_j_558 = proj_j_556 int_j_557;
                                                        record_j_559 = 
                                                            {};
                                                        record_j_560 = 
                                                            {j_value = appl_j_558, j_variant_None = record_j_559}
                                                    ));
                                            flatten_fun_j_598 = fun expr_b_62 -> (
                                                var_j_563 = expr_b_62;
                                                m_match_bool_j_565 = var_j_563 ~ any;
                                                m_match_bool_j_568 = var_j_563 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_590 = var_j_563 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_591 = m_match_bool_j_590 ? (
                                                        v_val_b_67 = var_j_563.j_value;
                                                        var_j_592 = tt_j_34;
                                                        proj_j_593 = var_j_592.wrapper;
                                                        var_j_594 = v_val_b_67;
                                                        appl_j_595 = proj_j_593 var_j_594;
                                                        record_j_596 = 
                                                            {};
                                                        record_j_597 = 
                                                            {j_value = appl_j_595, j_variant_Some = record_j_596}
                                                    ) : (
                                                        m_match_cond_j_569 = m_match_bool_j_568 ? (
                                                                v_val_b_63 = var_j_563.j_value;
                                                                bool_j_570 = false;
                                                                fail_b_65 = bool_j_570;
                                                                flatten_fun_j_579 = fun expr_b_64 -> (
                                                                    var_j_571 = expr_b_64;
                                                                    m_match_bool_j_573 = var_j_571 ~ any;
                                                                    m_match_bool_j_576 = var_j_571 ~ int;
                                                                    m_match_cond_j_577 = m_match_bool_j_576 ? (
                                                                        bool_j_578 = true
                                                                    ) : (
                                                                        m_match_cond_j_574 = m_match_bool_j_573 ? (
                                                                        var_j_575 = fail_b_65
                                                                    ) : (
                                                                        void_j_572 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_581 = fun bj_null_j_24 -> (
                                                                    input_j_580 = input);
                                                                flatten_fun_j_583 = fun expr_b_66 -> (
                                                                    var_j_582 = expr_b_66);
                                                                record_j_584 = 
                                                                    {checker = flatten_fun_j_579, generator = flatten_fun_j_581, wrapper = flatten_fun_j_583};
                                                                proj_j_585 = record_j_584.wrapper;
                                                                var_j_586 = v_val_b_63;
                                                                appl_j_587 = proj_j_585 var_j_586;
                                                                record_j_588 = 
                                                                    {};
                                                                record_j_589 = 
                                                                    {j_value = appl_j_587, j_variant_None = record_j_588}
                                                            ) : (
                                                                m_match_cond_j_566 = m_match_bool_j_565 ? (
                                                                        
                                                                    var_j_567 = expr_b_62
                                                                    ) : (
                                                                        
                                                                    void_j_564 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            record_j_599 = {checker = flatten_fun_j_531, generator = flatten_fun_j_562, wrapper = flatten_fun_j_598};
                                            proj_j_600 = record_j_599.checker;
                                            var_j_601 = parent_j_26;
                                            appl_j_602 = proj_j_600 var_j_601;
                                            lbl_check_b_51 = appl_j_602;
                                            var_j_603 = lbl_check_b_51;
                                            if_j_609 = var_j_603 ? (
                                                    var_j_604 = coord;
                                                    proj_j_605 = var_j_604.checker;
                                                    var_j_606 = relative_coord_j_25;
                                                    appl_j_607 = proj_j_605 var_j_606
                                                ) : (
                                                    var_j_608 = lbl_check_b_51
                                                )
                                        ) : (
                                            m_match_cond_j_495 = m_match_bool_j_494 ? (
                                                    var_j_496 = rec_fail_b_47
                                                ) : (
                                                    void_j_493 = {}
                                                )
                                        )
                                ) : (
                                    m_match_cond_j_487 = m_match_bool_j_486 ? (
                                            var_j_488 = rec_fail_b_48
                                        ) : (
                                            void_j_485 = {}
                                        )
                                )
                        ) : (
                            m_match_cond_j_479 = m_match_bool_j_478 ? (
                                    var_j_480 = rec_fail_b_49
                                ) : (
                                    void_j_477 = {}
                                )
                        ));
                flatten_fun_j_726 = fun bj_null_j_33 -> (
                    var_j_611 = coord;
                    proj_j_612 = var_j_611.generator;
                    int_j_613 = 0;
                    appl_j_614 = proj_j_612 int_j_613;
                    relative_coord_b_30 = appl_j_614;
                    flatten_fun_j_647 = fun expr_b_34 -> (
                        bool_j_615 = false;
                        match_fail_b_35 = bool_j_615;
                        var_j_616 = expr_b_34;
                        m_match_bool_j_618 = var_j_616 ~ any;
                        m_match_bool_j_621 = var_j_616 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_641 = var_j_616 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_642 = m_match_bool_j_641 ? (
                                v_val_b_40 = var_j_616.j_value;
                                var_j_643 = tt_j_34;
                                proj_j_644 = var_j_643.checker;
                                var_j_645 = v_val_b_40;
                                appl_j_646 = proj_j_644 var_j_645
                            ) : (
                                m_match_cond_j_622 = m_match_bool_j_621 ? (
                                        v_val_b_36 = var_j_616.j_value;
                                        bool_j_623 = false;
                                        fail_b_38 = bool_j_623;
                                        flatten_fun_j_632 = fun expr_b_37 -> (
                                            var_j_624 = expr_b_37;
                                            m_match_bool_j_626 = var_j_624 ~ any;
                                            m_match_bool_j_629 = var_j_624 ~ int;
                                            m_match_cond_j_630 = m_match_bool_j_629 ? (
                                                    bool_j_631 = true
                                                ) : (
                                                    m_match_cond_j_627 = m_match_bool_j_626 ? (
                                                            var_j_628 = fail_b_38
                                                        ) : (
                                                            void_j_625 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_634 = fun bj_null_j_29 -> (
                                            input_j_633 = input);
                                        flatten_fun_j_636 = fun expr_b_39 -> (
                                            var_j_635 = expr_b_39);
                                        record_j_637 = {checker = flatten_fun_j_632, generator = flatten_fun_j_634, wrapper = flatten_fun_j_636};
                                        proj_j_638 = record_j_637.checker;
                                        var_j_639 = v_val_b_36;
                                        appl_j_640 = proj_j_638 var_j_639
                                    ) : (
                                        m_match_cond_j_619 = m_match_bool_j_618 ? (
                                                var_j_620 = match_fail_b_35
                                            ) : (
                                                void_j_617 = {}
                                            )
                                    )
                            ));
                    flatten_fun_j_678 = fun bj_null_j_31 -> (
                        int_j_648 = 0;
                        input_j_649 = input;
                        m_bl_i_1606 = int_j_648 ~ int;
                        m_br_i_1607 = input_j_649 ~ int;
                        m_b_i_1608 = m_bl_i_1606 and m_br_i_1607;
                        binop_j_650 = m_b_i_1608 ? (
                                c_binop_i_1609 = int_j_648 < input_j_649
                            ) : (
                                ab_i_1610 = abort
                            );
                        if_j_677 = binop_j_650 ? (
                                var_j_651 = tt_j_34;
                                proj_j_652 = var_j_651.generator;
                                int_j_653 = 0;
                                appl_j_654 = proj_j_652 int_j_653;
                                record_j_655 = {};
                                record_j_656 = {j_value = appl_j_654, j_variant_Some = record_j_655}
                            ) : (
                                bool_j_657 = false;
                                fail_b_32 = bool_j_657;
                                flatten_fun_j_666 = fun expr_b_31 -> (
                                    var_j_658 = expr_b_31;
                                    m_match_bool_j_660 = var_j_658 ~ any;
                                    m_match_bool_j_663 = var_j_658 ~ int;
                                    m_match_cond_j_664 = m_match_bool_j_663 ? (
                                            bool_j_665 = true
                                        ) : (
                                            m_match_cond_j_661 = m_match_bool_j_660 ? (
                                                    var_j_662 = fail_b_32
                                                ) : (
                                                    void_j_659 = {}
                                                )
                                        ));
                                flatten_fun_j_668 = fun bj_null_j_30 -> (
                                    input_j_667 = input);
                                flatten_fun_j_670 = fun expr_b_33 -> (
                                    var_j_669 = expr_b_33);
                                record_j_671 = {checker = flatten_fun_j_666, generator = flatten_fun_j_668, wrapper = flatten_fun_j_670};
                                proj_j_672 = record_j_671.generator;
                                int_j_673 = 0;
                                appl_j_674 = proj_j_672 int_j_673;
                                record_j_675 = {};
                                record_j_676 = {j_value = appl_j_674, j_variant_None = record_j_675}
                            ));
                    flatten_fun_j_714 = fun expr_b_41 -> (
                        var_j_679 = expr_b_41;
                        m_match_bool_j_681 = var_j_679 ~ any;
                        m_match_bool_j_684 = var_j_679 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_706 = var_j_679 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_707 = m_match_bool_j_706 ? (
                                v_val_b_46 = var_j_679.j_value;
                                var_j_708 = tt_j_34;
                                proj_j_709 = var_j_708.wrapper;
                                var_j_710 = v_val_b_46;
                                appl_j_711 = proj_j_709 var_j_710;
                                record_j_712 = {};
                                record_j_713 = {j_value = appl_j_711, j_variant_Some = record_j_712}
                            ) : (
                                m_match_cond_j_685 = m_match_bool_j_684 ? (
                                        v_val_b_42 = var_j_679.j_value;
                                        bool_j_686 = false;
                                        fail_b_44 = bool_j_686;
                                        flatten_fun_j_695 = fun expr_b_43 -> (
                                            var_j_687 = expr_b_43;
                                            m_match_bool_j_689 = var_j_687 ~ any;
                                            m_match_bool_j_692 = var_j_687 ~ int;
                                            m_match_cond_j_693 = m_match_bool_j_692 ? (
                                                    bool_j_694 = true
                                                ) : (
                                                    m_match_cond_j_690 = m_match_bool_j_689 ? (
                                                            var_j_691 = fail_b_44
                                                        ) : (
                                                            void_j_688 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_697 = fun bj_null_j_32 -> (
                                            input_j_696 = input);
                                        flatten_fun_j_699 = fun expr_b_45 -> (
                                            var_j_698 = expr_b_45);
                                        record_j_700 = {checker = flatten_fun_j_695, generator = flatten_fun_j_697, wrapper = flatten_fun_j_699};
                                        proj_j_701 = record_j_700.wrapper;
                                        var_j_702 = v_val_b_42;
                                        appl_j_703 = proj_j_701 var_j_702;
                                        record_j_704 = {};
                                        record_j_705 = {j_value = appl_j_703, j_variant_None = record_j_704}
                                    ) : (
                                        m_match_cond_j_682 = m_match_bool_j_681 ? (
                                                var_j_683 = expr_b_41
                                            ) : (
                                                void_j_680 = {}
                                            )
                                    )
                            ));
                    record_j_715 = {checker = flatten_fun_j_647, generator = flatten_fun_j_678, wrapper = flatten_fun_j_714};
                    proj_j_716 = record_j_715.generator;
                    int_j_717 = 0;
                    appl_j_718 = proj_j_716 int_j_717;
                    parent_b_29 = appl_j_718;
                    var_j_719 = parent_b_29;
                    var_j_720 = relative_coord_b_30;
                    record_j_721 = {parent = var_j_719, relative_coord = var_j_720};
                    record_j_722 = {};
                    record_j_723 = {};
                    record_j_724 = {parent = record_j_722, relative_coord = record_j_723};
                    record_j_725 = {bj_actual_rec = record_j_721, bj_decl_lbls = record_j_724});
                flatten_fun_j_733 = fun expr_b_68 -> (
                    var_j_727 = expr_b_68;
                    proj_j_728 = var_j_727.bj_actual_rec;
                    record_j_729 = {};
                    record_j_730 = {};
                    record_j_731 = {parent = record_j_729, relative_coord = record_j_730};
                    record_j_732 = {bj_actual_rec = proj_j_728, bj_decl_lbls = record_j_731});
                record_j_734 = {checker = flatten_fun_j_610, generator = flatten_fun_j_726, wrapper = flatten_fun_j_733};
                proj_j_735 = record_j_734.generator;
                int_j_736 = 0;
                appl_j_737 = proj_j_735 int_j_736);
            var_j_739 = self_b_24;
            int_j_740 = 0;
            appl_j_741 = var_j_739 int_j_740;
            appl_j_742 = flatten_fun_j_738 appl_j_741);
        flatten_fun_j_745 = fun expr_b_110 -> (
            var_j_744 = expr_b_110);
        record_j_746 = {checker = flatten_fun_j_472, generator = flatten_fun_j_743, wrapper = flatten_fun_j_745}));
appl_j_749 = ycomb_b_28 flatten_fun_j_748;
int_j_750 = 0;
appl_j_751 = appl_j_749 int_j_750;
t = appl_j_751;
is_coord_nonzero_j_789 = fun c_j_62 -> (
    var_j_752 = c_j_62;
    m_i_1611 = var_j_752 ~ {bj_decl_lbls, _};
    proj_j_753 = m_i_1611 ? (
            c_proj_i_1612 = var_j_752.bj_decl_lbls
        ) : (
            ab_i_1613 = abort
        );
    m_match_bool_j_755 = proj_j_753 ~ any;
    m_match_bool_j_762 = proj_j_753 ~ {x, _};
    m_match_cond_j_763 = m_match_bool_j_762 ? (
            var_j_764 = c_j_62;
            proj_j_765 = var_j_764.bj_actual_rec;
            proj_j_766 = proj_j_765.x
        ) : (
            m_match_cond_j_756 = m_match_bool_j_755 ? (
                    bool_j_757 = false;
                    assert_pred_j_758 = bool_j_757;
                    assert_res_j_759 = assert_pred_j_758 ? (
                            assert_res_true_j_760 = {}
                        ) : (
                            ab_j_761 = abort
                        )
                ) : (
                    void_j_754 = {}
                )
        );
    int_j_767 = 0;
    m_bl_i_1614 = m_match_cond_j_763 ~ int;
    m_br_i_1615 = int_j_767 ~ int;
    m_b_i_1616 = m_bl_i_1614 and m_br_i_1615;
    binop_j_768 = m_b_i_1616 ? (
            c_binop_i_1617 = m_match_cond_j_763 == int_j_767
        ) : (
            ab_i_1618 = abort
        );
    m_i_1619 = binop_j_768 ~ bool;
    notop_j_769 = m_i_1619 ? (
            c_not_i_1620 = not binop_j_768
        ) : (
            ab_i_1621 = abort
        );
    var_j_770 = c_j_62;
    m_i_1622 = var_j_770 ~ {bj_decl_lbls, _};
    proj_j_771 = m_i_1622 ? (
            c_proj_i_1623 = var_j_770.bj_decl_lbls
        ) : (
            ab_i_1624 = abort
        );
    m_match_bool_j_773 = proj_j_771 ~ any;
    m_match_bool_j_780 = proj_j_771 ~ {y, _};
    m_match_cond_j_781 = m_match_bool_j_780 ? (
            var_j_782 = c_j_62;
            proj_j_783 = var_j_782.bj_actual_rec;
            proj_j_784 = proj_j_783.y
        ) : (
            m_match_cond_j_774 = m_match_bool_j_773 ? (
                    bool_j_775 = false;
                    assert_pred_j_776 = bool_j_775;
                    assert_res_j_777 = assert_pred_j_776 ? (
                            assert_res_true_j_778 = {}
                        ) : (
                            ab_j_779 = abort
                        )
                ) : (
                    void_j_772 = {}
                )
        );
    int_j_785 = 0;
    m_bl_i_1625 = m_match_cond_j_781 ~ int;
    m_br_i_1626 = int_j_785 ~ int;
    m_b_i_1627 = m_bl_i_1625 and m_br_i_1626;
    binop_j_786 = m_b_i_1627 ? (
            c_binop_i_1628 = m_match_cond_j_781 == int_j_785
        ) : (
            ab_i_1629 = abort
        );
    m_i_1630 = binop_j_786 ~ bool;
    notop_j_787 = m_i_1630 ? (
            c_not_i_1631 = not binop_j_786
        ) : (
            ab_i_1632 = abort
        );
    m_bl_i_1633 = notop_j_769 ~ bool;
    m_br_i_1634 = notop_j_787 ~ bool;
    m_b_i_1635 = m_bl_i_1633 and m_br_i_1634;
    binop_j_788 = m_b_i_1635 ? (
            c_binop_i_1636 = notop_j_769 and notop_j_787
        ) : (
            ab_i_1637 = abort
        ));
is_coord_nonzero = is_coord_nonzero_j_789;
coord_equal_j_854 = fun a -> (
    coord_equal_j_853 = fun b -> (
        var_j_790 = a;
        m_i_1638 = var_j_790 ~ {bj_decl_lbls, _};
        proj_j_791 = m_i_1638 ? (
                c_proj_i_1639 = var_j_790.bj_decl_lbls
            ) : (
                ab_i_1640 = abort
            );
        m_match_bool_j_793 = proj_j_791 ~ any;
        m_match_bool_j_800 = proj_j_791 ~ {x, _};
        m_match_cond_j_801 = m_match_bool_j_800 ? (
                var_j_802 = a;
                proj_j_803 = var_j_802.bj_actual_rec;
                proj_j_804 = proj_j_803.x
            ) : (
                m_match_cond_j_794 = m_match_bool_j_793 ? (
                        bool_j_795 = false;
                        assert_pred_j_796 = bool_j_795;
                        assert_res_j_797 = assert_pred_j_796 ? (
                                assert_res_true_j_798 = {}
                            ) : (
                                ab_j_799 = abort
                            )
                    ) : (
                        void_j_792 = {}
                    )
            );
        var_j_805 = b;
        m_i_1641 = var_j_805 ~ {bj_decl_lbls, _};
        proj_j_806 = m_i_1641 ? (
                c_proj_i_1642 = var_j_805.bj_decl_lbls
            ) : (
                ab_i_1643 = abort
            );
        m_match_bool_j_808 = proj_j_806 ~ any;
        m_match_bool_j_815 = proj_j_806 ~ {x, _};
        m_match_cond_j_816 = m_match_bool_j_815 ? (
                var_j_817 = b;
                proj_j_818 = var_j_817.bj_actual_rec;
                proj_j_819 = proj_j_818.x
            ) : (
                m_match_cond_j_809 = m_match_bool_j_808 ? (
                        bool_j_810 = false;
                        assert_pred_j_811 = bool_j_810;
                        assert_res_j_812 = assert_pred_j_811 ? (
                                assert_res_true_j_813 = {}
                            ) : (
                                ab_j_814 = abort
                            )
                    ) : (
                        void_j_807 = {}
                    )
            );
        m_bl_i_1644 = m_match_cond_j_801 ~ int;
        m_br_i_1645 = m_match_cond_j_816 ~ int;
        m_b_i_1646 = m_bl_i_1644 and m_br_i_1645;
        binop_j_820 = m_b_i_1646 ? (
                c_binop_i_1647 = m_match_cond_j_801 == m_match_cond_j_816
            ) : (
                ab_i_1648 = abort
            );
        var_j_821 = a;
        m_i_1649 = var_j_821 ~ {bj_decl_lbls, _};
        proj_j_822 = m_i_1649 ? (
                c_proj_i_1650 = var_j_821.bj_decl_lbls
            ) : (
                ab_i_1651 = abort
            );
        m_match_bool_j_824 = proj_j_822 ~ any;
        m_match_bool_j_831 = proj_j_822 ~ {y, _};
        m_match_cond_j_832 = m_match_bool_j_831 ? (
                var_j_833 = a;
                proj_j_834 = var_j_833.bj_actual_rec;
                proj_j_835 = proj_j_834.y
            ) : (
                m_match_cond_j_825 = m_match_bool_j_824 ? (
                        bool_j_826 = false;
                        assert_pred_j_827 = bool_j_826;
                        assert_res_j_828 = assert_pred_j_827 ? (
                                assert_res_true_j_829 = {}
                            ) : (
                                ab_j_830 = abort
                            )
                    ) : (
                        void_j_823 = {}
                    )
            );
        var_j_836 = b;
        m_i_1652 = var_j_836 ~ {bj_decl_lbls, _};
        proj_j_837 = m_i_1652 ? (
                c_proj_i_1653 = var_j_836.bj_decl_lbls
            ) : (
                ab_i_1654 = abort
            );
        m_match_bool_j_839 = proj_j_837 ~ any;
        m_match_bool_j_846 = proj_j_837 ~ {y, _};
        m_match_cond_j_847 = m_match_bool_j_846 ? (
                var_j_848 = b;
                proj_j_849 = var_j_848.bj_actual_rec;
                proj_j_850 = proj_j_849.y
            ) : (
                m_match_cond_j_840 = m_match_bool_j_839 ? (
                        bool_j_841 = false;
                        assert_pred_j_842 = bool_j_841;
                        assert_res_j_843 = assert_pred_j_842 ? (
                                assert_res_true_j_844 = {}
                            ) : (
                                ab_j_845 = abort
                            )
                    ) : (
                        void_j_838 = {}
                    )
            );
        m_bl_i_1655 = m_match_cond_j_832 ~ int;
        m_br_i_1656 = m_match_cond_j_847 ~ int;
        m_b_i_1657 = m_bl_i_1655 and m_br_i_1656;
        binop_j_851 = m_b_i_1657 ? (
                c_binop_i_1658 = m_match_cond_j_832 == m_match_cond_j_847
            ) : (
                ab_i_1659 = abort
            );
        m_bl_i_1660 = binop_j_820 ~ bool;
        m_br_i_1661 = binop_j_851 ~ bool;
        m_b_i_1662 = m_bl_i_1660 and m_br_i_1661;
        binop_j_852 = m_b_i_1662 ? (
                c_binop_i_1663 = binop_j_820 and binop_j_851
            ) : (
                ab_i_1664 = abort
            )));
coord_equal = coord_equal_j_854;
has_parent_j_885 = fun x_j_61 -> (
    bool_j_855 = false;
    fail_b_111 = bool_j_855;
    var_j_856 = x_j_61;
    m_i_1665 = var_j_856 ~ {bj_decl_lbls, _};
    proj_j_857 = m_i_1665 ? (
            c_proj_i_1666 = var_j_856.bj_decl_lbls
        ) : (
            ab_i_1667 = abort
        );
    m_match_bool_j_859 = proj_j_857 ~ any;
    m_match_bool_j_866 = proj_j_857 ~ {parent, _};
    m_match_cond_j_867 = m_match_bool_j_866 ? (
            var_j_868 = x_j_61;
            proj_j_869 = var_j_868.bj_actual_rec;
            proj_j_870 = proj_j_869.parent
        ) : (
            m_match_cond_j_860 = m_match_bool_j_859 ? (
                    bool_j_861 = false;
                    assert_pred_j_862 = bool_j_861;
                    assert_res_j_863 = assert_pred_j_862 ? (
                            assert_res_true_j_864 = {}
                        ) : (
                            ab_j_865 = abort
                        )
                ) : (
                    void_j_858 = {}
                )
        );
    m_match_bool_j_872 = m_match_cond_j_867 ~ any;
    m_match_bool_j_875 = m_match_cond_j_867 ~ {j_value, j_variant_Some, _};
    m_match_bool_j_878 = m_match_cond_j_867 ~ {bj_untouched, _};
    m_match_cond_j_879 = m_match_bool_j_878 ? (
            var_j_880 = fail_b_111;
            assert_pred_j_881 = var_j_880;
            assert_res_j_882 = assert_pred_j_881 ? (
                    assert_res_true_j_883 = {}
                ) : (
                    ab_j_884 = abort
                )
        ) : (
            m_match_cond_j_876 = m_match_bool_j_875 ? (
                    ignore_j_60 = m_match_cond_j_867.j_value;
                    bool_j_877 = true
                ) : (
                    m_match_cond_j_873 = m_match_bool_j_872 ? (
                            bool_j_874 = false
                        ) : (
                            ab_j_871 = abort
                        )
                )
        ));
has_parent = has_parent_j_885;
flatten_fun_j_1071 = fun get_abs_coord_j_1 -> (
    flatten_fun_j_1070 = fun r -> (
        var_j_886 = get_abs_coord_j_1;
        var_j_887 = get_abs_coord_j_1;
        appl_j_888 = var_j_886 var_j_887;
        get_abs_coord = appl_j_888;
        bool_j_889 = false;
        fail_b_112 = bool_j_889;
        var_j_890 = r;
        m_i_1668 = var_j_890 ~ {bj_decl_lbls, _};
        proj_j_891 = m_i_1668 ? (
                c_proj_i_1669 = var_j_890.bj_decl_lbls
            ) : (
                ab_i_1670 = abort
            );
        m_match_bool_j_893 = proj_j_891 ~ any;
        m_match_bool_j_900 = proj_j_891 ~ {parent, _};
        m_match_cond_j_901 = m_match_bool_j_900 ? (
                var_j_902 = r;
                proj_j_903 = var_j_902.bj_actual_rec;
                proj_j_904 = proj_j_903.parent
            ) : (
                m_match_cond_j_894 = m_match_bool_j_893 ? (
                        bool_j_895 = false;
                        assert_pred_j_896 = bool_j_895;
                        assert_res_j_897 = assert_pred_j_896 ? (
                                assert_res_true_j_898 = {}
                            ) : (
                                ab_j_899 = abort
                            )
                    ) : (
                        void_j_892 = {}
                    )
            );
        m_match_bool_j_906 = m_match_cond_j_901 ~ {j_value, j_variant_None, _};
        m_match_bool_j_923 = m_match_cond_j_901 ~ {j_value, j_variant_Some, _};
        m_match_bool_j_1063 = m_match_cond_j_901 ~ {bj_untouched, _};
        m_match_cond_j_1064 = m_match_bool_j_1063 ? (
                var_j_1065 = fail_b_112;
                assert_pred_j_1066 = var_j_1065;
                assert_res_j_1067 = assert_pred_j_1066 ? (
                        assert_res_true_j_1068 = {}
                    ) : (
                        ab_j_1069 = abort
                    )
            ) : (
                m_match_cond_j_924 = m_match_bool_j_923 ? (
                        parent_j_37 = m_match_cond_j_901.j_value;
                        var_j_925 = parent_j_37;
                        m_i_1671 = var_j_925 ~ {bj_decl_lbls, _};
                        proj_j_926 = m_i_1671 ? (
                                c_proj_i_1672 = var_j_925.bj_decl_lbls
                            ) : (
                                ab_i_1673 = abort
                            );
                        m_match_bool_j_928 = proj_j_926 ~ any;
                        m_match_bool_j_935 = proj_j_926 ~ {relative_coord, _};
                        m_match_cond_j_936 = m_match_bool_j_935 ? (
                                var_j_937 = parent_j_37;
                                proj_j_938 = var_j_937.bj_actual_rec;
                                proj_j_939 = proj_j_938.relative_coord
                            ) : (
                                m_match_cond_j_929 = m_match_bool_j_928 ? (
                                        bool_j_930 = false;
                                        assert_pred_j_931 = bool_j_930;
                                        assert_res_j_932 = assert_pred_j_931 ? (
                                                assert_res_true_j_933 = 
                                                    {}
                                            ) : (
                                                ab_j_934 = abort
                                            )
                                    ) : (
                                        void_j_927 = {}
                                    )
                            );
                        c = m_match_cond_j_936;
                        var_j_940 = c;
                        m_i_1674 = var_j_940 ~ {bj_decl_lbls, _};
                        proj_j_941 = m_i_1674 ? (
                                c_proj_i_1675 = var_j_940.bj_decl_lbls
                            ) : (
                                ab_i_1676 = abort
                            );
                        m_match_bool_j_943 = proj_j_941 ~ any;
                        m_match_bool_j_950 = proj_j_941 ~ {x, _};
                        m_match_cond_j_951 = m_match_bool_j_950 ? (
                                var_j_952 = c;
                                proj_j_953 = var_j_952.bj_actual_rec;
                                proj_j_954 = proj_j_953.x
                            ) : (
                                m_match_cond_j_944 = m_match_bool_j_943 ? (
                                        bool_j_945 = false;
                                        assert_pred_j_946 = bool_j_945;
                                        assert_res_j_947 = assert_pred_j_946 ? (
                                                assert_res_true_j_948 = 
                                                    {}
                                            ) : (
                                                ab_j_949 = abort
                                            )
                                    ) : (
                                        void_j_942 = {}
                                    )
                            );
                        var_j_955 = r;
                        m_i_1677 = var_j_955 ~ {bj_decl_lbls, _};
                        proj_j_956 = m_i_1677 ? (
                                c_proj_i_1678 = var_j_955.bj_decl_lbls
                            ) : (
                                ab_i_1679 = abort
                            );
                        m_match_bool_j_958 = proj_j_956 ~ any;
                        m_match_bool_j_965 = proj_j_956 ~ {relative_coord, _};
                        m_match_cond_j_966 = m_match_bool_j_965 ? (
                                var_j_967 = r;
                                proj_j_968 = var_j_967.bj_actual_rec;
                                proj_j_969 = proj_j_968.relative_coord
                            ) : (
                                m_match_cond_j_959 = m_match_bool_j_958 ? (
                                        bool_j_960 = false;
                                        assert_pred_j_961 = bool_j_960;
                                        assert_res_j_962 = assert_pred_j_961 ? (
                                                assert_res_true_j_963 = 
                                                    {}
                                            ) : (
                                                ab_j_964 = abort
                                            )
                                    ) : (
                                        void_j_957 = {}
                                    )
                            );
                        m_i_1680 = m_match_cond_j_966 ~ {bj_decl_lbls, _};
                        proj_j_970 = m_i_1680 ? (
                                c_proj_i_1681 = m_match_cond_j_966.bj_decl_lbls
                            ) : (
                                ab_i_1682 = abort
                            );
                        m_match_bool_j_972 = proj_j_970 ~ any;
                        m_match_bool_j_979 = proj_j_970 ~ {x, _};
                        m_match_cond_j_980 = m_match_bool_j_979 ? (
                                var_j_981 = r;
                                m_i_1683 = var_j_981 ~ {bj_decl_lbls, _};
                                proj_j_982 = m_i_1683 ? (
                                        c_proj_i_1684 = var_j_981.bj_decl_lbls
                                    ) : (
                                        ab_i_1685 = abort
                                    );
                                m_match_bool_j_984 = proj_j_982 ~ any;
                                m_match_bool_j_991 = proj_j_982 ~ {relative_coord, _};
                                m_match_cond_j_992 = m_match_bool_j_991 ? (
                                        var_j_993 = r;
                                        proj_j_994 = var_j_993.bj_actual_rec;
                                        proj_j_995 = proj_j_994.relative_coord
                                    ) : (
                                        m_match_cond_j_985 = m_match_bool_j_984 ? (
                                                bool_j_986 = false;
                                                assert_pred_j_987 = bool_j_986;
                                                assert_res_j_988 = assert_pred_j_987 ? (
                                                        assert_res_true_j_989 = 
                                                            {}
                                                    ) : (
                                                        ab_j_990 = abort
                                                    )
                                            ) : (
                                                void_j_983 = {}
                                            )
                                    );
                                proj_j_996 = m_match_cond_j_992.bj_actual_rec;
                                proj_j_997 = proj_j_996.x
                            ) : (
                                m_match_cond_j_973 = m_match_bool_j_972 ? (
                                        bool_j_974 = false;
                                        assert_pred_j_975 = bool_j_974;
                                        assert_res_j_976 = assert_pred_j_975 ? (
                                                assert_res_true_j_977 = 
                                                    {}
                                            ) : (
                                                ab_j_978 = abort
                                            )
                                    ) : (
                                        void_j_971 = {}
                                    )
                            );
                        m_bl_i_1686 = m_match_cond_j_951 ~ int;
                        m_br_i_1687 = m_match_cond_j_980 ~ int;
                        m_b_i_1688 = m_bl_i_1686 and m_br_i_1687;
                        binop_j_998 = m_b_i_1688 ? (
                                c_binop_i_1689 = m_match_cond_j_951 + m_match_cond_j_980
                            ) : (
                                ab_i_1690 = abort
                            );
                        var_j_999 = c;
                        m_i_1691 = var_j_999 ~ {bj_decl_lbls, _};
                        proj_j_1000 = m_i_1691 ? (
                                c_proj_i_1692 = var_j_999.bj_decl_lbls
                            ) : (
                                ab_i_1693 = abort
                            );
                        m_match_bool_j_1002 = proj_j_1000 ~ any;
                        m_match_bool_j_1009 = proj_j_1000 ~ {y, _};
                        m_match_cond_j_1010 = m_match_bool_j_1009 ? (
                                var_j_1011 = c;
                                proj_j_1012 = var_j_1011.bj_actual_rec;
                                proj_j_1013 = proj_j_1012.y
                            ) : (
                                m_match_cond_j_1003 = m_match_bool_j_1002 ? (
                                        bool_j_1004 = false;
                                        assert_pred_j_1005 = bool_j_1004;
                                        assert_res_j_1006 = assert_pred_j_1005 ? (
                                                assert_res_true_j_1007 = 
                                                    {}
                                            ) : (
                                                ab_j_1008 = abort
                                            )
                                    ) : (
                                        void_j_1001 = {}
                                    )
                            );
                        var_j_1014 = r;
                        m_i_1694 = var_j_1014 ~ {bj_decl_lbls, _};
                        proj_j_1015 = m_i_1694 ? (
                                c_proj_i_1695 = var_j_1014.bj_decl_lbls
                            ) : (
                                ab_i_1696 = abort
                            );
                        m_match_bool_j_1017 = proj_j_1015 ~ any;
                        m_match_bool_j_1024 = proj_j_1015 ~ {relative_coord, _};
                        m_match_cond_j_1025 = m_match_bool_j_1024 ? (
                                var_j_1026 = r;
                                proj_j_1027 = var_j_1026.bj_actual_rec;
                                proj_j_1028 = proj_j_1027.relative_coord
                            ) : (
                                m_match_cond_j_1018 = m_match_bool_j_1017 ? (
                                        bool_j_1019 = false;
                                        assert_pred_j_1020 = bool_j_1019;
                                        assert_res_j_1021 = assert_pred_j_1020 ? (
                                                assert_res_true_j_1022 = 
                                                    {}
                                            ) : (
                                                ab_j_1023 = abort
                                            )
                                    ) : (
                                        void_j_1016 = {}
                                    )
                            );
                        m_i_1697 = m_match_cond_j_1025 ~ {bj_decl_lbls, _};
                        proj_j_1029 = m_i_1697 ? (
                                c_proj_i_1698 = m_match_cond_j_1025.bj_decl_lbls
                            ) : (
                                ab_i_1699 = abort
                            );
                        m_match_bool_j_1031 = proj_j_1029 ~ any;
                        m_match_bool_j_1038 = proj_j_1029 ~ {y, _};
                        m_match_cond_j_1039 = m_match_bool_j_1038 ? (
                                var_j_1040 = r;
                                m_i_1700 = var_j_1040 ~ {bj_decl_lbls, _};
                                proj_j_1041 = m_i_1700 ? (
                                        c_proj_i_1701 = var_j_1040.bj_decl_lbls
                                    ) : (
                                        ab_i_1702 = abort
                                    );
                                m_match_bool_j_1043 = proj_j_1041 ~ any;
                                m_match_bool_j_1050 = proj_j_1041 ~ {relative_coord, _};
                                m_match_cond_j_1051 = m_match_bool_j_1050 ? (
                                        var_j_1052 = r;
                                        proj_j_1053 = var_j_1052.bj_actual_rec;
                                        proj_j_1054 = proj_j_1053.relative_coord
                                    ) : (
                                        m_match_cond_j_1044 = m_match_bool_j_1043 ? (
                                                bool_j_1045 = false;
                                                assert_pred_j_1046 = bool_j_1045;
                                                assert_res_j_1047 = assert_pred_j_1046 ? (
                                                        assert_res_true_j_1048 = 
                                                            {}
                                                    ) : (
                                                        ab_j_1049 = abort
                                                    )
                                            ) : (
                                                void_j_1042 = {}
                                            )
                                    );
                                proj_j_1055 = m_match_cond_j_1051.bj_actual_rec;
                                proj_j_1056 = proj_j_1055.y
                            ) : (
                                m_match_cond_j_1032 = m_match_bool_j_1031 ? (
                                        bool_j_1033 = false;
                                        assert_pred_j_1034 = bool_j_1033;
                                        assert_res_j_1035 = assert_pred_j_1034 ? (
                                                assert_res_true_j_1036 = 
                                                    {}
                                            ) : (
                                                ab_j_1037 = abort
                                            )
                                    ) : (
                                        void_j_1030 = {}
                                    )
                            );
                        m_bl_i_1703 = m_match_cond_j_1010 ~ int;
                        m_br_i_1704 = m_match_cond_j_1039 ~ int;
                        m_b_i_1705 = m_bl_i_1703 and m_br_i_1704;
                        binop_j_1057 = m_b_i_1705 ? (
                                c_binop_i_1706 = m_match_cond_j_1010 + m_match_cond_j_1039
                            ) : (
                                ab_i_1707 = abort
                            );
                        record_j_1058 = {x = binop_j_998, y = binop_j_1057};
                        record_j_1059 = {};
                        record_j_1060 = {};
                        record_j_1061 = {x = record_j_1059, y = record_j_1060};
                        record_j_1062 = {bj_actual_rec = record_j_1058, bj_decl_lbls = record_j_1061}
                    ) : (
                        m_match_cond_j_907 = m_match_bool_j_906 ? (
                                ignore = m_match_cond_j_901.j_value;
                                var_j_908 = r;
                                m_i_1708 = var_j_908 ~ {bj_decl_lbls, _};
                                proj_j_909 = m_i_1708 ? (
                                        c_proj_i_1709 = var_j_908.bj_decl_lbls
                                    ) : (
                                        ab_i_1710 = abort
                                    );
                                m_match_bool_j_911 = proj_j_909 ~ any;
                                m_match_bool_j_918 = proj_j_909 ~ {relative_coord, _};
                                m_match_cond_j_919 = m_match_bool_j_918 ? (
                                        var_j_920 = r;
                                        proj_j_921 = var_j_920.bj_actual_rec;
                                        proj_j_922 = proj_j_921.relative_coord
                                    ) : (
                                        m_match_cond_j_912 = m_match_bool_j_911 ? (
                                                bool_j_913 = false;
                                                assert_pred_j_914 = bool_j_913;
                                                assert_res_j_915 = assert_pred_j_914 ? (
                                                        assert_res_true_j_916 = 
                                                            {}
                                                    ) : (
                                                        ab_j_917 = abort
                                                    )
                                            ) : (
                                                void_j_910 = {}
                                            )
                                    )
                            ) : (
                                ab_j_905 = abort
                            )
                    )
            )));
appl_j_1074 = flatten_fun_j_1071 flatten_fun_j_1071;
proj_j_1076 = t.generator;
int_j_1077 = 0;
appl_j_1078 = proj_j_1076 int_j_1077;
r_b_127 = appl_j_1078;
flatten_fun_j_1222 = fun r_j_43 -> (
    flatten_fun_j_1149 = fun expr_b_116 -> (
        var_j_1079 = coord;
        proj_j_1080 = var_j_1079.checker;
        var_j_1081 = expr_b_116;
        appl_j_1082 = proj_j_1080 var_j_1081;
        t_check_b_117 = appl_j_1082;
        var_j_1083 = t_check_b_117;
        if_j_1148 = var_j_1083 ? (
                bool_j_1084 = false;
                pred_check_b_118 = bool_j_1084;
                flatten_fun_j_1141 = fun abs_coord -> (
                    bool_j_1085 = false;
                    fail_b_115 = bool_j_1085;
                    var_j_1086 = r_j_43;
                    m_i_1711 = var_j_1086 ~ {bj_decl_lbls, _};
                    proj_j_1087 = m_i_1711 ? (
                            c_proj_i_1712 = var_j_1086.bj_decl_lbls
                        ) : (
                            ab_i_1713 = abort
                        );
                    m_match_bool_j_1089 = proj_j_1087 ~ any;
                    m_match_bool_j_1096 = proj_j_1087 ~ {parent, _};
                    m_match_cond_j_1097 = m_match_bool_j_1096 ? (
                            var_j_1098 = r_j_43;
                            proj_j_1099 = var_j_1098.bj_actual_rec;
                            proj_j_1100 = proj_j_1099.parent
                        ) : (
                            m_match_cond_j_1090 = m_match_bool_j_1089 ? (
                                    bool_j_1091 = false;
                                    assert_pred_j_1092 = bool_j_1091;
                                    assert_res_j_1093 = assert_pred_j_1092 ? (
                                            assert_res_true_j_1094 = 
                                                {}
                                        ) : (
                                            ab_j_1095 = abort
                                        )
                                ) : (
                                    void_j_1088 = {}
                                )
                        );
                    m_match_bool_j_1102 = m_match_cond_j_1097 ~ {j_value, j_variant_None, _};
                    m_match_bool_j_1105 = m_match_cond_j_1097 ~ {j_value, j_variant_Some, _};
                    m_match_bool_j_1134 = m_match_cond_j_1097 ~ {bj_untouched, _};
                    m_match_cond_j_1135 = m_match_bool_j_1134 ? (
                            var_j_1136 = fail_b_115;
                            assert_pred_j_1137 = var_j_1136;
                            assert_res_j_1138 = assert_pred_j_1137 ? (
                                    assert_res_true_j_1139 = {}
                                ) : (
                                    ab_j_1140 = abort
                                )
                        ) : (
                            m_match_cond_j_1106 = m_match_bool_j_1105 ? (
                                    p = m_match_cond_j_1097.j_value;
                                    var_j_1107 = is_coord_nonzero;
                                    var_j_1108 = appl_j_1074;
                                    var_j_1109 = p;
                                    m_i_1714 = var_j_1108 ~ fun;
                                    appl_j_1110 = m_i_1714 ? (
                                            c_appl_i_1715 = var_j_1108 var_j_1109
                                        ) : (
                                            ab_i_1716 = abort
                                        );
                                    m_i_1717 = var_j_1107 ~ fun;
                                    appl_j_1111 = m_i_1717 ? (
                                            c_appl_i_1718 = var_j_1107 appl_j_1110
                                        ) : (
                                            ab_i_1719 = abort
                                        );
                                    m_i_1720 = appl_j_1111 ~ bool;
                                    if_j_1133 = m_i_1720 ? (
                                            c_cond_i_1733 = appl_j_1111 ? (
                                                    var_j_1112 = coord_equal;
                                                    var_j_1113 = abs_coord;
                                                    m_i_1721 = var_j_1112 ~ fun;
                                                    appl_j_1114 = m_i_1721 ? (
                                                            c_appl_i_1722 = var_j_1112 var_j_1113
                                                        ) : (
                                                            ab_i_1723 = abort
                                                        );
                                                    var_j_1115 = r_j_43;
                                                    m_i_1724 = var_j_1115 ~ 
                                                        {bj_decl_lbls, _};
                                                    proj_j_1116 = m_i_1724 ? (
                                                            c_proj_i_1725 = var_j_1115.bj_decl_lbls
                                                        ) : (
                                                            ab_i_1726 = abort
                                                        );
                                                    m_match_bool_j_1118 = proj_j_1116 ~ any;
                                                    m_match_bool_j_1125 = proj_j_1116 ~ 
                                                        {relative_coord, _};
                                                    m_match_cond_j_1126 = m_match_bool_j_1125 ? (
                                                            var_j_1127 = r_j_43;
                                                            proj_j_1128 = var_j_1127.bj_actual_rec;
                                                            proj_j_1129 = proj_j_1128.relative_coord
                                                        ) : (
                                                            m_match_cond_j_1119 = m_match_bool_j_1118 ? (
                                                                    bool_j_1120 = false;
                                                                    assert_pred_j_1121 = bool_j_1120;
                                                                    assert_res_j_1122 = assert_pred_j_1121 ? (
                                                                        assert_res_true_j_1123 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1124 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1117 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_1727 = appl_j_1114 ~ fun;
                                                    appl_j_1130 = m_i_1727 ? (
                                                            c_appl_i_1728 = appl_j_1114 m_match_cond_j_1126
                                                        ) : (
                                                            ab_i_1729 = abort
                                                        );
                                                    m_i_1730 = appl_j_1130 ~ bool;
                                                    notop_j_1131 = m_i_1730 ? (
                                                            c_not_i_1731 = not appl_j_1130
                                                        ) : (
                                                            ab_i_1732 = abort
                                                        )
                                                ) : (
                                                    bool_j_1132 = true
                                                )
                                        ) : (
                                            ab_i_1734 = abort
                                        )
                                ) : (
                                    m_match_cond_j_1103 = m_match_bool_j_1102 ? (
                                            ignore_j_38 = m_match_cond_j_1097.j_value;
                                            bool_j_1104 = true
                                        ) : (
                                            ab_j_1101 = abort
                                        )
                                )
                        ));
                var_j_1142 = expr_b_116;
                appl_j_1143 = flatten_fun_j_1141 var_j_1142;
                if_j_1146 = appl_j_1143 ? (
                        bool_j_1144 = true
                    ) : (
                        var_j_1145 = pred_check_b_118
                    )
            ) : (
                var_j_1147 = t_check_b_117
            ));
    flatten_fun_j_1217 = fun bj_null_j_42 -> (
        var_j_1150 = coord;
        proj_j_1151 = var_j_1150.generator;
        int_j_1152 = 0;
        appl_j_1153 = proj_j_1151 int_j_1152;
        candidate_b_114 = appl_j_1153;
        flatten_fun_j_1210 = fun abs_coord_j_41 -> (
            bool_j_1154 = false;
            fail_b_113 = bool_j_1154;
            var_j_1155 = r_j_43;
            m_i_1735 = var_j_1155 ~ {bj_decl_lbls, _};
            proj_j_1156 = m_i_1735 ? (
                    c_proj_i_1736 = var_j_1155.bj_decl_lbls
                ) : (
                    ab_i_1737 = abort
                );
            m_match_bool_j_1158 = proj_j_1156 ~ any;
            m_match_bool_j_1165 = proj_j_1156 ~ {parent, _};
            m_match_cond_j_1166 = m_match_bool_j_1165 ? (
                    var_j_1167 = r_j_43;
                    proj_j_1168 = var_j_1167.bj_actual_rec;
                    proj_j_1169 = proj_j_1168.parent
                ) : (
                    m_match_cond_j_1159 = m_match_bool_j_1158 ? (
                            bool_j_1160 = false;
                            assert_pred_j_1161 = bool_j_1160;
                            assert_res_j_1162 = assert_pred_j_1161 ? (
                                    assert_res_true_j_1163 = {}
                                ) : (
                                    ab_j_1164 = abort
                                )
                        ) : (
                            void_j_1157 = {}
                        )
                );
            m_match_bool_j_1171 = m_match_cond_j_1166 ~ {j_value, j_variant_None, _};
            m_match_bool_j_1174 = m_match_cond_j_1166 ~ {j_value, j_variant_Some, _};
            m_match_bool_j_1203 = m_match_cond_j_1166 ~ {bj_untouched, _};
            m_match_cond_j_1204 = m_match_bool_j_1203 ? (
                    var_j_1205 = fail_b_113;
                    assert_pred_j_1206 = var_j_1205;
                    assert_res_j_1207 = assert_pred_j_1206 ? (
                            assert_res_true_j_1208 = {}
                        ) : (
                            ab_j_1209 = abort
                        )
                ) : (
                    m_match_cond_j_1175 = m_match_bool_j_1174 ? (
                            p_j_39 = m_match_cond_j_1166.j_value;
                            var_j_1176 = is_coord_nonzero;
                            var_j_1177 = appl_j_1074;
                            var_j_1178 = p_j_39;
                            m_i_1738 = var_j_1177 ~ fun;
                            appl_j_1179 = m_i_1738 ? (
                                    c_appl_i_1739 = var_j_1177 var_j_1178
                                ) : (
                                    ab_i_1740 = abort
                                );
                            m_i_1741 = var_j_1176 ~ fun;
                            appl_j_1180 = m_i_1741 ? (
                                    c_appl_i_1742 = var_j_1176 appl_j_1179
                                ) : (
                                    ab_i_1743 = abort
                                );
                            m_i_1744 = appl_j_1180 ~ bool;
                            if_j_1202 = m_i_1744 ? (
                                    c_cond_i_1757 = appl_j_1180 ? (
                                            var_j_1181 = coord_equal;
                                            var_j_1182 = abs_coord_j_41;
                                            m_i_1745 = var_j_1181 ~ fun;
                                            appl_j_1183 = m_i_1745 ? (
                                                    c_appl_i_1746 = var_j_1181 var_j_1182
                                                ) : (
                                                    ab_i_1747 = abort
                                                );
                                            var_j_1184 = r_j_43;
                                            m_i_1748 = var_j_1184 ~ {bj_decl_lbls, _};
                                            proj_j_1185 = m_i_1748 ? (
                                                    c_proj_i_1749 = var_j_1184.bj_decl_lbls
                                                ) : (
                                                    ab_i_1750 = abort
                                                );
                                            m_match_bool_j_1187 = proj_j_1185 ~ any;
                                            m_match_bool_j_1194 = proj_j_1185 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1195 = m_match_bool_j_1194 ? (
                                                    var_j_1196 = r_j_43;
                                                    proj_j_1197 = var_j_1196.bj_actual_rec;
                                                    proj_j_1198 = proj_j_1197.relative_coord
                                                ) : (
                                                    m_match_cond_j_1188 = m_match_bool_j_1187 ? (
                                                            bool_j_1189 = false;
                                                            assert_pred_j_1190 = bool_j_1189;
                                                            assert_res_j_1191 = assert_pred_j_1190 ? (
                                                                    assert_res_true_j_1192 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1193 = abort
                                                                )
                                                        ) : (
                                                            void_j_1186 = 
                                                                {}
                                                        )
                                                );
                                            m_i_1751 = appl_j_1183 ~ fun;
                                            appl_j_1199 = m_i_1751 ? (
                                                    c_appl_i_1752 = appl_j_1183 m_match_cond_j_1195
                                                ) : (
                                                    ab_i_1753 = abort
                                                );
                                            m_i_1754 = appl_j_1199 ~ bool;
                                            notop_j_1200 = m_i_1754 ? (
                                                    c_not_i_1755 = not appl_j_1199
                                                ) : (
                                                    ab_i_1756 = abort
                                                )
                                        ) : (
                                            bool_j_1201 = true
                                        )
                                ) : (
                                    ab_i_1758 = abort
                                )
                        ) : (
                            m_match_cond_j_1172 = m_match_bool_j_1171 ? (
                                    ignore_j_40 = m_match_cond_j_1166.j_value;
                                    bool_j_1173 = true
                                ) : (
                                    ab_j_1170 = abort
                                )
                        )
                ));
        var_j_1211 = candidate_b_114;
        appl_j_1212 = flatten_fun_j_1210 var_j_1211;
        if_j_1216 = appl_j_1212 ? (
                var_j_1213 = candidate_b_114
            ) : (
                bool_j_1214 = false;
                assume_j_1215 = assume bool_j_1214
            ));
    var_j_1218 = coord;
    proj_j_1219 = var_j_1218.wrapper;
    record_j_1220 = {checker = flatten_fun_j_1149, generator = flatten_fun_j_1217, wrapper = proj_j_1219};
    proj_j_1221 = record_j_1220.checker);
appl_j_1224 = flatten_fun_j_1222 r_b_127;
appl_j_1227 = appl_j_1074 r_b_127;
appl_j_1228 = appl_j_1224 appl_j_1227;
check_res_b_126 = appl_j_1228;
if_j_1590 = check_res_b_126 ? (
        flatten_fun_j_1580 = fun get_abs_coord_j_0 -> (
            flatten_fun_j_1579 = fun eta_b_3 -> (
                var_j_1230 = get_abs_coord_j_0;
                var_j_1231 = get_abs_coord_j_0;
                appl_j_1232 = var_j_1230 var_j_1231;
                get_abs_coord_j_55 = appl_j_1232;
                var_j_1233 = t;
                proj_j_1234 = var_j_1233.wrapper;
                wrap_t_b_1 = proj_j_1234;
                flatten_fun_j_1576 = fun r_b_0 -> (
                    var_j_1235 = t;
                    proj_j_1236 = var_j_1235.checker;
                    var_j_1237 = r_b_0;
                    appl_j_1238 = proj_j_1236 var_j_1237;
                    if_j_1575 = appl_j_1238 ? (
                            var_j_1239 = wrap_t_b_1;
                            var_j_1240 = r_b_0;
                            m_i_1759 = var_j_1239 ~ fun;
                            appl_j_1241 = m_i_1759 ? (
                                    c_appl_i_1760 = var_j_1239 var_j_1240
                                ) : (
                                    ab_i_1761 = abort
                                );
                            r_j_54 = appl_j_1241;
                            flatten_fun_j_1384 = fun r_b_2 -> (
                                flatten_fun_j_1312 = fun expr_b_122 -> (
                                    var_j_1242 = coord;
                                    proj_j_1243 = var_j_1242.checker;
                                    var_j_1244 = expr_b_122;
                                    appl_j_1245 = proj_j_1243 var_j_1244;
                                    t_check_b_123 = appl_j_1245;
                                    var_j_1246 = t_check_b_123;
                                    if_j_1311 = var_j_1246 ? (
                                            bool_j_1247 = false;
                                            pred_check_b_124 = bool_j_1247;
                                            flatten_fun_j_1304 = fun abs_coord_j_46 -> (
                                                bool_j_1248 = false;
                                                fail_b_121 = bool_j_1248;
                                                var_j_1249 = r_j_54;
                                                m_i_1762 = var_j_1249 ~ 
                                                    {bj_decl_lbls, _};
                                                proj_j_1250 = m_i_1762 ? (
                                                        c_proj_i_1763 = var_j_1249.bj_decl_lbls
                                                    ) : (
                                                        ab_i_1764 = abort
                                                    );
                                                m_match_bool_j_1252 = proj_j_1250 ~ any;
                                                m_match_bool_j_1259 = proj_j_1250 ~ 
                                                    {parent, _};
                                                m_match_cond_j_1260 = m_match_bool_j_1259 ? (
                                                        var_j_1261 = r_j_54;
                                                        proj_j_1262 = var_j_1261.bj_actual_rec;
                                                        proj_j_1263 = proj_j_1262.parent
                                                    ) : (
                                                        m_match_cond_j_1253 = m_match_bool_j_1252 ? (
                                                                bool_j_1254 = false;
                                                                assert_pred_j_1255 = bool_j_1254;
                                                                assert_res_j_1256 = assert_pred_j_1255 ? (
                                                                        
                                                                    assert_res_true_j_1257 = 
                                                                    {}
                                                                    ) : (
                                                                        
                                                                    ab_j_1258 = abort
                                                                    )
                                                            ) : (
                                                                void_j_1251 = 
                                                                    {}
                                                            )
                                                    );
                                                m_match_bool_j_1265 = m_match_cond_j_1260 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_1268 = m_match_cond_j_1260 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_bool_j_1297 = m_match_cond_j_1260 ~ 
                                                    {bj_untouched, _};
                                                m_match_cond_j_1298 = m_match_bool_j_1297 ? (
                                                        var_j_1299 = fail_b_121;
                                                        assert_pred_j_1300 = var_j_1299;
                                                        assert_res_j_1301 = assert_pred_j_1300 ? (
                                                                assert_res_true_j_1302 = 
                                                                    {}
                                                            ) : (
                                                                ab_j_1303 = abort
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1269 = m_match_bool_j_1268 ? (
                                                                p_j_44 = m_match_cond_j_1260.j_value;
                                                                var_j_1270 = is_coord_nonzero;
                                                                var_j_1271 = get_abs_coord_j_55;
                                                                var_j_1272 = p_j_44;
                                                                m_i_1765 = var_j_1271 ~ fun;
                                                                appl_j_1273 = m_i_1765 ? (
                                                                        
                                                                    c_appl_i_1766 = var_j_1271 var_j_1272
                                                                    ) : (
                                                                        
                                                                    ab_i_1767 = abort
                                                                    );
                                                                m_i_1768 = var_j_1270 ~ fun;
                                                                appl_j_1274 = m_i_1768 ? (
                                                                        
                                                                    c_appl_i_1769 = var_j_1270 appl_j_1273
                                                                    ) : (
                                                                        
                                                                    ab_i_1770 = abort
                                                                    );
                                                                m_i_1771 = appl_j_1274 ~ bool;
                                                                if_j_1296 = m_i_1771 ? (
                                                                        
                                                                    c_cond_i_1784 = appl_j_1274 ? (
                                                                        var_j_1275 = coord_equal;
                                                                    var_j_1276 = abs_coord_j_46;
                                                                    m_i_1772 = var_j_1275 ~ fun;
                                                                    appl_j_1277 = m_i_1772 ? (
                                                                        c_appl_i_1773 = var_j_1275 var_j_1276
                                                                    ) : (
                                                                        ab_i_1774 = abort
                                                                    );
                                                                    var_j_1278 = r_j_54;
                                                                    m_i_1775 = var_j_1278 ~ 
                                                                    {bj_decl_lbls, _};
                                                                    proj_j_1279 = m_i_1775 ? (
                                                                        c_proj_i_1776 = var_j_1278.bj_decl_lbls
                                                                    ) : (
                                                                        ab_i_1777 = abort
                                                                    );
                                                                    m_match_bool_j_1281 = proj_j_1279 ~ any;
                                                                    m_match_bool_j_1288 = proj_j_1279 ~ 
                                                                    {relative_coord, _};
                                                                    m_match_cond_j_1289 = m_match_bool_j_1288 ? (
                                                                        var_j_1290 = r_j_54;
                                                                    proj_j_1291 = var_j_1290.bj_actual_rec;
                                                                    proj_j_1292 = proj_j_1291.relative_coord
                                                                    ) : (
                                                                        m_match_cond_j_1282 = m_match_bool_j_1281 ? (
                                                                        bool_j_1283 = false;
                                                                    assert_pred_j_1284 = bool_j_1283;
                                                                    assert_res_j_1285 = assert_pred_j_1284 ? (
                                                                        assert_res_true_j_1286 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1287 = abort
                                                                    )
                                                                    ) : (
                                                                        void_j_1280 = 
                                                                    {}
                                                                    )
                                                                    );
                                                                    m_i_1778 = appl_j_1277 ~ fun;
                                                                    appl_j_1293 = m_i_1778 ? (
                                                                        c_appl_i_1779 = appl_j_1277 m_match_cond_j_1289
                                                                    ) : (
                                                                        ab_i_1780 = abort
                                                                    );
                                                                    m_i_1781 = appl_j_1293 ~ bool;
                                                                    notop_j_1294 = m_i_1781 ? (
                                                                        c_not_i_1782 = not appl_j_1293
                                                                    ) : (
                                                                        ab_i_1783 = abort
                                                                    )
                                                                    ) : (
                                                                        bool_j_1295 = true
                                                                    )
                                                                    ) : (
                                                                        
                                                                    ab_i_1785 = abort
                                                                    )
                                                            ) : (
                                                                m_match_cond_j_1266 = m_match_bool_j_1265 ? (
                                                                        
                                                                    ignore_j_45 = m_match_cond_j_1260.j_value;
                                                                    bool_j_1267 = true
                                                                    ) : (
                                                                        
                                                                    ab_j_1264 = abort
                                                                    )
                                                            )
                                                    ));
                                            var_j_1305 = expr_b_122;
                                            appl_j_1306 = flatten_fun_j_1304 var_j_1305;
                                            if_j_1309 = appl_j_1306 ? (
                                                    bool_j_1307 = true
                                                ) : (
                                                    var_j_1308 = pred_check_b_124
                                                )
                                        ) : (
                                            var_j_1310 = t_check_b_123
                                        ));
                                flatten_fun_j_1380 = fun bj_null_j_50 -> (
                                    var_j_1313 = coord;
                                    proj_j_1314 = var_j_1313.generator;
                                    int_j_1315 = 0;
                                    appl_j_1316 = proj_j_1314 int_j_1315;
                                    candidate_b_120 = appl_j_1316;
                                    flatten_fun_j_1373 = fun abs_coord_j_49 -> (
                                        bool_j_1317 = false;
                                        fail_b_119 = bool_j_1317;
                                        var_j_1318 = r_j_54;
                                        m_i_1786 = var_j_1318 ~ {bj_decl_lbls, _};
                                        proj_j_1319 = m_i_1786 ? (
                                                c_proj_i_1787 = var_j_1318.bj_decl_lbls
                                            ) : (
                                                ab_i_1788 = abort
                                            );
                                        m_match_bool_j_1321 = proj_j_1319 ~ any;
                                        m_match_bool_j_1328 = proj_j_1319 ~ 
                                            {parent, _};
                                        m_match_cond_j_1329 = m_match_bool_j_1328 ? (
                                                var_j_1330 = r_j_54;
                                                proj_j_1331 = var_j_1330.bj_actual_rec;
                                                proj_j_1332 = proj_j_1331.parent
                                            ) : (
                                                m_match_cond_j_1322 = m_match_bool_j_1321 ? (
                                                        bool_j_1323 = false;
                                                        assert_pred_j_1324 = bool_j_1323;
                                                        assert_res_j_1325 = assert_pred_j_1324 ? (
                                                                assert_res_true_j_1326 = 
                                                                    {}
                                                            ) : (
                                                                ab_j_1327 = abort
                                                            )
                                                    ) : (
                                                        void_j_1320 = 
                                                            {}
                                                    )
                                            );
                                        m_match_bool_j_1334 = m_match_cond_j_1329 ~ 
                                            {j_value, j_variant_None, _};
                                        m_match_bool_j_1337 = m_match_cond_j_1329 ~ 
                                            {j_value, j_variant_Some, _};
                                        m_match_bool_j_1366 = m_match_cond_j_1329 ~ 
                                            {bj_untouched, _};
                                        m_match_cond_j_1367 = m_match_bool_j_1366 ? (
                                                var_j_1368 = fail_b_119;
                                                assert_pred_j_1369 = var_j_1368;
                                                assert_res_j_1370 = assert_pred_j_1369 ? (
                                                        assert_res_true_j_1371 = 
                                                            {}
                                                    ) : (
                                                        ab_j_1372 = abort
                                                    )
                                            ) : (
                                                m_match_cond_j_1338 = m_match_bool_j_1337 ? (
                                                        p_j_47 = m_match_cond_j_1329.j_value;
                                                        var_j_1339 = is_coord_nonzero;
                                                        var_j_1340 = get_abs_coord_j_55;
                                                        var_j_1341 = p_j_47;
                                                        m_i_1789 = var_j_1340 ~ fun;
                                                        appl_j_1342 = m_i_1789 ? (
                                                                c_appl_i_1790 = var_j_1340 var_j_1341
                                                            ) : (
                                                                ab_i_1791 = abort
                                                            );
                                                        m_i_1792 = var_j_1339 ~ fun;
                                                        appl_j_1343 = m_i_1792 ? (
                                                                c_appl_i_1793 = var_j_1339 appl_j_1342
                                                            ) : (
                                                                ab_i_1794 = abort
                                                            );
                                                        m_i_1795 = appl_j_1343 ~ bool;
                                                        if_j_1365 = m_i_1795 ? (
                                                                c_cond_i_1808 = appl_j_1343 ? (
                                                                        
                                                                    var_j_1344 = coord_equal;
                                                                    var_j_1345 = abs_coord_j_49;
                                                                    m_i_1796 = var_j_1344 ~ fun;
                                                                    appl_j_1346 = m_i_1796 ? (
                                                                        c_appl_i_1797 = var_j_1344 var_j_1345
                                                                    ) : (
                                                                        ab_i_1798 = abort
                                                                    );
                                                                    var_j_1347 = r_j_54;
                                                                    m_i_1799 = var_j_1347 ~ 
                                                                    {bj_decl_lbls, _};
                                                                    proj_j_1348 = m_i_1799 ? (
                                                                        c_proj_i_1800 = var_j_1347.bj_decl_lbls
                                                                    ) : (
                                                                        ab_i_1801 = abort
                                                                    );
                                                                    m_match_bool_j_1350 = proj_j_1348 ~ any;
                                                                    m_match_bool_j_1357 = proj_j_1348 ~ 
                                                                    {relative_coord, _};
                                                                    m_match_cond_j_1358 = m_match_bool_j_1357 ? (
                                                                        var_j_1359 = r_j_54;
                                                                    proj_j_1360 = var_j_1359.bj_actual_rec;
                                                                    proj_j_1361 = proj_j_1360.relative_coord
                                                                    ) : (
                                                                        m_match_cond_j_1351 = m_match_bool_j_1350 ? (
                                                                        bool_j_1352 = false;
                                                                    assert_pred_j_1353 = bool_j_1352;
                                                                    assert_res_j_1354 = assert_pred_j_1353 ? (
                                                                        assert_res_true_j_1355 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1356 = abort
                                                                    )
                                                                    ) : (
                                                                        void_j_1349 = 
                                                                    {}
                                                                    )
                                                                    );
                                                                    m_i_1802 = appl_j_1346 ~ fun;
                                                                    appl_j_1362 = m_i_1802 ? (
                                                                        c_appl_i_1803 = appl_j_1346 m_match_cond_j_1358
                                                                    ) : (
                                                                        ab_i_1804 = abort
                                                                    );
                                                                    m_i_1805 = appl_j_1362 ~ bool;
                                                                    notop_j_1363 = m_i_1805 ? (
                                                                        c_not_i_1806 = not appl_j_1362
                                                                    ) : (
                                                                        ab_i_1807 = abort
                                                                    )
                                                                    ) : (
                                                                        
                                                                    bool_j_1364 = true
                                                                    )
                                                            ) : (
                                                                ab_i_1809 = abort
                                                            )
                                                    ) : (
                                                        m_match_cond_j_1335 = m_match_bool_j_1334 ? (
                                                                ignore_j_48 = m_match_cond_j_1329.j_value;
                                                                bool_j_1336 = true
                                                            ) : (
                                                                ab_j_1333 = abort
                                                            )
                                                    )
                                            ));
                                    var_j_1374 = candidate_b_120;
                                    appl_j_1375 = flatten_fun_j_1373 var_j_1374;
                                    if_j_1379 = appl_j_1375 ? (
                                            var_j_1376 = candidate_b_120
                                        ) : (
                                            bool_j_1377 = false;
                                            assume_j_1378 = assume bool_j_1377
                                        ));
                                var_j_1381 = coord;
                                proj_j_1382 = var_j_1381.wrapper;
                                record_j_1383 = {checker = flatten_fun_j_1312, generator = flatten_fun_j_1380, wrapper = proj_j_1382});
                            var_j_1385 = r_b_0;
                            m_i_1810 = flatten_fun_j_1384 ~ fun;
                            appl_j_1386 = m_i_1810 ? (
                                    c_appl_i_1811 = flatten_fun_j_1384 var_j_1385
                                ) : (
                                    ab_i_1812 = abort
                                );
                            proj_j_1387 = appl_j_1386.wrapper;
                            bool_j_1388 = false;
                            fail_b_125 = bool_j_1388;
                            var_j_1389 = r_j_54;
                            m_i_1813 = var_j_1389 ~ {bj_decl_lbls, _};
                            proj_j_1390 = m_i_1813 ? (
                                    c_proj_i_1814 = var_j_1389.bj_decl_lbls
                                ) : (
                                    ab_i_1815 = abort
                                );
                            m_match_bool_j_1392 = proj_j_1390 ~ any;
                            m_match_bool_j_1399 = proj_j_1390 ~ {parent, _};
                            m_match_cond_j_1400 = m_match_bool_j_1399 ? (
                                    var_j_1401 = r_j_54;
                                    proj_j_1402 = var_j_1401.bj_actual_rec;
                                    proj_j_1403 = proj_j_1402.parent
                                ) : (
                                    m_match_cond_j_1393 = m_match_bool_j_1392 ? (
                                            bool_j_1394 = false;
                                            assert_pred_j_1395 = bool_j_1394;
                                            assert_res_j_1396 = assert_pred_j_1395 ? (
                                                    assert_res_true_j_1397 = 
                                                        {}
                                                ) : (
                                                    ab_j_1398 = abort
                                                )
                                        ) : (
                                            void_j_1391 = {}
                                        )
                                );
                            m_match_bool_j_1405 = m_match_cond_j_1400 ~ 
                                {j_value, j_variant_None, _};
                            m_match_bool_j_1422 = m_match_cond_j_1400 ~ 
                                {j_value, j_variant_Some, _};
                            m_match_bool_j_1562 = m_match_cond_j_1400 ~ 
                                {bj_untouched, _};
                            m_match_cond_j_1563 = m_match_bool_j_1562 ? (
                                    var_j_1564 = fail_b_125;
                                    assert_pred_j_1565 = var_j_1564;
                                    assert_res_j_1566 = assert_pred_j_1565 ? (
                                            assert_res_true_j_1567 = 
                                                {}
                                        ) : (
                                            ab_j_1568 = abort
                                        )
                                ) : (
                                    m_match_cond_j_1423 = m_match_bool_j_1422 ? (
                                            parent_j_52 = m_match_cond_j_1400.j_value;
                                            var_j_1424 = parent_j_52;
                                            m_i_1816 = var_j_1424 ~ {bj_decl_lbls, _};
                                            proj_j_1425 = m_i_1816 ? (
                                                    c_proj_i_1817 = var_j_1424.bj_decl_lbls
                                                ) : (
                                                    ab_i_1818 = abort
                                                );
                                            m_match_bool_j_1427 = proj_j_1425 ~ any;
                                            m_match_bool_j_1434 = proj_j_1425 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1435 = m_match_bool_j_1434 ? (
                                                    var_j_1436 = parent_j_52;
                                                    proj_j_1437 = var_j_1436.bj_actual_rec;
                                                    proj_j_1438 = proj_j_1437.relative_coord
                                                ) : (
                                                    m_match_cond_j_1428 = m_match_bool_j_1427 ? (
                                                            bool_j_1429 = false;
                                                            assert_pred_j_1430 = bool_j_1429;
                                                            assert_res_j_1431 = assert_pred_j_1430 ? (
                                                                    assert_res_true_j_1432 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1433 = abort
                                                                )
                                                        ) : (
                                                            void_j_1426 = 
                                                                {}
                                                        )
                                                );
                                            c_j_51 = m_match_cond_j_1435;
                                            var_j_1439 = c_j_51;
                                            m_i_1819 = var_j_1439 ~ {bj_decl_lbls, _};
                                            proj_j_1440 = m_i_1819 ? (
                                                    c_proj_i_1820 = var_j_1439.bj_decl_lbls
                                                ) : (
                                                    ab_i_1821 = abort
                                                );
                                            m_match_bool_j_1442 = proj_j_1440 ~ any;
                                            m_match_bool_j_1449 = proj_j_1440 ~ 
                                                {x, _};
                                            m_match_cond_j_1450 = m_match_bool_j_1449 ? (
                                                    var_j_1451 = c_j_51;
                                                    proj_j_1452 = var_j_1451.bj_actual_rec;
                                                    proj_j_1453 = proj_j_1452.x
                                                ) : (
                                                    m_match_cond_j_1443 = m_match_bool_j_1442 ? (
                                                            bool_j_1444 = false;
                                                            assert_pred_j_1445 = bool_j_1444;
                                                            assert_res_j_1446 = assert_pred_j_1445 ? (
                                                                    assert_res_true_j_1447 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1448 = abort
                                                                )
                                                        ) : (
                                                            void_j_1441 = 
                                                                {}
                                                        )
                                                );
                                            var_j_1454 = r_j_54;
                                            m_i_1822 = var_j_1454 ~ {bj_decl_lbls, _};
                                            proj_j_1455 = m_i_1822 ? (
                                                    c_proj_i_1823 = var_j_1454.bj_decl_lbls
                                                ) : (
                                                    ab_i_1824 = abort
                                                );
                                            m_match_bool_j_1457 = proj_j_1455 ~ any;
                                            m_match_bool_j_1464 = proj_j_1455 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1465 = m_match_bool_j_1464 ? (
                                                    var_j_1466 = r_j_54;
                                                    proj_j_1467 = var_j_1466.bj_actual_rec;
                                                    proj_j_1468 = proj_j_1467.relative_coord
                                                ) : (
                                                    m_match_cond_j_1458 = m_match_bool_j_1457 ? (
                                                            bool_j_1459 = false;
                                                            assert_pred_j_1460 = bool_j_1459;
                                                            assert_res_j_1461 = assert_pred_j_1460 ? (
                                                                    assert_res_true_j_1462 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1463 = abort
                                                                )
                                                        ) : (
                                                            void_j_1456 = 
                                                                {}
                                                        )
                                                );
                                            m_i_1825 = m_match_cond_j_1465 ~ 
                                                {bj_decl_lbls, _};
                                            proj_j_1469 = m_i_1825 ? (
                                                    c_proj_i_1826 = m_match_cond_j_1465.bj_decl_lbls
                                                ) : (
                                                    ab_i_1827 = abort
                                                );
                                            m_match_bool_j_1471 = proj_j_1469 ~ any;
                                            m_match_bool_j_1478 = proj_j_1469 ~ 
                                                {x, _};
                                            m_match_cond_j_1479 = m_match_bool_j_1478 ? (
                                                    var_j_1480 = r_j_54;
                                                    m_i_1828 = var_j_1480 ~ 
                                                        {bj_decl_lbls, _};
                                                    proj_j_1481 = m_i_1828 ? (
                                                            c_proj_i_1829 = var_j_1480.bj_decl_lbls
                                                        ) : (
                                                            ab_i_1830 = abort
                                                        );
                                                    m_match_bool_j_1483 = proj_j_1481 ~ any;
                                                    m_match_bool_j_1490 = proj_j_1481 ~ 
                                                        {relative_coord, _};
                                                    m_match_cond_j_1491 = m_match_bool_j_1490 ? (
                                                            var_j_1492 = r_j_54;
                                                            proj_j_1493 = var_j_1492.bj_actual_rec;
                                                            proj_j_1494 = proj_j_1493.relative_coord
                                                        ) : (
                                                            m_match_cond_j_1484 = m_match_bool_j_1483 ? (
                                                                    bool_j_1485 = false;
                                                                    assert_pred_j_1486 = bool_j_1485;
                                                                    assert_res_j_1487 = assert_pred_j_1486 ? (
                                                                        assert_res_true_j_1488 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1489 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1482 = 
                                                                    {}
                                                                )
                                                        );
                                                    proj_j_1495 = m_match_cond_j_1491.bj_actual_rec;
                                                    proj_j_1496 = proj_j_1495.x
                                                ) : (
                                                    m_match_cond_j_1472 = m_match_bool_j_1471 ? (
                                                            bool_j_1473 = false;
                                                            assert_pred_j_1474 = bool_j_1473;
                                                            assert_res_j_1475 = assert_pred_j_1474 ? (
                                                                    assert_res_true_j_1476 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1477 = abort
                                                                )
                                                        ) : (
                                                            void_j_1470 = 
                                                                {}
                                                        )
                                                );
                                            m_bl_i_1831 = m_match_cond_j_1450 ~ int;
                                            m_br_i_1832 = m_match_cond_j_1479 ~ int;
                                            m_b_i_1833 = m_bl_i_1831 and m_br_i_1832;
                                            binop_j_1497 = m_b_i_1833 ? (
                                                    c_binop_i_1834 = m_match_cond_j_1450 + m_match_cond_j_1479
                                                ) : (
                                                    ab_i_1835 = abort
                                                );
                                            var_j_1498 = c_j_51;
                                            m_i_1836 = var_j_1498 ~ {bj_decl_lbls, _};
                                            proj_j_1499 = m_i_1836 ? (
                                                    c_proj_i_1837 = var_j_1498.bj_decl_lbls
                                                ) : (
                                                    ab_i_1838 = abort
                                                );
                                            m_match_bool_j_1501 = proj_j_1499 ~ any;
                                            m_match_bool_j_1508 = proj_j_1499 ~ 
                                                {y, _};
                                            m_match_cond_j_1509 = m_match_bool_j_1508 ? (
                                                    var_j_1510 = c_j_51;
                                                    proj_j_1511 = var_j_1510.bj_actual_rec;
                                                    proj_j_1512 = proj_j_1511.y
                                                ) : (
                                                    m_match_cond_j_1502 = m_match_bool_j_1501 ? (
                                                            bool_j_1503 = false;
                                                            assert_pred_j_1504 = bool_j_1503;
                                                            assert_res_j_1505 = assert_pred_j_1504 ? (
                                                                    assert_res_true_j_1506 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1507 = abort
                                                                )
                                                        ) : (
                                                            void_j_1500 = 
                                                                {}
                                                        )
                                                );
                                            var_j_1513 = r_j_54;
                                            m_i_1839 = var_j_1513 ~ {bj_decl_lbls, _};
                                            proj_j_1514 = m_i_1839 ? (
                                                    c_proj_i_1840 = var_j_1513.bj_decl_lbls
                                                ) : (
                                                    ab_i_1841 = abort
                                                );
                                            m_match_bool_j_1516 = proj_j_1514 ~ any;
                                            m_match_bool_j_1523 = proj_j_1514 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1524 = m_match_bool_j_1523 ? (
                                                    var_j_1525 = r_j_54;
                                                    proj_j_1526 = var_j_1525.bj_actual_rec;
                                                    proj_j_1527 = proj_j_1526.relative_coord
                                                ) : (
                                                    m_match_cond_j_1517 = m_match_bool_j_1516 ? (
                                                            bool_j_1518 = false;
                                                            assert_pred_j_1519 = bool_j_1518;
                                                            assert_res_j_1520 = assert_pred_j_1519 ? (
                                                                    assert_res_true_j_1521 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1522 = abort
                                                                )
                                                        ) : (
                                                            void_j_1515 = 
                                                                {}
                                                        )
                                                );
                                            m_i_1842 = m_match_cond_j_1524 ~ 
                                                {bj_decl_lbls, _};
                                            proj_j_1528 = m_i_1842 ? (
                                                    c_proj_i_1843 = m_match_cond_j_1524.bj_decl_lbls
                                                ) : (
                                                    ab_i_1844 = abort
                                                );
                                            m_match_bool_j_1530 = proj_j_1528 ~ any;
                                            m_match_bool_j_1537 = proj_j_1528 ~ 
                                                {y, _};
                                            m_match_cond_j_1538 = m_match_bool_j_1537 ? (
                                                    var_j_1539 = r_j_54;
                                                    m_i_1845 = var_j_1539 ~ 
                                                        {bj_decl_lbls, _};
                                                    proj_j_1540 = m_i_1845 ? (
                                                            c_proj_i_1846 = var_j_1539.bj_decl_lbls
                                                        ) : (
                                                            ab_i_1847 = abort
                                                        );
                                                    m_match_bool_j_1542 = proj_j_1540 ~ any;
                                                    m_match_bool_j_1549 = proj_j_1540 ~ 
                                                        {relative_coord, _};
                                                    m_match_cond_j_1550 = m_match_bool_j_1549 ? (
                                                            var_j_1551 = r_j_54;
                                                            proj_j_1552 = var_j_1551.bj_actual_rec;
                                                            proj_j_1553 = proj_j_1552.relative_coord
                                                        ) : (
                                                            m_match_cond_j_1543 = m_match_bool_j_1542 ? (
                                                                    bool_j_1544 = false;
                                                                    assert_pred_j_1545 = bool_j_1544;
                                                                    assert_res_j_1546 = assert_pred_j_1545 ? (
                                                                        assert_res_true_j_1547 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1548 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1541 = 
                                                                    {}
                                                                )
                                                        );
                                                    proj_j_1554 = m_match_cond_j_1550.bj_actual_rec;
                                                    proj_j_1555 = proj_j_1554.y
                                                ) : (
                                                    m_match_cond_j_1531 = m_match_bool_j_1530 ? (
                                                            bool_j_1532 = false;
                                                            assert_pred_j_1533 = bool_j_1532;
                                                            assert_res_j_1534 = assert_pred_j_1533 ? (
                                                                    assert_res_true_j_1535 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1536 = abort
                                                                )
                                                        ) : (
                                                            void_j_1529 = 
                                                                {}
                                                        )
                                                );
                                            m_bl_i_1848 = m_match_cond_j_1509 ~ int;
                                            m_br_i_1849 = m_match_cond_j_1538 ~ int;
                                            m_b_i_1850 = m_bl_i_1848 and m_br_i_1849;
                                            binop_j_1556 = m_b_i_1850 ? (
                                                    c_binop_i_1851 = m_match_cond_j_1509 + m_match_cond_j_1538
                                                ) : (
                                                    ab_i_1852 = abort
                                                );
                                            record_j_1557 = {x = binop_j_1497, y = binop_j_1556};
                                            record_j_1558 = {};
                                            record_j_1559 = {};
                                            record_j_1560 = {x = record_j_1558, y = record_j_1559};
                                            record_j_1561 = {bj_actual_rec = record_j_1557, bj_decl_lbls = record_j_1560}
                                        ) : (
                                            m_match_cond_j_1406 = m_match_bool_j_1405 ? (
                                                    ignore_j_53 = m_match_cond_j_1400.j_value;
                                                    var_j_1407 = r_j_54;
                                                    m_i_1853 = var_j_1407 ~ 
                                                        {bj_decl_lbls, _};
                                                    proj_j_1408 = m_i_1853 ? (
                                                            c_proj_i_1854 = var_j_1407.bj_decl_lbls
                                                        ) : (
                                                            ab_i_1855 = abort
                                                        );
                                                    m_match_bool_j_1410 = proj_j_1408 ~ any;
                                                    m_match_bool_j_1417 = proj_j_1408 ~ 
                                                        {relative_coord, _};
                                                    m_match_cond_j_1418 = m_match_bool_j_1417 ? (
                                                            var_j_1419 = r_j_54;
                                                            proj_j_1420 = var_j_1419.bj_actual_rec;
                                                            proj_j_1421 = proj_j_1420.relative_coord
                                                        ) : (
                                                            m_match_cond_j_1411 = m_match_bool_j_1410 ? (
                                                                    bool_j_1412 = false;
                                                                    assert_pred_j_1413 = bool_j_1412;
                                                                    assert_res_j_1414 = assert_pred_j_1413 ? (
                                                                        assert_res_true_j_1415 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1416 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1409 = 
                                                                    {}
                                                                )
                                                        )
                                                ) : (
                                                    ab_j_1404 = abort
                                                )
                                        )
                                );
                            m_i_1856 = proj_j_1387 ~ fun;
                            appl_j_1569 = m_i_1856 ? (
                                    c_appl_i_1857 = proj_j_1387 m_match_cond_j_1563
                                ) : (
                                    ab_i_1858 = abort
                                )
                        ) : (
                            bool_j_1570 = false;
                            assert_pred_j_1571 = bool_j_1570;
                            m_i_1859 = assert_pred_j_1571 ~ bool;
                            assert_res_j_1572 = m_i_1859 ? (
                                    c_cond_i_1860 = assert_pred_j_1571 ? (
                                            assert_res_true_j_1573 = 
                                                {}
                                        ) : (
                                            ab_j_1574 = abort
                                        )
                                ) : (
                                    ab_i_1861 = abort
                                )
                        ));
                var_j_1577 = eta_b_3;
                appl_j_1578 = flatten_fun_j_1576 var_j_1577));
        get_abs_coord_j_0_j_57 = flatten_fun_j_1580;
        var_j_1581 = get_abs_coord_j_0_j_57;
        var_j_1582 = get_abs_coord_j_0_j_57;
        appl_j_1583 = var_j_1581 var_j_1582;
        get_abs_coord_j_56 = appl_j_1583;
        var_j_1584 = get_abs_coord_j_56
    ) : (
        error_var_j_1585 = check_res_b_126;
        assert_pred_j_1586 = error_var_j_1585;
        assert_res_j_1587 = assert_pred_j_1586 ? (
                assert_res_true_j_1588 = {}
            ) : (
                ab_j_1589 = abort
            )
    );
i_result = if_j_1590