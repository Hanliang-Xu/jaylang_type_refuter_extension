i_first = {};
flatten_fun_j_121 = fun expr_b_13 -> (
    bool_j_56 = false;
    rec_fail_b_12 = bool_j_56;
    bool_j_57 = false;
    rec_fail_b_11 = bool_j_57;
    bool_j_58 = false;
    rec_fail_b_10 = bool_j_58;
    var_j_59 = expr_b_13;
    m_match_bool_j_61 = var_j_59 ~ any;
    m_match_bool_j_64 = var_j_59 ~ {bj_actual_rec, _};
    m_match_cond_j_65 = m_match_bool_j_64 ? (
            var_j_66 = expr_b_13;
            proj_j_67 = var_j_66.bj_decl_lbls;
            m_match_bool_j_69 = proj_j_67 ~ any;
            m_match_bool_j_72 = proj_j_67 ~ {x, y, _};
            m_match_cond_j_73 = m_match_bool_j_72 ? (
                    x_j_3 = proj_j_67.x;
                    y_j_2 = proj_j_67.y;
                    var_j_74 = expr_b_13;
                    proj_j_75 = var_j_74.bj_actual_rec;
                    m_match_bool_j_77 = proj_j_75 ~ any;
                    m_match_bool_j_80 = proj_j_75 ~ {x, y, _};
                    m_match_cond_j_81 = m_match_bool_j_80 ? (
                            x = proj_j_75.x;
                            y = proj_j_75.y;
                            bool_j_82 = false;
                            fail_b_19 = bool_j_82;
                            flatten_fun_j_91 = fun expr_b_18 -> (
                                var_j_83 = expr_b_18;
                                m_match_bool_j_85 = var_j_83 ~ any;
                                m_match_bool_j_88 = var_j_83 ~ int;
                                m_match_cond_j_89 = m_match_bool_j_88 ? (
                                        bool_j_90 = true
                                    ) : (
                                        m_match_cond_j_86 = m_match_bool_j_85 ? (
                                                var_j_87 = fail_b_19
                                            ) : (
                                                void_j_84 = {}
                                            )
                                    ));
                            flatten_fun_j_93 = fun bj_null -> (
                                input_j_92 = input);
                            flatten_fun_j_95 = fun expr_b_20 -> (
                                var_j_94 = expr_b_20);
                            record_j_96 = {checker = flatten_fun_j_91, generator = flatten_fun_j_93, wrapper = flatten_fun_j_95};
                            proj_j_97 = record_j_96.checker;
                            var_j_98 = x;
                            appl_j_99 = proj_j_97 var_j_98;
                            lbl_check_b_17 = appl_j_99;
                            var_j_100 = lbl_check_b_17;
                            if_j_120 = var_j_100 ? (
                                    bool_j_101 = false;
                                    fail_b_15 = bool_j_101;
                                    flatten_fun_j_110 = fun expr_b_14 -> (
                                        var_j_102 = expr_b_14;
                                        m_match_bool_j_104 = var_j_102 ~ any;
                                        m_match_bool_j_107 = var_j_102 ~ int;
                                        m_match_cond_j_108 = m_match_bool_j_107 ? (
                                                bool_j_109 = true
                                            ) : (
                                                m_match_cond_j_105 = m_match_bool_j_104 ? (
                                                        var_j_106 = fail_b_15
                                                    ) : (
                                                        void_j_103 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_112 = fun bj_null_j_1 -> (
                                        input_j_111 = input);
                                    flatten_fun_j_114 = fun expr_b_16 -> (
                                        var_j_113 = expr_b_16);
                                    record_j_115 = {checker = flatten_fun_j_110, generator = flatten_fun_j_112, wrapper = flatten_fun_j_114};
                                    proj_j_116 = record_j_115.checker;
                                    var_j_117 = y;
                                    appl_j_118 = proj_j_116 var_j_117
                                ) : (
                                    var_j_119 = lbl_check_b_17
                                )
                        ) : (
                            m_match_cond_j_78 = m_match_bool_j_77 ? (
                                    var_j_79 = rec_fail_b_10
                                ) : (
                                    void_j_76 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_70 = m_match_bool_j_69 ? (
                            var_j_71 = rec_fail_b_11
                        ) : (
                            void_j_68 = {}
                        )
                )
        ) : (
            m_match_cond_j_62 = m_match_bool_j_61 ? (
                    var_j_63 = rec_fail_b_12
                ) : (
                    void_j_60 = {}
                )
        ));
flatten_fun_j_165 = fun bj_null_j_6 -> (
    bool_j_122 = false;
    fail_b_8 = bool_j_122;
    flatten_fun_j_131 = fun expr_b_7 -> (
        var_j_123 = expr_b_7;
        m_match_bool_j_125 = var_j_123 ~ any;
        m_match_bool_j_128 = var_j_123 ~ int;
        m_match_cond_j_129 = m_match_bool_j_128 ? (
                bool_j_130 = true
            ) : (
                m_match_cond_j_126 = m_match_bool_j_125 ? (
                        var_j_127 = fail_b_8
                    ) : (
                        void_j_124 = {}
                    )
            ));
    flatten_fun_j_133 = fun bj_null_j_4 -> (
        input_j_132 = input);
    flatten_fun_j_135 = fun expr_b_9 -> (
        var_j_134 = expr_b_9);
    record_j_136 = {checker = flatten_fun_j_131, generator = flatten_fun_j_133, wrapper = flatten_fun_j_135};
    proj_j_137 = record_j_136.generator;
    int_j_138 = 0;
    appl_j_139 = proj_j_137 int_j_138;
    y_b_3 = appl_j_139;
    bool_j_140 = false;
    fail_b_5 = bool_j_140;
    flatten_fun_j_149 = fun expr_b_4 -> (
        var_j_141 = expr_b_4;
        m_match_bool_j_143 = var_j_141 ~ any;
        m_match_bool_j_146 = var_j_141 ~ int;
        m_match_cond_j_147 = m_match_bool_j_146 ? (
                bool_j_148 = true
            ) : (
                m_match_cond_j_144 = m_match_bool_j_143 ? (
                        var_j_145 = fail_b_5
                    ) : (
                        void_j_142 = {}
                    )
            ));
    flatten_fun_j_151 = fun bj_null_j_5 -> (
        input_j_150 = input);
    flatten_fun_j_153 = fun expr_b_6 -> (
        var_j_152 = expr_b_6);
    record_j_154 = {checker = flatten_fun_j_149, generator = flatten_fun_j_151, wrapper = flatten_fun_j_153};
    proj_j_155 = record_j_154.generator;
    int_j_156 = 0;
    appl_j_157 = proj_j_155 int_j_156;
    x_b_2 = appl_j_157;
    var_j_158 = x_b_2;
    var_j_159 = y_b_3;
    record_j_160 = {x = var_j_158, y = var_j_159};
    record_j_161 = {};
    record_j_162 = {};
    record_j_163 = {x = record_j_161, y = record_j_162};
    record_j_164 = {bj_actual_rec = record_j_160, bj_decl_lbls = record_j_163});
flatten_fun_j_167 = fun expr_b_21 -> (
    var_j_166 = expr_b_21);
record_j_168 = {checker = flatten_fun_j_121, generator = flatten_fun_j_165, wrapper = flatten_fun_j_167};
coord = record_j_168;
flatten_fun_j_188 = fun f_b_24 -> (
    flatten_fun_j_177 = fun x_b_23 -> (
        flatten_fun_j_176 = fun freeze_b_25 -> (
            var_j_169 = f_b_24;
            var_j_170 = x_b_23;
            var_j_171 = x_b_23;
            appl_j_172 = var_j_170 var_j_171;
            appl_j_173 = var_j_169 appl_j_172;
            var_j_174 = freeze_b_25;
            appl_j_175 = appl_j_173 var_j_174));
    flatten_fun_j_186 = fun x_b_23_j_8 -> (
        flatten_fun_j_185 = fun freeze_b_25_j_7 -> (
            var_j_178 = f_b_24;
            var_j_179 = x_b_23_j_8;
            var_j_180 = x_b_23_j_8;
            appl_j_181 = var_j_179 var_j_180;
            appl_j_182 = var_j_178 appl_j_181;
            var_j_183 = freeze_b_25_j_7;
            appl_j_184 = appl_j_182 var_j_183));
    appl_j_187 = flatten_fun_j_177 flatten_fun_j_186);
ycomb_b_26 = flatten_fun_j_188;
flatten_fun_j_710 = fun self_b_22 -> (
    flatten_fun_j_709 = fun bj_null_j_35 -> (
        flatten_fun_j_447 = fun expr_b_107 -> (
            flatten_fun_j_442 = fun tt -> (
                flatten_fun_j_323 = fun expr_b_88 -> (
                    bool_j_190 = false;
                    rec_fail_b_87 = bool_j_190;
                    bool_j_191 = false;
                    rec_fail_b_86 = bool_j_191;
                    bool_j_192 = false;
                    rec_fail_b_85 = bool_j_192;
                    var_j_193 = expr_b_88;
                    m_match_bool_j_195 = var_j_193 ~ any;
                    m_match_bool_j_198 = var_j_193 ~ {bj_actual_rec, _};
                    m_match_cond_j_199 = m_match_bool_j_198 ? (
                            var_j_200 = expr_b_88;
                            proj_j_201 = var_j_200.bj_decl_lbls;
                            m_match_bool_j_203 = proj_j_201 ~ any;
                            m_match_bool_j_206 = proj_j_201 ~ {parent, relative_coord, _};
                            m_match_cond_j_207 = m_match_bool_j_206 ? (
                                    parent_j_14 = proj_j_201.parent;
                                    relative_coord_j_13 = proj_j_201.relative_coord;
                                    var_j_208 = expr_b_88;
                                    proj_j_209 = var_j_208.bj_actual_rec;
                                    m_match_bool_j_211 = proj_j_209 ~ any;
                                    m_match_bool_j_214 = proj_j_209 ~ 
                                        {parent, relative_coord, _};
                                    m_match_cond_j_215 = m_match_bool_j_214 ? (
                                            parent = proj_j_209.parent;
                                            relative_coord = proj_j_209.relative_coord;
                                            flatten_fun_j_248 = fun expr_b_93 -> (
                                                bool_j_216 = false;
                                                match_fail_b_94 = bool_j_216;
                                                var_j_217 = expr_b_93;
                                                m_match_bool_j_219 = var_j_217 ~ any;
                                                m_match_bool_j_222 = var_j_217 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_242 = var_j_217 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_243 = m_match_bool_j_242 ? (
                                                        v_val_b_99 = var_j_217.j_value;
                                                        var_j_244 = tt;
                                                        proj_j_245 = var_j_244.checker;
                                                        var_j_246 = v_val_b_99;
                                                        appl_j_247 = proj_j_245 var_j_246
                                                    ) : (
                                                        m_match_cond_j_223 = m_match_bool_j_222 ? (
                                                                v_val_b_95 = var_j_217.j_value;
                                                                bool_j_224 = false;
                                                                fail_b_97 = bool_j_224;
                                                                flatten_fun_j_233 = fun expr_b_96 -> (
                                                                    var_j_225 = expr_b_96;
                                                                    m_match_bool_j_227 = var_j_225 ~ any;
                                                                    m_match_bool_j_230 = var_j_225 ~ int;
                                                                    m_match_cond_j_231 = m_match_bool_j_230 ? (
                                                                        bool_j_232 = true
                                                                    ) : (
                                                                        m_match_cond_j_228 = m_match_bool_j_227 ? (
                                                                        var_j_229 = fail_b_97
                                                                    ) : (
                                                                        void_j_226 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_235 = fun bj_null_j_9 -> (
                                                                    input_j_234 = input);
                                                                flatten_fun_j_237 = fun expr_b_98 -> (
                                                                    var_j_236 = expr_b_98);
                                                                record_j_238 = 
                                                                    {checker = flatten_fun_j_233, generator = flatten_fun_j_235, wrapper = flatten_fun_j_237};
                                                                proj_j_239 = record_j_238.checker;
                                                                var_j_240 = v_val_b_95;
                                                                appl_j_241 = proj_j_239 var_j_240
                                                            ) : (
                                                                m_match_cond_j_220 = m_match_bool_j_219 ? (
                                                                        
                                                                    var_j_221 = match_fail_b_94
                                                                    ) : (
                                                                        
                                                                    void_j_218 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_279 = fun bj_null_j_11 -> (
                                                int_j_249 = 0;
                                                input_j_250 = input;
                                                m_bl_i_1396 = int_j_249 ~ int;
                                                m_br_i_1397 = input_j_250 ~ int;
                                                m_b_i_1398 = m_bl_i_1396 and m_br_i_1397;
                                                binop_j_251 = m_b_i_1398 ? (
                                                        c_binop_i_1399 = int_j_249 < input_j_250
                                                    ) : (
                                                        ab_i_1400 = abort
                                                    );
                                                if_j_278 = binop_j_251 ? (
                                                        var_j_252 = tt;
                                                        proj_j_253 = var_j_252.generator;
                                                        int_j_254 = 0;
                                                        appl_j_255 = proj_j_253 int_j_254;
                                                        record_j_256 = 
                                                            {};
                                                        record_j_257 = 
                                                            {j_value = appl_j_255, j_variant_Some = record_j_256}
                                                    ) : (
                                                        bool_j_258 = false;
                                                        fail_b_91 = bool_j_258;
                                                        flatten_fun_j_267 = fun expr_b_90 -> (
                                                            var_j_259 = expr_b_90;
                                                            m_match_bool_j_261 = var_j_259 ~ any;
                                                            m_match_bool_j_264 = var_j_259 ~ int;
                                                            m_match_cond_j_265 = m_match_bool_j_264 ? (
                                                                    bool_j_266 = true
                                                                ) : (
                                                                    m_match_cond_j_262 = m_match_bool_j_261 ? (
                                                                        var_j_263 = fail_b_91
                                                                    ) : (
                                                                        void_j_260 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_269 = fun bj_null_j_10 -> (
                                                            input_j_268 = input);
                                                        flatten_fun_j_271 = fun expr_b_92 -> (
                                                            var_j_270 = expr_b_92);
                                                        record_j_272 = 
                                                            {checker = flatten_fun_j_267, generator = flatten_fun_j_269, wrapper = flatten_fun_j_271};
                                                        proj_j_273 = record_j_272.generator;
                                                        int_j_274 = 0;
                                                        appl_j_275 = proj_j_273 int_j_274;
                                                        record_j_276 = 
                                                            {};
                                                        record_j_277 = 
                                                            {j_value = appl_j_275, j_variant_None = record_j_276}
                                                    ));
                                            flatten_fun_j_311 = fun expr_b_100 -> (
                                                var_j_280 = expr_b_100;
                                                m_match_bool_j_282 = var_j_280 ~ any;
                                                m_match_bool_j_285 = var_j_280 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_305 = var_j_280 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_306 = m_match_bool_j_305 ? (
                                                        v_val_b_105 = var_j_280.j_value;
                                                        var_j_307 = tt;
                                                        proj_j_308 = var_j_307.wrapper;
                                                        var_j_309 = v_val_b_105;
                                                        appl_j_310 = proj_j_308 var_j_309
                                                    ) : (
                                                        m_match_cond_j_286 = m_match_bool_j_285 ? (
                                                                v_val_b_101 = var_j_280.j_value;
                                                                bool_j_287 = false;
                                                                fail_b_103 = bool_j_287;
                                                                flatten_fun_j_296 = fun expr_b_102 -> (
                                                                    var_j_288 = expr_b_102;
                                                                    m_match_bool_j_290 = var_j_288 ~ any;
                                                                    m_match_bool_j_293 = var_j_288 ~ int;
                                                                    m_match_cond_j_294 = m_match_bool_j_293 ? (
                                                                        bool_j_295 = true
                                                                    ) : (
                                                                        m_match_cond_j_291 = m_match_bool_j_290 ? (
                                                                        var_j_292 = fail_b_103
                                                                    ) : (
                                                                        void_j_289 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_298 = fun bj_null_j_12 -> (
                                                                    input_j_297 = input);
                                                                flatten_fun_j_300 = fun expr_b_104 -> (
                                                                    var_j_299 = expr_b_104);
                                                                record_j_301 = 
                                                                    {checker = flatten_fun_j_296, generator = flatten_fun_j_298, wrapper = flatten_fun_j_300};
                                                                proj_j_302 = record_j_301.wrapper;
                                                                var_j_303 = v_val_b_101;
                                                                appl_j_304 = proj_j_302 var_j_303
                                                            ) : (
                                                                m_match_cond_j_283 = m_match_bool_j_282 ? (
                                                                        
                                                                    var_j_284 = expr_b_100
                                                                    ) : (
                                                                        
                                                                    void_j_281 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            record_j_312 = {checker = flatten_fun_j_248, generator = flatten_fun_j_279, wrapper = flatten_fun_j_311};
                                            proj_j_313 = record_j_312.checker;
                                            var_j_314 = parent;
                                            appl_j_315 = proj_j_313 var_j_314;
                                            lbl_check_b_89 = appl_j_315;
                                            var_j_316 = lbl_check_b_89;
                                            if_j_322 = var_j_316 ? (
                                                    var_j_317 = coord;
                                                    proj_j_318 = var_j_317.checker;
                                                    var_j_319 = relative_coord;
                                                    appl_j_320 = proj_j_318 var_j_319
                                                ) : (
                                                    var_j_321 = lbl_check_b_89
                                                )
                                        ) : (
                                            m_match_cond_j_212 = m_match_bool_j_211 ? (
                                                    var_j_213 = rec_fail_b_85
                                                ) : (
                                                    void_j_210 = {}
                                                )
                                        )
                                ) : (
                                    m_match_cond_j_204 = m_match_bool_j_203 ? (
                                            var_j_205 = rec_fail_b_86
                                        ) : (
                                            void_j_202 = {}
                                        )
                                )
                        ) : (
                            m_match_cond_j_196 = m_match_bool_j_195 ? (
                                    var_j_197 = rec_fail_b_87
                                ) : (
                                    void_j_194 = {}
                                )
                        ));
                flatten_fun_j_435 = fun bj_null_j_19 -> (
                    var_j_324 = coord;
                    proj_j_325 = var_j_324.generator;
                    int_j_326 = 0;
                    appl_j_327 = proj_j_325 int_j_326;
                    relative_coord_b_68 = appl_j_327;
                    flatten_fun_j_360 = fun expr_b_72 -> (
                        bool_j_328 = false;
                        match_fail_b_73 = bool_j_328;
                        var_j_329 = expr_b_72;
                        m_match_bool_j_331 = var_j_329 ~ any;
                        m_match_bool_j_334 = var_j_329 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_354 = var_j_329 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_355 = m_match_bool_j_354 ? (
                                v_val_b_78 = var_j_329.j_value;
                                var_j_356 = tt;
                                proj_j_357 = var_j_356.checker;
                                var_j_358 = v_val_b_78;
                                appl_j_359 = proj_j_357 var_j_358
                            ) : (
                                m_match_cond_j_335 = m_match_bool_j_334 ? (
                                        v_val_b_74 = var_j_329.j_value;
                                        bool_j_336 = false;
                                        fail_b_76 = bool_j_336;
                                        flatten_fun_j_345 = fun expr_b_75 -> (
                                            var_j_337 = expr_b_75;
                                            m_match_bool_j_339 = var_j_337 ~ any;
                                            m_match_bool_j_342 = var_j_337 ~ int;
                                            m_match_cond_j_343 = m_match_bool_j_342 ? (
                                                    bool_j_344 = true
                                                ) : (
                                                    m_match_cond_j_340 = m_match_bool_j_339 ? (
                                                            var_j_341 = fail_b_76
                                                        ) : (
                                                            void_j_338 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_347 = fun bj_null_j_15 -> (
                                            input_j_346 = input);
                                        flatten_fun_j_349 = fun expr_b_77 -> (
                                            var_j_348 = expr_b_77);
                                        record_j_350 = {checker = flatten_fun_j_345, generator = flatten_fun_j_347, wrapper = flatten_fun_j_349};
                                        proj_j_351 = record_j_350.checker;
                                        var_j_352 = v_val_b_74;
                                        appl_j_353 = proj_j_351 var_j_352
                                    ) : (
                                        m_match_cond_j_332 = m_match_bool_j_331 ? (
                                                var_j_333 = match_fail_b_73
                                            ) : (
                                                void_j_330 = {}
                                            )
                                    )
                            ));
                    flatten_fun_j_391 = fun bj_null_j_17 -> (
                        int_j_361 = 0;
                        input_j_362 = input;
                        m_bl_i_1401 = int_j_361 ~ int;
                        m_br_i_1402 = input_j_362 ~ int;
                        m_b_i_1403 = m_bl_i_1401 and m_br_i_1402;
                        binop_j_363 = m_b_i_1403 ? (
                                c_binop_i_1404 = int_j_361 < input_j_362
                            ) : (
                                ab_i_1405 = abort
                            );
                        if_j_390 = binop_j_363 ? (
                                var_j_364 = tt;
                                proj_j_365 = var_j_364.generator;
                                int_j_366 = 0;
                                appl_j_367 = proj_j_365 int_j_366;
                                record_j_368 = {};
                                record_j_369 = {j_value = appl_j_367, j_variant_Some = record_j_368}
                            ) : (
                                bool_j_370 = false;
                                fail_b_70 = bool_j_370;
                                flatten_fun_j_379 = fun expr_b_69 -> (
                                    var_j_371 = expr_b_69;
                                    m_match_bool_j_373 = var_j_371 ~ any;
                                    m_match_bool_j_376 = var_j_371 ~ int;
                                    m_match_cond_j_377 = m_match_bool_j_376 ? (
                                            bool_j_378 = true
                                        ) : (
                                            m_match_cond_j_374 = m_match_bool_j_373 ? (
                                                    var_j_375 = fail_b_70
                                                ) : (
                                                    void_j_372 = {}
                                                )
                                        ));
                                flatten_fun_j_381 = fun bj_null_j_16 -> (
                                    input_j_380 = input);
                                flatten_fun_j_383 = fun expr_b_71 -> (
                                    var_j_382 = expr_b_71);
                                record_j_384 = {checker = flatten_fun_j_379, generator = flatten_fun_j_381, wrapper = flatten_fun_j_383};
                                proj_j_385 = record_j_384.generator;
                                int_j_386 = 0;
                                appl_j_387 = proj_j_385 int_j_386;
                                record_j_388 = {};
                                record_j_389 = {j_value = appl_j_387, j_variant_None = record_j_388}
                            ));
                    flatten_fun_j_423 = fun expr_b_79 -> (
                        var_j_392 = expr_b_79;
                        m_match_bool_j_394 = var_j_392 ~ any;
                        m_match_bool_j_397 = var_j_392 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_417 = var_j_392 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_418 = m_match_bool_j_417 ? (
                                v_val_b_84 = var_j_392.j_value;
                                var_j_419 = tt;
                                proj_j_420 = var_j_419.wrapper;
                                var_j_421 = v_val_b_84;
                                appl_j_422 = proj_j_420 var_j_421
                            ) : (
                                m_match_cond_j_398 = m_match_bool_j_397 ? (
                                        v_val_b_80 = var_j_392.j_value;
                                        bool_j_399 = false;
                                        fail_b_82 = bool_j_399;
                                        flatten_fun_j_408 = fun expr_b_81 -> (
                                            var_j_400 = expr_b_81;
                                            m_match_bool_j_402 = var_j_400 ~ any;
                                            m_match_bool_j_405 = var_j_400 ~ int;
                                            m_match_cond_j_406 = m_match_bool_j_405 ? (
                                                    bool_j_407 = true
                                                ) : (
                                                    m_match_cond_j_403 = m_match_bool_j_402 ? (
                                                            var_j_404 = fail_b_82
                                                        ) : (
                                                            void_j_401 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_410 = fun bj_null_j_18 -> (
                                            input_j_409 = input);
                                        flatten_fun_j_412 = fun expr_b_83 -> (
                                            var_j_411 = expr_b_83);
                                        record_j_413 = {checker = flatten_fun_j_408, generator = flatten_fun_j_410, wrapper = flatten_fun_j_412};
                                        proj_j_414 = record_j_413.wrapper;
                                        var_j_415 = v_val_b_80;
                                        appl_j_416 = proj_j_414 var_j_415
                                    ) : (
                                        m_match_cond_j_395 = m_match_bool_j_394 ? (
                                                var_j_396 = expr_b_79
                                            ) : (
                                                void_j_393 = {}
                                            )
                                    )
                            ));
                    record_j_424 = {checker = flatten_fun_j_360, generator = flatten_fun_j_391, wrapper = flatten_fun_j_423};
                    proj_j_425 = record_j_424.generator;
                    int_j_426 = 0;
                    appl_j_427 = proj_j_425 int_j_426;
                    parent_b_67 = appl_j_427;
                    var_j_428 = parent_b_67;
                    var_j_429 = relative_coord_b_68;
                    record_j_430 = {parent = var_j_428, relative_coord = var_j_429};
                    record_j_431 = {};
                    record_j_432 = {};
                    record_j_433 = {parent = record_j_431, relative_coord = record_j_432};
                    record_j_434 = {bj_actual_rec = record_j_430, bj_decl_lbls = record_j_433});
                flatten_fun_j_437 = fun expr_b_106 -> (
                    var_j_436 = expr_b_106);
                record_j_438 = {checker = flatten_fun_j_323, generator = flatten_fun_j_435, wrapper = flatten_fun_j_437};
                proj_j_439 = record_j_438.checker;
                var_j_440 = expr_b_107;
                appl_j_441 = proj_j_439 var_j_440);
            var_j_443 = self_b_22;
            int_j_444 = 0;
            appl_j_445 = var_j_443 int_j_444;
            appl_j_446 = flatten_fun_j_442 appl_j_445);
        flatten_fun_j_705 = fun bj_null_j_34 -> (
            flatten_fun_j_700 = fun tt_j_33 -> (
                flatten_fun_j_581 = fun expr_b_48 -> (
                    bool_j_448 = false;
                    rec_fail_b_47 = bool_j_448;
                    bool_j_449 = false;
                    rec_fail_b_46 = bool_j_449;
                    bool_j_450 = false;
                    rec_fail_b_45 = bool_j_450;
                    var_j_451 = expr_b_48;
                    m_match_bool_j_453 = var_j_451 ~ any;
                    m_match_bool_j_456 = var_j_451 ~ {bj_actual_rec, _};
                    m_match_cond_j_457 = m_match_bool_j_456 ? (
                            var_j_458 = expr_b_48;
                            proj_j_459 = var_j_458.bj_decl_lbls;
                            m_match_bool_j_461 = proj_j_459 ~ any;
                            m_match_bool_j_464 = proj_j_459 ~ {parent, relative_coord, _};
                            m_match_cond_j_465 = m_match_bool_j_464 ? (
                                    parent_j_27 = proj_j_459.parent;
                                    relative_coord_j_26 = proj_j_459.relative_coord;
                                    var_j_466 = expr_b_48;
                                    proj_j_467 = var_j_466.bj_actual_rec;
                                    m_match_bool_j_469 = proj_j_467 ~ any;
                                    m_match_bool_j_472 = proj_j_467 ~ 
                                        {parent, relative_coord, _};
                                    m_match_cond_j_473 = m_match_bool_j_472 ? (
                                            parent_j_25 = proj_j_467.parent;
                                            relative_coord_j_24 = proj_j_467.relative_coord;
                                            flatten_fun_j_506 = fun expr_b_53 -> (
                                                bool_j_474 = false;
                                                match_fail_b_54 = bool_j_474;
                                                var_j_475 = expr_b_53;
                                                m_match_bool_j_477 = var_j_475 ~ any;
                                                m_match_bool_j_480 = var_j_475 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_500 = var_j_475 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_501 = m_match_bool_j_500 ? (
                                                        v_val_b_59 = var_j_475.j_value;
                                                        var_j_502 = tt_j_33;
                                                        proj_j_503 = var_j_502.checker;
                                                        var_j_504 = v_val_b_59;
                                                        appl_j_505 = proj_j_503 var_j_504
                                                    ) : (
                                                        m_match_cond_j_481 = m_match_bool_j_480 ? (
                                                                v_val_b_55 = var_j_475.j_value;
                                                                bool_j_482 = false;
                                                                fail_b_57 = bool_j_482;
                                                                flatten_fun_j_491 = fun expr_b_56 -> (
                                                                    var_j_483 = expr_b_56;
                                                                    m_match_bool_j_485 = var_j_483 ~ any;
                                                                    m_match_bool_j_488 = var_j_483 ~ int;
                                                                    m_match_cond_j_489 = m_match_bool_j_488 ? (
                                                                        bool_j_490 = true
                                                                    ) : (
                                                                        m_match_cond_j_486 = m_match_bool_j_485 ? (
                                                                        var_j_487 = fail_b_57
                                                                    ) : (
                                                                        void_j_484 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_493 = fun bj_null_j_20 -> (
                                                                    input_j_492 = input);
                                                                flatten_fun_j_495 = fun expr_b_58 -> (
                                                                    var_j_494 = expr_b_58);
                                                                record_j_496 = 
                                                                    {checker = flatten_fun_j_491, generator = flatten_fun_j_493, wrapper = flatten_fun_j_495};
                                                                proj_j_497 = record_j_496.checker;
                                                                var_j_498 = v_val_b_55;
                                                                appl_j_499 = proj_j_497 var_j_498
                                                            ) : (
                                                                m_match_cond_j_478 = m_match_bool_j_477 ? (
                                                                        
                                                                    var_j_479 = match_fail_b_54
                                                                    ) : (
                                                                        
                                                                    void_j_476 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_537 = fun bj_null_j_22 -> (
                                                int_j_507 = 0;
                                                input_j_508 = input;
                                                m_bl_i_1406 = int_j_507 ~ int;
                                                m_br_i_1407 = input_j_508 ~ int;
                                                m_b_i_1408 = m_bl_i_1406 and m_br_i_1407;
                                                binop_j_509 = m_b_i_1408 ? (
                                                        c_binop_i_1409 = int_j_507 < input_j_508
                                                    ) : (
                                                        ab_i_1410 = abort
                                                    );
                                                if_j_536 = binop_j_509 ? (
                                                        var_j_510 = tt_j_33;
                                                        proj_j_511 = var_j_510.generator;
                                                        int_j_512 = 0;
                                                        appl_j_513 = proj_j_511 int_j_512;
                                                        record_j_514 = 
                                                            {};
                                                        record_j_515 = 
                                                            {j_value = appl_j_513, j_variant_Some = record_j_514}
                                                    ) : (
                                                        bool_j_516 = false;
                                                        fail_b_51 = bool_j_516;
                                                        flatten_fun_j_525 = fun expr_b_50 -> (
                                                            var_j_517 = expr_b_50;
                                                            m_match_bool_j_519 = var_j_517 ~ any;
                                                            m_match_bool_j_522 = var_j_517 ~ int;
                                                            m_match_cond_j_523 = m_match_bool_j_522 ? (
                                                                    bool_j_524 = true
                                                                ) : (
                                                                    m_match_cond_j_520 = m_match_bool_j_519 ? (
                                                                        var_j_521 = fail_b_51
                                                                    ) : (
                                                                        void_j_518 = 
                                                                    {}
                                                                    )
                                                                ));
                                                        flatten_fun_j_527 = fun bj_null_j_21 -> (
                                                            input_j_526 = input);
                                                        flatten_fun_j_529 = fun expr_b_52 -> (
                                                            var_j_528 = expr_b_52);
                                                        record_j_530 = 
                                                            {checker = flatten_fun_j_525, generator = flatten_fun_j_527, wrapper = flatten_fun_j_529};
                                                        proj_j_531 = record_j_530.generator;
                                                        int_j_532 = 0;
                                                        appl_j_533 = proj_j_531 int_j_532;
                                                        record_j_534 = 
                                                            {};
                                                        record_j_535 = 
                                                            {j_value = appl_j_533, j_variant_None = record_j_534}
                                                    ));
                                            flatten_fun_j_569 = fun expr_b_60 -> (
                                                var_j_538 = expr_b_60;
                                                m_match_bool_j_540 = var_j_538 ~ any;
                                                m_match_bool_j_543 = var_j_538 ~ 
                                                    {j_value, j_variant_None, _};
                                                m_match_bool_j_563 = var_j_538 ~ 
                                                    {j_value, j_variant_Some, _};
                                                m_match_cond_j_564 = m_match_bool_j_563 ? (
                                                        v_val_b_65 = var_j_538.j_value;
                                                        var_j_565 = tt_j_33;
                                                        proj_j_566 = var_j_565.wrapper;
                                                        var_j_567 = v_val_b_65;
                                                        appl_j_568 = proj_j_566 var_j_567
                                                    ) : (
                                                        m_match_cond_j_544 = m_match_bool_j_543 ? (
                                                                v_val_b_61 = var_j_538.j_value;
                                                                bool_j_545 = false;
                                                                fail_b_63 = bool_j_545;
                                                                flatten_fun_j_554 = fun expr_b_62 -> (
                                                                    var_j_546 = expr_b_62;
                                                                    m_match_bool_j_548 = var_j_546 ~ any;
                                                                    m_match_bool_j_551 = var_j_546 ~ int;
                                                                    m_match_cond_j_552 = m_match_bool_j_551 ? (
                                                                        bool_j_553 = true
                                                                    ) : (
                                                                        m_match_cond_j_549 = m_match_bool_j_548 ? (
                                                                        var_j_550 = fail_b_63
                                                                    ) : (
                                                                        void_j_547 = 
                                                                    {}
                                                                    )
                                                                    ));
                                                                flatten_fun_j_556 = fun bj_null_j_23 -> (
                                                                    input_j_555 = input);
                                                                flatten_fun_j_558 = fun expr_b_64 -> (
                                                                    var_j_557 = expr_b_64);
                                                                record_j_559 = 
                                                                    {checker = flatten_fun_j_554, generator = flatten_fun_j_556, wrapper = flatten_fun_j_558};
                                                                proj_j_560 = record_j_559.wrapper;
                                                                var_j_561 = v_val_b_61;
                                                                appl_j_562 = proj_j_560 var_j_561
                                                            ) : (
                                                                m_match_cond_j_541 = m_match_bool_j_540 ? (
                                                                        
                                                                    var_j_542 = expr_b_60
                                                                    ) : (
                                                                        
                                                                    void_j_539 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            record_j_570 = {checker = flatten_fun_j_506, generator = flatten_fun_j_537, wrapper = flatten_fun_j_569};
                                            proj_j_571 = record_j_570.checker;
                                            var_j_572 = parent_j_25;
                                            appl_j_573 = proj_j_571 var_j_572;
                                            lbl_check_b_49 = appl_j_573;
                                            var_j_574 = lbl_check_b_49;
                                            if_j_580 = var_j_574 ? (
                                                    var_j_575 = coord;
                                                    proj_j_576 = var_j_575.checker;
                                                    var_j_577 = relative_coord_j_24;
                                                    appl_j_578 = proj_j_576 var_j_577
                                                ) : (
                                                    var_j_579 = lbl_check_b_49
                                                )
                                        ) : (
                                            m_match_cond_j_470 = m_match_bool_j_469 ? (
                                                    var_j_471 = rec_fail_b_45
                                                ) : (
                                                    void_j_468 = {}
                                                )
                                        )
                                ) : (
                                    m_match_cond_j_462 = m_match_bool_j_461 ? (
                                            var_j_463 = rec_fail_b_46
                                        ) : (
                                            void_j_460 = {}
                                        )
                                )
                        ) : (
                            m_match_cond_j_454 = m_match_bool_j_453 ? (
                                    var_j_455 = rec_fail_b_47
                                ) : (
                                    void_j_452 = {}
                                )
                        ));
                flatten_fun_j_693 = fun bj_null_j_32 -> (
                    var_j_582 = coord;
                    proj_j_583 = var_j_582.generator;
                    int_j_584 = 0;
                    appl_j_585 = proj_j_583 int_j_584;
                    relative_coord_b_28 = appl_j_585;
                    flatten_fun_j_618 = fun expr_b_32 -> (
                        bool_j_586 = false;
                        match_fail_b_33 = bool_j_586;
                        var_j_587 = expr_b_32;
                        m_match_bool_j_589 = var_j_587 ~ any;
                        m_match_bool_j_592 = var_j_587 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_612 = var_j_587 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_613 = m_match_bool_j_612 ? (
                                v_val_b_38 = var_j_587.j_value;
                                var_j_614 = tt_j_33;
                                proj_j_615 = var_j_614.checker;
                                var_j_616 = v_val_b_38;
                                appl_j_617 = proj_j_615 var_j_616
                            ) : (
                                m_match_cond_j_593 = m_match_bool_j_592 ? (
                                        v_val_b_34 = var_j_587.j_value;
                                        bool_j_594 = false;
                                        fail_b_36 = bool_j_594;
                                        flatten_fun_j_603 = fun expr_b_35 -> (
                                            var_j_595 = expr_b_35;
                                            m_match_bool_j_597 = var_j_595 ~ any;
                                            m_match_bool_j_600 = var_j_595 ~ int;
                                            m_match_cond_j_601 = m_match_bool_j_600 ? (
                                                    bool_j_602 = true
                                                ) : (
                                                    m_match_cond_j_598 = m_match_bool_j_597 ? (
                                                            var_j_599 = fail_b_36
                                                        ) : (
                                                            void_j_596 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_605 = fun bj_null_j_28 -> (
                                            input_j_604 = input);
                                        flatten_fun_j_607 = fun expr_b_37 -> (
                                            var_j_606 = expr_b_37);
                                        record_j_608 = {checker = flatten_fun_j_603, generator = flatten_fun_j_605, wrapper = flatten_fun_j_607};
                                        proj_j_609 = record_j_608.checker;
                                        var_j_610 = v_val_b_34;
                                        appl_j_611 = proj_j_609 var_j_610
                                    ) : (
                                        m_match_cond_j_590 = m_match_bool_j_589 ? (
                                                var_j_591 = match_fail_b_33
                                            ) : (
                                                void_j_588 = {}
                                            )
                                    )
                            ));
                    flatten_fun_j_649 = fun bj_null_j_30 -> (
                        int_j_619 = 0;
                        input_j_620 = input;
                        m_bl_i_1411 = int_j_619 ~ int;
                        m_br_i_1412 = input_j_620 ~ int;
                        m_b_i_1413 = m_bl_i_1411 and m_br_i_1412;
                        binop_j_621 = m_b_i_1413 ? (
                                c_binop_i_1414 = int_j_619 < input_j_620
                            ) : (
                                ab_i_1415 = abort
                            );
                        if_j_648 = binop_j_621 ? (
                                var_j_622 = tt_j_33;
                                proj_j_623 = var_j_622.generator;
                                int_j_624 = 0;
                                appl_j_625 = proj_j_623 int_j_624;
                                record_j_626 = {};
                                record_j_627 = {j_value = appl_j_625, j_variant_Some = record_j_626}
                            ) : (
                                bool_j_628 = false;
                                fail_b_30 = bool_j_628;
                                flatten_fun_j_637 = fun expr_b_29 -> (
                                    var_j_629 = expr_b_29;
                                    m_match_bool_j_631 = var_j_629 ~ any;
                                    m_match_bool_j_634 = var_j_629 ~ int;
                                    m_match_cond_j_635 = m_match_bool_j_634 ? (
                                            bool_j_636 = true
                                        ) : (
                                            m_match_cond_j_632 = m_match_bool_j_631 ? (
                                                    var_j_633 = fail_b_30
                                                ) : (
                                                    void_j_630 = {}
                                                )
                                        ));
                                flatten_fun_j_639 = fun bj_null_j_29 -> (
                                    input_j_638 = input);
                                flatten_fun_j_641 = fun expr_b_31 -> (
                                    var_j_640 = expr_b_31);
                                record_j_642 = {checker = flatten_fun_j_637, generator = flatten_fun_j_639, wrapper = flatten_fun_j_641};
                                proj_j_643 = record_j_642.generator;
                                int_j_644 = 0;
                                appl_j_645 = proj_j_643 int_j_644;
                                record_j_646 = {};
                                record_j_647 = {j_value = appl_j_645, j_variant_None = record_j_646}
                            ));
                    flatten_fun_j_681 = fun expr_b_39 -> (
                        var_j_650 = expr_b_39;
                        m_match_bool_j_652 = var_j_650 ~ any;
                        m_match_bool_j_655 = var_j_650 ~ {j_value, j_variant_None, _};
                        m_match_bool_j_675 = var_j_650 ~ {j_value, j_variant_Some, _};
                        m_match_cond_j_676 = m_match_bool_j_675 ? (
                                v_val_b_44 = var_j_650.j_value;
                                var_j_677 = tt_j_33;
                                proj_j_678 = var_j_677.wrapper;
                                var_j_679 = v_val_b_44;
                                appl_j_680 = proj_j_678 var_j_679
                            ) : (
                                m_match_cond_j_656 = m_match_bool_j_655 ? (
                                        v_val_b_40 = var_j_650.j_value;
                                        bool_j_657 = false;
                                        fail_b_42 = bool_j_657;
                                        flatten_fun_j_666 = fun expr_b_41 -> (
                                            var_j_658 = expr_b_41;
                                            m_match_bool_j_660 = var_j_658 ~ any;
                                            m_match_bool_j_663 = var_j_658 ~ int;
                                            m_match_cond_j_664 = m_match_bool_j_663 ? (
                                                    bool_j_665 = true
                                                ) : (
                                                    m_match_cond_j_661 = m_match_bool_j_660 ? (
                                                            var_j_662 = fail_b_42
                                                        ) : (
                                                            void_j_659 = 
                                                                {}
                                                        )
                                                ));
                                        flatten_fun_j_668 = fun bj_null_j_31 -> (
                                            input_j_667 = input);
                                        flatten_fun_j_670 = fun expr_b_43 -> (
                                            var_j_669 = expr_b_43);
                                        record_j_671 = {checker = flatten_fun_j_666, generator = flatten_fun_j_668, wrapper = flatten_fun_j_670};
                                        proj_j_672 = record_j_671.wrapper;
                                        var_j_673 = v_val_b_40;
                                        appl_j_674 = proj_j_672 var_j_673
                                    ) : (
                                        m_match_cond_j_653 = m_match_bool_j_652 ? (
                                                var_j_654 = expr_b_39
                                            ) : (
                                                void_j_651 = {}
                                            )
                                    )
                            ));
                    record_j_682 = {checker = flatten_fun_j_618, generator = flatten_fun_j_649, wrapper = flatten_fun_j_681};
                    proj_j_683 = record_j_682.generator;
                    int_j_684 = 0;
                    appl_j_685 = proj_j_683 int_j_684;
                    parent_b_27 = appl_j_685;
                    var_j_686 = parent_b_27;
                    var_j_687 = relative_coord_b_28;
                    record_j_688 = {parent = var_j_686, relative_coord = var_j_687};
                    record_j_689 = {};
                    record_j_690 = {};
                    record_j_691 = {parent = record_j_689, relative_coord = record_j_690};
                    record_j_692 = {bj_actual_rec = record_j_688, bj_decl_lbls = record_j_691});
                flatten_fun_j_695 = fun expr_b_66 -> (
                    var_j_694 = expr_b_66);
                record_j_696 = {checker = flatten_fun_j_581, generator = flatten_fun_j_693, wrapper = flatten_fun_j_695};
                proj_j_697 = record_j_696.generator;
                int_j_698 = 0;
                appl_j_699 = proj_j_697 int_j_698);
            var_j_701 = self_b_22;
            int_j_702 = 0;
            appl_j_703 = var_j_701 int_j_702;
            appl_j_704 = flatten_fun_j_700 appl_j_703);
        flatten_fun_j_707 = fun expr_b_108 -> (
            var_j_706 = expr_b_108);
        record_j_708 = {checker = flatten_fun_j_447, generator = flatten_fun_j_705, wrapper = flatten_fun_j_707}));
appl_j_711 = ycomb_b_26 flatten_fun_j_710;
int_j_712 = 0;
appl_j_713 = appl_j_711 int_j_712;
t = appl_j_713;
is_coord_nonzero_j_751 = fun c_j_55 -> (
    var_j_714 = c_j_55;
    proj_j_715 = var_j_714.bj_decl_lbls;
    m_match_bool_j_717 = proj_j_715 ~ any;
    m_match_bool_j_724 = proj_j_715 ~ {x, _};
    m_match_cond_j_725 = m_match_bool_j_724 ? (
            var_j_726 = c_j_55;
            proj_j_727 = var_j_726.bj_actual_rec;
            proj_j_728 = proj_j_727.x
        ) : (
            m_match_cond_j_718 = m_match_bool_j_717 ? (
                    bool_j_719 = false;
                    assert_pred_j_720 = bool_j_719;
                    assert_res_j_721 = assert_pred_j_720 ? (
                            assert_res_true_j_722 = {}
                        ) : (
                            ab_j_723 = abort
                        )
                ) : (
                    void_j_716 = {}
                )
        );
    int_j_729 = 0;
    m_bl_i_1416 = m_match_cond_j_725 ~ int;
    m_br_i_1417 = int_j_729 ~ int;
    m_b_i_1418 = m_bl_i_1416 and m_br_i_1417;
    binop_j_730 = m_b_i_1418 ? (
            c_binop_i_1419 = m_match_cond_j_725 == int_j_729
        ) : (
            ab_i_1420 = abort
        );
    m_i_1421 = binop_j_730 ~ bool;
    notop_j_731 = m_i_1421 ? (
            c_not_i_1422 = not binop_j_730
        ) : (
            ab_i_1423 = abort
        );
    var_j_732 = c_j_55;
    proj_j_733 = var_j_732.bj_decl_lbls;
    m_match_bool_j_735 = proj_j_733 ~ any;
    m_match_bool_j_742 = proj_j_733 ~ {y, _};
    m_match_cond_j_743 = m_match_bool_j_742 ? (
            var_j_744 = c_j_55;
            proj_j_745 = var_j_744.bj_actual_rec;
            proj_j_746 = proj_j_745.y
        ) : (
            m_match_cond_j_736 = m_match_bool_j_735 ? (
                    bool_j_737 = false;
                    assert_pred_j_738 = bool_j_737;
                    assert_res_j_739 = assert_pred_j_738 ? (
                            assert_res_true_j_740 = {}
                        ) : (
                            ab_j_741 = abort
                        )
                ) : (
                    void_j_734 = {}
                )
        );
    int_j_747 = 0;
    m_bl_i_1424 = m_match_cond_j_743 ~ int;
    m_br_i_1425 = int_j_747 ~ int;
    m_b_i_1426 = m_bl_i_1424 and m_br_i_1425;
    binop_j_748 = m_b_i_1426 ? (
            c_binop_i_1427 = m_match_cond_j_743 == int_j_747
        ) : (
            ab_i_1428 = abort
        );
    m_i_1429 = binop_j_748 ~ bool;
    notop_j_749 = m_i_1429 ? (
            c_not_i_1430 = not binop_j_748
        ) : (
            ab_i_1431 = abort
        );
    m_bl_i_1432 = notop_j_731 ~ bool;
    m_br_i_1433 = notop_j_749 ~ bool;
    m_b_i_1434 = m_bl_i_1432 and m_br_i_1433;
    binop_j_750 = m_b_i_1434 ? (
            c_binop_i_1435 = notop_j_731 and notop_j_749
        ) : (
            ab_i_1436 = abort
        ));
is_coord_nonzero = is_coord_nonzero_j_751;
coord_equal_j_816 = fun a -> (
    coord_equal_j_815 = fun b -> (
        var_j_752 = a;
        proj_j_753 = var_j_752.bj_decl_lbls;
        m_match_bool_j_755 = proj_j_753 ~ any;
        m_match_bool_j_762 = proj_j_753 ~ {x, _};
        m_match_cond_j_763 = m_match_bool_j_762 ? (
                var_j_764 = a;
                proj_j_765 = var_j_764.bj_actual_rec;
                proj_j_766 = proj_j_765.x
            ) : (
                m_match_cond_j_756 = m_match_bool_j_755 ? (
                        bool_j_757 = false;
                        assert_pred_j_758 = bool_j_757;
                        assert_res_j_759 = assert_pred_j_758 ? (
                                assert_res_true_j_760 = {}
                            ) : (
                                ab_j_761 = abort
                            )
                    ) : (
                        void_j_754 = {}
                    )
            );
        var_j_767 = b;
        proj_j_768 = var_j_767.bj_decl_lbls;
        m_match_bool_j_770 = proj_j_768 ~ any;
        m_match_bool_j_777 = proj_j_768 ~ {x, _};
        m_match_cond_j_778 = m_match_bool_j_777 ? (
                var_j_779 = b;
                proj_j_780 = var_j_779.bj_actual_rec;
                proj_j_781 = proj_j_780.x
            ) : (
                m_match_cond_j_771 = m_match_bool_j_770 ? (
                        bool_j_772 = false;
                        assert_pred_j_773 = bool_j_772;
                        assert_res_j_774 = assert_pred_j_773 ? (
                                assert_res_true_j_775 = {}
                            ) : (
                                ab_j_776 = abort
                            )
                    ) : (
                        void_j_769 = {}
                    )
            );
        m_bl_i_1437 = m_match_cond_j_763 ~ int;
        m_br_i_1438 = m_match_cond_j_778 ~ int;
        m_b_i_1439 = m_bl_i_1437 and m_br_i_1438;
        binop_j_782 = m_b_i_1439 ? (
                c_binop_i_1440 = m_match_cond_j_763 == m_match_cond_j_778
            ) : (
                ab_i_1441 = abort
            );
        var_j_783 = a;
        proj_j_784 = var_j_783.bj_decl_lbls;
        m_match_bool_j_786 = proj_j_784 ~ any;
        m_match_bool_j_793 = proj_j_784 ~ {y, _};
        m_match_cond_j_794 = m_match_bool_j_793 ? (
                var_j_795 = a;
                proj_j_796 = var_j_795.bj_actual_rec;
                proj_j_797 = proj_j_796.y
            ) : (
                m_match_cond_j_787 = m_match_bool_j_786 ? (
                        bool_j_788 = false;
                        assert_pred_j_789 = bool_j_788;
                        assert_res_j_790 = assert_pred_j_789 ? (
                                assert_res_true_j_791 = {}
                            ) : (
                                ab_j_792 = abort
                            )
                    ) : (
                        void_j_785 = {}
                    )
            );
        var_j_798 = b;
        proj_j_799 = var_j_798.bj_decl_lbls;
        m_match_bool_j_801 = proj_j_799 ~ any;
        m_match_bool_j_808 = proj_j_799 ~ {y, _};
        m_match_cond_j_809 = m_match_bool_j_808 ? (
                var_j_810 = b;
                proj_j_811 = var_j_810.bj_actual_rec;
                proj_j_812 = proj_j_811.y
            ) : (
                m_match_cond_j_802 = m_match_bool_j_801 ? (
                        bool_j_803 = false;
                        assert_pred_j_804 = bool_j_803;
                        assert_res_j_805 = assert_pred_j_804 ? (
                                assert_res_true_j_806 = {}
                            ) : (
                                ab_j_807 = abort
                            )
                    ) : (
                        void_j_800 = {}
                    )
            );
        m_bl_i_1442 = m_match_cond_j_794 ~ int;
        m_br_i_1443 = m_match_cond_j_809 ~ int;
        m_b_i_1444 = m_bl_i_1442 and m_br_i_1443;
        binop_j_813 = m_b_i_1444 ? (
                c_binop_i_1445 = m_match_cond_j_794 == m_match_cond_j_809
            ) : (
                ab_i_1446 = abort
            );
        m_bl_i_1447 = binop_j_782 ~ bool;
        m_br_i_1448 = binop_j_813 ~ bool;
        m_b_i_1449 = m_bl_i_1447 and m_br_i_1448;
        binop_j_814 = m_b_i_1449 ? (
                c_binop_i_1450 = binop_j_782 and binop_j_813
            ) : (
                ab_i_1451 = abort
            )));
coord_equal = coord_equal_j_816;
has_parent_j_847 = fun x_j_54 -> (
    bool_j_817 = false;
    fail_b_109 = bool_j_817;
    var_j_818 = x_j_54;
    proj_j_819 = var_j_818.bj_decl_lbls;
    m_match_bool_j_821 = proj_j_819 ~ any;
    m_match_bool_j_828 = proj_j_819 ~ {parent, _};
    m_match_cond_j_829 = m_match_bool_j_828 ? (
            var_j_830 = x_j_54;
            proj_j_831 = var_j_830.bj_actual_rec;
            proj_j_832 = proj_j_831.parent
        ) : (
            m_match_cond_j_822 = m_match_bool_j_821 ? (
                    bool_j_823 = false;
                    assert_pred_j_824 = bool_j_823;
                    assert_res_j_825 = assert_pred_j_824 ? (
                            assert_res_true_j_826 = {}
                        ) : (
                            ab_j_827 = abort
                        )
                ) : (
                    void_j_820 = {}
                )
        );
    m_match_bool_j_834 = m_match_cond_j_829 ~ any;
    m_match_bool_j_837 = m_match_cond_j_829 ~ {j_value, j_variant_Some, _};
    m_match_bool_j_840 = m_match_cond_j_829 ~ {bj_untouched, _};
    m_match_cond_j_841 = m_match_bool_j_840 ? (
            var_j_842 = fail_b_109;
            assert_pred_j_843 = var_j_842;
            assert_res_j_844 = assert_pred_j_843 ? (
                    assert_res_true_j_845 = {}
                ) : (
                    ab_j_846 = abort
                )
        ) : (
            m_match_cond_j_838 = m_match_bool_j_837 ? (
                    ignore_j_53 = m_match_cond_j_829.j_value;
                    bool_j_839 = true
                ) : (
                    m_match_cond_j_835 = m_match_bool_j_834 ? (
                            bool_j_836 = false
                        ) : (
                            ab_j_833 = abort
                        )
                )
        ));
has_parent = has_parent_j_847;
flatten_fun_j_1206 = fun get_abs_coord_j_0 -> (
    flatten_fun_j_1205 = fun r_j_42 -> (
        var_j_848 = get_abs_coord_j_0;
        var_j_849 = get_abs_coord_j_0;
        appl_j_850 = var_j_848 var_j_849;
        get_abs_coord = appl_j_850;
        flatten_fun_j_1202 = fun r_b_0 -> (
            var_j_851 = t;
            proj_j_852 = var_j_851.checker;
            var_j_853 = r_b_0;
            appl_j_854 = proj_j_852 var_j_853;
            arg_check_b_1 = appl_j_854;
            var_j_855 = arg_check_b_1;
            if_j_1201 = var_j_855 ? (
                    flatten_fun_j_1022 = fun r -> (
                        flatten_fun_j_938 = fun expr_b_113 -> (
                            var_j_856 = coord;
                            proj_j_857 = var_j_856.checker;
                            var_j_858 = expr_b_113;
                            appl_j_859 = proj_j_857 var_j_858;
                            t_check_b_114 = appl_j_859;
                            var_j_860 = t_check_b_114;
                            if_j_937 = var_j_860 ? (
                                    bool_j_861 = false;
                                    pred_check_b_115 = bool_j_861;
                                    flatten_fun_j_930 = fun abs_coord -> (
                                        bool_j_862 = false;
                                        fail_b_112 = bool_j_862;
                                        var_j_863 = r;
                                        proj_j_864 = var_j_863.bj_decl_lbls;
                                        m_match_bool_j_866 = proj_j_864 ~ any;
                                        m_match_bool_j_873 = proj_j_864 ~ 
                                            {parent, _};
                                        m_match_cond_j_874 = m_match_bool_j_873 ? (
                                                var_j_875 = r;
                                                proj_j_876 = var_j_875.bj_actual_rec;
                                                proj_j_877 = proj_j_876.parent
                                            ) : (
                                                m_match_cond_j_867 = m_match_bool_j_866 ? (
                                                        bool_j_868 = false;
                                                        assert_pred_j_869 = bool_j_868;
                                                        assert_res_j_870 = assert_pred_j_869 ? (
                                                                assert_res_true_j_871 = 
                                                                    {}
                                                            ) : (
                                                                ab_j_872 = abort
                                                            )
                                                    ) : (
                                                        void_j_865 = 
                                                            {}
                                                    )
                                            );
                                        m_match_bool_j_879 = m_match_cond_j_874 ~ 
                                            {j_value, j_variant_None, _};
                                        m_match_bool_j_882 = m_match_cond_j_874 ~ 
                                            {j_value, j_variant_Some, _};
                                        m_match_bool_j_923 = m_match_cond_j_874 ~ 
                                            {bj_untouched, _};
                                        m_match_cond_j_924 = m_match_bool_j_923 ? (
                                                var_j_925 = fail_b_112;
                                                assert_pred_j_926 = var_j_925;
                                                assert_res_j_927 = assert_pred_j_926 ? (
                                                        assert_res_true_j_928 = 
                                                            {}
                                                    ) : (
                                                        ab_j_929 = abort
                                                    )
                                            ) : (
                                                m_match_cond_j_883 = m_match_bool_j_882 ? (
                                                        p = m_match_cond_j_874.j_value;
                                                        var_j_884 = is_coord_nonzero;
                                                        var_j_885 = p;
                                                        proj_j_886 = var_j_885.bj_decl_lbls;
                                                        m_match_bool_j_888 = proj_j_886 ~ any;
                                                        m_match_bool_j_895 = proj_j_886 ~ 
                                                            {relative_coord, _};
                                                        m_match_cond_j_896 = m_match_bool_j_895 ? (
                                                                var_j_897 = p;
                                                                proj_j_898 = var_j_897.bj_actual_rec;
                                                                proj_j_899 = proj_j_898.relative_coord
                                                            ) : (
                                                                m_match_cond_j_889 = m_match_bool_j_888 ? (
                                                                        
                                                                    bool_j_890 = false;
                                                                    assert_pred_j_891 = bool_j_890;
                                                                    assert_res_j_892 = assert_pred_j_891 ? (
                                                                        assert_res_true_j_893 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_894 = abort
                                                                    )
                                                                    ) : (
                                                                        
                                                                    void_j_887 = 
                                                                    {}
                                                                    )
                                                            );
                                                        m_i_1452 = var_j_884 ~ fun;
                                                        appl_j_900 = m_i_1452 ? (
                                                                c_appl_i_1453 = var_j_884 m_match_cond_j_896
                                                            ) : (
                                                                ab_i_1454 = abort
                                                            );
                                                        m_i_1455 = appl_j_900 ~ bool;
                                                        if_j_922 = m_i_1455 ? (
                                                                c_cond_i_1465 = appl_j_900 ? (
                                                                        
                                                                    var_j_901 = coord_equal;
                                                                    var_j_902 = abs_coord;
                                                                    m_i_1456 = var_j_901 ~ fun;
                                                                    appl_j_903 = m_i_1456 ? (
                                                                        c_appl_i_1457 = var_j_901 var_j_902
                                                                    ) : (
                                                                        ab_i_1458 = abort
                                                                    );
                                                                    var_j_904 = r;
                                                                    proj_j_905 = var_j_904.bj_decl_lbls;
                                                                    m_match_bool_j_907 = proj_j_905 ~ any;
                                                                    m_match_bool_j_914 = proj_j_905 ~ 
                                                                    {relative_coord, _};
                                                                    m_match_cond_j_915 = m_match_bool_j_914 ? (
                                                                        var_j_916 = r;
                                                                    proj_j_917 = var_j_916.bj_actual_rec;
                                                                    proj_j_918 = proj_j_917.relative_coord
                                                                    ) : (
                                                                        m_match_cond_j_908 = m_match_bool_j_907 ? (
                                                                        bool_j_909 = false;
                                                                    assert_pred_j_910 = bool_j_909;
                                                                    assert_res_j_911 = assert_pred_j_910 ? (
                                                                        assert_res_true_j_912 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_913 = abort
                                                                    )
                                                                    ) : (
                                                                        void_j_906 = 
                                                                    {}
                                                                    )
                                                                    );
                                                                    m_i_1459 = appl_j_903 ~ fun;
                                                                    appl_j_919 = m_i_1459 ? (
                                                                        c_appl_i_1460 = appl_j_903 m_match_cond_j_915
                                                                    ) : (
                                                                        ab_i_1461 = abort
                                                                    );
                                                                    m_i_1462 = appl_j_919 ~ bool;
                                                                    notop_j_920 = m_i_1462 ? (
                                                                        c_not_i_1463 = not appl_j_919
                                                                    ) : (
                                                                        ab_i_1464 = abort
                                                                    )
                                                                    ) : (
                                                                        
                                                                    bool_j_921 = true
                                                                    )
                                                            ) : (
                                                                ab_i_1466 = abort
                                                            )
                                                    ) : (
                                                        m_match_cond_j_880 = m_match_bool_j_879 ? (
                                                                ignore = m_match_cond_j_874.j_value;
                                                                bool_j_881 = true
                                                            ) : (
                                                                ab_j_878 = abort
                                                            )
                                                    )
                                            ));
                                    var_j_931 = expr_b_113;
                                    appl_j_932 = flatten_fun_j_930 var_j_931;
                                    if_j_935 = appl_j_932 ? (
                                            bool_j_933 = true
                                        ) : (
                                            var_j_934 = pred_check_b_115
                                        )
                                ) : (
                                    var_j_936 = t_check_b_114
                                ));
                        flatten_fun_j_1018 = fun bj_null_j_39 -> (
                            var_j_939 = coord;
                            proj_j_940 = var_j_939.generator;
                            int_j_941 = 0;
                            appl_j_942 = proj_j_940 int_j_941;
                            candidate_b_111 = appl_j_942;
                            flatten_fun_j_1011 = fun abs_coord_j_38 -> (
                                bool_j_943 = false;
                                fail_b_110 = bool_j_943;
                                var_j_944 = r;
                                proj_j_945 = var_j_944.bj_decl_lbls;
                                m_match_bool_j_947 = proj_j_945 ~ any;
                                m_match_bool_j_954 = proj_j_945 ~ {parent, _};
                                m_match_cond_j_955 = m_match_bool_j_954 ? (
                                        var_j_956 = r;
                                        proj_j_957 = var_j_956.bj_actual_rec;
                                        proj_j_958 = proj_j_957.parent
                                    ) : (
                                        m_match_cond_j_948 = m_match_bool_j_947 ? (
                                                bool_j_949 = false;
                                                assert_pred_j_950 = bool_j_949;
                                                assert_res_j_951 = assert_pred_j_950 ? (
                                                        assert_res_true_j_952 = 
                                                            {}
                                                    ) : (
                                                        ab_j_953 = abort
                                                    )
                                            ) : (
                                                void_j_946 = {}
                                            )
                                    );
                                m_match_bool_j_960 = m_match_cond_j_955 ~ 
                                    {j_value, j_variant_None, _};
                                m_match_bool_j_963 = m_match_cond_j_955 ~ 
                                    {j_value, j_variant_Some, _};
                                m_match_bool_j_1004 = m_match_cond_j_955 ~ 
                                    {bj_untouched, _};
                                m_match_cond_j_1005 = m_match_bool_j_1004 ? (
                                        var_j_1006 = fail_b_110;
                                        assert_pred_j_1007 = var_j_1006;
                                        assert_res_j_1008 = assert_pred_j_1007 ? (
                                                assert_res_true_j_1009 = 
                                                    {}
                                            ) : (
                                                ab_j_1010 = abort
                                            )
                                    ) : (
                                        m_match_cond_j_964 = m_match_bool_j_963 ? (
                                                p_j_36 = m_match_cond_j_955.j_value;
                                                var_j_965 = is_coord_nonzero;
                                                var_j_966 = p_j_36;
                                                proj_j_967 = var_j_966.bj_decl_lbls;
                                                m_match_bool_j_969 = proj_j_967 ~ any;
                                                m_match_bool_j_976 = proj_j_967 ~ 
                                                    {relative_coord, _};
                                                m_match_cond_j_977 = m_match_bool_j_976 ? (
                                                        var_j_978 = p_j_36;
                                                        proj_j_979 = var_j_978.bj_actual_rec;
                                                        proj_j_980 = proj_j_979.relative_coord
                                                    ) : (
                                                        m_match_cond_j_970 = m_match_bool_j_969 ? (
                                                                bool_j_971 = false;
                                                                assert_pred_j_972 = bool_j_971;
                                                                assert_res_j_973 = assert_pred_j_972 ? (
                                                                        
                                                                    assert_res_true_j_974 = 
                                                                    {}
                                                                    ) : (
                                                                        
                                                                    ab_j_975 = abort
                                                                    )
                                                            ) : (
                                                                void_j_968 = 
                                                                    {}
                                                            )
                                                    );
                                                m_i_1467 = var_j_965 ~ fun;
                                                appl_j_981 = m_i_1467 ? (
                                                        c_appl_i_1468 = var_j_965 m_match_cond_j_977
                                                    ) : (
                                                        ab_i_1469 = abort
                                                    );
                                                m_i_1470 = appl_j_981 ~ bool;
                                                if_j_1003 = m_i_1470 ? (
                                                        c_cond_i_1480 = appl_j_981 ? (
                                                                var_j_982 = coord_equal;
                                                                var_j_983 = abs_coord_j_38;
                                                                m_i_1471 = var_j_982 ~ fun;
                                                                appl_j_984 = m_i_1471 ? (
                                                                        
                                                                    c_appl_i_1472 = var_j_982 var_j_983
                                                                    ) : (
                                                                        
                                                                    ab_i_1473 = abort
                                                                    );
                                                                var_j_985 = r;
                                                                proj_j_986 = var_j_985.bj_decl_lbls;
                                                                m_match_bool_j_988 = proj_j_986 ~ any;
                                                                m_match_bool_j_995 = proj_j_986 ~ 
                                                                    {relative_coord, _};
                                                                m_match_cond_j_996 = m_match_bool_j_995 ? (
                                                                        
                                                                    var_j_997 = r;
                                                                    proj_j_998 = var_j_997.bj_actual_rec;
                                                                    proj_j_999 = proj_j_998.relative_coord
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_989 = m_match_bool_j_988 ? (
                                                                        bool_j_990 = false;
                                                                    assert_pred_j_991 = bool_j_990;
                                                                    assert_res_j_992 = assert_pred_j_991 ? (
                                                                        assert_res_true_j_993 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_994 = abort
                                                                    )
                                                                    ) : (
                                                                        void_j_987 = 
                                                                    {}
                                                                    )
                                                                    );
                                                                m_i_1474 = appl_j_984 ~ fun;
                                                                appl_j_1000 = m_i_1474 ? (
                                                                        
                                                                    c_appl_i_1475 = appl_j_984 m_match_cond_j_996
                                                                    ) : (
                                                                        
                                                                    ab_i_1476 = abort
                                                                    );
                                                                m_i_1477 = appl_j_1000 ~ bool;
                                                                notop_j_1001 = m_i_1477 ? (
                                                                        
                                                                    c_not_i_1478 = not appl_j_1000
                                                                    ) : (
                                                                        
                                                                    ab_i_1479 = abort
                                                                    )
                                                            ) : (
                                                                bool_j_1002 = true
                                                            )
                                                    ) : (
                                                        ab_i_1481 = abort
                                                    )
                                            ) : (
                                                m_match_cond_j_961 = m_match_bool_j_960 ? (
                                                        ignore_j_37 = m_match_cond_j_955.j_value;
                                                        bool_j_962 = true
                                                    ) : (
                                                        ab_j_959 = abort
                                                    )
                                            )
                                    ));
                            var_j_1012 = candidate_b_111;
                            appl_j_1013 = flatten_fun_j_1011 var_j_1012;
                            if_j_1017 = appl_j_1013 ? (
                                    var_j_1014 = candidate_b_111
                                ) : (
                                    bool_j_1015 = false;
                                    assume_j_1016 = assume bool_j_1015
                                ));
                        flatten_fun_j_1020 = fun expr_b_116 -> (
                            var_j_1019 = expr_b_116);
                        record_j_1021 = {checker = flatten_fun_j_938, generator = flatten_fun_j_1018, wrapper = flatten_fun_j_1020});
                    var_j_1023 = r_b_0;
                    appl_j_1024 = flatten_fun_j_1022 var_j_1023;
                    proj_j_1025 = appl_j_1024.wrapper;
                    bool_j_1026 = false;
                    fail_b_117 = bool_j_1026;
                    var_j_1027 = r_j_42;
                    proj_j_1028 = var_j_1027.bj_decl_lbls;
                    m_match_bool_j_1030 = proj_j_1028 ~ any;
                    m_match_bool_j_1037 = proj_j_1028 ~ {parent, _};
                    m_match_cond_j_1038 = m_match_bool_j_1037 ? (
                            var_j_1039 = r_j_42;
                            proj_j_1040 = var_j_1039.bj_actual_rec;
                            proj_j_1041 = proj_j_1040.parent
                        ) : (
                            m_match_cond_j_1031 = m_match_bool_j_1030 ? (
                                    bool_j_1032 = false;
                                    assert_pred_j_1033 = bool_j_1032;
                                    assert_res_j_1034 = assert_pred_j_1033 ? (
                                            assert_res_true_j_1035 = 
                                                {}
                                        ) : (
                                            ab_j_1036 = abort
                                        )
                                ) : (
                                    void_j_1029 = {}
                                )
                        );
                    m_match_bool_j_1043 = m_match_cond_j_1038 ~ {j_value, j_variant_None, _};
                    m_match_bool_j_1060 = m_match_cond_j_1038 ~ {j_value, j_variant_Some, _};
                    m_match_bool_j_1188 = m_match_cond_j_1038 ~ {bj_untouched, _};
                    m_match_cond_j_1189 = m_match_bool_j_1188 ? (
                            var_j_1190 = fail_b_117;
                            assert_pred_j_1191 = var_j_1190;
                            assert_res_j_1192 = assert_pred_j_1191 ? (
                                    assert_res_true_j_1193 = {}
                                ) : (
                                    ab_j_1194 = abort
                                )
                        ) : (
                            m_match_cond_j_1061 = m_match_bool_j_1060 ? (
                                    parent_j_40 = m_match_cond_j_1038.j_value;
                                    var_j_1062 = get_abs_coord;
                                    var_j_1063 = parent_j_40;
                                    m_i_1482 = var_j_1062 ~ fun;
                                    appl_j_1064 = m_i_1482 ? (
                                            c_appl_i_1483 = var_j_1062 var_j_1063
                                        ) : (
                                            ab_i_1484 = abort
                                        );
                                    c = appl_j_1064;
                                    var_j_1065 = c;
                                    proj_j_1066 = var_j_1065.bj_decl_lbls;
                                    m_match_bool_j_1068 = proj_j_1066 ~ any;
                                    m_match_bool_j_1075 = proj_j_1066 ~ 
                                        {x, _};
                                    m_match_cond_j_1076 = m_match_bool_j_1075 ? (
                                            var_j_1077 = c;
                                            proj_j_1078 = var_j_1077.bj_actual_rec;
                                            proj_j_1079 = proj_j_1078.x
                                        ) : (
                                            m_match_cond_j_1069 = m_match_bool_j_1068 ? (
                                                    bool_j_1070 = false;
                                                    assert_pred_j_1071 = bool_j_1070;
                                                    assert_res_j_1072 = assert_pred_j_1071 ? (
                                                            assert_res_true_j_1073 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1074 = abort
                                                        )
                                                ) : (
                                                    void_j_1067 = {}
                                                )
                                        );
                                    var_j_1080 = r_j_42;
                                    proj_j_1081 = var_j_1080.bj_decl_lbls;
                                    m_match_bool_j_1083 = proj_j_1081 ~ any;
                                    m_match_bool_j_1090 = proj_j_1081 ~ 
                                        {relative_coord, _};
                                    m_match_cond_j_1091 = m_match_bool_j_1090 ? (
                                            var_j_1092 = r_j_42;
                                            proj_j_1093 = var_j_1092.bj_actual_rec;
                                            proj_j_1094 = proj_j_1093.relative_coord
                                        ) : (
                                            m_match_cond_j_1084 = m_match_bool_j_1083 ? (
                                                    bool_j_1085 = false;
                                                    assert_pred_j_1086 = bool_j_1085;
                                                    assert_res_j_1087 = assert_pred_j_1086 ? (
                                                            assert_res_true_j_1088 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1089 = abort
                                                        )
                                                ) : (
                                                    void_j_1082 = {}
                                                )
                                        );
                                    proj_j_1095 = m_match_cond_j_1091.bj_decl_lbls;
                                    m_match_bool_j_1097 = proj_j_1095 ~ any;
                                    m_match_bool_j_1104 = proj_j_1095 ~ 
                                        {x, _};
                                    m_match_cond_j_1105 = m_match_bool_j_1104 ? (
                                            var_j_1106 = r_j_42;
                                            proj_j_1107 = var_j_1106.bj_decl_lbls;
                                            m_match_bool_j_1109 = proj_j_1107 ~ any;
                                            m_match_bool_j_1116 = proj_j_1107 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1117 = m_match_bool_j_1116 ? (
                                                    var_j_1118 = r_j_42;
                                                    proj_j_1119 = var_j_1118.bj_actual_rec;
                                                    proj_j_1120 = proj_j_1119.relative_coord
                                                ) : (
                                                    m_match_cond_j_1110 = m_match_bool_j_1109 ? (
                                                            bool_j_1111 = false;
                                                            assert_pred_j_1112 = bool_j_1111;
                                                            assert_res_j_1113 = assert_pred_j_1112 ? (
                                                                    assert_res_true_j_1114 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1115 = abort
                                                                )
                                                        ) : (
                                                            void_j_1108 = 
                                                                {}
                                                        )
                                                );
                                            proj_j_1121 = m_match_cond_j_1117.bj_actual_rec;
                                            proj_j_1122 = proj_j_1121.x
                                        ) : (
                                            m_match_cond_j_1098 = m_match_bool_j_1097 ? (
                                                    bool_j_1099 = false;
                                                    assert_pred_j_1100 = bool_j_1099;
                                                    assert_res_j_1101 = assert_pred_j_1100 ? (
                                                            assert_res_true_j_1102 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1103 = abort
                                                        )
                                                ) : (
                                                    void_j_1096 = {}
                                                )
                                        );
                                    m_bl_i_1485 = m_match_cond_j_1076 ~ int;
                                    m_br_i_1486 = m_match_cond_j_1105 ~ int;
                                    m_b_i_1487 = m_bl_i_1485 and m_br_i_1486;
                                    binop_j_1123 = m_b_i_1487 ? (
                                            c_binop_i_1488 = m_match_cond_j_1076 + m_match_cond_j_1105
                                        ) : (
                                            ab_i_1489 = abort
                                        );
                                    var_j_1124 = c;
                                    proj_j_1125 = var_j_1124.bj_decl_lbls;
                                    m_match_bool_j_1127 = proj_j_1125 ~ any;
                                    m_match_bool_j_1134 = proj_j_1125 ~ 
                                        {y, _};
                                    m_match_cond_j_1135 = m_match_bool_j_1134 ? (
                                            var_j_1136 = c;
                                            proj_j_1137 = var_j_1136.bj_actual_rec;
                                            proj_j_1138 = proj_j_1137.y
                                        ) : (
                                            m_match_cond_j_1128 = m_match_bool_j_1127 ? (
                                                    bool_j_1129 = false;
                                                    assert_pred_j_1130 = bool_j_1129;
                                                    assert_res_j_1131 = assert_pred_j_1130 ? (
                                                            assert_res_true_j_1132 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1133 = abort
                                                        )
                                                ) : (
                                                    void_j_1126 = {}
                                                )
                                        );
                                    var_j_1139 = r_j_42;
                                    proj_j_1140 = var_j_1139.bj_decl_lbls;
                                    m_match_bool_j_1142 = proj_j_1140 ~ any;
                                    m_match_bool_j_1149 = proj_j_1140 ~ 
                                        {relative_coord, _};
                                    m_match_cond_j_1150 = m_match_bool_j_1149 ? (
                                            var_j_1151 = r_j_42;
                                            proj_j_1152 = var_j_1151.bj_actual_rec;
                                            proj_j_1153 = proj_j_1152.relative_coord
                                        ) : (
                                            m_match_cond_j_1143 = m_match_bool_j_1142 ? (
                                                    bool_j_1144 = false;
                                                    assert_pred_j_1145 = bool_j_1144;
                                                    assert_res_j_1146 = assert_pred_j_1145 ? (
                                                            assert_res_true_j_1147 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1148 = abort
                                                        )
                                                ) : (
                                                    void_j_1141 = {}
                                                )
                                        );
                                    proj_j_1154 = m_match_cond_j_1150.bj_decl_lbls;
                                    m_match_bool_j_1156 = proj_j_1154 ~ any;
                                    m_match_bool_j_1163 = proj_j_1154 ~ 
                                        {y, _};
                                    m_match_cond_j_1164 = m_match_bool_j_1163 ? (
                                            var_j_1165 = r_j_42;
                                            proj_j_1166 = var_j_1165.bj_decl_lbls;
                                            m_match_bool_j_1168 = proj_j_1166 ~ any;
                                            m_match_bool_j_1175 = proj_j_1166 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1176 = m_match_bool_j_1175 ? (
                                                    var_j_1177 = r_j_42;
                                                    proj_j_1178 = var_j_1177.bj_actual_rec;
                                                    proj_j_1179 = proj_j_1178.relative_coord
                                                ) : (
                                                    m_match_cond_j_1169 = m_match_bool_j_1168 ? (
                                                            bool_j_1170 = false;
                                                            assert_pred_j_1171 = bool_j_1170;
                                                            assert_res_j_1172 = assert_pred_j_1171 ? (
                                                                    assert_res_true_j_1173 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1174 = abort
                                                                )
                                                        ) : (
                                                            void_j_1167 = 
                                                                {}
                                                        )
                                                );
                                            proj_j_1180 = m_match_cond_j_1176.bj_actual_rec;
                                            proj_j_1181 = proj_j_1180.y
                                        ) : (
                                            m_match_cond_j_1157 = m_match_bool_j_1156 ? (
                                                    bool_j_1158 = false;
                                                    assert_pred_j_1159 = bool_j_1158;
                                                    assert_res_j_1160 = assert_pred_j_1159 ? (
                                                            assert_res_true_j_1161 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1162 = abort
                                                        )
                                                ) : (
                                                    void_j_1155 = {}
                                                )
                                        );
                                    m_bl_i_1490 = m_match_cond_j_1135 ~ int;
                                    m_br_i_1491 = m_match_cond_j_1164 ~ int;
                                    m_b_i_1492 = m_bl_i_1490 and m_br_i_1491;
                                    binop_j_1182 = m_b_i_1492 ? (
                                            c_binop_i_1493 = m_match_cond_j_1135 + m_match_cond_j_1164
                                        ) : (
                                            ab_i_1494 = abort
                                        );
                                    record_j_1183 = {x = binop_j_1123, y = binop_j_1182};
                                    record_j_1184 = {};
                                    record_j_1185 = {};
                                    record_j_1186 = {x = record_j_1184, y = record_j_1185};
                                    record_j_1187 = {bj_actual_rec = record_j_1183, bj_decl_lbls = record_j_1186}
                                ) : (
                                    m_match_cond_j_1044 = m_match_bool_j_1043 ? (
                                            ignore_j_41 = m_match_cond_j_1038.j_value;
                                            var_j_1045 = r_j_42;
                                            proj_j_1046 = var_j_1045.bj_decl_lbls;
                                            m_match_bool_j_1048 = proj_j_1046 ~ any;
                                            m_match_bool_j_1055 = proj_j_1046 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1056 = m_match_bool_j_1055 ? (
                                                    var_j_1057 = r_j_42;
                                                    proj_j_1058 = var_j_1057.bj_actual_rec;
                                                    proj_j_1059 = proj_j_1058.relative_coord
                                                ) : (
                                                    m_match_cond_j_1049 = m_match_bool_j_1048 ? (
                                                            bool_j_1050 = false;
                                                            assert_pred_j_1051 = bool_j_1050;
                                                            assert_res_j_1052 = assert_pred_j_1051 ? (
                                                                    assert_res_true_j_1053 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1054 = abort
                                                                )
                                                        ) : (
                                                            void_j_1047 = 
                                                                {}
                                                        )
                                                )
                                        ) : (
                                            ab_j_1042 = abort
                                        )
                                )
                        );
                    m_i_1495 = proj_j_1025 ~ fun;
                    appl_j_1195 = m_i_1495 ? (
                            c_appl_i_1496 = proj_j_1025 m_match_cond_j_1189
                        ) : (
                            ab_i_1497 = abort
                        )
                ) : (
                    bool_j_1196 = false;
                    assert_pred_j_1197 = bool_j_1196;
                    assert_res_j_1198 = assert_pred_j_1197 ? (
                            assert_res_true_j_1199 = {}
                        ) : (
                            ab_j_1200 = abort
                        )
                ));
        var_j_1203 = r_j_42;
        appl_j_1204 = flatten_fun_j_1202 var_j_1203));
appl_j_1209 = flatten_fun_j_1206 flatten_fun_j_1206;
proj_j_1211 = t.generator;
int_j_1212 = 0;
appl_j_1213 = proj_j_1211 int_j_1212;
r_b_126 = appl_j_1213;
flatten_fun_j_1381 = fun r_j_50 -> (
    flatten_fun_j_1296 = fun expr_b_121 -> (
        var_j_1214 = coord;
        proj_j_1215 = var_j_1214.checker;
        var_j_1216 = expr_b_121;
        appl_j_1217 = proj_j_1215 var_j_1216;
        t_check_b_122 = appl_j_1217;
        var_j_1218 = t_check_b_122;
        if_j_1295 = var_j_1218 ? (
                bool_j_1219 = false;
                pred_check_b_123 = bool_j_1219;
                flatten_fun_j_1288 = fun abs_coord_j_45 -> (
                    bool_j_1220 = false;
                    fail_b_120 = bool_j_1220;
                    var_j_1221 = r_j_50;
                    proj_j_1222 = var_j_1221.bj_decl_lbls;
                    m_match_bool_j_1224 = proj_j_1222 ~ any;
                    m_match_bool_j_1231 = proj_j_1222 ~ {parent, _};
                    m_match_cond_j_1232 = m_match_bool_j_1231 ? (
                            var_j_1233 = r_j_50;
                            proj_j_1234 = var_j_1233.bj_actual_rec;
                            proj_j_1235 = proj_j_1234.parent
                        ) : (
                            m_match_cond_j_1225 = m_match_bool_j_1224 ? (
                                    bool_j_1226 = false;
                                    assert_pred_j_1227 = bool_j_1226;
                                    assert_res_j_1228 = assert_pred_j_1227 ? (
                                            assert_res_true_j_1229 = 
                                                {}
                                        ) : (
                                            ab_j_1230 = abort
                                        )
                                ) : (
                                    void_j_1223 = {}
                                )
                        );
                    m_match_bool_j_1237 = m_match_cond_j_1232 ~ {j_value, j_variant_None, _};
                    m_match_bool_j_1240 = m_match_cond_j_1232 ~ {j_value, j_variant_Some, _};
                    m_match_bool_j_1281 = m_match_cond_j_1232 ~ {bj_untouched, _};
                    m_match_cond_j_1282 = m_match_bool_j_1281 ? (
                            var_j_1283 = fail_b_120;
                            assert_pred_j_1284 = var_j_1283;
                            assert_res_j_1285 = assert_pred_j_1284 ? (
                                    assert_res_true_j_1286 = {}
                                ) : (
                                    ab_j_1287 = abort
                                )
                        ) : (
                            m_match_cond_j_1241 = m_match_bool_j_1240 ? (
                                    p_j_43 = m_match_cond_j_1232.j_value;
                                    var_j_1242 = is_coord_nonzero;
                                    var_j_1243 = p_j_43;
                                    proj_j_1244 = var_j_1243.bj_decl_lbls;
                                    m_match_bool_j_1246 = proj_j_1244 ~ any;
                                    m_match_bool_j_1253 = proj_j_1244 ~ 
                                        {relative_coord, _};
                                    m_match_cond_j_1254 = m_match_bool_j_1253 ? (
                                            var_j_1255 = p_j_43;
                                            proj_j_1256 = var_j_1255.bj_actual_rec;
                                            proj_j_1257 = proj_j_1256.relative_coord
                                        ) : (
                                            m_match_cond_j_1247 = m_match_bool_j_1246 ? (
                                                    bool_j_1248 = false;
                                                    assert_pred_j_1249 = bool_j_1248;
                                                    assert_res_j_1250 = assert_pred_j_1249 ? (
                                                            assert_res_true_j_1251 = 
                                                                {}
                                                        ) : (
                                                            ab_j_1252 = abort
                                                        )
                                                ) : (
                                                    void_j_1245 = {}
                                                )
                                        );
                                    m_i_1498 = var_j_1242 ~ fun;
                                    appl_j_1258 = m_i_1498 ? (
                                            c_appl_i_1499 = var_j_1242 m_match_cond_j_1254
                                        ) : (
                                            ab_i_1500 = abort
                                        );
                                    m_i_1501 = appl_j_1258 ~ bool;
                                    if_j_1280 = m_i_1501 ? (
                                            c_cond_i_1511 = appl_j_1258 ? (
                                                    var_j_1259 = coord_equal;
                                                    var_j_1260 = abs_coord_j_45;
                                                    m_i_1502 = var_j_1259 ~ fun;
                                                    appl_j_1261 = m_i_1502 ? (
                                                            c_appl_i_1503 = var_j_1259 var_j_1260
                                                        ) : (
                                                            ab_i_1504 = abort
                                                        );
                                                    var_j_1262 = r_j_50;
                                                    proj_j_1263 = var_j_1262.bj_decl_lbls;
                                                    m_match_bool_j_1265 = proj_j_1263 ~ any;
                                                    m_match_bool_j_1272 = proj_j_1263 ~ 
                                                        {relative_coord, _};
                                                    m_match_cond_j_1273 = m_match_bool_j_1272 ? (
                                                            var_j_1274 = r_j_50;
                                                            proj_j_1275 = var_j_1274.bj_actual_rec;
                                                            proj_j_1276 = proj_j_1275.relative_coord
                                                        ) : (
                                                            m_match_cond_j_1266 = m_match_bool_j_1265 ? (
                                                                    bool_j_1267 = false;
                                                                    assert_pred_j_1268 = bool_j_1267;
                                                                    assert_res_j_1269 = assert_pred_j_1268 ? (
                                                                        assert_res_true_j_1270 = 
                                                                    {}
                                                                    ) : (
                                                                        ab_j_1271 = abort
                                                                    )
                                                                ) : (
                                                                    void_j_1264 = 
                                                                    {}
                                                                )
                                                        );
                                                    m_i_1505 = appl_j_1261 ~ fun;
                                                    appl_j_1277 = m_i_1505 ? (
                                                            c_appl_i_1506 = appl_j_1261 m_match_cond_j_1273
                                                        ) : (
                                                            ab_i_1507 = abort
                                                        );
                                                    m_i_1508 = appl_j_1277 ~ bool;
                                                    notop_j_1278 = m_i_1508 ? (
                                                            c_not_i_1509 = not appl_j_1277
                                                        ) : (
                                                            ab_i_1510 = abort
                                                        )
                                                ) : (
                                                    bool_j_1279 = true
                                                )
                                        ) : (
                                            ab_i_1512 = abort
                                        )
                                ) : (
                                    m_match_cond_j_1238 = m_match_bool_j_1237 ? (
                                            ignore_j_44 = m_match_cond_j_1232.j_value;
                                            bool_j_1239 = true
                                        ) : (
                                            ab_j_1236 = abort
                                        )
                                )
                        ));
                var_j_1289 = expr_b_121;
                appl_j_1290 = flatten_fun_j_1288 var_j_1289;
                if_j_1293 = appl_j_1290 ? (
                        bool_j_1291 = true
                    ) : (
                        var_j_1292 = pred_check_b_123
                    )
            ) : (
                var_j_1294 = t_check_b_122
            ));
    flatten_fun_j_1376 = fun bj_null_j_49 -> (
        var_j_1297 = coord;
        proj_j_1298 = var_j_1297.generator;
        int_j_1299 = 0;
        appl_j_1300 = proj_j_1298 int_j_1299;
        candidate_b_119 = appl_j_1300;
        flatten_fun_j_1369 = fun abs_coord_j_48 -> (
            bool_j_1301 = false;
            fail_b_118 = bool_j_1301;
            var_j_1302 = r_j_50;
            proj_j_1303 = var_j_1302.bj_decl_lbls;
            m_match_bool_j_1305 = proj_j_1303 ~ any;
            m_match_bool_j_1312 = proj_j_1303 ~ {parent, _};
            m_match_cond_j_1313 = m_match_bool_j_1312 ? (
                    var_j_1314 = r_j_50;
                    proj_j_1315 = var_j_1314.bj_actual_rec;
                    proj_j_1316 = proj_j_1315.parent
                ) : (
                    m_match_cond_j_1306 = m_match_bool_j_1305 ? (
                            bool_j_1307 = false;
                            assert_pred_j_1308 = bool_j_1307;
                            assert_res_j_1309 = assert_pred_j_1308 ? (
                                    assert_res_true_j_1310 = {}
                                ) : (
                                    ab_j_1311 = abort
                                )
                        ) : (
                            void_j_1304 = {}
                        )
                );
            m_match_bool_j_1318 = m_match_cond_j_1313 ~ {j_value, j_variant_None, _};
            m_match_bool_j_1321 = m_match_cond_j_1313 ~ {j_value, j_variant_Some, _};
            m_match_bool_j_1362 = m_match_cond_j_1313 ~ {bj_untouched, _};
            m_match_cond_j_1363 = m_match_bool_j_1362 ? (
                    var_j_1364 = fail_b_118;
                    assert_pred_j_1365 = var_j_1364;
                    assert_res_j_1366 = assert_pred_j_1365 ? (
                            assert_res_true_j_1367 = {}
                        ) : (
                            ab_j_1368 = abort
                        )
                ) : (
                    m_match_cond_j_1322 = m_match_bool_j_1321 ? (
                            p_j_46 = m_match_cond_j_1313.j_value;
                            var_j_1323 = is_coord_nonzero;
                            var_j_1324 = p_j_46;
                            proj_j_1325 = var_j_1324.bj_decl_lbls;
                            m_match_bool_j_1327 = proj_j_1325 ~ any;
                            m_match_bool_j_1334 = proj_j_1325 ~ {relative_coord, _};
                            m_match_cond_j_1335 = m_match_bool_j_1334 ? (
                                    var_j_1336 = p_j_46;
                                    proj_j_1337 = var_j_1336.bj_actual_rec;
                                    proj_j_1338 = proj_j_1337.relative_coord
                                ) : (
                                    m_match_cond_j_1328 = m_match_bool_j_1327 ? (
                                            bool_j_1329 = false;
                                            assert_pred_j_1330 = bool_j_1329;
                                            assert_res_j_1331 = assert_pred_j_1330 ? (
                                                    assert_res_true_j_1332 = 
                                                        {}
                                                ) : (
                                                    ab_j_1333 = abort
                                                )
                                        ) : (
                                            void_j_1326 = {}
                                        )
                                );
                            m_i_1513 = var_j_1323 ~ fun;
                            appl_j_1339 = m_i_1513 ? (
                                    c_appl_i_1514 = var_j_1323 m_match_cond_j_1335
                                ) : (
                                    ab_i_1515 = abort
                                );
                            m_i_1516 = appl_j_1339 ~ bool;
                            if_j_1361 = m_i_1516 ? (
                                    c_cond_i_1526 = appl_j_1339 ? (
                                            var_j_1340 = coord_equal;
                                            var_j_1341 = abs_coord_j_48;
                                            m_i_1517 = var_j_1340 ~ fun;
                                            appl_j_1342 = m_i_1517 ? (
                                                    c_appl_i_1518 = var_j_1340 var_j_1341
                                                ) : (
                                                    ab_i_1519 = abort
                                                );
                                            var_j_1343 = r_j_50;
                                            proj_j_1344 = var_j_1343.bj_decl_lbls;
                                            m_match_bool_j_1346 = proj_j_1344 ~ any;
                                            m_match_bool_j_1353 = proj_j_1344 ~ 
                                                {relative_coord, _};
                                            m_match_cond_j_1354 = m_match_bool_j_1353 ? (
                                                    var_j_1355 = r_j_50;
                                                    proj_j_1356 = var_j_1355.bj_actual_rec;
                                                    proj_j_1357 = proj_j_1356.relative_coord
                                                ) : (
                                                    m_match_cond_j_1347 = m_match_bool_j_1346 ? (
                                                            bool_j_1348 = false;
                                                            assert_pred_j_1349 = bool_j_1348;
                                                            assert_res_j_1350 = assert_pred_j_1349 ? (
                                                                    assert_res_true_j_1351 = 
                                                                    {}
                                                                ) : (
                                                                    ab_j_1352 = abort
                                                                )
                                                        ) : (
                                                            void_j_1345 = 
                                                                {}
                                                        )
                                                );
                                            m_i_1520 = appl_j_1342 ~ fun;
                                            appl_j_1358 = m_i_1520 ? (
                                                    c_appl_i_1521 = appl_j_1342 m_match_cond_j_1354
                                                ) : (
                                                    ab_i_1522 = abort
                                                );
                                            m_i_1523 = appl_j_1358 ~ bool;
                                            notop_j_1359 = m_i_1523 ? (
                                                    c_not_i_1524 = not appl_j_1358
                                                ) : (
                                                    ab_i_1525 = abort
                                                )
                                        ) : (
                                            bool_j_1360 = true
                                        )
                                ) : (
                                    ab_i_1527 = abort
                                )
                        ) : (
                            m_match_cond_j_1319 = m_match_bool_j_1318 ? (
                                    ignore_j_47 = m_match_cond_j_1313.j_value;
                                    bool_j_1320 = true
                                ) : (
                                    ab_j_1317 = abort
                                )
                        )
                ));
        var_j_1370 = candidate_b_119;
        appl_j_1371 = flatten_fun_j_1369 var_j_1370;
        if_j_1375 = appl_j_1371 ? (
                var_j_1372 = candidate_b_119
            ) : (
                bool_j_1373 = false;
                assume_j_1374 = assume bool_j_1373
            ));
    flatten_fun_j_1378 = fun expr_b_124 -> (
        var_j_1377 = expr_b_124);
    record_j_1379 = {checker = flatten_fun_j_1296, generator = flatten_fun_j_1376, wrapper = flatten_fun_j_1378};
    proj_j_1380 = record_j_1379.checker);
appl_j_1383 = flatten_fun_j_1381 r_b_126;
appl_j_1386 = appl_j_1209 r_b_126;
appl_j_1387 = appl_j_1383 appl_j_1386;
check_res_b_125 = appl_j_1387;
if_j_1395 = check_res_b_125 ? (
        var_j_1389 = appl_j_1209
    ) : (
        error_var_j_1390 = check_res_b_125;
        assert_pred_j_1391 = error_var_j_1390;
        assert_res_j_1392 = assert_pred_j_1391 ? (
                assert_res_true_j_1393 = {}
            ) : (
                ab_j_1394 = abort
            )
    );
i_result = if_j_1395