bool_j_432 = false;
fail_b_4 = bool_j_432;
flatten_fun_j_448 = fun expr_b_5 -> (
    var_j_433 = expr_b_5;
    m_match_bool_j_435 = var_j_433 ~ any;
    m_match_bool_j_438 = var_j_433 ~ {bj_untouched, _};
    m_match_cond_j_439 = m_match_bool_j_438 ? (
            bj_poly_var_b_6 = var_j_433.bj_untouched;
            var_j_440 = bj_poly_var_b_6;
            m_match_bool_j_442 = var_j_440 ~ any;
            m_match_bool_j_445 = var_j_440 ~ {bj_ticka, _};
            m_match_cond_j_446 = m_match_bool_j_445 ? (
                    bool_j_447 = true
                ) : (
                    m_match_cond_j_443 = m_match_bool_j_442 ? (
                            var_j_444 = fail_b_4
                        ) : (
                            void_j_441 = {}
                        )
                )
        ) : (
            m_match_cond_j_436 = m_match_bool_j_435 ? (
                    var_j_437 = fail_b_4
                ) : (
                    void_j_434 = {}
                )
        ));
flatten_fun_j_452 = fun bj_null -> (
    record_j_449 = {};
    record_j_450 = {bj_ticka = record_j_449};
    record_j_451 = {bj_untouched = record_j_450});
flatten_fun_j_454 = fun expr_b_7 -> (
    var_j_453 = expr_b_7);
record_j_455 = {checker = flatten_fun_j_448, generator = flatten_fun_j_452, wrapper = flatten_fun_j_454};
token = record_j_455;
flatten_fun_j_487 = fun expr_b_15 -> (
    bool_j_456 = false;
    fail_b_13 = bool_j_456;
    flatten_fun_j_465 = fun expr_b_12 -> (
        var_j_457 = expr_b_12;
        m_match_bool_j_459 = var_j_457 ~ any;
        m_match_bool_j_462 = var_j_457 ~ int;
        m_match_cond_j_463 = m_match_bool_j_462 ? (
                bool_j_464 = true
            ) : (
                m_match_cond_j_460 = m_match_bool_j_459 ? (
                        var_j_461 = fail_b_13
                    ) : (
                        void_j_458 = {}
                    )
            ));
    flatten_fun_j_467 = fun bj_null_j_67 -> (
        input_j_466 = input);
    flatten_fun_j_469 = fun expr_b_14 -> (
        var_j_468 = expr_b_14);
    record_j_470 = {checker = flatten_fun_j_465, generator = flatten_fun_j_467, wrapper = flatten_fun_j_469};
    proj_j_471 = record_j_470.checker;
    var_j_472 = expr_b_15;
    appl_j_473 = proj_j_471 var_j_472;
    t_check_b_16 = appl_j_473;
    var_j_474 = t_check_b_16;
    if_j_486 = var_j_474 ? (
            bool_j_475 = false;
            pred_check_b_17 = bool_j_475;
            flatten_fun_j_479 = fun i -> (
                int_j_476 = 0;
                var_j_477 = i;
                m_bl_i_3757 = int_j_476 ~ int;
                m_br_i_3758 = var_j_477 ~ int;
                m_b_i_3759 = m_bl_i_3757 and m_br_i_3758;
                binop_j_478 = m_b_i_3759 ? (
                        c_binop_i_3760 = int_j_476 < var_j_477
                    ) : (
                        ab_i_3761 = abort
                    ));
            var_j_480 = expr_b_15;
            appl_j_481 = flatten_fun_j_479 var_j_480;
            if_j_484 = appl_j_481 ? (
                    bool_j_482 = true
                ) : (
                    var_j_483 = pred_check_b_17
                )
        ) : (
            var_j_485 = t_check_b_16
        ));
flatten_fun_j_516 = fun bj_null_j_70 -> (
    bool_j_488 = false;
    fail_b_9 = bool_j_488;
    flatten_fun_j_497 = fun expr_b_8 -> (
        var_j_489 = expr_b_8;
        m_match_bool_j_491 = var_j_489 ~ any;
        m_match_bool_j_494 = var_j_489 ~ int;
        m_match_cond_j_495 = m_match_bool_j_494 ? (
                bool_j_496 = true
            ) : (
                m_match_cond_j_492 = m_match_bool_j_491 ? (
                        var_j_493 = fail_b_9
                    ) : (
                        void_j_490 = {}
                    )
            ));
    flatten_fun_j_499 = fun bj_null_j_68 -> (
        input_j_498 = input);
    flatten_fun_j_501 = fun expr_b_10 -> (
        var_j_500 = expr_b_10);
    record_j_502 = {checker = flatten_fun_j_497, generator = flatten_fun_j_499, wrapper = flatten_fun_j_501};
    proj_j_503 = record_j_502.generator;
    int_j_504 = 0;
    appl_j_505 = proj_j_503 int_j_504;
    candidate_b_11 = appl_j_505;
    flatten_fun_j_509 = fun i_j_69 -> (
        int_j_506 = 0;
        var_j_507 = i_j_69;
        m_bl_i_3762 = int_j_506 ~ int;
        m_br_i_3763 = var_j_507 ~ int;
        m_b_i_3764 = m_bl_i_3762 and m_br_i_3763;
        binop_j_508 = m_b_i_3764 ? (
                c_binop_i_3765 = int_j_506 < var_j_507
            ) : (
                ab_i_3766 = abort
            ));
    var_j_510 = candidate_b_11;
    appl_j_511 = flatten_fun_j_509 var_j_510;
    if_j_515 = appl_j_511 ? (
            var_j_512 = candidate_b_11
        ) : (
            bool_j_513 = false;
            assume_j_514 = assume bool_j_513
        ));
flatten_fun_j_518 = fun expr_b_18 -> (
    var_j_517 = expr_b_18);
record_j_519 = {checker = flatten_fun_j_487, generator = flatten_fun_j_516, wrapper = flatten_fun_j_518};
pos_int = record_j_519;
flatten_fun_j_544 = fun len_j_66 -> (
    flatten_fun_j_543 = fun ls -> (
        var_j_520 = len_j_66;
        var_j_521 = len_j_66;
        appl_j_522 = var_j_520 var_j_521;
        len = appl_j_522;
        bool_j_523 = false;
        fail_b_19 = bool_j_523;
        var_j_524 = ls;
        m_match_bool_j_526 = var_j_524 ~ {j_head, j_tail, _};
        m_match_bool_j_533 = var_j_524 ~ {j_empty, _};
        m_match_bool_j_536 = var_j_524 ~ {bj_untouched, _};
        m_match_cond_j_537 = m_match_bool_j_536 ? (
                var_j_538 = fail_b_19;
                assert_pred_j_539 = var_j_538;
                assert_res_j_540 = assert_pred_j_539 ? (
                        assert_res_true_j_541 = {}
                    ) : (
                        ab_j_542 = abort
                    )
            ) : (
                m_match_cond_j_534 = m_match_bool_j_533 ? (
                        int_j_535 = 0
                    ) : (
                        m_match_cond_j_527 = m_match_bool_j_526 ? (
                                hd = var_j_524.j_head;
                                tl = var_j_524.j_tail;
                                int_j_528 = 1;
                                var_j_529 = len;
                                var_j_530 = tl;
                                m_i_3767 = var_j_529 ~ fun;
                                appl_j_531 = m_i_3767 ? (
                                        c_appl_i_3768 = var_j_529 var_j_530
                                    ) : (
                                        ab_i_3769 = abort
                                    );
                                m_bl_i_3770 = int_j_528 ~ int;
                                m_br_i_3771 = appl_j_531 ~ int;
                                m_b_i_3772 = m_bl_i_3770 and m_br_i_3771;
                                binop_j_532 = m_b_i_3772 ? (
                                        c_binop_i_3773 = int_j_528 + appl_j_531
                                    ) : (
                                        ab_i_3774 = abort
                                    )
                            ) : (
                                ab_j_525 = abort
                            )
                    )
            )));
appl_j_547 = flatten_fun_j_544 flatten_fun_j_544;
ngram_j_747 = fun n_j_429 -> (
    ngram_j_746 = fun a -> (
        flatten_fun_j_646 = fun expr_b_39 -> (
            flatten_fun_j_587 = fun expr_b_36 -> (
                bool_j_548 = false;
                lst_fail_b_37 = bool_j_548;
                var_j_549 = expr_b_36;
                m_match_bool_j_551 = var_j_549 ~ any;
                m_match_bool_j_554 = var_j_549 ~ {j_head, j_tail, _};
                m_match_bool_j_584 = var_j_549 ~ {j_empty, _};
                m_match_cond_j_585 = m_match_bool_j_584 ? (
                        bool_j_586 = true
                    ) : (
                        m_match_cond_j_555 = m_match_bool_j_554 ? (
                                bj_underscore_j_411 = var_j_549.j_head;
                                bj_underscore2_j_410 = var_j_549.j_tail;
                                flatten_fun_j_577 = fun test_fun_b_33_j_62 -> (
                                    flatten_fun_j_576 = fun test_list_b_34 -> (
                                        var_j_556 = test_fun_b_33_j_62;
                                        var_j_557 = test_fun_b_33_j_62;
                                        appl_j_558 = var_j_556 var_j_557;
                                        test_fun_b_33 = appl_j_558;
                                        var_j_559 = test_list_b_34;
                                        m_match_bool_j_561 = var_j_559 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_573 = var_j_559 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_574 = m_match_bool_j_573 ? (
                                                bool_j_575 = true
                                            ) : (
                                                m_match_cond_j_562 = m_match_bool_j_561 ? (
                                                        hd_j_407 = var_j_559.j_head;
                                                        tl_j_406 = var_j_559.j_tail;
                                                        var_j_563 = a;
                                                        proj_j_564 = var_j_563.checker;
                                                        var_j_565 = hd_j_407;
                                                        appl_j_566 = proj_j_564 var_j_565;
                                                        elm_check_b_35 = appl_j_566;
                                                        var_j_567 = elm_check_b_35;
                                                        if_j_572 = var_j_567 ? (
                                                                var_j_568 = test_fun_b_33;
                                                                var_j_569 = tl_j_406;
                                                                appl_j_570 = var_j_568 var_j_569
                                                            ) : (
                                                                var_j_571 = elm_check_b_35
                                                            )
                                                    ) : (
                                                        void_j_560 = 
                                                            {}
                                                    )
                                            )));
                                test_fun_b_33_j_62_j_409 = flatten_fun_j_577;
                                var_j_578 = test_fun_b_33_j_62_j_409;
                                var_j_579 = test_fun_b_33_j_62_j_409;
                                appl_j_580 = var_j_578 var_j_579;
                                test_fun_b_33_j_408 = appl_j_580;
                                var_j_581 = test_fun_b_33_j_408;
                                var_j_582 = expr_b_36;
                                appl_j_583 = var_j_581 var_j_582
                            ) : (
                                m_match_cond_j_552 = m_match_bool_j_551 ? (
                                        var_j_553 = lst_fail_b_37
                                    ) : (
                                        void_j_550 = {}
                                    )
                            )
                    ));
            flatten_fun_j_624 = fun bj_null_j_415 -> (
                flatten_fun_j_610 = fun list_maker_b_31_j_63 -> (
                    flatten_fun_j_609 = fun len_b_30 -> (
                        var_j_588 = list_maker_b_31_j_63;
                        var_j_589 = list_maker_b_31_j_63;
                        appl_j_590 = var_j_588 var_j_589;
                        list_maker_b_31 = appl_j_590;
                        var_j_591 = len_b_30;
                        int_j_592 = 0;
                        binop_j_593 = var_j_591 == int_j_592;
                        if_j_608 = binop_j_593 ? (
                                record_j_594 = {};
                                record_j_595 = {j_empty = record_j_594}
                            ) : (
                                var_j_596 = a;
                                proj_j_597 = var_j_596.generator;
                                int_j_598 = 0;
                                appl_j_599 = proj_j_597 int_j_598;
                                elm_b_32 = appl_j_599;
                                record_j_600 = {};
                                var_j_601 = elm_b_32;
                                var_j_602 = list_maker_b_31;
                                var_j_603 = len_b_30;
                                int_j_604 = 1;
                                binop_j_605 = var_j_603 - int_j_604;
                                appl_j_606 = var_j_602 binop_j_605;
                                record_j_607 = {j_cons = record_j_600, j_head = var_j_601, j_tail = appl_j_606}
                            )));
                list_maker_b_31_j_63_j_414 = flatten_fun_j_610;
                var_j_611 = list_maker_b_31_j_63_j_414;
                var_j_612 = list_maker_b_31_j_63_j_414;
                appl_j_613 = var_j_611 var_j_612;
                list_maker_b_31_j_413 = appl_j_613;
                input_j_614 = input;
                len_b_30_j_412 = input_j_614;
                int_j_615 = 0;
                var_j_616 = len_b_30_j_412;
                binop_j_617 = int_j_615 <= var_j_616;
                if_j_623 = binop_j_617 ? (
                        var_j_618 = list_maker_b_31_j_413;
                        var_j_619 = len_b_30_j_412;
                        appl_j_620 = var_j_618 var_j_619
                    ) : (
                        bool_j_621 = false;
                        assume_j_622 = assume bool_j_621
                    ));
            flatten_fun_j_626 = fun expr_b_38 -> (
                var_j_625 = expr_b_38);
            record_j_627 = {checker = flatten_fun_j_587, generator = flatten_fun_j_624, wrapper = flatten_fun_j_626};
            proj_j_628 = record_j_627.checker;
            var_j_629 = expr_b_39;
            appl_j_630 = proj_j_628 var_j_629;
            t_check_b_40 = appl_j_630;
            var_j_631 = t_check_b_40;
            if_j_645 = var_j_631 ? (
                    bool_j_632 = false;
                    pred_check_b_41 = bool_j_632;
                    flatten_fun_j_638 = fun ls_j_416 -> (
                        var_j_633 = appl_j_547;
                        var_j_634 = ls_j_416;
                        m_i_3775 = var_j_633 ~ fun;
                        appl_j_635 = m_i_3775 ? (
                                c_appl_i_3776 = var_j_633 var_j_634
                            ) : (
                                ab_i_3777 = abort
                            );
                        var_j_636 = n_j_429;
                        m_bl_i_3778 = appl_j_635 ~ int;
                        m_br_i_3779 = var_j_636 ~ int;
                        m_b_i_3780 = m_bl_i_3778 and m_br_i_3779;
                        binop_j_637 = m_b_i_3780 ? (
                                c_binop_i_3781 = appl_j_635 == var_j_636
                            ) : (
                                ab_i_3782 = abort
                            ));
                    var_j_639 = expr_b_39;
                    appl_j_640 = flatten_fun_j_638 var_j_639;
                    if_j_643 = appl_j_640 ? (
                            bool_j_641 = true
                        ) : (
                            var_j_642 = pred_check_b_41
                        )
                ) : (
                    var_j_644 = t_check_b_40
                ));
        flatten_fun_j_742 = fun bj_null_j_428 -> (
            flatten_fun_j_686 = fun expr_b_26 -> (
                bool_j_647 = false;
                lst_fail_b_27 = bool_j_647;
                var_j_648 = expr_b_26;
                m_match_bool_j_650 = var_j_648 ~ any;
                m_match_bool_j_653 = var_j_648 ~ {j_head, j_tail, _};
                m_match_bool_j_683 = var_j_648 ~ {j_empty, _};
                m_match_cond_j_684 = m_match_bool_j_683 ? (
                        bool_j_685 = true
                    ) : (
                        m_match_cond_j_654 = m_match_bool_j_653 ? (
                                bj_underscore_j_422 = var_j_648.j_head;
                                bj_underscore2_j_421 = var_j_648.j_tail;
                                flatten_fun_j_676 = fun test_fun_b_23_j_64 -> (
                                    flatten_fun_j_675 = fun test_list_b_24 -> (
                                        var_j_655 = test_fun_b_23_j_64;
                                        var_j_656 = test_fun_b_23_j_64;
                                        appl_j_657 = var_j_655 var_j_656;
                                        test_fun_b_23 = appl_j_657;
                                        var_j_658 = test_list_b_24;
                                        m_match_bool_j_660 = var_j_658 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_672 = var_j_658 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_673 = m_match_bool_j_672 ? (
                                                bool_j_674 = true
                                            ) : (
                                                m_match_cond_j_661 = m_match_bool_j_660 ? (
                                                        hd_j_418 = var_j_658.j_head;
                                                        tl_j_417 = var_j_658.j_tail;
                                                        var_j_662 = a;
                                                        proj_j_663 = var_j_662.checker;
                                                        var_j_664 = hd_j_418;
                                                        appl_j_665 = proj_j_663 var_j_664;
                                                        elm_check_b_25 = appl_j_665;
                                                        var_j_666 = elm_check_b_25;
                                                        if_j_671 = var_j_666 ? (
                                                                var_j_667 = test_fun_b_23;
                                                                var_j_668 = tl_j_417;
                                                                appl_j_669 = var_j_667 var_j_668
                                                            ) : (
                                                                var_j_670 = elm_check_b_25
                                                            )
                                                    ) : (
                                                        void_j_659 = 
                                                            {}
                                                    )
                                            )));
                                test_fun_b_23_j_64_j_420 = flatten_fun_j_676;
                                var_j_677 = test_fun_b_23_j_64_j_420;
                                var_j_678 = test_fun_b_23_j_64_j_420;
                                appl_j_679 = var_j_677 var_j_678;
                                test_fun_b_23_j_419 = appl_j_679;
                                var_j_680 = test_fun_b_23_j_419;
                                var_j_681 = expr_b_26;
                                appl_j_682 = var_j_680 var_j_681
                            ) : (
                                m_match_cond_j_651 = m_match_bool_j_650 ? (
                                        var_j_652 = lst_fail_b_27
                                    ) : (
                                        void_j_649 = {}
                                    )
                            )
                    ));
            flatten_fun_j_723 = fun bj_null_j_426 -> (
                flatten_fun_j_709 = fun list_maker_b_21_j_65 -> (
                    flatten_fun_j_708 = fun len_b_20 -> (
                        var_j_687 = list_maker_b_21_j_65;
                        var_j_688 = list_maker_b_21_j_65;
                        appl_j_689 = var_j_687 var_j_688;
                        list_maker_b_21 = appl_j_689;
                        var_j_690 = len_b_20;
                        int_j_691 = 0;
                        binop_j_692 = var_j_690 == int_j_691;
                        if_j_707 = binop_j_692 ? (
                                record_j_693 = {};
                                record_j_694 = {j_empty = record_j_693}
                            ) : (
                                var_j_695 = a;
                                proj_j_696 = var_j_695.generator;
                                int_j_697 = 0;
                                appl_j_698 = proj_j_696 int_j_697;
                                elm_b_22 = appl_j_698;
                                record_j_699 = {};
                                var_j_700 = elm_b_22;
                                var_j_701 = list_maker_b_21;
                                var_j_702 = len_b_20;
                                int_j_703 = 1;
                                binop_j_704 = var_j_702 - int_j_703;
                                appl_j_705 = var_j_701 binop_j_704;
                                record_j_706 = {j_cons = record_j_699, j_head = var_j_700, j_tail = appl_j_705}
                            )));
                list_maker_b_21_j_65_j_425 = flatten_fun_j_709;
                var_j_710 = list_maker_b_21_j_65_j_425;
                var_j_711 = list_maker_b_21_j_65_j_425;
                appl_j_712 = var_j_710 var_j_711;
                list_maker_b_21_j_424 = appl_j_712;
                input_j_713 = input;
                len_b_20_j_423 = input_j_713;
                int_j_714 = 0;
                var_j_715 = len_b_20_j_423;
                binop_j_716 = int_j_714 <= var_j_715;
                if_j_722 = binop_j_716 ? (
                        var_j_717 = list_maker_b_21_j_424;
                        var_j_718 = len_b_20_j_423;
                        appl_j_719 = var_j_717 var_j_718
                    ) : (
                        bool_j_720 = false;
                        assume_j_721 = assume bool_j_720
                    ));
            flatten_fun_j_725 = fun expr_b_28 -> (
                var_j_724 = expr_b_28);
            record_j_726 = {checker = flatten_fun_j_686, generator = flatten_fun_j_723, wrapper = flatten_fun_j_725};
            proj_j_727 = record_j_726.generator;
            int_j_728 = 0;
            appl_j_729 = proj_j_727 int_j_728;
            candidate_b_29 = appl_j_729;
            flatten_fun_j_735 = fun ls_j_427 -> (
                var_j_730 = appl_j_547;
                var_j_731 = ls_j_427;
                m_i_3783 = var_j_730 ~ fun;
                appl_j_732 = m_i_3783 ? (
                        c_appl_i_3784 = var_j_730 var_j_731
                    ) : (
                        ab_i_3785 = abort
                    );
                var_j_733 = n_j_429;
                m_bl_i_3786 = appl_j_732 ~ int;
                m_br_i_3787 = var_j_733 ~ int;
                m_b_i_3788 = m_bl_i_3786 and m_br_i_3787;
                binop_j_734 = m_b_i_3788 ? (
                        c_binop_i_3789 = appl_j_732 == var_j_733
                    ) : (
                        ab_i_3790 = abort
                    ));
            var_j_736 = candidate_b_29;
            appl_j_737 = flatten_fun_j_735 var_j_736;
            if_j_741 = appl_j_737 ? (
                    var_j_738 = candidate_b_29
                ) : (
                    bool_j_739 = false;
                    assume_j_740 = assume bool_j_739
                ));
        flatten_fun_j_744 = fun expr_b_42 -> (
            var_j_743 = expr_b_42);
        record_j_745 = {checker = flatten_fun_j_646, generator = flatten_fun_j_742, wrapper = flatten_fun_j_744}));
ngram = ngram_j_747;
flatten_fun_j_1680 = fun take_j_61 -> (
    flatten_fun_j_1679 = fun n_j_171 -> (
        var_j_748 = take_j_61;
        var_j_749 = take_j_61;
        appl_j_750 = var_j_748 var_j_749;
        take = appl_j_750;
        flatten_fun_j_1676 = fun n_b_0 -> (
            var_j_751 = pos_int;
            proj_j_752 = var_j_751.checker;
            var_j_753 = n_b_0;
            appl_j_754 = proj_j_752 var_j_753;
            arg_check_b_1 = appl_j_754;
            var_j_755 = arg_check_b_1;
            if_j_1675 = var_j_755 ? (
                    flatten_fun_j_1632 = fun n -> (
                        flatten_fun_j_1043 = fun expr_b_109 -> (
                            flatten_fun_j_795 = fun expr_b_83 -> (
                                bool_j_756 = false;
                                lst_fail_b_84 = bool_j_756;
                                var_j_757 = expr_b_83;
                                m_match_bool_j_759 = var_j_757 ~ any;
                                m_match_bool_j_762 = var_j_757 ~ {j_head, j_tail, _};
                                m_match_bool_j_792 = var_j_757 ~ {j_empty, _};
                                m_match_cond_j_793 = m_match_bool_j_792 ? (
                                        bool_j_794 = true
                                    ) : (
                                        m_match_cond_j_763 = m_match_bool_j_762 ? (
                                                bj_underscore = var_j_757.j_head;
                                                bj_underscore2 = var_j_757.j_tail;
                                                flatten_fun_j_785 = fun test_fun_b_80_j_43 -> (
                                                    flatten_fun_j_784 = fun test_list_b_81 -> (
                                                        var_j_764 = test_fun_b_80_j_43;
                                                        var_j_765 = test_fun_b_80_j_43;
                                                        appl_j_766 = var_j_764 var_j_765;
                                                        test_fun_b_80 = appl_j_766;
                                                        var_j_767 = test_list_b_81;
                                                        m_match_bool_j_769 = var_j_767 ~ 
                                                            {j_head, j_tail, _};
                                                        m_match_bool_j_781 = var_j_767 ~ 
                                                            {j_empty, _};
                                                        m_match_cond_j_782 = m_match_bool_j_781 ? (
                                                                bool_j_783 = true
                                                            ) : (
                                                                m_match_cond_j_770 = m_match_bool_j_769 ? (
                                                                        
                                                                    hd_j_72 = var_j_767.j_head;
                                                                    tl_j_71 = var_j_767.j_tail;
                                                                    var_j_771 = token;
                                                                    proj_j_772 = var_j_771.checker;
                                                                    var_j_773 = hd_j_72;
                                                                    appl_j_774 = proj_j_772 var_j_773;
                                                                    elm_check_b_82 = appl_j_774;
                                                                    var_j_775 = elm_check_b_82;
                                                                    if_j_780 = var_j_775 ? (
                                                                        var_j_776 = test_fun_b_80;
                                                                    var_j_777 = tl_j_71;
                                                                    appl_j_778 = var_j_776 var_j_777
                                                                    ) : (
                                                                        var_j_779 = elm_check_b_82
                                                                    )
                                                                    ) : (
                                                                        
                                                                    void_j_768 = 
                                                                    {}
                                                                    )
                                                            )));
                                                test_fun_b_80_j_43_j_74 = flatten_fun_j_785;
                                                var_j_786 = test_fun_b_80_j_43_j_74;
                                                var_j_787 = test_fun_b_80_j_43_j_74;
                                                appl_j_788 = var_j_786 var_j_787;
                                                test_fun_b_80_j_73 = appl_j_788;
                                                var_j_789 = test_fun_b_80_j_73;
                                                var_j_790 = expr_b_83;
                                                appl_j_791 = var_j_789 var_j_790
                                            ) : (
                                                m_match_cond_j_760 = m_match_bool_j_759 ? (
                                                        var_j_761 = lst_fail_b_84
                                                    ) : (
                                                        void_j_758 = 
                                                            {}
                                                    )
                                            )
                                    ));
                            flatten_fun_j_832 = fun bj_null_j_78 -> (
                                flatten_fun_j_818 = fun list_maker_b_78_j_44 -> (
                                    flatten_fun_j_817 = fun len_b_77 -> (
                                        var_j_796 = list_maker_b_78_j_44;
                                        var_j_797 = list_maker_b_78_j_44;
                                        appl_j_798 = var_j_796 var_j_797;
                                        list_maker_b_78 = appl_j_798;
                                        var_j_799 = len_b_77;
                                        int_j_800 = 0;
                                        binop_j_801 = var_j_799 == int_j_800;
                                        if_j_816 = binop_j_801 ? (
                                                record_j_802 = {};
                                                record_j_803 = {j_empty = record_j_802}
                                            ) : (
                                                var_j_804 = token;
                                                proj_j_805 = var_j_804.generator;
                                                int_j_806 = 0;
                                                appl_j_807 = proj_j_805 int_j_806;
                                                elm_b_79 = appl_j_807;
                                                record_j_808 = {};
                                                var_j_809 = elm_b_79;
                                                var_j_810 = list_maker_b_78;
                                                var_j_811 = len_b_77;
                                                int_j_812 = 1;
                                                binop_j_813 = var_j_811 - int_j_812;
                                                appl_j_814 = var_j_810 binop_j_813;
                                                record_j_815 = {j_cons = record_j_808, j_head = var_j_809, j_tail = appl_j_814}
                                            )));
                                list_maker_b_78_j_44_j_77 = flatten_fun_j_818;
                                var_j_819 = list_maker_b_78_j_44_j_77;
                                var_j_820 = list_maker_b_78_j_44_j_77;
                                appl_j_821 = var_j_819 var_j_820;
                                list_maker_b_78_j_76 = appl_j_821;
                                input_j_822 = input;
                                len_b_77_j_75 = input_j_822;
                                int_j_823 = 0;
                                var_j_824 = len_b_77_j_75;
                                binop_j_825 = int_j_823 <= var_j_824;
                                if_j_831 = binop_j_825 ? (
                                        var_j_826 = list_maker_b_78_j_76;
                                        var_j_827 = len_b_77_j_75;
                                        appl_j_828 = var_j_826 var_j_827
                                    ) : (
                                        bool_j_829 = false;
                                        assume_j_830 = assume bool_j_829
                                    ));
                            flatten_fun_j_834 = fun expr_b_85 -> (
                                var_j_833 = expr_b_85);
                            record_j_835 = {checker = flatten_fun_j_795, generator = flatten_fun_j_832, wrapper = flatten_fun_j_834};
                            proj_j_836 = record_j_835.generator;
                            int_j_837 = 0;
                            appl_j_838 = proj_j_836 int_j_837;
                            arg_assert_b_110 = appl_j_838;
                            var_j_839 = expr_b_109;
                            var_j_840 = arg_assert_b_110;
                            appl_j_841 = var_j_839 var_j_840;
                            fun_ret_b_111 = appl_j_841;
                            flatten_fun_j_940 = fun expr_b_105 -> (
                                flatten_fun_j_881 = fun expr_b_102 -> (
                                    bool_j_842 = false;
                                    lst_fail_b_103 = bool_j_842;
                                    var_j_843 = expr_b_102;
                                    m_match_bool_j_845 = var_j_843 ~ any;
                                    m_match_bool_j_848 = var_j_843 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_878 = var_j_843 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_879 = m_match_bool_j_878 ? (
                                            bool_j_880 = true
                                        ) : (
                                            m_match_cond_j_849 = m_match_bool_j_848 ? (
                                                    bj_underscore_j_84 = var_j_843.j_head;
                                                    bj_underscore2_j_83 = var_j_843.j_tail;
                                                    flatten_fun_j_871 = fun test_fun_b_99_j_45 -> (
                                                        flatten_fun_j_870 = fun test_list_b_100 -> (
                                                            var_j_850 = test_fun_b_99_j_45;
                                                            var_j_851 = test_fun_b_99_j_45;
                                                            appl_j_852 = var_j_850 var_j_851;
                                                            test_fun_b_99 = appl_j_852;
                                                            var_j_853 = test_list_b_100;
                                                            m_match_bool_j_855 = var_j_853 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_867 = var_j_853 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_868 = m_match_bool_j_867 ? (
                                                                    bool_j_869 = true
                                                                ) : (
                                                                    m_match_cond_j_856 = m_match_bool_j_855 ? (
                                                                        hd_j_80 = var_j_853.j_head;
                                                                    tl_j_79 = var_j_853.j_tail;
                                                                    var_j_857 = token;
                                                                    proj_j_858 = var_j_857.checker;
                                                                    var_j_859 = hd_j_80;
                                                                    appl_j_860 = proj_j_858 var_j_859;
                                                                    elm_check_b_101 = appl_j_860;
                                                                    var_j_861 = elm_check_b_101;
                                                                    if_j_866 = var_j_861 ? (
                                                                        var_j_862 = test_fun_b_99;
                                                                    var_j_863 = tl_j_79;
                                                                    appl_j_864 = var_j_862 var_j_863
                                                                    ) : (
                                                                        var_j_865 = elm_check_b_101
                                                                    )
                                                                    ) : (
                                                                        void_j_854 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_99_j_45_j_82 = flatten_fun_j_871;
                                                    var_j_872 = test_fun_b_99_j_45_j_82;
                                                    var_j_873 = test_fun_b_99_j_45_j_82;
                                                    appl_j_874 = var_j_872 var_j_873;
                                                    test_fun_b_99_j_81 = appl_j_874;
                                                    var_j_875 = test_fun_b_99_j_81;
                                                    var_j_876 = expr_b_102;
                                                    appl_j_877 = var_j_875 var_j_876
                                                ) : (
                                                    m_match_cond_j_846 = m_match_bool_j_845 ? (
                                                            var_j_847 = lst_fail_b_103
                                                        ) : (
                                                            void_j_844 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_918 = fun bj_null_j_88 -> (
                                    flatten_fun_j_904 = fun list_maker_b_97_j_46 -> (
                                        flatten_fun_j_903 = fun len_b_96 -> (
                                            var_j_882 = list_maker_b_97_j_46;
                                            var_j_883 = list_maker_b_97_j_46;
                                            appl_j_884 = var_j_882 var_j_883;
                                            list_maker_b_97 = appl_j_884;
                                            var_j_885 = len_b_96;
                                            int_j_886 = 0;
                                            binop_j_887 = var_j_885 == int_j_886;
                                            if_j_902 = binop_j_887 ? (
                                                    record_j_888 = {};
                                                    record_j_889 = {j_empty = record_j_888}
                                                ) : (
                                                    var_j_890 = token;
                                                    proj_j_891 = var_j_890.generator;
                                                    int_j_892 = 0;
                                                    appl_j_893 = proj_j_891 int_j_892;
                                                    elm_b_98 = appl_j_893;
                                                    record_j_894 = {};
                                                    var_j_895 = elm_b_98;
                                                    var_j_896 = list_maker_b_97;
                                                    var_j_897 = len_b_96;
                                                    int_j_898 = 1;
                                                    binop_j_899 = var_j_897 - int_j_898;
                                                    appl_j_900 = var_j_896 binop_j_899;
                                                    record_j_901 = {j_cons = record_j_894, j_head = var_j_895, j_tail = appl_j_900}
                                                )));
                                    list_maker_b_97_j_46_j_87 = flatten_fun_j_904;
                                    var_j_905 = list_maker_b_97_j_46_j_87;
                                    var_j_906 = list_maker_b_97_j_46_j_87;
                                    appl_j_907 = var_j_905 var_j_906;
                                    list_maker_b_97_j_86 = appl_j_907;
                                    input_j_908 = input;
                                    len_b_96_j_85 = input_j_908;
                                    int_j_909 = 0;
                                    var_j_910 = len_b_96_j_85;
                                    binop_j_911 = int_j_909 <= var_j_910;
                                    if_j_917 = binop_j_911 ? (
                                            var_j_912 = list_maker_b_97_j_86;
                                            var_j_913 = len_b_96_j_85;
                                            appl_j_914 = var_j_912 var_j_913
                                        ) : (
                                            bool_j_915 = false;
                                            assume_j_916 = assume bool_j_915
                                        ));
                                flatten_fun_j_920 = fun expr_b_104 -> (
                                    var_j_919 = expr_b_104);
                                record_j_921 = {checker = flatten_fun_j_881, generator = flatten_fun_j_918, wrapper = flatten_fun_j_920};
                                proj_j_922 = record_j_921.checker;
                                var_j_923 = expr_b_105;
                                appl_j_924 = proj_j_922 var_j_923;
                                t_check_b_106 = appl_j_924;
                                var_j_925 = t_check_b_106;
                                if_j_939 = var_j_925 ? (
                                        bool_j_926 = false;
                                        pred_check_b_107 = bool_j_926;
                                        flatten_fun_j_932 = fun ls_j_89 -> (
                                            var_j_927 = appl_j_547;
                                            var_j_928 = ls_j_89;
                                            m_i_3791 = var_j_927 ~ fun;
                                            appl_j_929 = m_i_3791 ? (
                                                    c_appl_i_3792 = var_j_927 var_j_928
                                                ) : (
                                                    ab_i_3793 = abort
                                                );
                                            var_j_930 = n;
                                            m_bl_i_3794 = appl_j_929 ~ int;
                                            m_br_i_3795 = var_j_930 ~ int;
                                            m_b_i_3796 = m_bl_i_3794 and m_br_i_3795;
                                            binop_j_931 = m_b_i_3796 ? (
                                                    c_binop_i_3797 = appl_j_929 <= var_j_930
                                                ) : (
                                                    ab_i_3798 = abort
                                                ));
                                        var_j_933 = expr_b_105;
                                        appl_j_934 = flatten_fun_j_932 var_j_933;
                                        if_j_937 = appl_j_934 ? (
                                                bool_j_935 = true
                                            ) : (
                                                var_j_936 = pred_check_b_107
                                            )
                                    ) : (
                                        var_j_938 = t_check_b_106
                                    ));
                            flatten_fun_j_1036 = fun bj_null_j_101 -> (
                                flatten_fun_j_980 = fun expr_b_92 -> (
                                    bool_j_941 = false;
                                    lst_fail_b_93 = bool_j_941;
                                    var_j_942 = expr_b_92;
                                    m_match_bool_j_944 = var_j_942 ~ any;
                                    m_match_bool_j_947 = var_j_942 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_977 = var_j_942 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_978 = m_match_bool_j_977 ? (
                                            bool_j_979 = true
                                        ) : (
                                            m_match_cond_j_948 = m_match_bool_j_947 ? (
                                                    bj_underscore_j_95 = var_j_942.j_head;
                                                    bj_underscore2_j_94 = var_j_942.j_tail;
                                                    flatten_fun_j_970 = fun test_fun_b_89_j_47 -> (
                                                        flatten_fun_j_969 = fun test_list_b_90 -> (
                                                            var_j_949 = test_fun_b_89_j_47;
                                                            var_j_950 = test_fun_b_89_j_47;
                                                            appl_j_951 = var_j_949 var_j_950;
                                                            test_fun_b_89 = appl_j_951;
                                                            var_j_952 = test_list_b_90;
                                                            m_match_bool_j_954 = var_j_952 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_966 = var_j_952 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_967 = m_match_bool_j_966 ? (
                                                                    bool_j_968 = true
                                                                ) : (
                                                                    m_match_cond_j_955 = m_match_bool_j_954 ? (
                                                                        hd_j_91 = var_j_952.j_head;
                                                                    tl_j_90 = var_j_952.j_tail;
                                                                    var_j_956 = token;
                                                                    proj_j_957 = var_j_956.checker;
                                                                    var_j_958 = hd_j_91;
                                                                    appl_j_959 = proj_j_957 var_j_958;
                                                                    elm_check_b_91 = appl_j_959;
                                                                    var_j_960 = elm_check_b_91;
                                                                    if_j_965 = var_j_960 ? (
                                                                        var_j_961 = test_fun_b_89;
                                                                    var_j_962 = tl_j_90;
                                                                    appl_j_963 = var_j_961 var_j_962
                                                                    ) : (
                                                                        var_j_964 = elm_check_b_91
                                                                    )
                                                                    ) : (
                                                                        void_j_953 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_89_j_47_j_93 = flatten_fun_j_970;
                                                    var_j_971 = test_fun_b_89_j_47_j_93;
                                                    var_j_972 = test_fun_b_89_j_47_j_93;
                                                    appl_j_973 = var_j_971 var_j_972;
                                                    test_fun_b_89_j_92 = appl_j_973;
                                                    var_j_974 = test_fun_b_89_j_92;
                                                    var_j_975 = expr_b_92;
                                                    appl_j_976 = var_j_974 var_j_975
                                                ) : (
                                                    m_match_cond_j_945 = m_match_bool_j_944 ? (
                                                            var_j_946 = lst_fail_b_93
                                                        ) : (
                                                            void_j_943 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_1017 = fun bj_null_j_99 -> (
                                    flatten_fun_j_1003 = fun list_maker_b_87_j_48 -> (
                                        flatten_fun_j_1002 = fun len_b_86 -> (
                                            var_j_981 = list_maker_b_87_j_48;
                                            var_j_982 = list_maker_b_87_j_48;
                                            appl_j_983 = var_j_981 var_j_982;
                                            list_maker_b_87 = appl_j_983;
                                            var_j_984 = len_b_86;
                                            int_j_985 = 0;
                                            binop_j_986 = var_j_984 == int_j_985;
                                            if_j_1001 = binop_j_986 ? (
                                                    record_j_987 = {};
                                                    record_j_988 = {j_empty = record_j_987}
                                                ) : (
                                                    var_j_989 = token;
                                                    proj_j_990 = var_j_989.generator;
                                                    int_j_991 = 0;
                                                    appl_j_992 = proj_j_990 int_j_991;
                                                    elm_b_88 = appl_j_992;
                                                    record_j_993 = {};
                                                    var_j_994 = elm_b_88;
                                                    var_j_995 = list_maker_b_87;
                                                    var_j_996 = len_b_86;
                                                    int_j_997 = 1;
                                                    binop_j_998 = var_j_996 - int_j_997;
                                                    appl_j_999 = var_j_995 binop_j_998;
                                                    record_j_1000 = {j_cons = record_j_993, j_head = var_j_994, j_tail = appl_j_999}
                                                )));
                                    list_maker_b_87_j_48_j_98 = flatten_fun_j_1003;
                                    var_j_1004 = list_maker_b_87_j_48_j_98;
                                    var_j_1005 = list_maker_b_87_j_48_j_98;
                                    appl_j_1006 = var_j_1004 var_j_1005;
                                    list_maker_b_87_j_97 = appl_j_1006;
                                    input_j_1007 = input;
                                    len_b_86_j_96 = input_j_1007;
                                    int_j_1008 = 0;
                                    var_j_1009 = len_b_86_j_96;
                                    binop_j_1010 = int_j_1008 <= var_j_1009;
                                    if_j_1016 = binop_j_1010 ? (
                                            var_j_1011 = list_maker_b_87_j_97;
                                            var_j_1012 = len_b_86_j_96;
                                            appl_j_1013 = var_j_1011 var_j_1012
                                        ) : (
                                            bool_j_1014 = false;
                                            assume_j_1015 = assume bool_j_1014
                                        ));
                                flatten_fun_j_1019 = fun expr_b_94 -> (
                                    var_j_1018 = expr_b_94);
                                record_j_1020 = {checker = flatten_fun_j_980, generator = flatten_fun_j_1017, wrapper = flatten_fun_j_1019};
                                proj_j_1021 = record_j_1020.generator;
                                int_j_1022 = 0;
                                appl_j_1023 = proj_j_1021 int_j_1022;
                                candidate_b_95 = appl_j_1023;
                                flatten_fun_j_1029 = fun ls_j_100 -> (
                                    var_j_1024 = appl_j_547;
                                    var_j_1025 = ls_j_100;
                                    m_i_3799 = var_j_1024 ~ fun;
                                    appl_j_1026 = m_i_3799 ? (
                                            c_appl_i_3800 = var_j_1024 var_j_1025
                                        ) : (
                                            ab_i_3801 = abort
                                        );
                                    var_j_1027 = n;
                                    m_bl_i_3802 = appl_j_1026 ~ int;
                                    m_br_i_3803 = var_j_1027 ~ int;
                                    m_b_i_3804 = m_bl_i_3802 and m_br_i_3803;
                                    binop_j_1028 = m_b_i_3804 ? (
                                            c_binop_i_3805 = appl_j_1026 <= var_j_1027
                                        ) : (
                                            ab_i_3806 = abort
                                        ));
                                var_j_1030 = candidate_b_95;
                                appl_j_1031 = flatten_fun_j_1029 var_j_1030;
                                if_j_1035 = appl_j_1031 ? (
                                        var_j_1032 = candidate_b_95
                                    ) : (
                                        bool_j_1033 = false;
                                        assume_j_1034 = assume bool_j_1033
                                    ));
                            flatten_fun_j_1038 = fun expr_b_108 -> (
                                var_j_1037 = expr_b_108);
                            record_j_1039 = {checker = flatten_fun_j_940, generator = flatten_fun_j_1036, wrapper = flatten_fun_j_1038};
                            proj_j_1040 = record_j_1039.checker;
                            var_j_1041 = fun_ret_b_111;
                            appl_j_1042 = proj_j_1040 var_j_1041);
                        flatten_fun_j_1336 = fun bj_null_j_135 -> (
                            flatten_fun_j_1335 = fun arg_assume_b_75 -> (
                                flatten_fun_j_1083 = fun expr_b_49 -> (
                                    bool_j_1044 = false;
                                    lst_fail_b_50 = bool_j_1044;
                                    var_j_1045 = expr_b_49;
                                    m_match_bool_j_1047 = var_j_1045 ~ any;
                                    m_match_bool_j_1050 = var_j_1045 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_1080 = var_j_1045 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_1081 = m_match_bool_j_1080 ? (
                                            bool_j_1082 = true
                                        ) : (
                                            m_match_cond_j_1051 = m_match_bool_j_1050 ? (
                                                    bj_underscore_j_107 = var_j_1045.j_head;
                                                    bj_underscore2_j_106 = var_j_1045.j_tail;
                                                    flatten_fun_j_1073 = fun test_fun_b_46_j_49 -> (
                                                        flatten_fun_j_1072 = fun test_list_b_47 -> (
                                                            var_j_1052 = test_fun_b_46_j_49;
                                                            var_j_1053 = test_fun_b_46_j_49;
                                                            appl_j_1054 = var_j_1052 var_j_1053;
                                                            test_fun_b_46 = appl_j_1054;
                                                            var_j_1055 = test_list_b_47;
                                                            m_match_bool_j_1057 = var_j_1055 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_1069 = var_j_1055 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_1070 = m_match_bool_j_1069 ? (
                                                                    bool_j_1071 = true
                                                                ) : (
                                                                    m_match_cond_j_1058 = m_match_bool_j_1057 ? (
                                                                        hd_j_103 = var_j_1055.j_head;
                                                                    tl_j_102 = var_j_1055.j_tail;
                                                                    var_j_1059 = token;
                                                                    proj_j_1060 = var_j_1059.checker;
                                                                    var_j_1061 = hd_j_103;
                                                                    appl_j_1062 = proj_j_1060 var_j_1061;
                                                                    elm_check_b_48 = appl_j_1062;
                                                                    var_j_1063 = elm_check_b_48;
                                                                    if_j_1068 = var_j_1063 ? (
                                                                        var_j_1064 = test_fun_b_46;
                                                                    var_j_1065 = tl_j_102;
                                                                    appl_j_1066 = var_j_1064 var_j_1065
                                                                    ) : (
                                                                        var_j_1067 = elm_check_b_48
                                                                    )
                                                                    ) : (
                                                                        void_j_1056 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_46_j_49_j_105 = flatten_fun_j_1073;
                                                    var_j_1074 = test_fun_b_46_j_49_j_105;
                                                    var_j_1075 = test_fun_b_46_j_49_j_105;
                                                    appl_j_1076 = var_j_1074 var_j_1075;
                                                    test_fun_b_46_j_104 = appl_j_1076;
                                                    var_j_1077 = test_fun_b_46_j_104;
                                                    var_j_1078 = expr_b_49;
                                                    appl_j_1079 = var_j_1077 var_j_1078
                                                ) : (
                                                    m_match_cond_j_1048 = m_match_bool_j_1047 ? (
                                                            var_j_1049 = lst_fail_b_50
                                                        ) : (
                                                            void_j_1046 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_1120 = fun bj_null_j_111 -> (
                                    flatten_fun_j_1106 = fun list_maker_b_44_j_50 -> (
                                        flatten_fun_j_1105 = fun len_b_43 -> (
                                            var_j_1084 = list_maker_b_44_j_50;
                                            var_j_1085 = list_maker_b_44_j_50;
                                            appl_j_1086 = var_j_1084 var_j_1085;
                                            list_maker_b_44 = appl_j_1086;
                                            var_j_1087 = len_b_43;
                                            int_j_1088 = 0;
                                            binop_j_1089 = var_j_1087 == int_j_1088;
                                            if_j_1104 = binop_j_1089 ? (
                                                    record_j_1090 = {};
                                                    record_j_1091 = {j_empty = record_j_1090}
                                                ) : (
                                                    var_j_1092 = token;
                                                    proj_j_1093 = var_j_1092.generator;
                                                    int_j_1094 = 0;
                                                    appl_j_1095 = proj_j_1093 int_j_1094;
                                                    elm_b_45 = appl_j_1095;
                                                    record_j_1096 = {};
                                                    var_j_1097 = elm_b_45;
                                                    var_j_1098 = list_maker_b_44;
                                                    var_j_1099 = len_b_43;
                                                    int_j_1100 = 1;
                                                    binop_j_1101 = var_j_1099 - int_j_1100;
                                                    appl_j_1102 = var_j_1098 binop_j_1101;
                                                    record_j_1103 = {j_cons = record_j_1096, j_head = var_j_1097, j_tail = appl_j_1102}
                                                )));
                                    list_maker_b_44_j_50_j_110 = flatten_fun_j_1106;
                                    var_j_1107 = list_maker_b_44_j_50_j_110;
                                    var_j_1108 = list_maker_b_44_j_50_j_110;
                                    appl_j_1109 = var_j_1107 var_j_1108;
                                    list_maker_b_44_j_109 = appl_j_1109;
                                    input_j_1110 = input;
                                    len_b_43_j_108 = input_j_1110;
                                    int_j_1111 = 0;
                                    var_j_1112 = len_b_43_j_108;
                                    binop_j_1113 = int_j_1111 <= var_j_1112;
                                    if_j_1119 = binop_j_1113 ? (
                                            var_j_1114 = list_maker_b_44_j_109;
                                            var_j_1115 = len_b_43_j_108;
                                            appl_j_1116 = var_j_1114 var_j_1115
                                        ) : (
                                            bool_j_1117 = false;
                                            assume_j_1118 = assume bool_j_1117
                                        ));
                                flatten_fun_j_1122 = fun expr_b_51 -> (
                                    var_j_1121 = expr_b_51);
                                record_j_1123 = {checker = flatten_fun_j_1083, generator = flatten_fun_j_1120, wrapper = flatten_fun_j_1122};
                                proj_j_1124 = record_j_1123.checker;
                                var_j_1125 = arg_assume_b_75;
                                appl_j_1126 = proj_j_1124 var_j_1125;
                                if_j_1334 = appl_j_1126 ? (
                                        flatten_fun_j_1225 = fun expr_b_71 -> (
                                            flatten_fun_j_1166 = fun expr_b_68 -> (
                                                bool_j_1127 = false;
                                                lst_fail_b_69 = bool_j_1127;
                                                var_j_1128 = expr_b_68;
                                                m_match_bool_j_1130 = var_j_1128 ~ any;
                                                m_match_bool_j_1133 = var_j_1128 ~ 
                                                    {j_head, j_tail, _};
                                                m_match_bool_j_1163 = var_j_1128 ~ 
                                                    {j_empty, _};
                                                m_match_cond_j_1164 = m_match_bool_j_1163 ? (
                                                        bool_j_1165 = true
                                                    ) : (
                                                        m_match_cond_j_1134 = m_match_bool_j_1133 ? (
                                                                bj_underscore_j_117 = var_j_1128.j_head;
                                                                bj_underscore2_j_116 = var_j_1128.j_tail;
                                                                flatten_fun_j_1156 = fun test_fun_b_65_j_51 -> (
                                                                    flatten_fun_j_1155 = fun test_list_b_66 -> (
                                                                    var_j_1135 = test_fun_b_65_j_51;
                                                                    var_j_1136 = test_fun_b_65_j_51;
                                                                    appl_j_1137 = var_j_1135 var_j_1136;
                                                                    test_fun_b_65 = appl_j_1137;
                                                                    var_j_1138 = test_list_b_66;
                                                                    m_match_bool_j_1140 = var_j_1138 ~ 
                                                                    {j_head, j_tail, _};
                                                                    m_match_bool_j_1152 = var_j_1138 ~ 
                                                                    {j_empty, _};
                                                                    m_match_cond_j_1153 = m_match_bool_j_1152 ? (
                                                                        bool_j_1154 = true
                                                                    ) : (
                                                                        m_match_cond_j_1141 = m_match_bool_j_1140 ? (
                                                                        hd_j_113 = var_j_1138.j_head;
                                                                    tl_j_112 = var_j_1138.j_tail;
                                                                    var_j_1142 = token;
                                                                    proj_j_1143 = var_j_1142.checker;
                                                                    var_j_1144 = hd_j_113;
                                                                    appl_j_1145 = proj_j_1143 var_j_1144;
                                                                    elm_check_b_67 = appl_j_1145;
                                                                    var_j_1146 = elm_check_b_67;
                                                                    if_j_1151 = var_j_1146 ? (
                                                                        var_j_1147 = test_fun_b_65;
                                                                    var_j_1148 = tl_j_112;
                                                                    appl_j_1149 = var_j_1147 var_j_1148
                                                                    ) : (
                                                                        var_j_1150 = elm_check_b_67
                                                                    )
                                                                    ) : (
                                                                        void_j_1139 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                                test_fun_b_65_j_51_j_115 = flatten_fun_j_1156;
                                                                var_j_1157 = test_fun_b_65_j_51_j_115;
                                                                var_j_1158 = test_fun_b_65_j_51_j_115;
                                                                appl_j_1159 = var_j_1157 var_j_1158;
                                                                test_fun_b_65_j_114 = appl_j_1159;
                                                                var_j_1160 = test_fun_b_65_j_114;
                                                                var_j_1161 = expr_b_68;
                                                                appl_j_1162 = var_j_1160 var_j_1161
                                                            ) : (
                                                                m_match_cond_j_1131 = m_match_bool_j_1130 ? (
                                                                        
                                                                    var_j_1132 = lst_fail_b_69
                                                                    ) : (
                                                                        
                                                                    void_j_1129 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_1203 = fun bj_null_j_121 -> (
                                                flatten_fun_j_1189 = fun list_maker_b_63_j_52 -> (
                                                    flatten_fun_j_1188 = fun len_b_62 -> (
                                                        var_j_1167 = list_maker_b_63_j_52;
                                                        var_j_1168 = list_maker_b_63_j_52;
                                                        appl_j_1169 = var_j_1167 var_j_1168;
                                                        list_maker_b_63 = appl_j_1169;
                                                        var_j_1170 = len_b_62;
                                                        int_j_1171 = 0;
                                                        binop_j_1172 = var_j_1170 == int_j_1171;
                                                        if_j_1187 = binop_j_1172 ? (
                                                                record_j_1173 = 
                                                                    {};
                                                                record_j_1174 = 
                                                                    {j_empty = record_j_1173}
                                                            ) : (
                                                                var_j_1175 = token;
                                                                proj_j_1176 = var_j_1175.generator;
                                                                int_j_1177 = 0;
                                                                appl_j_1178 = proj_j_1176 int_j_1177;
                                                                elm_b_64 = appl_j_1178;
                                                                record_j_1179 = 
                                                                    {};
                                                                var_j_1180 = elm_b_64;
                                                                var_j_1181 = list_maker_b_63;
                                                                var_j_1182 = len_b_62;
                                                                int_j_1183 = 1;
                                                                binop_j_1184 = var_j_1182 - int_j_1183;
                                                                appl_j_1185 = var_j_1181 binop_j_1184;
                                                                record_j_1186 = 
                                                                    {j_cons = record_j_1179, j_head = var_j_1180, j_tail = appl_j_1185}
                                                            )));
                                                list_maker_b_63_j_52_j_120 = flatten_fun_j_1189;
                                                var_j_1190 = list_maker_b_63_j_52_j_120;
                                                var_j_1191 = list_maker_b_63_j_52_j_120;
                                                appl_j_1192 = var_j_1190 var_j_1191;
                                                list_maker_b_63_j_119 = appl_j_1192;
                                                input_j_1193 = input;
                                                len_b_62_j_118 = input_j_1193;
                                                int_j_1194 = 0;
                                                var_j_1195 = len_b_62_j_118;
                                                binop_j_1196 = int_j_1194 <= var_j_1195;
                                                if_j_1202 = binop_j_1196 ? (
                                                        var_j_1197 = list_maker_b_63_j_119;
                                                        var_j_1198 = len_b_62_j_118;
                                                        appl_j_1199 = var_j_1197 var_j_1198
                                                    ) : (
                                                        bool_j_1200 = false;
                                                        assume_j_1201 = assume bool_j_1200
                                                    ));
                                            flatten_fun_j_1205 = fun expr_b_70 -> (
                                                var_j_1204 = expr_b_70);
                                            record_j_1206 = {checker = flatten_fun_j_1166, generator = flatten_fun_j_1203, wrapper = flatten_fun_j_1205};
                                            proj_j_1207 = record_j_1206.checker;
                                            var_j_1208 = expr_b_71;
                                            appl_j_1209 = proj_j_1207 var_j_1208;
                                            t_check_b_72 = appl_j_1209;
                                            var_j_1210 = t_check_b_72;
                                            if_j_1224 = var_j_1210 ? (
                                                    bool_j_1211 = false;
                                                    pred_check_b_73 = bool_j_1211;
                                                    flatten_fun_j_1217 = fun ls_j_122 -> (
                                                        var_j_1212 = appl_j_547;
                                                        var_j_1213 = ls_j_122;
                                                        m_i_3807 = var_j_1212 ~ fun;
                                                        appl_j_1214 = m_i_3807 ? (
                                                                c_appl_i_3808 = var_j_1212 var_j_1213
                                                            ) : (
                                                                ab_i_3809 = abort
                                                            );
                                                        var_j_1215 = n;
                                                        m_bl_i_3810 = appl_j_1214 ~ int;
                                                        m_br_i_3811 = var_j_1215 ~ int;
                                                        m_b_i_3812 = m_bl_i_3810 and m_br_i_3811;
                                                        binop_j_1216 = m_b_i_3812 ? (
                                                                c_binop_i_3813 = appl_j_1214 <= var_j_1215
                                                            ) : (
                                                                ab_i_3814 = abort
                                                            ));
                                                    var_j_1218 = expr_b_71;
                                                    appl_j_1219 = flatten_fun_j_1217 var_j_1218;
                                                    if_j_1222 = appl_j_1219 ? (
                                                            bool_j_1220 = true
                                                        ) : (
                                                            var_j_1221 = pred_check_b_73
                                                        )
                                                ) : (
                                                    var_j_1223 = t_check_b_72
                                                ));
                                        flatten_fun_j_1321 = fun bj_null_j_134 -> (
                                            flatten_fun_j_1265 = fun expr_b_58 -> (
                                                bool_j_1226 = false;
                                                lst_fail_b_59 = bool_j_1226;
                                                var_j_1227 = expr_b_58;
                                                m_match_bool_j_1229 = var_j_1227 ~ any;
                                                m_match_bool_j_1232 = var_j_1227 ~ 
                                                    {j_head, j_tail, _};
                                                m_match_bool_j_1262 = var_j_1227 ~ 
                                                    {j_empty, _};
                                                m_match_cond_j_1263 = m_match_bool_j_1262 ? (
                                                        bool_j_1264 = true
                                                    ) : (
                                                        m_match_cond_j_1233 = m_match_bool_j_1232 ? (
                                                                bj_underscore_j_128 = var_j_1227.j_head;
                                                                bj_underscore2_j_127 = var_j_1227.j_tail;
                                                                flatten_fun_j_1255 = fun test_fun_b_55_j_53 -> (
                                                                    flatten_fun_j_1254 = fun test_list_b_56 -> (
                                                                    var_j_1234 = test_fun_b_55_j_53;
                                                                    var_j_1235 = test_fun_b_55_j_53;
                                                                    appl_j_1236 = var_j_1234 var_j_1235;
                                                                    test_fun_b_55 = appl_j_1236;
                                                                    var_j_1237 = test_list_b_56;
                                                                    m_match_bool_j_1239 = var_j_1237 ~ 
                                                                    {j_head, j_tail, _};
                                                                    m_match_bool_j_1251 = var_j_1237 ~ 
                                                                    {j_empty, _};
                                                                    m_match_cond_j_1252 = m_match_bool_j_1251 ? (
                                                                        bool_j_1253 = true
                                                                    ) : (
                                                                        m_match_cond_j_1240 = m_match_bool_j_1239 ? (
                                                                        hd_j_124 = var_j_1237.j_head;
                                                                    tl_j_123 = var_j_1237.j_tail;
                                                                    var_j_1241 = token;
                                                                    proj_j_1242 = var_j_1241.checker;
                                                                    var_j_1243 = hd_j_124;
                                                                    appl_j_1244 = proj_j_1242 var_j_1243;
                                                                    elm_check_b_57 = appl_j_1244;
                                                                    var_j_1245 = elm_check_b_57;
                                                                    if_j_1250 = var_j_1245 ? (
                                                                        var_j_1246 = test_fun_b_55;
                                                                    var_j_1247 = tl_j_123;
                                                                    appl_j_1248 = var_j_1246 var_j_1247
                                                                    ) : (
                                                                        var_j_1249 = elm_check_b_57
                                                                    )
                                                                    ) : (
                                                                        void_j_1238 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                                test_fun_b_55_j_53_j_126 = flatten_fun_j_1255;
                                                                var_j_1256 = test_fun_b_55_j_53_j_126;
                                                                var_j_1257 = test_fun_b_55_j_53_j_126;
                                                                appl_j_1258 = var_j_1256 var_j_1257;
                                                                test_fun_b_55_j_125 = appl_j_1258;
                                                                var_j_1259 = test_fun_b_55_j_125;
                                                                var_j_1260 = expr_b_58;
                                                                appl_j_1261 = var_j_1259 var_j_1260
                                                            ) : (
                                                                m_match_cond_j_1230 = m_match_bool_j_1229 ? (
                                                                        
                                                                    var_j_1231 = lst_fail_b_59
                                                                    ) : (
                                                                        
                                                                    void_j_1228 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_1302 = fun bj_null_j_132 -> (
                                                flatten_fun_j_1288 = fun list_maker_b_53_j_54 -> (
                                                    flatten_fun_j_1287 = fun len_b_52 -> (
                                                        var_j_1266 = list_maker_b_53_j_54;
                                                        var_j_1267 = list_maker_b_53_j_54;
                                                        appl_j_1268 = var_j_1266 var_j_1267;
                                                        list_maker_b_53 = appl_j_1268;
                                                        var_j_1269 = len_b_52;
                                                        int_j_1270 = 0;
                                                        binop_j_1271 = var_j_1269 == int_j_1270;
                                                        if_j_1286 = binop_j_1271 ? (
                                                                record_j_1272 = 
                                                                    {};
                                                                record_j_1273 = 
                                                                    {j_empty = record_j_1272}
                                                            ) : (
                                                                var_j_1274 = token;
                                                                proj_j_1275 = var_j_1274.generator;
                                                                int_j_1276 = 0;
                                                                appl_j_1277 = proj_j_1275 int_j_1276;
                                                                elm_b_54 = appl_j_1277;
                                                                record_j_1278 = 
                                                                    {};
                                                                var_j_1279 = elm_b_54;
                                                                var_j_1280 = list_maker_b_53;
                                                                var_j_1281 = len_b_52;
                                                                int_j_1282 = 1;
                                                                binop_j_1283 = var_j_1281 - int_j_1282;
                                                                appl_j_1284 = var_j_1280 binop_j_1283;
                                                                record_j_1285 = 
                                                                    {j_cons = record_j_1278, j_head = var_j_1279, j_tail = appl_j_1284}
                                                            )));
                                                list_maker_b_53_j_54_j_131 = flatten_fun_j_1288;
                                                var_j_1289 = list_maker_b_53_j_54_j_131;
                                                var_j_1290 = list_maker_b_53_j_54_j_131;
                                                appl_j_1291 = var_j_1289 var_j_1290;
                                                list_maker_b_53_j_130 = appl_j_1291;
                                                input_j_1292 = input;
                                                len_b_52_j_129 = input_j_1292;
                                                int_j_1293 = 0;
                                                var_j_1294 = len_b_52_j_129;
                                                binop_j_1295 = int_j_1293 <= var_j_1294;
                                                if_j_1301 = binop_j_1295 ? (
                                                        var_j_1296 = list_maker_b_53_j_130;
                                                        var_j_1297 = len_b_52_j_129;
                                                        appl_j_1298 = var_j_1296 var_j_1297
                                                    ) : (
                                                        bool_j_1299 = false;
                                                        assume_j_1300 = assume bool_j_1299
                                                    ));
                                            flatten_fun_j_1304 = fun expr_b_60 -> (
                                                var_j_1303 = expr_b_60);
                                            record_j_1305 = {checker = flatten_fun_j_1265, generator = flatten_fun_j_1302, wrapper = flatten_fun_j_1304};
                                            proj_j_1306 = record_j_1305.generator;
                                            int_j_1307 = 0;
                                            appl_j_1308 = proj_j_1306 int_j_1307;
                                            candidate_b_61 = appl_j_1308;
                                            flatten_fun_j_1314 = fun ls_j_133 -> (
                                                var_j_1309 = appl_j_547;
                                                var_j_1310 = ls_j_133;
                                                m_i_3815 = var_j_1309 ~ fun;
                                                appl_j_1311 = m_i_3815 ? (
                                                        c_appl_i_3816 = var_j_1309 var_j_1310
                                                    ) : (
                                                        ab_i_3817 = abort
                                                    );
                                                var_j_1312 = n;
                                                m_bl_i_3818 = appl_j_1311 ~ int;
                                                m_br_i_3819 = var_j_1312 ~ int;
                                                m_b_i_3820 = m_bl_i_3818 and m_br_i_3819;
                                                binop_j_1313 = m_b_i_3820 ? (
                                                        c_binop_i_3821 = appl_j_1311 <= var_j_1312
                                                    ) : (
                                                        ab_i_3822 = abort
                                                    ));
                                            var_j_1315 = candidate_b_61;
                                            appl_j_1316 = flatten_fun_j_1314 var_j_1315;
                                            if_j_1320 = appl_j_1316 ? (
                                                    var_j_1317 = candidate_b_61
                                                ) : (
                                                    bool_j_1318 = false;
                                                    assume_j_1319 = assume bool_j_1318
                                                ));
                                        flatten_fun_j_1323 = fun expr_b_74 -> (
                                            var_j_1322 = expr_b_74);
                                        record_j_1324 = {checker = flatten_fun_j_1225, generator = flatten_fun_j_1321, wrapper = flatten_fun_j_1323};
                                        proj_j_1325 = record_j_1324.generator;
                                        int_j_1326 = 0;
                                        appl_j_1327 = proj_j_1325 int_j_1326
                                    ) : (
                                        bool_j_1328 = false;
                                        fail_b_76 = bool_j_1328;
                                        var_j_1329 = fail_b_76;
                                        assert_pred_j_1330 = var_j_1329;
                                        assert_res_j_1331 = assert_pred_j_1330 ? (
                                                assert_res_true_j_1332 = 
                                                    {}
                                            ) : (
                                                ab_j_1333 = abort
                                            )
                                    )));
                        flatten_fun_j_1630 = fun expr_b_144 -> (
                            flatten_fun_j_1629 = fun arg_b_145 -> (
                                flatten_fun_j_1376 = fun expr_b_118 -> (
                                    bool_j_1337 = false;
                                    lst_fail_b_119 = bool_j_1337;
                                    var_j_1338 = expr_b_118;
                                    m_match_bool_j_1340 = var_j_1338 ~ any;
                                    m_match_bool_j_1343 = var_j_1338 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_1373 = var_j_1338 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_1374 = m_match_bool_j_1373 ? (
                                            bool_j_1375 = true
                                        ) : (
                                            m_match_cond_j_1344 = m_match_bool_j_1343 ? (
                                                    bj_underscore_j_141 = var_j_1338.j_head;
                                                    bj_underscore2_j_140 = var_j_1338.j_tail;
                                                    flatten_fun_j_1366 = fun test_fun_b_115_j_55 -> (
                                                        flatten_fun_j_1365 = fun test_list_b_116 -> (
                                                            var_j_1345 = test_fun_b_115_j_55;
                                                            var_j_1346 = test_fun_b_115_j_55;
                                                            appl_j_1347 = var_j_1345 var_j_1346;
                                                            test_fun_b_115 = appl_j_1347;
                                                            var_j_1348 = test_list_b_116;
                                                            m_match_bool_j_1350 = var_j_1348 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_1362 = var_j_1348 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_1363 = m_match_bool_j_1362 ? (
                                                                    bool_j_1364 = true
                                                                ) : (
                                                                    m_match_cond_j_1351 = m_match_bool_j_1350 ? (
                                                                        hd_j_137 = var_j_1348.j_head;
                                                                    tl_j_136 = var_j_1348.j_tail;
                                                                    var_j_1352 = token;
                                                                    proj_j_1353 = var_j_1352.checker;
                                                                    var_j_1354 = hd_j_137;
                                                                    appl_j_1355 = proj_j_1353 var_j_1354;
                                                                    elm_check_b_117 = appl_j_1355;
                                                                    var_j_1356 = elm_check_b_117;
                                                                    if_j_1361 = var_j_1356 ? (
                                                                        var_j_1357 = test_fun_b_115;
                                                                    var_j_1358 = tl_j_136;
                                                                    appl_j_1359 = var_j_1357 var_j_1358
                                                                    ) : (
                                                                        var_j_1360 = elm_check_b_117
                                                                    )
                                                                    ) : (
                                                                        void_j_1349 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_115_j_55_j_139 = flatten_fun_j_1366;
                                                    var_j_1367 = test_fun_b_115_j_55_j_139;
                                                    var_j_1368 = test_fun_b_115_j_55_j_139;
                                                    appl_j_1369 = var_j_1367 var_j_1368;
                                                    test_fun_b_115_j_138 = appl_j_1369;
                                                    var_j_1370 = test_fun_b_115_j_138;
                                                    var_j_1371 = expr_b_118;
                                                    appl_j_1372 = var_j_1370 var_j_1371
                                                ) : (
                                                    m_match_cond_j_1341 = m_match_bool_j_1340 ? (
                                                            var_j_1342 = lst_fail_b_119
                                                        ) : (
                                                            void_j_1339 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_1413 = fun bj_null_j_145 -> (
                                    flatten_fun_j_1399 = fun list_maker_b_113_j_56 -> (
                                        flatten_fun_j_1398 = fun len_b_112 -> (
                                            var_j_1377 = list_maker_b_113_j_56;
                                            var_j_1378 = list_maker_b_113_j_56;
                                            appl_j_1379 = var_j_1377 var_j_1378;
                                            list_maker_b_113 = appl_j_1379;
                                            var_j_1380 = len_b_112;
                                            int_j_1381 = 0;
                                            binop_j_1382 = var_j_1380 == int_j_1381;
                                            if_j_1397 = binop_j_1382 ? (
                                                    record_j_1383 = {};
                                                    record_j_1384 = {j_empty = record_j_1383}
                                                ) : (
                                                    var_j_1385 = token;
                                                    proj_j_1386 = var_j_1385.generator;
                                                    int_j_1387 = 0;
                                                    appl_j_1388 = proj_j_1386 int_j_1387;
                                                    elm_b_114 = appl_j_1388;
                                                    record_j_1389 = {};
                                                    var_j_1390 = elm_b_114;
                                                    var_j_1391 = list_maker_b_113;
                                                    var_j_1392 = len_b_112;
                                                    int_j_1393 = 1;
                                                    binop_j_1394 = var_j_1392 - int_j_1393;
                                                    appl_j_1395 = var_j_1391 binop_j_1394;
                                                    record_j_1396 = {j_cons = record_j_1389, j_head = var_j_1390, j_tail = appl_j_1395}
                                                )));
                                    list_maker_b_113_j_56_j_144 = flatten_fun_j_1399;
                                    var_j_1400 = list_maker_b_113_j_56_j_144;
                                    var_j_1401 = list_maker_b_113_j_56_j_144;
                                    appl_j_1402 = var_j_1400 var_j_1401;
                                    list_maker_b_113_j_143 = appl_j_1402;
                                    input_j_1403 = input;
                                    len_b_112_j_142 = input_j_1403;
                                    int_j_1404 = 0;
                                    var_j_1405 = len_b_112_j_142;
                                    binop_j_1406 = int_j_1404 <= var_j_1405;
                                    if_j_1412 = binop_j_1406 ? (
                                            var_j_1407 = list_maker_b_113_j_143;
                                            var_j_1408 = len_b_112_j_142;
                                            appl_j_1409 = var_j_1407 var_j_1408
                                        ) : (
                                            bool_j_1410 = false;
                                            assume_j_1411 = assume bool_j_1410
                                        ));
                                flatten_fun_j_1415 = fun expr_b_120 -> (
                                    var_j_1414 = expr_b_120);
                                record_j_1416 = {checker = flatten_fun_j_1376, generator = flatten_fun_j_1413, wrapper = flatten_fun_j_1415};
                                proj_j_1417 = record_j_1416.checker;
                                var_j_1418 = arg_b_145;
                                m_i_3823 = proj_j_1417 ~ fun;
                                appl_j_1419 = m_i_3823 ? (
                                        c_appl_i_3824 = proj_j_1417 var_j_1418
                                    ) : (
                                        ab_i_3825 = abort
                                    );
                                m_i_3826 = appl_j_1419 ~ bool;
                                if_j_1628 = m_i_3826 ? (
                                        c_cond_i_3849 = appl_j_1419 ? (
                                                flatten_fun_j_1518 = fun expr_b_140 -> (
                                                    flatten_fun_j_1459 = fun expr_b_137 -> (
                                                        bool_j_1420 = false;
                                                        lst_fail_b_138 = bool_j_1420;
                                                        var_j_1421 = expr_b_137;
                                                        m_match_bool_j_1423 = var_j_1421 ~ any;
                                                        m_match_bool_j_1426 = var_j_1421 ~ 
                                                            {j_head, j_tail, _};
                                                        m_match_bool_j_1456 = var_j_1421 ~ 
                                                            {j_empty, _};
                                                        m_match_cond_j_1457 = m_match_bool_j_1456 ? (
                                                                bool_j_1458 = true
                                                            ) : (
                                                                m_match_cond_j_1427 = m_match_bool_j_1426 ? (
                                                                        
                                                                    bj_underscore_j_151 = var_j_1421.j_head;
                                                                    bj_underscore2_j_150 = var_j_1421.j_tail;
                                                                    flatten_fun_j_1449 = fun test_fun_b_134_j_57 -> (
                                                                    flatten_fun_j_1448 = fun test_list_b_135 -> (
                                                                    var_j_1428 = test_fun_b_134_j_57;
                                                                    var_j_1429 = test_fun_b_134_j_57;
                                                                    appl_j_1430 = var_j_1428 var_j_1429;
                                                                    test_fun_b_134 = appl_j_1430;
                                                                    var_j_1431 = test_list_b_135;
                                                                    m_match_bool_j_1433 = var_j_1431 ~ 
                                                                    {j_head, j_tail, _};
                                                                    m_match_bool_j_1445 = var_j_1431 ~ 
                                                                    {j_empty, _};
                                                                    m_match_cond_j_1446 = m_match_bool_j_1445 ? (
                                                                        bool_j_1447 = true
                                                                    ) : (
                                                                        m_match_cond_j_1434 = m_match_bool_j_1433 ? (
                                                                        hd_j_147 = var_j_1431.j_head;
                                                                    tl_j_146 = var_j_1431.j_tail;
                                                                    var_j_1435 = token;
                                                                    proj_j_1436 = var_j_1435.checker;
                                                                    var_j_1437 = hd_j_147;
                                                                    appl_j_1438 = proj_j_1436 var_j_1437;
                                                                    elm_check_b_136 = appl_j_1438;
                                                                    var_j_1439 = elm_check_b_136;
                                                                    if_j_1444 = var_j_1439 ? (
                                                                        var_j_1440 = test_fun_b_134;
                                                                    var_j_1441 = tl_j_146;
                                                                    appl_j_1442 = var_j_1440 var_j_1441
                                                                    ) : (
                                                                        var_j_1443 = elm_check_b_136
                                                                    )
                                                                    ) : (
                                                                        void_j_1432 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                                    test_fun_b_134_j_57_j_149 = flatten_fun_j_1449;
                                                                    var_j_1450 = test_fun_b_134_j_57_j_149;
                                                                    var_j_1451 = test_fun_b_134_j_57_j_149;
                                                                    appl_j_1452 = var_j_1450 var_j_1451;
                                                                    test_fun_b_134_j_148 = appl_j_1452;
                                                                    var_j_1453 = test_fun_b_134_j_148;
                                                                    var_j_1454 = expr_b_137;
                                                                    appl_j_1455 = var_j_1453 var_j_1454
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_1424 = m_match_bool_j_1423 ? (
                                                                        var_j_1425 = lst_fail_b_138
                                                                    ) : (
                                                                        void_j_1422 = 
                                                                    {}
                                                                    )
                                                                    )
                                                            ));
                                                    flatten_fun_j_1496 = fun bj_null_j_155 -> (
                                                        flatten_fun_j_1482 = fun list_maker_b_132_j_58 -> (
                                                            flatten_fun_j_1481 = fun len_b_131 -> (
                                                                var_j_1460 = list_maker_b_132_j_58;
                                                                var_j_1461 = list_maker_b_132_j_58;
                                                                appl_j_1462 = var_j_1460 var_j_1461;
                                                                list_maker_b_132 = appl_j_1462;
                                                                var_j_1463 = len_b_131;
                                                                int_j_1464 = 0;
                                                                binop_j_1465 = var_j_1463 == int_j_1464;
                                                                if_j_1480 = binop_j_1465 ? (
                                                                        
                                                                    record_j_1466 = 
                                                                    {};
                                                                    record_j_1467 = 
                                                                    {j_empty = record_j_1466}
                                                                    ) : (
                                                                        
                                                                    var_j_1468 = token;
                                                                    proj_j_1469 = var_j_1468.generator;
                                                                    int_j_1470 = 0;
                                                                    appl_j_1471 = proj_j_1469 int_j_1470;
                                                                    elm_b_133 = appl_j_1471;
                                                                    record_j_1472 = 
                                                                    {};
                                                                    var_j_1473 = elm_b_133;
                                                                    var_j_1474 = list_maker_b_132;
                                                                    var_j_1475 = len_b_131;
                                                                    int_j_1476 = 1;
                                                                    binop_j_1477 = var_j_1475 - int_j_1476;
                                                                    appl_j_1478 = var_j_1474 binop_j_1477;
                                                                    record_j_1479 = 
                                                                    {j_cons = record_j_1472, j_head = var_j_1473, j_tail = appl_j_1478}
                                                                    )));
                                                        list_maker_b_132_j_58_j_154 = flatten_fun_j_1482;
                                                        var_j_1483 = list_maker_b_132_j_58_j_154;
                                                        var_j_1484 = list_maker_b_132_j_58_j_154;
                                                        appl_j_1485 = var_j_1483 var_j_1484;
                                                        list_maker_b_132_j_153 = appl_j_1485;
                                                        input_j_1486 = input;
                                                        len_b_131_j_152 = input_j_1486;
                                                        int_j_1487 = 0;
                                                        var_j_1488 = len_b_131_j_152;
                                                        binop_j_1489 = int_j_1487 <= var_j_1488;
                                                        if_j_1495 = binop_j_1489 ? (
                                                                var_j_1490 = list_maker_b_132_j_153;
                                                                var_j_1491 = len_b_131_j_152;
                                                                appl_j_1492 = var_j_1490 var_j_1491
                                                            ) : (
                                                                bool_j_1493 = false;
                                                                assume_j_1494 = assume bool_j_1493
                                                            ));
                                                    flatten_fun_j_1498 = fun expr_b_139 -> (
                                                        var_j_1497 = expr_b_139);
                                                    record_j_1499 = {checker = flatten_fun_j_1459, generator = flatten_fun_j_1496, wrapper = flatten_fun_j_1498};
                                                    proj_j_1500 = record_j_1499.checker;
                                                    var_j_1501 = expr_b_140;
                                                    appl_j_1502 = proj_j_1500 var_j_1501;
                                                    t_check_b_141 = appl_j_1502;
                                                    var_j_1503 = t_check_b_141;
                                                    if_j_1517 = var_j_1503 ? (
                                                            bool_j_1504 = false;
                                                            pred_check_b_142 = bool_j_1504;
                                                            flatten_fun_j_1510 = fun ls_j_156 -> (
                                                                var_j_1505 = appl_j_547;
                                                                var_j_1506 = ls_j_156;
                                                                m_i_3827 = var_j_1505 ~ fun;
                                                                appl_j_1507 = m_i_3827 ? (
                                                                        
                                                                    c_appl_i_3828 = var_j_1505 var_j_1506
                                                                    ) : (
                                                                        
                                                                    ab_i_3829 = abort
                                                                    );
                                                                var_j_1508 = n;
                                                                m_bl_i_3830 = appl_j_1507 ~ int;
                                                                m_br_i_3831 = var_j_1508 ~ int;
                                                                m_b_i_3832 = m_bl_i_3830 and m_br_i_3831;
                                                                binop_j_1509 = m_b_i_3832 ? (
                                                                        
                                                                    c_binop_i_3833 = appl_j_1507 <= var_j_1508
                                                                    ) : (
                                                                        
                                                                    ab_i_3834 = abort
                                                                    ));
                                                            var_j_1511 = expr_b_140;
                                                            appl_j_1512 = flatten_fun_j_1510 var_j_1511;
                                                            if_j_1515 = appl_j_1512 ? (
                                                                    bool_j_1513 = true
                                                                ) : (
                                                                    var_j_1514 = pred_check_b_142
                                                                )
                                                        ) : (
                                                            var_j_1516 = t_check_b_141
                                                        ));
                                                flatten_fun_j_1614 = fun bj_null_j_168 -> (
                                                    flatten_fun_j_1558 = fun expr_b_127 -> (
                                                        bool_j_1519 = false;
                                                        lst_fail_b_128 = bool_j_1519;
                                                        var_j_1520 = expr_b_127;
                                                        m_match_bool_j_1522 = var_j_1520 ~ any;
                                                        m_match_bool_j_1525 = var_j_1520 ~ 
                                                            {j_head, j_tail, _};
                                                        m_match_bool_j_1555 = var_j_1520 ~ 
                                                            {j_empty, _};
                                                        m_match_cond_j_1556 = m_match_bool_j_1555 ? (
                                                                bool_j_1557 = true
                                                            ) : (
                                                                m_match_cond_j_1526 = m_match_bool_j_1525 ? (
                                                                        
                                                                    bj_underscore_j_162 = var_j_1520.j_head;
                                                                    bj_underscore2_j_161 = var_j_1520.j_tail;
                                                                    flatten_fun_j_1548 = fun test_fun_b_124_j_59 -> (
                                                                    flatten_fun_j_1547 = fun test_list_b_125 -> (
                                                                    var_j_1527 = test_fun_b_124_j_59;
                                                                    var_j_1528 = test_fun_b_124_j_59;
                                                                    appl_j_1529 = var_j_1527 var_j_1528;
                                                                    test_fun_b_124 = appl_j_1529;
                                                                    var_j_1530 = test_list_b_125;
                                                                    m_match_bool_j_1532 = var_j_1530 ~ 
                                                                    {j_head, j_tail, _};
                                                                    m_match_bool_j_1544 = var_j_1530 ~ 
                                                                    {j_empty, _};
                                                                    m_match_cond_j_1545 = m_match_bool_j_1544 ? (
                                                                        bool_j_1546 = true
                                                                    ) : (
                                                                        m_match_cond_j_1533 = m_match_bool_j_1532 ? (
                                                                        hd_j_158 = var_j_1530.j_head;
                                                                    tl_j_157 = var_j_1530.j_tail;
                                                                    var_j_1534 = token;
                                                                    proj_j_1535 = var_j_1534.checker;
                                                                    var_j_1536 = hd_j_158;
                                                                    appl_j_1537 = proj_j_1535 var_j_1536;
                                                                    elm_check_b_126 = appl_j_1537;
                                                                    var_j_1538 = elm_check_b_126;
                                                                    if_j_1543 = var_j_1538 ? (
                                                                        var_j_1539 = test_fun_b_124;
                                                                    var_j_1540 = tl_j_157;
                                                                    appl_j_1541 = var_j_1539 var_j_1540
                                                                    ) : (
                                                                        var_j_1542 = elm_check_b_126
                                                                    )
                                                                    ) : (
                                                                        void_j_1531 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                                    test_fun_b_124_j_59_j_160 = flatten_fun_j_1548;
                                                                    var_j_1549 = test_fun_b_124_j_59_j_160;
                                                                    var_j_1550 = test_fun_b_124_j_59_j_160;
                                                                    appl_j_1551 = var_j_1549 var_j_1550;
                                                                    test_fun_b_124_j_159 = appl_j_1551;
                                                                    var_j_1552 = test_fun_b_124_j_159;
                                                                    var_j_1553 = expr_b_127;
                                                                    appl_j_1554 = var_j_1552 var_j_1553
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_1523 = m_match_bool_j_1522 ? (
                                                                        var_j_1524 = lst_fail_b_128
                                                                    ) : (
                                                                        void_j_1521 = 
                                                                    {}
                                                                    )
                                                                    )
                                                            ));
                                                    flatten_fun_j_1595 = fun bj_null_j_166 -> (
                                                        flatten_fun_j_1581 = fun list_maker_b_122_j_60 -> (
                                                            flatten_fun_j_1580 = fun len_b_121 -> (
                                                                var_j_1559 = list_maker_b_122_j_60;
                                                                var_j_1560 = list_maker_b_122_j_60;
                                                                appl_j_1561 = var_j_1559 var_j_1560;
                                                                list_maker_b_122 = appl_j_1561;
                                                                var_j_1562 = len_b_121;
                                                                int_j_1563 = 0;
                                                                binop_j_1564 = var_j_1562 == int_j_1563;
                                                                if_j_1579 = binop_j_1564 ? (
                                                                        
                                                                    record_j_1565 = 
                                                                    {};
                                                                    record_j_1566 = 
                                                                    {j_empty = record_j_1565}
                                                                    ) : (
                                                                        
                                                                    var_j_1567 = token;
                                                                    proj_j_1568 = var_j_1567.generator;
                                                                    int_j_1569 = 0;
                                                                    appl_j_1570 = proj_j_1568 int_j_1569;
                                                                    elm_b_123 = appl_j_1570;
                                                                    record_j_1571 = 
                                                                    {};
                                                                    var_j_1572 = elm_b_123;
                                                                    var_j_1573 = list_maker_b_122;
                                                                    var_j_1574 = len_b_121;
                                                                    int_j_1575 = 1;
                                                                    binop_j_1576 = var_j_1574 - int_j_1575;
                                                                    appl_j_1577 = var_j_1573 binop_j_1576;
                                                                    record_j_1578 = 
                                                                    {j_cons = record_j_1571, j_head = var_j_1572, j_tail = appl_j_1577}
                                                                    )));
                                                        list_maker_b_122_j_60_j_165 = flatten_fun_j_1581;
                                                        var_j_1582 = list_maker_b_122_j_60_j_165;
                                                        var_j_1583 = list_maker_b_122_j_60_j_165;
                                                        appl_j_1584 = var_j_1582 var_j_1583;
                                                        list_maker_b_122_j_164 = appl_j_1584;
                                                        input_j_1585 = input;
                                                        len_b_121_j_163 = input_j_1585;
                                                        int_j_1586 = 0;
                                                        var_j_1587 = len_b_121_j_163;
                                                        binop_j_1588 = int_j_1586 <= var_j_1587;
                                                        if_j_1594 = binop_j_1588 ? (
                                                                var_j_1589 = list_maker_b_122_j_164;
                                                                var_j_1590 = len_b_121_j_163;
                                                                appl_j_1591 = var_j_1589 var_j_1590
                                                            ) : (
                                                                bool_j_1592 = false;
                                                                assume_j_1593 = assume bool_j_1592
                                                            ));
                                                    flatten_fun_j_1597 = fun expr_b_129 -> (
                                                        var_j_1596 = expr_b_129);
                                                    record_j_1598 = {checker = flatten_fun_j_1558, generator = flatten_fun_j_1595, wrapper = flatten_fun_j_1597};
                                                    proj_j_1599 = record_j_1598.generator;
                                                    int_j_1600 = 0;
                                                    appl_j_1601 = proj_j_1599 int_j_1600;
                                                    candidate_b_130 = appl_j_1601;
                                                    flatten_fun_j_1607 = fun ls_j_167 -> (
                                                        var_j_1602 = appl_j_547;
                                                        var_j_1603 = ls_j_167;
                                                        m_i_3835 = var_j_1602 ~ fun;
                                                        appl_j_1604 = m_i_3835 ? (
                                                                c_appl_i_3836 = var_j_1602 var_j_1603
                                                            ) : (
                                                                ab_i_3837 = abort
                                                            );
                                                        var_j_1605 = n;
                                                        m_bl_i_3838 = appl_j_1604 ~ int;
                                                        m_br_i_3839 = var_j_1605 ~ int;
                                                        m_b_i_3840 = m_bl_i_3838 and m_br_i_3839;
                                                        binop_j_1606 = m_b_i_3840 ? (
                                                                c_binop_i_3841 = appl_j_1604 <= var_j_1605
                                                            ) : (
                                                                ab_i_3842 = abort
                                                            ));
                                                    var_j_1608 = candidate_b_130;
                                                    appl_j_1609 = flatten_fun_j_1607 var_j_1608;
                                                    if_j_1613 = appl_j_1609 ? (
                                                            var_j_1610 = candidate_b_130
                                                        ) : (
                                                            bool_j_1611 = false;
                                                            assume_j_1612 = assume bool_j_1611
                                                        ));
                                                flatten_fun_j_1616 = fun expr_b_143 -> (
                                                    var_j_1615 = expr_b_143);
                                                record_j_1617 = {checker = flatten_fun_j_1518, generator = flatten_fun_j_1614, wrapper = flatten_fun_j_1616};
                                                proj_j_1618 = record_j_1617.wrapper;
                                                var_j_1619 = expr_b_144;
                                                var_j_1620 = arg_b_145;
                                                m_i_3843 = var_j_1619 ~ fun;
                                                appl_j_1621 = m_i_3843 ? (
                                                        c_appl_i_3844 = var_j_1619 var_j_1620
                                                    ) : (
                                                        ab_i_3845 = abort
                                                    );
                                                m_i_3846 = proj_j_1618 ~ fun;
                                                appl_j_1622 = m_i_3846 ? (
                                                        c_appl_i_3847 = proj_j_1618 appl_j_1621
                                                    ) : (
                                                        ab_i_3848 = abort
                                                    )
                                            ) : (
                                                bool_j_1623 = false;
                                                assert_pred_j_1624 = bool_j_1623;
                                                assert_res_j_1625 = assert_pred_j_1624 ? (
                                                        assert_res_true_j_1626 = 
                                                            {}
                                                    ) : (
                                                        ab_j_1627 = abort
                                                    )
                                            )
                                    ) : (
                                        ab_i_3850 = abort
                                    )));
                        record_j_1631 = {checker = flatten_fun_j_1043, generator = flatten_fun_j_1336, wrapper = flatten_fun_j_1630});
                    var_j_1633 = n_b_0;
                    appl_j_1634 = flatten_fun_j_1632 var_j_1633;
                    proj_j_1635 = appl_j_1634.wrapper;
                    flatten_fun_j_1668 = fun l -> (
                        var_j_1636 = n_j_171;
                        int_j_1637 = 0;
                        m_bl_i_3851 = var_j_1636 ~ int;
                        m_br_i_3852 = int_j_1637 ~ int;
                        m_b_i_3853 = m_bl_i_3851 and m_br_i_3852;
                        binop_j_1638 = m_b_i_3853 ? (
                                c_binop_i_3854 = var_j_1636 == int_j_1637
                            ) : (
                                ab_i_3855 = abort
                            );
                        m_i_3856 = binop_j_1638 ~ bool;
                        if_j_1667 = m_i_3856 ? (
                                c_cond_i_3868 = binop_j_1638 ? (
                                        record_j_1639 = {};
                                        record_j_1640 = {j_empty = record_j_1639}
                                    ) : (
                                        bool_j_1641 = false;
                                        fail_b_146 = bool_j_1641;
                                        var_j_1642 = l;
                                        m_match_bool_j_1644 = var_j_1642 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_1656 = var_j_1642 ~ 
                                            {j_empty, _};
                                        m_match_bool_j_1660 = var_j_1642 ~ 
                                            {bj_untouched, _};
                                        m_match_cond_j_1661 = m_match_bool_j_1660 ? (
                                                var_j_1662 = fail_b_146;
                                                assert_pred_j_1663 = var_j_1662;
                                                assert_res_j_1664 = assert_pred_j_1663 ? (
                                                        assert_res_true_j_1665 = 
                                                            {}
                                                    ) : (
                                                        ab_j_1666 = abort
                                                    )
                                            ) : (
                                                m_match_cond_j_1657 = m_match_bool_j_1656 ? (
                                                        record_j_1658 = 
                                                            {};
                                                        record_j_1659 = 
                                                            {j_empty = record_j_1658}
                                                    ) : (
                                                        m_match_cond_j_1645 = m_match_bool_j_1644 ? (
                                                                hd_j_170 = var_j_1642.j_head;
                                                                tl_j_169 = var_j_1642.j_tail;
                                                                record_j_1646 = 
                                                                    {};
                                                                var_j_1647 = hd_j_170;
                                                                var_j_1648 = take;
                                                                var_j_1649 = n_j_171;
                                                                int_j_1650 = 1;
                                                                m_bl_i_3857 = var_j_1649 ~ int;
                                                                m_br_i_3858 = int_j_1650 ~ int;
                                                                m_b_i_3859 = m_bl_i_3857 and m_br_i_3858;
                                                                binop_j_1651 = m_b_i_3859 ? (
                                                                        
                                                                    c_binop_i_3860 = var_j_1649 - int_j_1650
                                                                    ) : (
                                                                        
                                                                    ab_i_3861 = abort
                                                                    );
                                                                m_i_3862 = var_j_1648 ~ fun;
                                                                appl_j_1652 = m_i_3862 ? (
                                                                        
                                                                    c_appl_i_3863 = var_j_1648 binop_j_1651
                                                                    ) : (
                                                                        
                                                                    ab_i_3864 = abort
                                                                    );
                                                                var_j_1653 = tl_j_169;
                                                                m_i_3865 = appl_j_1652 ~ fun;
                                                                appl_j_1654 = m_i_3865 ? (
                                                                        
                                                                    c_appl_i_3866 = appl_j_1652 var_j_1653
                                                                    ) : (
                                                                        
                                                                    ab_i_3867 = abort
                                                                    );
                                                                record_j_1655 = 
                                                                    {j_cons = record_j_1646, j_head = var_j_1647, j_tail = appl_j_1654}
                                                            ) : (
                                                                ab_j_1643 = abort
                                                            )
                                                    )
                                            )
                                    )
                            ) : (
                                ab_i_3869 = abort
                            ));
                    m_i_3870 = proj_j_1635 ~ fun;
                    appl_j_1669 = m_i_3870 ? (
                            c_appl_i_3871 = proj_j_1635 flatten_fun_j_1668
                        ) : (
                            ab_i_3872 = abort
                        )
                ) : (
                    bool_j_1670 = false;
                    assert_pred_j_1671 = bool_j_1670;
                    assert_res_j_1672 = assert_pred_j_1671 ? (
                            assert_res_true_j_1673 = {}
                        ) : (
                            ab_j_1674 = abort
                        )
                ));
        var_j_1677 = n_j_171;
        appl_j_1678 = flatten_fun_j_1676 var_j_1677));
appl_j_1683 = flatten_fun_j_1680 flatten_fun_j_1680;
proj_j_1685 = pos_int.generator;
int_j_1686 = 0;
appl_j_1687 = proj_j_1685 int_j_1686;
n_b_376 = appl_j_1687;
flatten_fun_j_2565 = fun n_j_272 -> (
    flatten_fun_j_1975 = fun expr_b_213 -> (
        flatten_fun_j_1727 = fun expr_b_187 -> (
            bool_j_1688 = false;
            lst_fail_b_188 = bool_j_1688;
            var_j_1689 = expr_b_187;
            m_match_bool_j_1691 = var_j_1689 ~ any;
            m_match_bool_j_1694 = var_j_1689 ~ {j_head, j_tail, _};
            m_match_bool_j_1724 = var_j_1689 ~ {j_empty, _};
            m_match_cond_j_1725 = m_match_bool_j_1724 ? (
                    bool_j_1726 = true
                ) : (
                    m_match_cond_j_1695 = m_match_bool_j_1694 ? (
                            bj_underscore_j_177 = var_j_1689.j_head;
                            bj_underscore2_j_176 = var_j_1689.j_tail;
                            flatten_fun_j_1717 = fun test_fun_b_184_j_0 -> (
                                flatten_fun_j_1716 = fun test_list_b_185 -> (
                                    var_j_1696 = test_fun_b_184_j_0;
                                    var_j_1697 = test_fun_b_184_j_0;
                                    appl_j_1698 = var_j_1696 var_j_1697;
                                    test_fun_b_184 = appl_j_1698;
                                    var_j_1699 = test_list_b_185;
                                    m_match_bool_j_1701 = var_j_1699 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_1713 = var_j_1699 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_1714 = m_match_bool_j_1713 ? (
                                            bool_j_1715 = true
                                        ) : (
                                            m_match_cond_j_1702 = m_match_bool_j_1701 ? (
                                                    hd_j_173 = var_j_1699.j_head;
                                                    tl_j_172 = var_j_1699.j_tail;
                                                    var_j_1703 = token;
                                                    proj_j_1704 = var_j_1703.checker;
                                                    var_j_1705 = hd_j_173;
                                                    appl_j_1706 = proj_j_1704 var_j_1705;
                                                    elm_check_b_186 = appl_j_1706;
                                                    var_j_1707 = elm_check_b_186;
                                                    if_j_1712 = var_j_1707 ? (
                                                            var_j_1708 = test_fun_b_184;
                                                            var_j_1709 = tl_j_172;
                                                            appl_j_1710 = var_j_1708 var_j_1709
                                                        ) : (
                                                            var_j_1711 = elm_check_b_186
                                                        )
                                                ) : (
                                                    void_j_1700 = {}
                                                )
                                        )));
                            test_fun_b_184_j_0_j_175 = flatten_fun_j_1717;
                            var_j_1718 = test_fun_b_184_j_0_j_175;
                            var_j_1719 = test_fun_b_184_j_0_j_175;
                            appl_j_1720 = var_j_1718 var_j_1719;
                            test_fun_b_184_j_174 = appl_j_1720;
                            var_j_1721 = test_fun_b_184_j_174;
                            var_j_1722 = expr_b_187;
                            appl_j_1723 = var_j_1721 var_j_1722
                        ) : (
                            m_match_cond_j_1692 = m_match_bool_j_1691 ? (
                                    var_j_1693 = lst_fail_b_188
                                ) : (
                                    void_j_1690 = {}
                                )
                        )
                ));
        flatten_fun_j_1764 = fun bj_null_j_181 -> (
            flatten_fun_j_1750 = fun list_maker_b_182_j_1 -> (
                flatten_fun_j_1749 = fun len_b_181 -> (
                    var_j_1728 = list_maker_b_182_j_1;
                    var_j_1729 = list_maker_b_182_j_1;
                    appl_j_1730 = var_j_1728 var_j_1729;
                    list_maker_b_182 = appl_j_1730;
                    var_j_1731 = len_b_181;
                    int_j_1732 = 0;
                    binop_j_1733 = var_j_1731 == int_j_1732;
                    if_j_1748 = binop_j_1733 ? (
                            record_j_1734 = {};
                            record_j_1735 = {j_empty = record_j_1734}
                        ) : (
                            var_j_1736 = token;
                            proj_j_1737 = var_j_1736.generator;
                            int_j_1738 = 0;
                            appl_j_1739 = proj_j_1737 int_j_1738;
                            elm_b_183 = appl_j_1739;
                            record_j_1740 = {};
                            var_j_1741 = elm_b_183;
                            var_j_1742 = list_maker_b_182;
                            var_j_1743 = len_b_181;
                            int_j_1744 = 1;
                            binop_j_1745 = var_j_1743 - int_j_1744;
                            appl_j_1746 = var_j_1742 binop_j_1745;
                            record_j_1747 = {j_cons = record_j_1740, j_head = var_j_1741, j_tail = appl_j_1746}
                        )));
            list_maker_b_182_j_1_j_180 = flatten_fun_j_1750;
            var_j_1751 = list_maker_b_182_j_1_j_180;
            var_j_1752 = list_maker_b_182_j_1_j_180;
            appl_j_1753 = var_j_1751 var_j_1752;
            list_maker_b_182_j_179 = appl_j_1753;
            input_j_1754 = input;
            len_b_181_j_178 = input_j_1754;
            int_j_1755 = 0;
            var_j_1756 = len_b_181_j_178;
            binop_j_1757 = int_j_1755 <= var_j_1756;
            if_j_1763 = binop_j_1757 ? (
                    var_j_1758 = list_maker_b_182_j_179;
                    var_j_1759 = len_b_181_j_178;
                    appl_j_1760 = var_j_1758 var_j_1759
                ) : (
                    bool_j_1761 = false;
                    assume_j_1762 = assume bool_j_1761
                ));
        flatten_fun_j_1766 = fun expr_b_189 -> (
            var_j_1765 = expr_b_189);
        record_j_1767 = {checker = flatten_fun_j_1727, generator = flatten_fun_j_1764, wrapper = flatten_fun_j_1766};
        proj_j_1768 = record_j_1767.generator;
        int_j_1769 = 0;
        appl_j_1770 = proj_j_1768 int_j_1769;
        arg_assert_b_214 = appl_j_1770;
        var_j_1771 = expr_b_213;
        var_j_1772 = arg_assert_b_214;
        appl_j_1773 = var_j_1771 var_j_1772;
        fun_ret_b_215 = appl_j_1773;
        flatten_fun_j_1872 = fun expr_b_209 -> (
            flatten_fun_j_1813 = fun expr_b_206 -> (
                bool_j_1774 = false;
                lst_fail_b_207 = bool_j_1774;
                var_j_1775 = expr_b_206;
                m_match_bool_j_1777 = var_j_1775 ~ any;
                m_match_bool_j_1780 = var_j_1775 ~ {j_head, j_tail, _};
                m_match_bool_j_1810 = var_j_1775 ~ {j_empty, _};
                m_match_cond_j_1811 = m_match_bool_j_1810 ? (
                        bool_j_1812 = true
                    ) : (
                        m_match_cond_j_1781 = m_match_bool_j_1780 ? (
                                bj_underscore_j_187 = var_j_1775.j_head;
                                bj_underscore2_j_186 = var_j_1775.j_tail;
                                flatten_fun_j_1803 = fun test_fun_b_203_j_2 -> (
                                    flatten_fun_j_1802 = fun test_list_b_204 -> (
                                        var_j_1782 = test_fun_b_203_j_2;
                                        var_j_1783 = test_fun_b_203_j_2;
                                        appl_j_1784 = var_j_1782 var_j_1783;
                                        test_fun_b_203 = appl_j_1784;
                                        var_j_1785 = test_list_b_204;
                                        m_match_bool_j_1787 = var_j_1785 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_1799 = var_j_1785 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_1800 = m_match_bool_j_1799 ? (
                                                bool_j_1801 = true
                                            ) : (
                                                m_match_cond_j_1788 = m_match_bool_j_1787 ? (
                                                        hd_j_183 = var_j_1785.j_head;
                                                        tl_j_182 = var_j_1785.j_tail;
                                                        var_j_1789 = token;
                                                        proj_j_1790 = var_j_1789.checker;
                                                        var_j_1791 = hd_j_183;
                                                        appl_j_1792 = proj_j_1790 var_j_1791;
                                                        elm_check_b_205 = appl_j_1792;
                                                        var_j_1793 = elm_check_b_205;
                                                        if_j_1798 = var_j_1793 ? (
                                                                var_j_1794 = test_fun_b_203;
                                                                var_j_1795 = tl_j_182;
                                                                appl_j_1796 = var_j_1794 var_j_1795
                                                            ) : (
                                                                var_j_1797 = elm_check_b_205
                                                            )
                                                    ) : (
                                                        void_j_1786 = 
                                                            {}
                                                    )
                                            )));
                                test_fun_b_203_j_2_j_185 = flatten_fun_j_1803;
                                var_j_1804 = test_fun_b_203_j_2_j_185;
                                var_j_1805 = test_fun_b_203_j_2_j_185;
                                appl_j_1806 = var_j_1804 var_j_1805;
                                test_fun_b_203_j_184 = appl_j_1806;
                                var_j_1807 = test_fun_b_203_j_184;
                                var_j_1808 = expr_b_206;
                                appl_j_1809 = var_j_1807 var_j_1808
                            ) : (
                                m_match_cond_j_1778 = m_match_bool_j_1777 ? (
                                        var_j_1779 = lst_fail_b_207
                                    ) : (
                                        void_j_1776 = {}
                                    )
                            )
                    ));
            flatten_fun_j_1850 = fun bj_null_j_191 -> (
                flatten_fun_j_1836 = fun list_maker_b_201_j_3 -> (
                    flatten_fun_j_1835 = fun len_b_200 -> (
                        var_j_1814 = list_maker_b_201_j_3;
                        var_j_1815 = list_maker_b_201_j_3;
                        appl_j_1816 = var_j_1814 var_j_1815;
                        list_maker_b_201 = appl_j_1816;
                        var_j_1817 = len_b_200;
                        int_j_1818 = 0;
                        binop_j_1819 = var_j_1817 == int_j_1818;
                        if_j_1834 = binop_j_1819 ? (
                                record_j_1820 = {};
                                record_j_1821 = {j_empty = record_j_1820}
                            ) : (
                                var_j_1822 = token;
                                proj_j_1823 = var_j_1822.generator;
                                int_j_1824 = 0;
                                appl_j_1825 = proj_j_1823 int_j_1824;
                                elm_b_202 = appl_j_1825;
                                record_j_1826 = {};
                                var_j_1827 = elm_b_202;
                                var_j_1828 = list_maker_b_201;
                                var_j_1829 = len_b_200;
                                int_j_1830 = 1;
                                binop_j_1831 = var_j_1829 - int_j_1830;
                                appl_j_1832 = var_j_1828 binop_j_1831;
                                record_j_1833 = {j_cons = record_j_1826, j_head = var_j_1827, j_tail = appl_j_1832}
                            )));
                list_maker_b_201_j_3_j_190 = flatten_fun_j_1836;
                var_j_1837 = list_maker_b_201_j_3_j_190;
                var_j_1838 = list_maker_b_201_j_3_j_190;
                appl_j_1839 = var_j_1837 var_j_1838;
                list_maker_b_201_j_189 = appl_j_1839;
                input_j_1840 = input;
                len_b_200_j_188 = input_j_1840;
                int_j_1841 = 0;
                var_j_1842 = len_b_200_j_188;
                binop_j_1843 = int_j_1841 <= var_j_1842;
                if_j_1849 = binop_j_1843 ? (
                        var_j_1844 = list_maker_b_201_j_189;
                        var_j_1845 = len_b_200_j_188;
                        appl_j_1846 = var_j_1844 var_j_1845
                    ) : (
                        bool_j_1847 = false;
                        assume_j_1848 = assume bool_j_1847
                    ));
            flatten_fun_j_1852 = fun expr_b_208 -> (
                var_j_1851 = expr_b_208);
            record_j_1853 = {checker = flatten_fun_j_1813, generator = flatten_fun_j_1850, wrapper = flatten_fun_j_1852};
            proj_j_1854 = record_j_1853.checker;
            var_j_1855 = expr_b_209;
            appl_j_1856 = proj_j_1854 var_j_1855;
            t_check_b_210 = appl_j_1856;
            var_j_1857 = t_check_b_210;
            if_j_1871 = var_j_1857 ? (
                    bool_j_1858 = false;
                    pred_check_b_211 = bool_j_1858;
                    flatten_fun_j_1864 = fun ls_j_192 -> (
                        var_j_1859 = appl_j_547;
                        var_j_1860 = ls_j_192;
                        m_i_3873 = var_j_1859 ~ fun;
                        appl_j_1861 = m_i_3873 ? (
                                c_appl_i_3874 = var_j_1859 var_j_1860
                            ) : (
                                ab_i_3875 = abort
                            );
                        var_j_1862 = n_j_272;
                        m_bl_i_3876 = appl_j_1861 ~ int;
                        m_br_i_3877 = var_j_1862 ~ int;
                        m_b_i_3878 = m_bl_i_3876 and m_br_i_3877;
                        binop_j_1863 = m_b_i_3878 ? (
                                c_binop_i_3879 = appl_j_1861 <= var_j_1862
                            ) : (
                                ab_i_3880 = abort
                            ));
                    var_j_1865 = expr_b_209;
                    appl_j_1866 = flatten_fun_j_1864 var_j_1865;
                    if_j_1869 = appl_j_1866 ? (
                            bool_j_1867 = true
                        ) : (
                            var_j_1868 = pred_check_b_211
                        )
                ) : (
                    var_j_1870 = t_check_b_210
                ));
        flatten_fun_j_1968 = fun bj_null_j_204 -> (
            flatten_fun_j_1912 = fun expr_b_196 -> (
                bool_j_1873 = false;
                lst_fail_b_197 = bool_j_1873;
                var_j_1874 = expr_b_196;
                m_match_bool_j_1876 = var_j_1874 ~ any;
                m_match_bool_j_1879 = var_j_1874 ~ {j_head, j_tail, _};
                m_match_bool_j_1909 = var_j_1874 ~ {j_empty, _};
                m_match_cond_j_1910 = m_match_bool_j_1909 ? (
                        bool_j_1911 = true
                    ) : (
                        m_match_cond_j_1880 = m_match_bool_j_1879 ? (
                                bj_underscore_j_198 = var_j_1874.j_head;
                                bj_underscore2_j_197 = var_j_1874.j_tail;
                                flatten_fun_j_1902 = fun test_fun_b_193_j_4 -> (
                                    flatten_fun_j_1901 = fun test_list_b_194 -> (
                                        var_j_1881 = test_fun_b_193_j_4;
                                        var_j_1882 = test_fun_b_193_j_4;
                                        appl_j_1883 = var_j_1881 var_j_1882;
                                        test_fun_b_193 = appl_j_1883;
                                        var_j_1884 = test_list_b_194;
                                        m_match_bool_j_1886 = var_j_1884 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_1898 = var_j_1884 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_1899 = m_match_bool_j_1898 ? (
                                                bool_j_1900 = true
                                            ) : (
                                                m_match_cond_j_1887 = m_match_bool_j_1886 ? (
                                                        hd_j_194 = var_j_1884.j_head;
                                                        tl_j_193 = var_j_1884.j_tail;
                                                        var_j_1888 = token;
                                                        proj_j_1889 = var_j_1888.checker;
                                                        var_j_1890 = hd_j_194;
                                                        appl_j_1891 = proj_j_1889 var_j_1890;
                                                        elm_check_b_195 = appl_j_1891;
                                                        var_j_1892 = elm_check_b_195;
                                                        if_j_1897 = var_j_1892 ? (
                                                                var_j_1893 = test_fun_b_193;
                                                                var_j_1894 = tl_j_193;
                                                                appl_j_1895 = var_j_1893 var_j_1894
                                                            ) : (
                                                                var_j_1896 = elm_check_b_195
                                                            )
                                                    ) : (
                                                        void_j_1885 = 
                                                            {}
                                                    )
                                            )));
                                test_fun_b_193_j_4_j_196 = flatten_fun_j_1902;
                                var_j_1903 = test_fun_b_193_j_4_j_196;
                                var_j_1904 = test_fun_b_193_j_4_j_196;
                                appl_j_1905 = var_j_1903 var_j_1904;
                                test_fun_b_193_j_195 = appl_j_1905;
                                var_j_1906 = test_fun_b_193_j_195;
                                var_j_1907 = expr_b_196;
                                appl_j_1908 = var_j_1906 var_j_1907
                            ) : (
                                m_match_cond_j_1877 = m_match_bool_j_1876 ? (
                                        var_j_1878 = lst_fail_b_197
                                    ) : (
                                        void_j_1875 = {}
                                    )
                            )
                    ));
            flatten_fun_j_1949 = fun bj_null_j_202 -> (
                flatten_fun_j_1935 = fun list_maker_b_191_j_5 -> (
                    flatten_fun_j_1934 = fun len_b_190 -> (
                        var_j_1913 = list_maker_b_191_j_5;
                        var_j_1914 = list_maker_b_191_j_5;
                        appl_j_1915 = var_j_1913 var_j_1914;
                        list_maker_b_191 = appl_j_1915;
                        var_j_1916 = len_b_190;
                        int_j_1917 = 0;
                        binop_j_1918 = var_j_1916 == int_j_1917;
                        if_j_1933 = binop_j_1918 ? (
                                record_j_1919 = {};
                                record_j_1920 = {j_empty = record_j_1919}
                            ) : (
                                var_j_1921 = token;
                                proj_j_1922 = var_j_1921.generator;
                                int_j_1923 = 0;
                                appl_j_1924 = proj_j_1922 int_j_1923;
                                elm_b_192 = appl_j_1924;
                                record_j_1925 = {};
                                var_j_1926 = elm_b_192;
                                var_j_1927 = list_maker_b_191;
                                var_j_1928 = len_b_190;
                                int_j_1929 = 1;
                                binop_j_1930 = var_j_1928 - int_j_1929;
                                appl_j_1931 = var_j_1927 binop_j_1930;
                                record_j_1932 = {j_cons = record_j_1925, j_head = var_j_1926, j_tail = appl_j_1931}
                            )));
                list_maker_b_191_j_5_j_201 = flatten_fun_j_1935;
                var_j_1936 = list_maker_b_191_j_5_j_201;
                var_j_1937 = list_maker_b_191_j_5_j_201;
                appl_j_1938 = var_j_1936 var_j_1937;
                list_maker_b_191_j_200 = appl_j_1938;
                input_j_1939 = input;
                len_b_190_j_199 = input_j_1939;
                int_j_1940 = 0;
                var_j_1941 = len_b_190_j_199;
                binop_j_1942 = int_j_1940 <= var_j_1941;
                if_j_1948 = binop_j_1942 ? (
                        var_j_1943 = list_maker_b_191_j_200;
                        var_j_1944 = len_b_190_j_199;
                        appl_j_1945 = var_j_1943 var_j_1944
                    ) : (
                        bool_j_1946 = false;
                        assume_j_1947 = assume bool_j_1946
                    ));
            flatten_fun_j_1951 = fun expr_b_198 -> (
                var_j_1950 = expr_b_198);
            record_j_1952 = {checker = flatten_fun_j_1912, generator = flatten_fun_j_1949, wrapper = flatten_fun_j_1951};
            proj_j_1953 = record_j_1952.generator;
            int_j_1954 = 0;
            appl_j_1955 = proj_j_1953 int_j_1954;
            candidate_b_199 = appl_j_1955;
            flatten_fun_j_1961 = fun ls_j_203 -> (
                var_j_1956 = appl_j_547;
                var_j_1957 = ls_j_203;
                m_i_3881 = var_j_1956 ~ fun;
                appl_j_1958 = m_i_3881 ? (
                        c_appl_i_3882 = var_j_1956 var_j_1957
                    ) : (
                        ab_i_3883 = abort
                    );
                var_j_1959 = n_j_272;
                m_bl_i_3884 = appl_j_1958 ~ int;
                m_br_i_3885 = var_j_1959 ~ int;
                m_b_i_3886 = m_bl_i_3884 and m_br_i_3885;
                binop_j_1960 = m_b_i_3886 ? (
                        c_binop_i_3887 = appl_j_1958 <= var_j_1959
                    ) : (
                        ab_i_3888 = abort
                    ));
            var_j_1962 = candidate_b_199;
            appl_j_1963 = flatten_fun_j_1961 var_j_1962;
            if_j_1967 = appl_j_1963 ? (
                    var_j_1964 = candidate_b_199
                ) : (
                    bool_j_1965 = false;
                    assume_j_1966 = assume bool_j_1965
                ));
        flatten_fun_j_1970 = fun expr_b_212 -> (
            var_j_1969 = expr_b_212);
        record_j_1971 = {checker = flatten_fun_j_1872, generator = flatten_fun_j_1968, wrapper = flatten_fun_j_1970};
        proj_j_1972 = record_j_1971.checker;
        var_j_1973 = fun_ret_b_215;
        appl_j_1974 = proj_j_1972 var_j_1973);
    flatten_fun_j_2268 = fun bj_null_j_238 -> (
        flatten_fun_j_2267 = fun arg_assume_b_179 -> (
            flatten_fun_j_2015 = fun expr_b_153 -> (
                bool_j_1976 = false;
                lst_fail_b_154 = bool_j_1976;
                var_j_1977 = expr_b_153;
                m_match_bool_j_1979 = var_j_1977 ~ any;
                m_match_bool_j_1982 = var_j_1977 ~ {j_head, j_tail, _};
                m_match_bool_j_2012 = var_j_1977 ~ {j_empty, _};
                m_match_cond_j_2013 = m_match_bool_j_2012 ? (
                        bool_j_2014 = true
                    ) : (
                        m_match_cond_j_1983 = m_match_bool_j_1982 ? (
                                bj_underscore_j_210 = var_j_1977.j_head;
                                bj_underscore2_j_209 = var_j_1977.j_tail;
                                flatten_fun_j_2005 = fun test_fun_b_150_j_6 -> (
                                    flatten_fun_j_2004 = fun test_list_b_151 -> (
                                        var_j_1984 = test_fun_b_150_j_6;
                                        var_j_1985 = test_fun_b_150_j_6;
                                        appl_j_1986 = var_j_1984 var_j_1985;
                                        test_fun_b_150 = appl_j_1986;
                                        var_j_1987 = test_list_b_151;
                                        m_match_bool_j_1989 = var_j_1987 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_2001 = var_j_1987 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_2002 = m_match_bool_j_2001 ? (
                                                bool_j_2003 = true
                                            ) : (
                                                m_match_cond_j_1990 = m_match_bool_j_1989 ? (
                                                        hd_j_206 = var_j_1987.j_head;
                                                        tl_j_205 = var_j_1987.j_tail;
                                                        var_j_1991 = token;
                                                        proj_j_1992 = var_j_1991.checker;
                                                        var_j_1993 = hd_j_206;
                                                        appl_j_1994 = proj_j_1992 var_j_1993;
                                                        elm_check_b_152 = appl_j_1994;
                                                        var_j_1995 = elm_check_b_152;
                                                        if_j_2000 = var_j_1995 ? (
                                                                var_j_1996 = test_fun_b_150;
                                                                var_j_1997 = tl_j_205;
                                                                appl_j_1998 = var_j_1996 var_j_1997
                                                            ) : (
                                                                var_j_1999 = elm_check_b_152
                                                            )
                                                    ) : (
                                                        void_j_1988 = 
                                                            {}
                                                    )
                                            )));
                                test_fun_b_150_j_6_j_208 = flatten_fun_j_2005;
                                var_j_2006 = test_fun_b_150_j_6_j_208;
                                var_j_2007 = test_fun_b_150_j_6_j_208;
                                appl_j_2008 = var_j_2006 var_j_2007;
                                test_fun_b_150_j_207 = appl_j_2008;
                                var_j_2009 = test_fun_b_150_j_207;
                                var_j_2010 = expr_b_153;
                                appl_j_2011 = var_j_2009 var_j_2010
                            ) : (
                                m_match_cond_j_1980 = m_match_bool_j_1979 ? (
                                        var_j_1981 = lst_fail_b_154
                                    ) : (
                                        void_j_1978 = {}
                                    )
                            )
                    ));
            flatten_fun_j_2052 = fun bj_null_j_214 -> (
                flatten_fun_j_2038 = fun list_maker_b_148_j_7 -> (
                    flatten_fun_j_2037 = fun len_b_147 -> (
                        var_j_2016 = list_maker_b_148_j_7;
                        var_j_2017 = list_maker_b_148_j_7;
                        appl_j_2018 = var_j_2016 var_j_2017;
                        list_maker_b_148 = appl_j_2018;
                        var_j_2019 = len_b_147;
                        int_j_2020 = 0;
                        binop_j_2021 = var_j_2019 == int_j_2020;
                        if_j_2036 = binop_j_2021 ? (
                                record_j_2022 = {};
                                record_j_2023 = {j_empty = record_j_2022}
                            ) : (
                                var_j_2024 = token;
                                proj_j_2025 = var_j_2024.generator;
                                int_j_2026 = 0;
                                appl_j_2027 = proj_j_2025 int_j_2026;
                                elm_b_149 = appl_j_2027;
                                record_j_2028 = {};
                                var_j_2029 = elm_b_149;
                                var_j_2030 = list_maker_b_148;
                                var_j_2031 = len_b_147;
                                int_j_2032 = 1;
                                binop_j_2033 = var_j_2031 - int_j_2032;
                                appl_j_2034 = var_j_2030 binop_j_2033;
                                record_j_2035 = {j_cons = record_j_2028, j_head = var_j_2029, j_tail = appl_j_2034}
                            )));
                list_maker_b_148_j_7_j_213 = flatten_fun_j_2038;
                var_j_2039 = list_maker_b_148_j_7_j_213;
                var_j_2040 = list_maker_b_148_j_7_j_213;
                appl_j_2041 = var_j_2039 var_j_2040;
                list_maker_b_148_j_212 = appl_j_2041;
                input_j_2042 = input;
                len_b_147_j_211 = input_j_2042;
                int_j_2043 = 0;
                var_j_2044 = len_b_147_j_211;
                binop_j_2045 = int_j_2043 <= var_j_2044;
                if_j_2051 = binop_j_2045 ? (
                        var_j_2046 = list_maker_b_148_j_212;
                        var_j_2047 = len_b_147_j_211;
                        appl_j_2048 = var_j_2046 var_j_2047
                    ) : (
                        bool_j_2049 = false;
                        assume_j_2050 = assume bool_j_2049
                    ));
            flatten_fun_j_2054 = fun expr_b_155 -> (
                var_j_2053 = expr_b_155);
            record_j_2055 = {checker = flatten_fun_j_2015, generator = flatten_fun_j_2052, wrapper = flatten_fun_j_2054};
            proj_j_2056 = record_j_2055.checker;
            var_j_2057 = arg_assume_b_179;
            appl_j_2058 = proj_j_2056 var_j_2057;
            if_j_2266 = appl_j_2058 ? (
                    flatten_fun_j_2157 = fun expr_b_175 -> (
                        flatten_fun_j_2098 = fun expr_b_172 -> (
                            bool_j_2059 = false;
                            lst_fail_b_173 = bool_j_2059;
                            var_j_2060 = expr_b_172;
                            m_match_bool_j_2062 = var_j_2060 ~ any;
                            m_match_bool_j_2065 = var_j_2060 ~ {j_head, j_tail, _};
                            m_match_bool_j_2095 = var_j_2060 ~ {j_empty, _};
                            m_match_cond_j_2096 = m_match_bool_j_2095 ? (
                                    bool_j_2097 = true
                                ) : (
                                    m_match_cond_j_2066 = m_match_bool_j_2065 ? (
                                            bj_underscore_j_220 = var_j_2060.j_head;
                                            bj_underscore2_j_219 = var_j_2060.j_tail;
                                            flatten_fun_j_2088 = fun test_fun_b_169_j_8 -> (
                                                flatten_fun_j_2087 = fun test_list_b_170 -> (
                                                    var_j_2067 = test_fun_b_169_j_8;
                                                    var_j_2068 = test_fun_b_169_j_8;
                                                    appl_j_2069 = var_j_2067 var_j_2068;
                                                    test_fun_b_169 = appl_j_2069;
                                                    var_j_2070 = test_list_b_170;
                                                    m_match_bool_j_2072 = var_j_2070 ~ 
                                                        {j_head, j_tail, _};
                                                    m_match_bool_j_2084 = var_j_2070 ~ 
                                                        {j_empty, _};
                                                    m_match_cond_j_2085 = m_match_bool_j_2084 ? (
                                                            bool_j_2086 = true
                                                        ) : (
                                                            m_match_cond_j_2073 = m_match_bool_j_2072 ? (
                                                                    hd_j_216 = var_j_2070.j_head;
                                                                    tl_j_215 = var_j_2070.j_tail;
                                                                    var_j_2074 = token;
                                                                    proj_j_2075 = var_j_2074.checker;
                                                                    var_j_2076 = hd_j_216;
                                                                    appl_j_2077 = proj_j_2075 var_j_2076;
                                                                    elm_check_b_171 = appl_j_2077;
                                                                    var_j_2078 = elm_check_b_171;
                                                                    if_j_2083 = var_j_2078 ? (
                                                                        var_j_2079 = test_fun_b_169;
                                                                    var_j_2080 = tl_j_215;
                                                                    appl_j_2081 = var_j_2079 var_j_2080
                                                                    ) : (
                                                                        var_j_2082 = elm_check_b_171
                                                                    )
                                                                ) : (
                                                                    void_j_2071 = 
                                                                    {}
                                                                )
                                                        )));
                                            test_fun_b_169_j_8_j_218 = flatten_fun_j_2088;
                                            var_j_2089 = test_fun_b_169_j_8_j_218;
                                            var_j_2090 = test_fun_b_169_j_8_j_218;
                                            appl_j_2091 = var_j_2089 var_j_2090;
                                            test_fun_b_169_j_217 = appl_j_2091;
                                            var_j_2092 = test_fun_b_169_j_217;
                                            var_j_2093 = expr_b_172;
                                            appl_j_2094 = var_j_2092 var_j_2093
                                        ) : (
                                            m_match_cond_j_2063 = m_match_bool_j_2062 ? (
                                                    var_j_2064 = lst_fail_b_173
                                                ) : (
                                                    void_j_2061 = {}
                                                )
                                        )
                                ));
                        flatten_fun_j_2135 = fun bj_null_j_224 -> (
                            flatten_fun_j_2121 = fun list_maker_b_167_j_9 -> (
                                flatten_fun_j_2120 = fun len_b_166 -> (
                                    var_j_2099 = list_maker_b_167_j_9;
                                    var_j_2100 = list_maker_b_167_j_9;
                                    appl_j_2101 = var_j_2099 var_j_2100;
                                    list_maker_b_167 = appl_j_2101;
                                    var_j_2102 = len_b_166;
                                    int_j_2103 = 0;
                                    binop_j_2104 = var_j_2102 == int_j_2103;
                                    if_j_2119 = binop_j_2104 ? (
                                            record_j_2105 = {};
                                            record_j_2106 = {j_empty = record_j_2105}
                                        ) : (
                                            var_j_2107 = token;
                                            proj_j_2108 = var_j_2107.generator;
                                            int_j_2109 = 0;
                                            appl_j_2110 = proj_j_2108 int_j_2109;
                                            elm_b_168 = appl_j_2110;
                                            record_j_2111 = {};
                                            var_j_2112 = elm_b_168;
                                            var_j_2113 = list_maker_b_167;
                                            var_j_2114 = len_b_166;
                                            int_j_2115 = 1;
                                            binop_j_2116 = var_j_2114 - int_j_2115;
                                            appl_j_2117 = var_j_2113 binop_j_2116;
                                            record_j_2118 = {j_cons = record_j_2111, j_head = var_j_2112, j_tail = appl_j_2117}
                                        )));
                            list_maker_b_167_j_9_j_223 = flatten_fun_j_2121;
                            var_j_2122 = list_maker_b_167_j_9_j_223;
                            var_j_2123 = list_maker_b_167_j_9_j_223;
                            appl_j_2124 = var_j_2122 var_j_2123;
                            list_maker_b_167_j_222 = appl_j_2124;
                            input_j_2125 = input;
                            len_b_166_j_221 = input_j_2125;
                            int_j_2126 = 0;
                            var_j_2127 = len_b_166_j_221;
                            binop_j_2128 = int_j_2126 <= var_j_2127;
                            if_j_2134 = binop_j_2128 ? (
                                    var_j_2129 = list_maker_b_167_j_222;
                                    var_j_2130 = len_b_166_j_221;
                                    appl_j_2131 = var_j_2129 var_j_2130
                                ) : (
                                    bool_j_2132 = false;
                                    assume_j_2133 = assume bool_j_2132
                                ));
                        flatten_fun_j_2137 = fun expr_b_174 -> (
                            var_j_2136 = expr_b_174);
                        record_j_2138 = {checker = flatten_fun_j_2098, generator = flatten_fun_j_2135, wrapper = flatten_fun_j_2137};
                        proj_j_2139 = record_j_2138.checker;
                        var_j_2140 = expr_b_175;
                        appl_j_2141 = proj_j_2139 var_j_2140;
                        t_check_b_176 = appl_j_2141;
                        var_j_2142 = t_check_b_176;
                        if_j_2156 = var_j_2142 ? (
                                bool_j_2143 = false;
                                pred_check_b_177 = bool_j_2143;
                                flatten_fun_j_2149 = fun ls_j_225 -> (
                                    var_j_2144 = appl_j_547;
                                    var_j_2145 = ls_j_225;
                                    m_i_3889 = var_j_2144 ~ fun;
                                    appl_j_2146 = m_i_3889 ? (
                                            c_appl_i_3890 = var_j_2144 var_j_2145
                                        ) : (
                                            ab_i_3891 = abort
                                        );
                                    var_j_2147 = n_j_272;
                                    m_bl_i_3892 = appl_j_2146 ~ int;
                                    m_br_i_3893 = var_j_2147 ~ int;
                                    m_b_i_3894 = m_bl_i_3892 and m_br_i_3893;
                                    binop_j_2148 = m_b_i_3894 ? (
                                            c_binop_i_3895 = appl_j_2146 <= var_j_2147
                                        ) : (
                                            ab_i_3896 = abort
                                        ));
                                var_j_2150 = expr_b_175;
                                appl_j_2151 = flatten_fun_j_2149 var_j_2150;
                                if_j_2154 = appl_j_2151 ? (
                                        bool_j_2152 = true
                                    ) : (
                                        var_j_2153 = pred_check_b_177
                                    )
                            ) : (
                                var_j_2155 = t_check_b_176
                            ));
                    flatten_fun_j_2253 = fun bj_null_j_237 -> (
                        flatten_fun_j_2197 = fun expr_b_162 -> (
                            bool_j_2158 = false;
                            lst_fail_b_163 = bool_j_2158;
                            var_j_2159 = expr_b_162;
                            m_match_bool_j_2161 = var_j_2159 ~ any;
                            m_match_bool_j_2164 = var_j_2159 ~ {j_head, j_tail, _};
                            m_match_bool_j_2194 = var_j_2159 ~ {j_empty, _};
                            m_match_cond_j_2195 = m_match_bool_j_2194 ? (
                                    bool_j_2196 = true
                                ) : (
                                    m_match_cond_j_2165 = m_match_bool_j_2164 ? (
                                            bj_underscore_j_231 = var_j_2159.j_head;
                                            bj_underscore2_j_230 = var_j_2159.j_tail;
                                            flatten_fun_j_2187 = fun test_fun_b_159_j_10 -> (
                                                flatten_fun_j_2186 = fun test_list_b_160 -> (
                                                    var_j_2166 = test_fun_b_159_j_10;
                                                    var_j_2167 = test_fun_b_159_j_10;
                                                    appl_j_2168 = var_j_2166 var_j_2167;
                                                    test_fun_b_159 = appl_j_2168;
                                                    var_j_2169 = test_list_b_160;
                                                    m_match_bool_j_2171 = var_j_2169 ~ 
                                                        {j_head, j_tail, _};
                                                    m_match_bool_j_2183 = var_j_2169 ~ 
                                                        {j_empty, _};
                                                    m_match_cond_j_2184 = m_match_bool_j_2183 ? (
                                                            bool_j_2185 = true
                                                        ) : (
                                                            m_match_cond_j_2172 = m_match_bool_j_2171 ? (
                                                                    hd_j_227 = var_j_2169.j_head;
                                                                    tl_j_226 = var_j_2169.j_tail;
                                                                    var_j_2173 = token;
                                                                    proj_j_2174 = var_j_2173.checker;
                                                                    var_j_2175 = hd_j_227;
                                                                    appl_j_2176 = proj_j_2174 var_j_2175;
                                                                    elm_check_b_161 = appl_j_2176;
                                                                    var_j_2177 = elm_check_b_161;
                                                                    if_j_2182 = var_j_2177 ? (
                                                                        var_j_2178 = test_fun_b_159;
                                                                    var_j_2179 = tl_j_226;
                                                                    appl_j_2180 = var_j_2178 var_j_2179
                                                                    ) : (
                                                                        var_j_2181 = elm_check_b_161
                                                                    )
                                                                ) : (
                                                                    void_j_2170 = 
                                                                    {}
                                                                )
                                                        )));
                                            test_fun_b_159_j_10_j_229 = flatten_fun_j_2187;
                                            var_j_2188 = test_fun_b_159_j_10_j_229;
                                            var_j_2189 = test_fun_b_159_j_10_j_229;
                                            appl_j_2190 = var_j_2188 var_j_2189;
                                            test_fun_b_159_j_228 = appl_j_2190;
                                            var_j_2191 = test_fun_b_159_j_228;
                                            var_j_2192 = expr_b_162;
                                            appl_j_2193 = var_j_2191 var_j_2192
                                        ) : (
                                            m_match_cond_j_2162 = m_match_bool_j_2161 ? (
                                                    var_j_2163 = lst_fail_b_163
                                                ) : (
                                                    void_j_2160 = {}
                                                )
                                        )
                                ));
                        flatten_fun_j_2234 = fun bj_null_j_235 -> (
                            flatten_fun_j_2220 = fun list_maker_b_157_j_11 -> (
                                flatten_fun_j_2219 = fun len_b_156 -> (
                                    var_j_2198 = list_maker_b_157_j_11;
                                    var_j_2199 = list_maker_b_157_j_11;
                                    appl_j_2200 = var_j_2198 var_j_2199;
                                    list_maker_b_157 = appl_j_2200;
                                    var_j_2201 = len_b_156;
                                    int_j_2202 = 0;
                                    binop_j_2203 = var_j_2201 == int_j_2202;
                                    if_j_2218 = binop_j_2203 ? (
                                            record_j_2204 = {};
                                            record_j_2205 = {j_empty = record_j_2204}
                                        ) : (
                                            var_j_2206 = token;
                                            proj_j_2207 = var_j_2206.generator;
                                            int_j_2208 = 0;
                                            appl_j_2209 = proj_j_2207 int_j_2208;
                                            elm_b_158 = appl_j_2209;
                                            record_j_2210 = {};
                                            var_j_2211 = elm_b_158;
                                            var_j_2212 = list_maker_b_157;
                                            var_j_2213 = len_b_156;
                                            int_j_2214 = 1;
                                            binop_j_2215 = var_j_2213 - int_j_2214;
                                            appl_j_2216 = var_j_2212 binop_j_2215;
                                            record_j_2217 = {j_cons = record_j_2210, j_head = var_j_2211, j_tail = appl_j_2216}
                                        )));
                            list_maker_b_157_j_11_j_234 = flatten_fun_j_2220;
                            var_j_2221 = list_maker_b_157_j_11_j_234;
                            var_j_2222 = list_maker_b_157_j_11_j_234;
                            appl_j_2223 = var_j_2221 var_j_2222;
                            list_maker_b_157_j_233 = appl_j_2223;
                            input_j_2224 = input;
                            len_b_156_j_232 = input_j_2224;
                            int_j_2225 = 0;
                            var_j_2226 = len_b_156_j_232;
                            binop_j_2227 = int_j_2225 <= var_j_2226;
                            if_j_2233 = binop_j_2227 ? (
                                    var_j_2228 = list_maker_b_157_j_233;
                                    var_j_2229 = len_b_156_j_232;
                                    appl_j_2230 = var_j_2228 var_j_2229
                                ) : (
                                    bool_j_2231 = false;
                                    assume_j_2232 = assume bool_j_2231
                                ));
                        flatten_fun_j_2236 = fun expr_b_164 -> (
                            var_j_2235 = expr_b_164);
                        record_j_2237 = {checker = flatten_fun_j_2197, generator = flatten_fun_j_2234, wrapper = flatten_fun_j_2236};
                        proj_j_2238 = record_j_2237.generator;
                        int_j_2239 = 0;
                        appl_j_2240 = proj_j_2238 int_j_2239;
                        candidate_b_165 = appl_j_2240;
                        flatten_fun_j_2246 = fun ls_j_236 -> (
                            var_j_2241 = appl_j_547;
                            var_j_2242 = ls_j_236;
                            m_i_3897 = var_j_2241 ~ fun;
                            appl_j_2243 = m_i_3897 ? (
                                    c_appl_i_3898 = var_j_2241 var_j_2242
                                ) : (
                                    ab_i_3899 = abort
                                );
                            var_j_2244 = n_j_272;
                            m_bl_i_3900 = appl_j_2243 ~ int;
                            m_br_i_3901 = var_j_2244 ~ int;
                            m_b_i_3902 = m_bl_i_3900 and m_br_i_3901;
                            binop_j_2245 = m_b_i_3902 ? (
                                    c_binop_i_3903 = appl_j_2243 <= var_j_2244
                                ) : (
                                    ab_i_3904 = abort
                                ));
                        var_j_2247 = candidate_b_165;
                        appl_j_2248 = flatten_fun_j_2246 var_j_2247;
                        if_j_2252 = appl_j_2248 ? (
                                var_j_2249 = candidate_b_165
                            ) : (
                                bool_j_2250 = false;
                                assume_j_2251 = assume bool_j_2250
                            ));
                    flatten_fun_j_2255 = fun expr_b_178 -> (
                        var_j_2254 = expr_b_178);
                    record_j_2256 = {checker = flatten_fun_j_2157, generator = flatten_fun_j_2253, wrapper = flatten_fun_j_2255};
                    proj_j_2257 = record_j_2256.generator;
                    int_j_2258 = 0;
                    appl_j_2259 = proj_j_2257 int_j_2258
                ) : (
                    bool_j_2260 = false;
                    fail_b_180 = bool_j_2260;
                    var_j_2261 = fail_b_180;
                    assert_pred_j_2262 = var_j_2261;
                    assert_res_j_2263 = assert_pred_j_2262 ? (
                            assert_res_true_j_2264 = {}
                        ) : (
                            ab_j_2265 = abort
                        )
                )));
    flatten_fun_j_2562 = fun expr_b_248 -> (
        flatten_fun_j_2561 = fun arg_b_249 -> (
            flatten_fun_j_2308 = fun expr_b_222 -> (
                bool_j_2269 = false;
                lst_fail_b_223 = bool_j_2269;
                var_j_2270 = expr_b_222;
                m_match_bool_j_2272 = var_j_2270 ~ any;
                m_match_bool_j_2275 = var_j_2270 ~ {j_head, j_tail, _};
                m_match_bool_j_2305 = var_j_2270 ~ {j_empty, _};
                m_match_cond_j_2306 = m_match_bool_j_2305 ? (
                        bool_j_2307 = true
                    ) : (
                        m_match_cond_j_2276 = m_match_bool_j_2275 ? (
                                bj_underscore_j_244 = var_j_2270.j_head;
                                bj_underscore2_j_243 = var_j_2270.j_tail;
                                flatten_fun_j_2298 = fun test_fun_b_219_j_12 -> (
                                    flatten_fun_j_2297 = fun test_list_b_220 -> (
                                        var_j_2277 = test_fun_b_219_j_12;
                                        var_j_2278 = test_fun_b_219_j_12;
                                        appl_j_2279 = var_j_2277 var_j_2278;
                                        test_fun_b_219 = appl_j_2279;
                                        var_j_2280 = test_list_b_220;
                                        m_match_bool_j_2282 = var_j_2280 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_2294 = var_j_2280 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_2295 = m_match_bool_j_2294 ? (
                                                bool_j_2296 = true
                                            ) : (
                                                m_match_cond_j_2283 = m_match_bool_j_2282 ? (
                                                        hd_j_240 = var_j_2280.j_head;
                                                        tl_j_239 = var_j_2280.j_tail;
                                                        var_j_2284 = token;
                                                        proj_j_2285 = var_j_2284.checker;
                                                        var_j_2286 = hd_j_240;
                                                        appl_j_2287 = proj_j_2285 var_j_2286;
                                                        elm_check_b_221 = appl_j_2287;
                                                        var_j_2288 = elm_check_b_221;
                                                        if_j_2293 = var_j_2288 ? (
                                                                var_j_2289 = test_fun_b_219;
                                                                var_j_2290 = tl_j_239;
                                                                appl_j_2291 = var_j_2289 var_j_2290
                                                            ) : (
                                                                var_j_2292 = elm_check_b_221
                                                            )
                                                    ) : (
                                                        void_j_2281 = 
                                                            {}
                                                    )
                                            )));
                                test_fun_b_219_j_12_j_242 = flatten_fun_j_2298;
                                var_j_2299 = test_fun_b_219_j_12_j_242;
                                var_j_2300 = test_fun_b_219_j_12_j_242;
                                appl_j_2301 = var_j_2299 var_j_2300;
                                test_fun_b_219_j_241 = appl_j_2301;
                                var_j_2302 = test_fun_b_219_j_241;
                                var_j_2303 = expr_b_222;
                                appl_j_2304 = var_j_2302 var_j_2303
                            ) : (
                                m_match_cond_j_2273 = m_match_bool_j_2272 ? (
                                        var_j_2274 = lst_fail_b_223
                                    ) : (
                                        void_j_2271 = {}
                                    )
                            )
                    ));
            flatten_fun_j_2345 = fun bj_null_j_248 -> (
                flatten_fun_j_2331 = fun list_maker_b_217_j_13 -> (
                    flatten_fun_j_2330 = fun len_b_216 -> (
                        var_j_2309 = list_maker_b_217_j_13;
                        var_j_2310 = list_maker_b_217_j_13;
                        appl_j_2311 = var_j_2309 var_j_2310;
                        list_maker_b_217 = appl_j_2311;
                        var_j_2312 = len_b_216;
                        int_j_2313 = 0;
                        binop_j_2314 = var_j_2312 == int_j_2313;
                        if_j_2329 = binop_j_2314 ? (
                                record_j_2315 = {};
                                record_j_2316 = {j_empty = record_j_2315}
                            ) : (
                                var_j_2317 = token;
                                proj_j_2318 = var_j_2317.generator;
                                int_j_2319 = 0;
                                appl_j_2320 = proj_j_2318 int_j_2319;
                                elm_b_218 = appl_j_2320;
                                record_j_2321 = {};
                                var_j_2322 = elm_b_218;
                                var_j_2323 = list_maker_b_217;
                                var_j_2324 = len_b_216;
                                int_j_2325 = 1;
                                binop_j_2326 = var_j_2324 - int_j_2325;
                                appl_j_2327 = var_j_2323 binop_j_2326;
                                record_j_2328 = {j_cons = record_j_2321, j_head = var_j_2322, j_tail = appl_j_2327}
                            )));
                list_maker_b_217_j_13_j_247 = flatten_fun_j_2331;
                var_j_2332 = list_maker_b_217_j_13_j_247;
                var_j_2333 = list_maker_b_217_j_13_j_247;
                appl_j_2334 = var_j_2332 var_j_2333;
                list_maker_b_217_j_246 = appl_j_2334;
                input_j_2335 = input;
                len_b_216_j_245 = input_j_2335;
                int_j_2336 = 0;
                var_j_2337 = len_b_216_j_245;
                binop_j_2338 = int_j_2336 <= var_j_2337;
                if_j_2344 = binop_j_2338 ? (
                        var_j_2339 = list_maker_b_217_j_246;
                        var_j_2340 = len_b_216_j_245;
                        appl_j_2341 = var_j_2339 var_j_2340
                    ) : (
                        bool_j_2342 = false;
                        assume_j_2343 = assume bool_j_2342
                    ));
            flatten_fun_j_2347 = fun expr_b_224 -> (
                var_j_2346 = expr_b_224);
            record_j_2348 = {checker = flatten_fun_j_2308, generator = flatten_fun_j_2345, wrapper = flatten_fun_j_2347};
            proj_j_2349 = record_j_2348.checker;
            var_j_2350 = arg_b_249;
            m_i_3905 = proj_j_2349 ~ fun;
            appl_j_2351 = m_i_3905 ? (
                    c_appl_i_3906 = proj_j_2349 var_j_2350
                ) : (
                    ab_i_3907 = abort
                );
            m_i_3908 = appl_j_2351 ~ bool;
            if_j_2560 = m_i_3908 ? (
                    c_cond_i_3931 = appl_j_2351 ? (
                            flatten_fun_j_2450 = fun expr_b_244 -> (
                                flatten_fun_j_2391 = fun expr_b_241 -> (
                                    bool_j_2352 = false;
                                    lst_fail_b_242 = bool_j_2352;
                                    var_j_2353 = expr_b_241;
                                    m_match_bool_j_2355 = var_j_2353 ~ any;
                                    m_match_bool_j_2358 = var_j_2353 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_2388 = var_j_2353 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_2389 = m_match_bool_j_2388 ? (
                                            bool_j_2390 = true
                                        ) : (
                                            m_match_cond_j_2359 = m_match_bool_j_2358 ? (
                                                    bj_underscore_j_254 = var_j_2353.j_head;
                                                    bj_underscore2_j_253 = var_j_2353.j_tail;
                                                    flatten_fun_j_2381 = fun test_fun_b_238_j_14 -> (
                                                        flatten_fun_j_2380 = fun test_list_b_239 -> (
                                                            var_j_2360 = test_fun_b_238_j_14;
                                                            var_j_2361 = test_fun_b_238_j_14;
                                                            appl_j_2362 = var_j_2360 var_j_2361;
                                                            test_fun_b_238 = appl_j_2362;
                                                            var_j_2363 = test_list_b_239;
                                                            m_match_bool_j_2365 = var_j_2363 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_2377 = var_j_2363 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_2378 = m_match_bool_j_2377 ? (
                                                                    bool_j_2379 = true
                                                                ) : (
                                                                    m_match_cond_j_2366 = m_match_bool_j_2365 ? (
                                                                        hd_j_250 = var_j_2363.j_head;
                                                                    tl_j_249 = var_j_2363.j_tail;
                                                                    var_j_2367 = token;
                                                                    proj_j_2368 = var_j_2367.checker;
                                                                    var_j_2369 = hd_j_250;
                                                                    appl_j_2370 = proj_j_2368 var_j_2369;
                                                                    elm_check_b_240 = appl_j_2370;
                                                                    var_j_2371 = elm_check_b_240;
                                                                    if_j_2376 = var_j_2371 ? (
                                                                        var_j_2372 = test_fun_b_238;
                                                                    var_j_2373 = tl_j_249;
                                                                    appl_j_2374 = var_j_2372 var_j_2373
                                                                    ) : (
                                                                        var_j_2375 = elm_check_b_240
                                                                    )
                                                                    ) : (
                                                                        void_j_2364 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_238_j_14_j_252 = flatten_fun_j_2381;
                                                    var_j_2382 = test_fun_b_238_j_14_j_252;
                                                    var_j_2383 = test_fun_b_238_j_14_j_252;
                                                    appl_j_2384 = var_j_2382 var_j_2383;
                                                    test_fun_b_238_j_251 = appl_j_2384;
                                                    var_j_2385 = test_fun_b_238_j_251;
                                                    var_j_2386 = expr_b_241;
                                                    appl_j_2387 = var_j_2385 var_j_2386
                                                ) : (
                                                    m_match_cond_j_2356 = m_match_bool_j_2355 ? (
                                                            var_j_2357 = lst_fail_b_242
                                                        ) : (
                                                            void_j_2354 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_2428 = fun bj_null_j_258 -> (
                                    flatten_fun_j_2414 = fun list_maker_b_236_j_15 -> (
                                        flatten_fun_j_2413 = fun len_b_235 -> (
                                            var_j_2392 = list_maker_b_236_j_15;
                                            var_j_2393 = list_maker_b_236_j_15;
                                            appl_j_2394 = var_j_2392 var_j_2393;
                                            list_maker_b_236 = appl_j_2394;
                                            var_j_2395 = len_b_235;
                                            int_j_2396 = 0;
                                            binop_j_2397 = var_j_2395 == int_j_2396;
                                            if_j_2412 = binop_j_2397 ? (
                                                    record_j_2398 = {};
                                                    record_j_2399 = {j_empty = record_j_2398}
                                                ) : (
                                                    var_j_2400 = token;
                                                    proj_j_2401 = var_j_2400.generator;
                                                    int_j_2402 = 0;
                                                    appl_j_2403 = proj_j_2401 int_j_2402;
                                                    elm_b_237 = appl_j_2403;
                                                    record_j_2404 = {};
                                                    var_j_2405 = elm_b_237;
                                                    var_j_2406 = list_maker_b_236;
                                                    var_j_2407 = len_b_235;
                                                    int_j_2408 = 1;
                                                    binop_j_2409 = var_j_2407 - int_j_2408;
                                                    appl_j_2410 = var_j_2406 binop_j_2409;
                                                    record_j_2411 = {j_cons = record_j_2404, j_head = var_j_2405, j_tail = appl_j_2410}
                                                )));
                                    list_maker_b_236_j_15_j_257 = flatten_fun_j_2414;
                                    var_j_2415 = list_maker_b_236_j_15_j_257;
                                    var_j_2416 = list_maker_b_236_j_15_j_257;
                                    appl_j_2417 = var_j_2415 var_j_2416;
                                    list_maker_b_236_j_256 = appl_j_2417;
                                    input_j_2418 = input;
                                    len_b_235_j_255 = input_j_2418;
                                    int_j_2419 = 0;
                                    var_j_2420 = len_b_235_j_255;
                                    binop_j_2421 = int_j_2419 <= var_j_2420;
                                    if_j_2427 = binop_j_2421 ? (
                                            var_j_2422 = list_maker_b_236_j_256;
                                            var_j_2423 = len_b_235_j_255;
                                            appl_j_2424 = var_j_2422 var_j_2423
                                        ) : (
                                            bool_j_2425 = false;
                                            assume_j_2426 = assume bool_j_2425
                                        ));
                                flatten_fun_j_2430 = fun expr_b_243 -> (
                                    var_j_2429 = expr_b_243);
                                record_j_2431 = {checker = flatten_fun_j_2391, generator = flatten_fun_j_2428, wrapper = flatten_fun_j_2430};
                                proj_j_2432 = record_j_2431.checker;
                                var_j_2433 = expr_b_244;
                                appl_j_2434 = proj_j_2432 var_j_2433;
                                t_check_b_245 = appl_j_2434;
                                var_j_2435 = t_check_b_245;
                                if_j_2449 = var_j_2435 ? (
                                        bool_j_2436 = false;
                                        pred_check_b_246 = bool_j_2436;
                                        flatten_fun_j_2442 = fun ls_j_259 -> (
                                            var_j_2437 = appl_j_547;
                                            var_j_2438 = ls_j_259;
                                            m_i_3909 = var_j_2437 ~ fun;
                                            appl_j_2439 = m_i_3909 ? (
                                                    c_appl_i_3910 = var_j_2437 var_j_2438
                                                ) : (
                                                    ab_i_3911 = abort
                                                );
                                            var_j_2440 = n_j_272;
                                            m_bl_i_3912 = appl_j_2439 ~ int;
                                            m_br_i_3913 = var_j_2440 ~ int;
                                            m_b_i_3914 = m_bl_i_3912 and m_br_i_3913;
                                            binop_j_2441 = m_b_i_3914 ? (
                                                    c_binop_i_3915 = appl_j_2439 <= var_j_2440
                                                ) : (
                                                    ab_i_3916 = abort
                                                ));
                                        var_j_2443 = expr_b_244;
                                        appl_j_2444 = flatten_fun_j_2442 var_j_2443;
                                        if_j_2447 = appl_j_2444 ? (
                                                bool_j_2445 = true
                                            ) : (
                                                var_j_2446 = pred_check_b_246
                                            )
                                    ) : (
                                        var_j_2448 = t_check_b_245
                                    ));
                            flatten_fun_j_2546 = fun bj_null_j_271 -> (
                                flatten_fun_j_2490 = fun expr_b_231 -> (
                                    bool_j_2451 = false;
                                    lst_fail_b_232 = bool_j_2451;
                                    var_j_2452 = expr_b_231;
                                    m_match_bool_j_2454 = var_j_2452 ~ any;
                                    m_match_bool_j_2457 = var_j_2452 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_2487 = var_j_2452 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_2488 = m_match_bool_j_2487 ? (
                                            bool_j_2489 = true
                                        ) : (
                                            m_match_cond_j_2458 = m_match_bool_j_2457 ? (
                                                    bj_underscore_j_265 = var_j_2452.j_head;
                                                    bj_underscore2_j_264 = var_j_2452.j_tail;
                                                    flatten_fun_j_2480 = fun test_fun_b_228_j_16 -> (
                                                        flatten_fun_j_2479 = fun test_list_b_229 -> (
                                                            var_j_2459 = test_fun_b_228_j_16;
                                                            var_j_2460 = test_fun_b_228_j_16;
                                                            appl_j_2461 = var_j_2459 var_j_2460;
                                                            test_fun_b_228 = appl_j_2461;
                                                            var_j_2462 = test_list_b_229;
                                                            m_match_bool_j_2464 = var_j_2462 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_2476 = var_j_2462 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_2477 = m_match_bool_j_2476 ? (
                                                                    bool_j_2478 = true
                                                                ) : (
                                                                    m_match_cond_j_2465 = m_match_bool_j_2464 ? (
                                                                        hd_j_261 = var_j_2462.j_head;
                                                                    tl_j_260 = var_j_2462.j_tail;
                                                                    var_j_2466 = token;
                                                                    proj_j_2467 = var_j_2466.checker;
                                                                    var_j_2468 = hd_j_261;
                                                                    appl_j_2469 = proj_j_2467 var_j_2468;
                                                                    elm_check_b_230 = appl_j_2469;
                                                                    var_j_2470 = elm_check_b_230;
                                                                    if_j_2475 = var_j_2470 ? (
                                                                        var_j_2471 = test_fun_b_228;
                                                                    var_j_2472 = tl_j_260;
                                                                    appl_j_2473 = var_j_2471 var_j_2472
                                                                    ) : (
                                                                        var_j_2474 = elm_check_b_230
                                                                    )
                                                                    ) : (
                                                                        void_j_2463 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_228_j_16_j_263 = flatten_fun_j_2480;
                                                    var_j_2481 = test_fun_b_228_j_16_j_263;
                                                    var_j_2482 = test_fun_b_228_j_16_j_263;
                                                    appl_j_2483 = var_j_2481 var_j_2482;
                                                    test_fun_b_228_j_262 = appl_j_2483;
                                                    var_j_2484 = test_fun_b_228_j_262;
                                                    var_j_2485 = expr_b_231;
                                                    appl_j_2486 = var_j_2484 var_j_2485
                                                ) : (
                                                    m_match_cond_j_2455 = m_match_bool_j_2454 ? (
                                                            var_j_2456 = lst_fail_b_232
                                                        ) : (
                                                            void_j_2453 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_2527 = fun bj_null_j_269 -> (
                                    flatten_fun_j_2513 = fun list_maker_b_226_j_17 -> (
                                        flatten_fun_j_2512 = fun len_b_225 -> (
                                            var_j_2491 = list_maker_b_226_j_17;
                                            var_j_2492 = list_maker_b_226_j_17;
                                            appl_j_2493 = var_j_2491 var_j_2492;
                                            list_maker_b_226 = appl_j_2493;
                                            var_j_2494 = len_b_225;
                                            int_j_2495 = 0;
                                            binop_j_2496 = var_j_2494 == int_j_2495;
                                            if_j_2511 = binop_j_2496 ? (
                                                    record_j_2497 = {};
                                                    record_j_2498 = {j_empty = record_j_2497}
                                                ) : (
                                                    var_j_2499 = token;
                                                    proj_j_2500 = var_j_2499.generator;
                                                    int_j_2501 = 0;
                                                    appl_j_2502 = proj_j_2500 int_j_2501;
                                                    elm_b_227 = appl_j_2502;
                                                    record_j_2503 = {};
                                                    var_j_2504 = elm_b_227;
                                                    var_j_2505 = list_maker_b_226;
                                                    var_j_2506 = len_b_225;
                                                    int_j_2507 = 1;
                                                    binop_j_2508 = var_j_2506 - int_j_2507;
                                                    appl_j_2509 = var_j_2505 binop_j_2508;
                                                    record_j_2510 = {j_cons = record_j_2503, j_head = var_j_2504, j_tail = appl_j_2509}
                                                )));
                                    list_maker_b_226_j_17_j_268 = flatten_fun_j_2513;
                                    var_j_2514 = list_maker_b_226_j_17_j_268;
                                    var_j_2515 = list_maker_b_226_j_17_j_268;
                                    appl_j_2516 = var_j_2514 var_j_2515;
                                    list_maker_b_226_j_267 = appl_j_2516;
                                    input_j_2517 = input;
                                    len_b_225_j_266 = input_j_2517;
                                    int_j_2518 = 0;
                                    var_j_2519 = len_b_225_j_266;
                                    binop_j_2520 = int_j_2518 <= var_j_2519;
                                    if_j_2526 = binop_j_2520 ? (
                                            var_j_2521 = list_maker_b_226_j_267;
                                            var_j_2522 = len_b_225_j_266;
                                            appl_j_2523 = var_j_2521 var_j_2522
                                        ) : (
                                            bool_j_2524 = false;
                                            assume_j_2525 = assume bool_j_2524
                                        ));
                                flatten_fun_j_2529 = fun expr_b_233 -> (
                                    var_j_2528 = expr_b_233);
                                record_j_2530 = {checker = flatten_fun_j_2490, generator = flatten_fun_j_2527, wrapper = flatten_fun_j_2529};
                                proj_j_2531 = record_j_2530.generator;
                                int_j_2532 = 0;
                                appl_j_2533 = proj_j_2531 int_j_2532;
                                candidate_b_234 = appl_j_2533;
                                flatten_fun_j_2539 = fun ls_j_270 -> (
                                    var_j_2534 = appl_j_547;
                                    var_j_2535 = ls_j_270;
                                    m_i_3917 = var_j_2534 ~ fun;
                                    appl_j_2536 = m_i_3917 ? (
                                            c_appl_i_3918 = var_j_2534 var_j_2535
                                        ) : (
                                            ab_i_3919 = abort
                                        );
                                    var_j_2537 = n_j_272;
                                    m_bl_i_3920 = appl_j_2536 ~ int;
                                    m_br_i_3921 = var_j_2537 ~ int;
                                    m_b_i_3922 = m_bl_i_3920 and m_br_i_3921;
                                    binop_j_2538 = m_b_i_3922 ? (
                                            c_binop_i_3923 = appl_j_2536 <= var_j_2537
                                        ) : (
                                            ab_i_3924 = abort
                                        ));
                                var_j_2540 = candidate_b_234;
                                appl_j_2541 = flatten_fun_j_2539 var_j_2540;
                                if_j_2545 = appl_j_2541 ? (
                                        var_j_2542 = candidate_b_234
                                    ) : (
                                        bool_j_2543 = false;
                                        assume_j_2544 = assume bool_j_2543
                                    ));
                            flatten_fun_j_2548 = fun expr_b_247 -> (
                                var_j_2547 = expr_b_247);
                            record_j_2549 = {checker = flatten_fun_j_2450, generator = flatten_fun_j_2546, wrapper = flatten_fun_j_2548};
                            proj_j_2550 = record_j_2549.wrapper;
                            var_j_2551 = expr_b_248;
                            var_j_2552 = arg_b_249;
                            m_i_3925 = var_j_2551 ~ fun;
                            appl_j_2553 = m_i_3925 ? (
                                    c_appl_i_3926 = var_j_2551 var_j_2552
                                ) : (
                                    ab_i_3927 = abort
                                );
                            m_i_3928 = proj_j_2550 ~ fun;
                            appl_j_2554 = m_i_3928 ? (
                                    c_appl_i_3929 = proj_j_2550 appl_j_2553
                                ) : (
                                    ab_i_3930 = abort
                                )
                        ) : (
                            bool_j_2555 = false;
                            assert_pred_j_2556 = bool_j_2555;
                            assert_res_j_2557 = assert_pred_j_2556 ? (
                                    assert_res_true_j_2558 = {}
                                ) : (
                                    ab_j_2559 = abort
                                )
                        )
                ) : (
                    ab_i_3932 = abort
                )));
    record_j_2563 = {checker = flatten_fun_j_1975, generator = flatten_fun_j_2268, wrapper = flatten_fun_j_2562};
    proj_j_2564 = record_j_2563.checker);
appl_j_2567 = flatten_fun_j_2565 n_b_376;
appl_j_2570 = appl_j_1683 n_b_376;
appl_j_2571 = appl_j_2567 appl_j_2570;
check_res_b_375 = appl_j_2571;
if_j_3756 = check_res_b_375 ? (
        make_ngrams_j_3184 = fun n_j_403 -> (
            flatten_fun_j_3181 = fun n_b_2 -> (
                var_j_2573 = pos_int;
                proj_j_2574 = var_j_2573.checker;
                var_j_2575 = n_b_2;
                appl_j_2576 = proj_j_2574 var_j_2575;
                arg_check_b_3 = appl_j_2576;
                var_j_2577 = arg_check_b_3;
                if_j_3180 = var_j_2577 ? (
                        flatten_fun_j_3124 = fun n_j_396 -> (
                            flatten_fun_j_2755 = fun expr_b_288 -> (
                                flatten_fun_j_2617 = fun expr_b_276 -> (
                                    bool_j_2578 = false;
                                    lst_fail_b_277 = bool_j_2578;
                                    var_j_2579 = expr_b_276;
                                    m_match_bool_j_2581 = var_j_2579 ~ any;
                                    m_match_bool_j_2584 = var_j_2579 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_2614 = var_j_2579 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_2615 = m_match_bool_j_2614 ? (
                                            bool_j_2616 = true
                                        ) : (
                                            m_match_cond_j_2585 = m_match_bool_j_2584 ? (
                                                    bj_underscore_j_340 = var_j_2579.j_head;
                                                    bj_underscore2_j_339 = var_j_2579.j_tail;
                                                    flatten_fun_j_2607 = fun test_fun_b_273_j_30 -> (
                                                        flatten_fun_j_2606 = fun test_list_b_274 -> (
                                                            var_j_2586 = test_fun_b_273_j_30;
                                                            var_j_2587 = test_fun_b_273_j_30;
                                                            appl_j_2588 = var_j_2586 var_j_2587;
                                                            test_fun_b_273 = appl_j_2588;
                                                            var_j_2589 = test_list_b_274;
                                                            m_match_bool_j_2591 = var_j_2589 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_2603 = var_j_2589 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_2604 = m_match_bool_j_2603 ? (
                                                                    bool_j_2605 = true
                                                                ) : (
                                                                    m_match_cond_j_2592 = m_match_bool_j_2591 ? (
                                                                        hd_j_336 = var_j_2589.j_head;
                                                                    tl_j_335 = var_j_2589.j_tail;
                                                                    var_j_2593 = token;
                                                                    proj_j_2594 = var_j_2593.checker;
                                                                    var_j_2595 = hd_j_336;
                                                                    appl_j_2596 = proj_j_2594 var_j_2595;
                                                                    elm_check_b_275 = appl_j_2596;
                                                                    var_j_2597 = elm_check_b_275;
                                                                    if_j_2602 = var_j_2597 ? (
                                                                        var_j_2598 = test_fun_b_273;
                                                                    var_j_2599 = tl_j_335;
                                                                    appl_j_2600 = var_j_2598 var_j_2599
                                                                    ) : (
                                                                        var_j_2601 = elm_check_b_275
                                                                    )
                                                                    ) : (
                                                                        void_j_2590 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_273_j_30_j_338 = flatten_fun_j_2607;
                                                    var_j_2608 = test_fun_b_273_j_30_j_338;
                                                    var_j_2609 = test_fun_b_273_j_30_j_338;
                                                    appl_j_2610 = var_j_2608 var_j_2609;
                                                    test_fun_b_273_j_337 = appl_j_2610;
                                                    var_j_2611 = test_fun_b_273_j_337;
                                                    var_j_2612 = expr_b_276;
                                                    appl_j_2613 = var_j_2611 var_j_2612
                                                ) : (
                                                    m_match_cond_j_2582 = m_match_bool_j_2581 ? (
                                                            var_j_2583 = lst_fail_b_277
                                                        ) : (
                                                            void_j_2580 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_2654 = fun bj_null_j_344 -> (
                                    flatten_fun_j_2640 = fun list_maker_b_271_j_31 -> (
                                        flatten_fun_j_2639 = fun len_b_270 -> (
                                            var_j_2618 = list_maker_b_271_j_31;
                                            var_j_2619 = list_maker_b_271_j_31;
                                            appl_j_2620 = var_j_2618 var_j_2619;
                                            list_maker_b_271 = appl_j_2620;
                                            var_j_2621 = len_b_270;
                                            int_j_2622 = 0;
                                            binop_j_2623 = var_j_2621 == int_j_2622;
                                            if_j_2638 = binop_j_2623 ? (
                                                    record_j_2624 = {};
                                                    record_j_2625 = {j_empty = record_j_2624}
                                                ) : (
                                                    var_j_2626 = token;
                                                    proj_j_2627 = var_j_2626.generator;
                                                    int_j_2628 = 0;
                                                    appl_j_2629 = proj_j_2627 int_j_2628;
                                                    elm_b_272 = appl_j_2629;
                                                    record_j_2630 = {};
                                                    var_j_2631 = elm_b_272;
                                                    var_j_2632 = list_maker_b_271;
                                                    var_j_2633 = len_b_270;
                                                    int_j_2634 = 1;
                                                    binop_j_2635 = var_j_2633 - int_j_2634;
                                                    appl_j_2636 = var_j_2632 binop_j_2635;
                                                    record_j_2637 = {j_cons = record_j_2630, j_head = var_j_2631, j_tail = appl_j_2636}
                                                )));
                                    list_maker_b_271_j_31_j_343 = flatten_fun_j_2640;
                                    var_j_2641 = list_maker_b_271_j_31_j_343;
                                    var_j_2642 = list_maker_b_271_j_31_j_343;
                                    appl_j_2643 = var_j_2641 var_j_2642;
                                    list_maker_b_271_j_342 = appl_j_2643;
                                    input_j_2644 = input;
                                    len_b_270_j_341 = input_j_2644;
                                    int_j_2645 = 0;
                                    var_j_2646 = len_b_270_j_341;
                                    binop_j_2647 = int_j_2645 <= var_j_2646;
                                    if_j_2653 = binop_j_2647 ? (
                                            var_j_2648 = list_maker_b_271_j_342;
                                            var_j_2649 = len_b_270_j_341;
                                            appl_j_2650 = var_j_2648 var_j_2649
                                        ) : (
                                            bool_j_2651 = false;
                                            assume_j_2652 = assume bool_j_2651
                                        ));
                                flatten_fun_j_2656 = fun expr_b_278 -> (
                                    var_j_2655 = expr_b_278);
                                record_j_2657 = {checker = flatten_fun_j_2617, generator = flatten_fun_j_2654, wrapper = flatten_fun_j_2656};
                                proj_j_2658 = record_j_2657.generator;
                                int_j_2659 = 0;
                                appl_j_2660 = proj_j_2658 int_j_2659;
                                arg_assert_b_289 = appl_j_2660;
                                var_j_2661 = expr_b_288;
                                var_j_2662 = arg_assert_b_289;
                                appl_j_2663 = var_j_2661 var_j_2662;
                                fun_ret_b_290 = appl_j_2663;
                                flatten_fun_j_2707 = fun expr_b_285 -> (
                                    bool_j_2664 = false;
                                    lst_fail_b_286 = bool_j_2664;
                                    var_j_2665 = expr_b_285;
                                    m_match_bool_j_2667 = var_j_2665 ~ any;
                                    m_match_bool_j_2670 = var_j_2665 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_2704 = var_j_2665 ~ 
                                        {j_empty, _};
                                    m_match_cond_j_2705 = m_match_bool_j_2704 ? (
                                            bool_j_2706 = true
                                        ) : (
                                            m_match_cond_j_2671 = m_match_bool_j_2670 ? (
                                                    bj_underscore_j_350 = var_j_2665.j_head;
                                                    bj_underscore2_j_349 = var_j_2665.j_tail;
                                                    flatten_fun_j_2697 = fun test_fun_b_282_j_32 -> (
                                                        flatten_fun_j_2696 = fun test_list_b_283 -> (
                                                            var_j_2672 = test_fun_b_282_j_32;
                                                            var_j_2673 = test_fun_b_282_j_32;
                                                            appl_j_2674 = var_j_2672 var_j_2673;
                                                            test_fun_b_282 = appl_j_2674;
                                                            var_j_2675 = test_list_b_283;
                                                            m_match_bool_j_2677 = var_j_2675 ~ 
                                                                {j_head, j_tail, _};
                                                            m_match_bool_j_2693 = var_j_2675 ~ 
                                                                {j_empty, _};
                                                            m_match_cond_j_2694 = m_match_bool_j_2693 ? (
                                                                    bool_j_2695 = true
                                                                ) : (
                                                                    m_match_cond_j_2678 = m_match_bool_j_2677 ? (
                                                                        hd_j_346 = var_j_2675.j_head;
                                                                    tl_j_345 = var_j_2675.j_tail;
                                                                    var_j_2679 = ngram;
                                                                    var_j_2680 = n_j_396;
                                                                    m_i_3933 = var_j_2679 ~ fun;
                                                                    appl_j_2681 = m_i_3933 ? (
                                                                        c_appl_i_3934 = var_j_2679 var_j_2680
                                                                    ) : (
                                                                        ab_i_3935 = abort
                                                                    );
                                                                    var_j_2682 = token;
                                                                    m_i_3936 = appl_j_2681 ~ fun;
                                                                    appl_j_2683 = m_i_3936 ? (
                                                                        c_appl_i_3937 = appl_j_2681 var_j_2682
                                                                    ) : (
                                                                        ab_i_3938 = abort
                                                                    );
                                                                    proj_j_2684 = appl_j_2683.checker;
                                                                    var_j_2685 = hd_j_346;
                                                                    appl_j_2686 = proj_j_2684 var_j_2685;
                                                                    elm_check_b_284 = appl_j_2686;
                                                                    var_j_2687 = elm_check_b_284;
                                                                    if_j_2692 = var_j_2687 ? (
                                                                        var_j_2688 = test_fun_b_282;
                                                                    var_j_2689 = tl_j_345;
                                                                    appl_j_2690 = var_j_2688 var_j_2689
                                                                    ) : (
                                                                        var_j_2691 = elm_check_b_284
                                                                    )
                                                                    ) : (
                                                                        void_j_2676 = 
                                                                    {}
                                                                    )
                                                                )));
                                                    test_fun_b_282_j_32_j_348 = flatten_fun_j_2697;
                                                    var_j_2698 = test_fun_b_282_j_32_j_348;
                                                    var_j_2699 = test_fun_b_282_j_32_j_348;
                                                    appl_j_2700 = var_j_2698 var_j_2699;
                                                    test_fun_b_282_j_347 = appl_j_2700;
                                                    var_j_2701 = test_fun_b_282_j_347;
                                                    var_j_2702 = expr_b_285;
                                                    appl_j_2703 = var_j_2701 var_j_2702
                                                ) : (
                                                    m_match_cond_j_2668 = m_match_bool_j_2667 ? (
                                                            var_j_2669 = lst_fail_b_286
                                                        ) : (
                                                            void_j_2666 = 
                                                                {}
                                                        )
                                                )
                                        ));
                                flatten_fun_j_2748 = fun bj_null_j_354 -> (
                                    flatten_fun_j_2734 = fun list_maker_b_280_j_33 -> (
                                        flatten_fun_j_2733 = fun len_b_279 -> (
                                            var_j_2708 = list_maker_b_280_j_33;
                                            var_j_2709 = list_maker_b_280_j_33;
                                            appl_j_2710 = var_j_2708 var_j_2709;
                                            list_maker_b_280 = appl_j_2710;
                                            var_j_2711 = len_b_279;
                                            int_j_2712 = 0;
                                            binop_j_2713 = var_j_2711 == int_j_2712;
                                            if_j_2732 = binop_j_2713 ? (
                                                    record_j_2714 = {};
                                                    record_j_2715 = {j_empty = record_j_2714}
                                                ) : (
                                                    var_j_2716 = ngram;
                                                    var_j_2717 = n_j_396;
                                                    m_i_3939 = var_j_2716 ~ fun;
                                                    appl_j_2718 = m_i_3939 ? (
                                                            c_appl_i_3940 = var_j_2716 var_j_2717
                                                        ) : (
                                                            ab_i_3941 = abort
                                                        );
                                                    var_j_2719 = token;
                                                    m_i_3942 = appl_j_2718 ~ fun;
                                                    appl_j_2720 = m_i_3942 ? (
                                                            c_appl_i_3943 = appl_j_2718 var_j_2719
                                                        ) : (
                                                            ab_i_3944 = abort
                                                        );
                                                    proj_j_2721 = appl_j_2720.generator;
                                                    int_j_2722 = 0;
                                                    appl_j_2723 = proj_j_2721 int_j_2722;
                                                    elm_b_281 = appl_j_2723;
                                                    record_j_2724 = {};
                                                    var_j_2725 = elm_b_281;
                                                    var_j_2726 = list_maker_b_280;
                                                    var_j_2727 = len_b_279;
                                                    int_j_2728 = 1;
                                                    binop_j_2729 = var_j_2727 - int_j_2728;
                                                    appl_j_2730 = var_j_2726 binop_j_2729;
                                                    record_j_2731 = {j_cons = record_j_2724, j_head = var_j_2725, j_tail = appl_j_2730}
                                                )));
                                    list_maker_b_280_j_33_j_353 = flatten_fun_j_2734;
                                    var_j_2735 = list_maker_b_280_j_33_j_353;
                                    var_j_2736 = list_maker_b_280_j_33_j_353;
                                    appl_j_2737 = var_j_2735 var_j_2736;
                                    list_maker_b_280_j_352 = appl_j_2737;
                                    input_j_2738 = input;
                                    len_b_279_j_351 = input_j_2738;
                                    int_j_2739 = 0;
                                    var_j_2740 = len_b_279_j_351;
                                    binop_j_2741 = int_j_2739 <= var_j_2740;
                                    if_j_2747 = binop_j_2741 ? (
                                            var_j_2742 = list_maker_b_280_j_352;
                                            var_j_2743 = len_b_279_j_351;
                                            appl_j_2744 = var_j_2742 var_j_2743
                                        ) : (
                                            bool_j_2745 = false;
                                            assume_j_2746 = assume bool_j_2745
                                        ));
                                flatten_fun_j_2750 = fun expr_b_287 -> (
                                    var_j_2749 = expr_b_287);
                                record_j_2751 = {checker = flatten_fun_j_2707, generator = flatten_fun_j_2748, wrapper = flatten_fun_j_2750};
                                proj_j_2752 = record_j_2751.checker;
                                var_j_2753 = fun_ret_b_290;
                                appl_j_2754 = proj_j_2752 var_j_2753);
                            flatten_fun_j_2938 = fun bj_null_j_375 -> (
                                flatten_fun_j_2937 = fun arg_assume_b_268 -> (
                                    flatten_fun_j_2795 = fun expr_b_256 -> (
                                        bool_j_2756 = false;
                                        lst_fail_b_257 = bool_j_2756;
                                        var_j_2757 = expr_b_256;
                                        m_match_bool_j_2759 = var_j_2757 ~ any;
                                        m_match_bool_j_2762 = var_j_2757 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_2792 = var_j_2757 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_2793 = m_match_bool_j_2792 ? (
                                                bool_j_2794 = true
                                            ) : (
                                                m_match_cond_j_2763 = m_match_bool_j_2762 ? (
                                                        bj_underscore_j_360 = var_j_2757.j_head;
                                                        bj_underscore2_j_359 = var_j_2757.j_tail;
                                                        flatten_fun_j_2785 = fun test_fun_b_253_j_34 -> (
                                                            flatten_fun_j_2784 = fun test_list_b_254 -> (
                                                                var_j_2764 = test_fun_b_253_j_34;
                                                                var_j_2765 = test_fun_b_253_j_34;
                                                                appl_j_2766 = var_j_2764 var_j_2765;
                                                                test_fun_b_253 = appl_j_2766;
                                                                var_j_2767 = test_list_b_254;
                                                                m_match_bool_j_2769 = var_j_2767 ~ 
                                                                    {j_head, j_tail, _};
                                                                m_match_bool_j_2781 = var_j_2767 ~ 
                                                                    {j_empty, _};
                                                                m_match_cond_j_2782 = m_match_bool_j_2781 ? (
                                                                        
                                                                    bool_j_2783 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_2770 = m_match_bool_j_2769 ? (
                                                                        hd_j_356 = var_j_2767.j_head;
                                                                    tl_j_355 = var_j_2767.j_tail;
                                                                    var_j_2771 = token;
                                                                    proj_j_2772 = var_j_2771.checker;
                                                                    var_j_2773 = hd_j_356;
                                                                    appl_j_2774 = proj_j_2772 var_j_2773;
                                                                    elm_check_b_255 = appl_j_2774;
                                                                    var_j_2775 = elm_check_b_255;
                                                                    if_j_2780 = var_j_2775 ? (
                                                                        var_j_2776 = test_fun_b_253;
                                                                    var_j_2777 = tl_j_355;
                                                                    appl_j_2778 = var_j_2776 var_j_2777
                                                                    ) : (
                                                                        var_j_2779 = elm_check_b_255
                                                                    )
                                                                    ) : (
                                                                        void_j_2768 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                        test_fun_b_253_j_34_j_358 = flatten_fun_j_2785;
                                                        var_j_2786 = test_fun_b_253_j_34_j_358;
                                                        var_j_2787 = test_fun_b_253_j_34_j_358;
                                                        appl_j_2788 = var_j_2786 var_j_2787;
                                                        test_fun_b_253_j_357 = appl_j_2788;
                                                        var_j_2789 = test_fun_b_253_j_357;
                                                        var_j_2790 = expr_b_256;
                                                        appl_j_2791 = var_j_2789 var_j_2790
                                                    ) : (
                                                        m_match_cond_j_2760 = m_match_bool_j_2759 ? (
                                                                var_j_2761 = lst_fail_b_257
                                                            ) : (
                                                                void_j_2758 = 
                                                                    {}
                                                            )
                                                    )
                                            ));
                                    flatten_fun_j_2832 = fun bj_null_j_364 -> (
                                        flatten_fun_j_2818 = fun list_maker_b_251_j_35 -> (
                                            flatten_fun_j_2817 = fun len_b_250 -> (
                                                var_j_2796 = list_maker_b_251_j_35;
                                                var_j_2797 = list_maker_b_251_j_35;
                                                appl_j_2798 = var_j_2796 var_j_2797;
                                                list_maker_b_251 = appl_j_2798;
                                                var_j_2799 = len_b_250;
                                                int_j_2800 = 0;
                                                binop_j_2801 = var_j_2799 == int_j_2800;
                                                if_j_2816 = binop_j_2801 ? (
                                                        record_j_2802 = 
                                                            {};
                                                        record_j_2803 = 
                                                            {j_empty = record_j_2802}
                                                    ) : (
                                                        var_j_2804 = token;
                                                        proj_j_2805 = var_j_2804.generator;
                                                        int_j_2806 = 0;
                                                        appl_j_2807 = proj_j_2805 int_j_2806;
                                                        elm_b_252 = appl_j_2807;
                                                        record_j_2808 = 
                                                            {};
                                                        var_j_2809 = elm_b_252;
                                                        var_j_2810 = list_maker_b_251;
                                                        var_j_2811 = len_b_250;
                                                        int_j_2812 = 1;
                                                        binop_j_2813 = var_j_2811 - int_j_2812;
                                                        appl_j_2814 = var_j_2810 binop_j_2813;
                                                        record_j_2815 = 
                                                            {j_cons = record_j_2808, j_head = var_j_2809, j_tail = appl_j_2814}
                                                    )));
                                        list_maker_b_251_j_35_j_363 = flatten_fun_j_2818;
                                        var_j_2819 = list_maker_b_251_j_35_j_363;
                                        var_j_2820 = list_maker_b_251_j_35_j_363;
                                        appl_j_2821 = var_j_2819 var_j_2820;
                                        list_maker_b_251_j_362 = appl_j_2821;
                                        input_j_2822 = input;
                                        len_b_250_j_361 = input_j_2822;
                                        int_j_2823 = 0;
                                        var_j_2824 = len_b_250_j_361;
                                        binop_j_2825 = int_j_2823 <= var_j_2824;
                                        if_j_2831 = binop_j_2825 ? (
                                                var_j_2826 = list_maker_b_251_j_362;
                                                var_j_2827 = len_b_250_j_361;
                                                appl_j_2828 = var_j_2826 var_j_2827
                                            ) : (
                                                bool_j_2829 = false;
                                                assume_j_2830 = assume bool_j_2829
                                            ));
                                    flatten_fun_j_2834 = fun expr_b_258 -> (
                                        var_j_2833 = expr_b_258);
                                    record_j_2835 = {checker = flatten_fun_j_2795, generator = flatten_fun_j_2832, wrapper = flatten_fun_j_2834};
                                    proj_j_2836 = record_j_2835.checker;
                                    var_j_2837 = arg_assume_b_268;
                                    appl_j_2838 = proj_j_2836 var_j_2837;
                                    if_j_2936 = appl_j_2838 ? (
                                            flatten_fun_j_2882 = fun expr_b_265 -> (
                                                bool_j_2839 = false;
                                                lst_fail_b_266 = bool_j_2839;
                                                var_j_2840 = expr_b_265;
                                                m_match_bool_j_2842 = var_j_2840 ~ any;
                                                m_match_bool_j_2845 = var_j_2840 ~ 
                                                    {j_head, j_tail, _};
                                                m_match_bool_j_2879 = var_j_2840 ~ 
                                                    {j_empty, _};
                                                m_match_cond_j_2880 = m_match_bool_j_2879 ? (
                                                        bool_j_2881 = true
                                                    ) : (
                                                        m_match_cond_j_2846 = m_match_bool_j_2845 ? (
                                                                bj_underscore_j_370 = var_j_2840.j_head;
                                                                bj_underscore2_j_369 = var_j_2840.j_tail;
                                                                flatten_fun_j_2872 = fun test_fun_b_262_j_36 -> (
                                                                    flatten_fun_j_2871 = fun test_list_b_263 -> (
                                                                    var_j_2847 = test_fun_b_262_j_36;
                                                                    var_j_2848 = test_fun_b_262_j_36;
                                                                    appl_j_2849 = var_j_2847 var_j_2848;
                                                                    test_fun_b_262 = appl_j_2849;
                                                                    var_j_2850 = test_list_b_263;
                                                                    m_match_bool_j_2852 = var_j_2850 ~ 
                                                                    {j_head, j_tail, _};
                                                                    m_match_bool_j_2868 = var_j_2850 ~ 
                                                                    {j_empty, _};
                                                                    m_match_cond_j_2869 = m_match_bool_j_2868 ? (
                                                                        bool_j_2870 = true
                                                                    ) : (
                                                                        m_match_cond_j_2853 = m_match_bool_j_2852 ? (
                                                                        hd_j_366 = var_j_2850.j_head;
                                                                    tl_j_365 = var_j_2850.j_tail;
                                                                    var_j_2854 = ngram;
                                                                    var_j_2855 = n_j_396;
                                                                    m_i_3945 = var_j_2854 ~ fun;
                                                                    appl_j_2856 = m_i_3945 ? (
                                                                        c_appl_i_3946 = var_j_2854 var_j_2855
                                                                    ) : (
                                                                        ab_i_3947 = abort
                                                                    );
                                                                    var_j_2857 = token;
                                                                    m_i_3948 = appl_j_2856 ~ fun;
                                                                    appl_j_2858 = m_i_3948 ? (
                                                                        c_appl_i_3949 = appl_j_2856 var_j_2857
                                                                    ) : (
                                                                        ab_i_3950 = abort
                                                                    );
                                                                    proj_j_2859 = appl_j_2858.checker;
                                                                    var_j_2860 = hd_j_366;
                                                                    appl_j_2861 = proj_j_2859 var_j_2860;
                                                                    elm_check_b_264 = appl_j_2861;
                                                                    var_j_2862 = elm_check_b_264;
                                                                    if_j_2867 = var_j_2862 ? (
                                                                        var_j_2863 = test_fun_b_262;
                                                                    var_j_2864 = tl_j_365;
                                                                    appl_j_2865 = var_j_2863 var_j_2864
                                                                    ) : (
                                                                        var_j_2866 = elm_check_b_264
                                                                    )
                                                                    ) : (
                                                                        void_j_2851 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                                test_fun_b_262_j_36_j_368 = flatten_fun_j_2872;
                                                                var_j_2873 = test_fun_b_262_j_36_j_368;
                                                                var_j_2874 = test_fun_b_262_j_36_j_368;
                                                                appl_j_2875 = var_j_2873 var_j_2874;
                                                                test_fun_b_262_j_367 = appl_j_2875;
                                                                var_j_2876 = test_fun_b_262_j_367;
                                                                var_j_2877 = expr_b_265;
                                                                appl_j_2878 = var_j_2876 var_j_2877
                                                            ) : (
                                                                m_match_cond_j_2843 = m_match_bool_j_2842 ? (
                                                                        
                                                                    var_j_2844 = lst_fail_b_266
                                                                    ) : (
                                                                        
                                                                    void_j_2841 = 
                                                                    {}
                                                                    )
                                                            )
                                                    ));
                                            flatten_fun_j_2923 = fun bj_null_j_374 -> (
                                                flatten_fun_j_2909 = fun list_maker_b_260_j_37 -> (
                                                    flatten_fun_j_2908 = fun len_b_259 -> (
                                                        var_j_2883 = list_maker_b_260_j_37;
                                                        var_j_2884 = list_maker_b_260_j_37;
                                                        appl_j_2885 = var_j_2883 var_j_2884;
                                                        list_maker_b_260 = appl_j_2885;
                                                        var_j_2886 = len_b_259;
                                                        int_j_2887 = 0;
                                                        binop_j_2888 = var_j_2886 == int_j_2887;
                                                        if_j_2907 = binop_j_2888 ? (
                                                                record_j_2889 = 
                                                                    {};
                                                                record_j_2890 = 
                                                                    {j_empty = record_j_2889}
                                                            ) : (
                                                                var_j_2891 = ngram;
                                                                var_j_2892 = n_j_396;
                                                                m_i_3951 = var_j_2891 ~ fun;
                                                                appl_j_2893 = m_i_3951 ? (
                                                                        
                                                                    c_appl_i_3952 = var_j_2891 var_j_2892
                                                                    ) : (
                                                                        
                                                                    ab_i_3953 = abort
                                                                    );
                                                                var_j_2894 = token;
                                                                m_i_3954 = appl_j_2893 ~ fun;
                                                                appl_j_2895 = m_i_3954 ? (
                                                                        
                                                                    c_appl_i_3955 = appl_j_2893 var_j_2894
                                                                    ) : (
                                                                        
                                                                    ab_i_3956 = abort
                                                                    );
                                                                proj_j_2896 = appl_j_2895.generator;
                                                                int_j_2897 = 0;
                                                                appl_j_2898 = proj_j_2896 int_j_2897;
                                                                elm_b_261 = appl_j_2898;
                                                                record_j_2899 = 
                                                                    {};
                                                                var_j_2900 = elm_b_261;
                                                                var_j_2901 = list_maker_b_260;
                                                                var_j_2902 = len_b_259;
                                                                int_j_2903 = 1;
                                                                binop_j_2904 = var_j_2902 - int_j_2903;
                                                                appl_j_2905 = var_j_2901 binop_j_2904;
                                                                record_j_2906 = 
                                                                    {j_cons = record_j_2899, j_head = var_j_2900, j_tail = appl_j_2905}
                                                            )));
                                                list_maker_b_260_j_37_j_373 = flatten_fun_j_2909;
                                                var_j_2910 = list_maker_b_260_j_37_j_373;
                                                var_j_2911 = list_maker_b_260_j_37_j_373;
                                                appl_j_2912 = var_j_2910 var_j_2911;
                                                list_maker_b_260_j_372 = appl_j_2912;
                                                input_j_2913 = input;
                                                len_b_259_j_371 = input_j_2913;
                                                int_j_2914 = 0;
                                                var_j_2915 = len_b_259_j_371;
                                                binop_j_2916 = int_j_2914 <= var_j_2915;
                                                if_j_2922 = binop_j_2916 ? (
                                                        var_j_2917 = list_maker_b_260_j_372;
                                                        var_j_2918 = len_b_259_j_371;
                                                        appl_j_2919 = var_j_2917 var_j_2918
                                                    ) : (
                                                        bool_j_2920 = false;
                                                        assume_j_2921 = assume bool_j_2920
                                                    ));
                                            flatten_fun_j_2925 = fun expr_b_267 -> (
                                                var_j_2924 = expr_b_267);
                                            record_j_2926 = {checker = flatten_fun_j_2882, generator = flatten_fun_j_2923, wrapper = flatten_fun_j_2925};
                                            proj_j_2927 = record_j_2926.generator;
                                            int_j_2928 = 0;
                                            appl_j_2929 = proj_j_2927 int_j_2928
                                        ) : (
                                            bool_j_2930 = false;
                                            fail_b_269 = bool_j_2930;
                                            var_j_2931 = fail_b_269;
                                            assert_pred_j_2932 = var_j_2931;
                                            assert_res_j_2933 = assert_pred_j_2932 ? (
                                                    assert_res_true_j_2934 = 
                                                        {}
                                                ) : (
                                                    ab_j_2935 = abort
                                                )
                                        )));
                            flatten_fun_j_3122 = fun expr_b_309 -> (
                                flatten_fun_j_3121 = fun arg_b_310 -> (
                                    flatten_fun_j_2978 = fun expr_b_297 -> (
                                        bool_j_2939 = false;
                                        lst_fail_b_298 = bool_j_2939;
                                        var_j_2940 = expr_b_297;
                                        m_match_bool_j_2942 = var_j_2940 ~ any;
                                        m_match_bool_j_2945 = var_j_2940 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_2975 = var_j_2940 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_2976 = m_match_bool_j_2975 ? (
                                                bool_j_2977 = true
                                            ) : (
                                                m_match_cond_j_2946 = m_match_bool_j_2945 ? (
                                                        bj_underscore_j_381 = var_j_2940.j_head;
                                                        bj_underscore2_j_380 = var_j_2940.j_tail;
                                                        flatten_fun_j_2968 = fun test_fun_b_294_j_38 -> (
                                                            flatten_fun_j_2967 = fun test_list_b_295 -> (
                                                                var_j_2947 = test_fun_b_294_j_38;
                                                                var_j_2948 = test_fun_b_294_j_38;
                                                                appl_j_2949 = var_j_2947 var_j_2948;
                                                                test_fun_b_294 = appl_j_2949;
                                                                var_j_2950 = test_list_b_295;
                                                                m_match_bool_j_2952 = var_j_2950 ~ 
                                                                    {j_head, j_tail, _};
                                                                m_match_bool_j_2964 = var_j_2950 ~ 
                                                                    {j_empty, _};
                                                                m_match_cond_j_2965 = m_match_bool_j_2964 ? (
                                                                        
                                                                    bool_j_2966 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_2953 = m_match_bool_j_2952 ? (
                                                                        hd_j_377 = var_j_2950.j_head;
                                                                    tl_j_376 = var_j_2950.j_tail;
                                                                    var_j_2954 = token;
                                                                    proj_j_2955 = var_j_2954.checker;
                                                                    var_j_2956 = hd_j_377;
                                                                    appl_j_2957 = proj_j_2955 var_j_2956;
                                                                    elm_check_b_296 = appl_j_2957;
                                                                    var_j_2958 = elm_check_b_296;
                                                                    if_j_2963 = var_j_2958 ? (
                                                                        var_j_2959 = test_fun_b_294;
                                                                    var_j_2960 = tl_j_376;
                                                                    appl_j_2961 = var_j_2959 var_j_2960
                                                                    ) : (
                                                                        var_j_2962 = elm_check_b_296
                                                                    )
                                                                    ) : (
                                                                        void_j_2951 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                        test_fun_b_294_j_38_j_379 = flatten_fun_j_2968;
                                                        var_j_2969 = test_fun_b_294_j_38_j_379;
                                                        var_j_2970 = test_fun_b_294_j_38_j_379;
                                                        appl_j_2971 = var_j_2969 var_j_2970;
                                                        test_fun_b_294_j_378 = appl_j_2971;
                                                        var_j_2972 = test_fun_b_294_j_378;
                                                        var_j_2973 = expr_b_297;
                                                        appl_j_2974 = var_j_2972 var_j_2973
                                                    ) : (
                                                        m_match_cond_j_2943 = m_match_bool_j_2942 ? (
                                                                var_j_2944 = lst_fail_b_298
                                                            ) : (
                                                                void_j_2941 = 
                                                                    {}
                                                            )
                                                    )
                                            ));
                                    flatten_fun_j_3015 = fun bj_null_j_385 -> (
                                        flatten_fun_j_3001 = fun list_maker_b_292_j_39 -> (
                                            flatten_fun_j_3000 = fun len_b_291 -> (
                                                var_j_2979 = list_maker_b_292_j_39;
                                                var_j_2980 = list_maker_b_292_j_39;
                                                appl_j_2981 = var_j_2979 var_j_2980;
                                                list_maker_b_292 = appl_j_2981;
                                                var_j_2982 = len_b_291;
                                                int_j_2983 = 0;
                                                binop_j_2984 = var_j_2982 == int_j_2983;
                                                if_j_2999 = binop_j_2984 ? (
                                                        record_j_2985 = 
                                                            {};
                                                        record_j_2986 = 
                                                            {j_empty = record_j_2985}
                                                    ) : (
                                                        var_j_2987 = token;
                                                        proj_j_2988 = var_j_2987.generator;
                                                        int_j_2989 = 0;
                                                        appl_j_2990 = proj_j_2988 int_j_2989;
                                                        elm_b_293 = appl_j_2990;
                                                        record_j_2991 = 
                                                            {};
                                                        var_j_2992 = elm_b_293;
                                                        var_j_2993 = list_maker_b_292;
                                                        var_j_2994 = len_b_291;
                                                        int_j_2995 = 1;
                                                        binop_j_2996 = var_j_2994 - int_j_2995;
                                                        appl_j_2997 = var_j_2993 binop_j_2996;
                                                        record_j_2998 = 
                                                            {j_cons = record_j_2991, j_head = var_j_2992, j_tail = appl_j_2997}
                                                    )));
                                        list_maker_b_292_j_39_j_384 = flatten_fun_j_3001;
                                        var_j_3002 = list_maker_b_292_j_39_j_384;
                                        var_j_3003 = list_maker_b_292_j_39_j_384;
                                        appl_j_3004 = var_j_3002 var_j_3003;
                                        list_maker_b_292_j_383 = appl_j_3004;
                                        input_j_3005 = input;
                                        len_b_291_j_382 = input_j_3005;
                                        int_j_3006 = 0;
                                        var_j_3007 = len_b_291_j_382;
                                        binop_j_3008 = int_j_3006 <= var_j_3007;
                                        if_j_3014 = binop_j_3008 ? (
                                                var_j_3009 = list_maker_b_292_j_383;
                                                var_j_3010 = len_b_291_j_382;
                                                appl_j_3011 = var_j_3009 var_j_3010
                                            ) : (
                                                bool_j_3012 = false;
                                                assume_j_3013 = assume bool_j_3012
                                            ));
                                    flatten_fun_j_3017 = fun expr_b_299 -> (
                                        var_j_3016 = expr_b_299);
                                    record_j_3018 = {checker = flatten_fun_j_2978, generator = flatten_fun_j_3015, wrapper = flatten_fun_j_3017};
                                    proj_j_3019 = record_j_3018.checker;
                                    var_j_3020 = arg_b_310;
                                    m_i_3957 = proj_j_3019 ~ fun;
                                    appl_j_3021 = m_i_3957 ? (
                                            c_appl_i_3958 = proj_j_3019 var_j_3020
                                        ) : (
                                            ab_i_3959 = abort
                                        );
                                    m_i_3960 = appl_j_3021 ~ bool;
                                    if_j_3120 = m_i_3960 ? (
                                            c_cond_i_3979 = appl_j_3021 ? (
                                                    flatten_fun_j_3065 = fun expr_b_306 -> (
                                                        bool_j_3022 = false;
                                                        lst_fail_b_307 = bool_j_3022;
                                                        var_j_3023 = expr_b_306;
                                                        m_match_bool_j_3025 = var_j_3023 ~ any;
                                                        m_match_bool_j_3028 = var_j_3023 ~ 
                                                            {j_head, j_tail, _};
                                                        m_match_bool_j_3062 = var_j_3023 ~ 
                                                            {j_empty, _};
                                                        m_match_cond_j_3063 = m_match_bool_j_3062 ? (
                                                                bool_j_3064 = true
                                                            ) : (
                                                                m_match_cond_j_3029 = m_match_bool_j_3028 ? (
                                                                        
                                                                    bj_underscore_j_391 = var_j_3023.j_head;
                                                                    bj_underscore2_j_390 = var_j_3023.j_tail;
                                                                    flatten_fun_j_3055 = fun test_fun_b_303_j_40 -> (
                                                                    flatten_fun_j_3054 = fun test_list_b_304 -> (
                                                                    var_j_3030 = test_fun_b_303_j_40;
                                                                    var_j_3031 = test_fun_b_303_j_40;
                                                                    appl_j_3032 = var_j_3030 var_j_3031;
                                                                    test_fun_b_303 = appl_j_3032;
                                                                    var_j_3033 = test_list_b_304;
                                                                    m_match_bool_j_3035 = var_j_3033 ~ 
                                                                    {j_head, j_tail, _};
                                                                    m_match_bool_j_3051 = var_j_3033 ~ 
                                                                    {j_empty, _};
                                                                    m_match_cond_j_3052 = m_match_bool_j_3051 ? (
                                                                        bool_j_3053 = true
                                                                    ) : (
                                                                        m_match_cond_j_3036 = m_match_bool_j_3035 ? (
                                                                        hd_j_387 = var_j_3033.j_head;
                                                                    tl_j_386 = var_j_3033.j_tail;
                                                                    var_j_3037 = ngram;
                                                                    var_j_3038 = n_j_396;
                                                                    m_i_3961 = var_j_3037 ~ fun;
                                                                    appl_j_3039 = m_i_3961 ? (
                                                                        c_appl_i_3962 = var_j_3037 var_j_3038
                                                                    ) : (
                                                                        ab_i_3963 = abort
                                                                    );
                                                                    var_j_3040 = token;
                                                                    m_i_3964 = appl_j_3039 ~ fun;
                                                                    appl_j_3041 = m_i_3964 ? (
                                                                        c_appl_i_3965 = appl_j_3039 var_j_3040
                                                                    ) : (
                                                                        ab_i_3966 = abort
                                                                    );
                                                                    proj_j_3042 = appl_j_3041.checker;
                                                                    var_j_3043 = hd_j_387;
                                                                    appl_j_3044 = proj_j_3042 var_j_3043;
                                                                    elm_check_b_305 = appl_j_3044;
                                                                    var_j_3045 = elm_check_b_305;
                                                                    if_j_3050 = var_j_3045 ? (
                                                                        var_j_3046 = test_fun_b_303;
                                                                    var_j_3047 = tl_j_386;
                                                                    appl_j_3048 = var_j_3046 var_j_3047
                                                                    ) : (
                                                                        var_j_3049 = elm_check_b_305
                                                                    )
                                                                    ) : (
                                                                        void_j_3034 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                                    test_fun_b_303_j_40_j_389 = flatten_fun_j_3055;
                                                                    var_j_3056 = test_fun_b_303_j_40_j_389;
                                                                    var_j_3057 = test_fun_b_303_j_40_j_389;
                                                                    appl_j_3058 = var_j_3056 var_j_3057;
                                                                    test_fun_b_303_j_388 = appl_j_3058;
                                                                    var_j_3059 = test_fun_b_303_j_388;
                                                                    var_j_3060 = expr_b_306;
                                                                    appl_j_3061 = var_j_3059 var_j_3060
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_3026 = m_match_bool_j_3025 ? (
                                                                        var_j_3027 = lst_fail_b_307
                                                                    ) : (
                                                                        void_j_3024 = 
                                                                    {}
                                                                    )
                                                                    )
                                                            ));
                                                    flatten_fun_j_3106 = fun bj_null_j_395 -> (
                                                        flatten_fun_j_3092 = fun list_maker_b_301_j_41 -> (
                                                            flatten_fun_j_3091 = fun len_b_300 -> (
                                                                var_j_3066 = list_maker_b_301_j_41;
                                                                var_j_3067 = list_maker_b_301_j_41;
                                                                appl_j_3068 = var_j_3066 var_j_3067;
                                                                list_maker_b_301 = appl_j_3068;
                                                                var_j_3069 = len_b_300;
                                                                int_j_3070 = 0;
                                                                binop_j_3071 = var_j_3069 == int_j_3070;
                                                                if_j_3090 = binop_j_3071 ? (
                                                                        
                                                                    record_j_3072 = 
                                                                    {};
                                                                    record_j_3073 = 
                                                                    {j_empty = record_j_3072}
                                                                    ) : (
                                                                        
                                                                    var_j_3074 = ngram;
                                                                    var_j_3075 = n_j_396;
                                                                    m_i_3967 = var_j_3074 ~ fun;
                                                                    appl_j_3076 = m_i_3967 ? (
                                                                        c_appl_i_3968 = var_j_3074 var_j_3075
                                                                    ) : (
                                                                        ab_i_3969 = abort
                                                                    );
                                                                    var_j_3077 = token;
                                                                    m_i_3970 = appl_j_3076 ~ fun;
                                                                    appl_j_3078 = m_i_3970 ? (
                                                                        c_appl_i_3971 = appl_j_3076 var_j_3077
                                                                    ) : (
                                                                        ab_i_3972 = abort
                                                                    );
                                                                    proj_j_3079 = appl_j_3078.generator;
                                                                    int_j_3080 = 0;
                                                                    appl_j_3081 = proj_j_3079 int_j_3080;
                                                                    elm_b_302 = appl_j_3081;
                                                                    record_j_3082 = 
                                                                    {};
                                                                    var_j_3083 = elm_b_302;
                                                                    var_j_3084 = list_maker_b_301;
                                                                    var_j_3085 = len_b_300;
                                                                    int_j_3086 = 1;
                                                                    binop_j_3087 = var_j_3085 - int_j_3086;
                                                                    appl_j_3088 = var_j_3084 binop_j_3087;
                                                                    record_j_3089 = 
                                                                    {j_cons = record_j_3082, j_head = var_j_3083, j_tail = appl_j_3088}
                                                                    )));
                                                        list_maker_b_301_j_41_j_394 = flatten_fun_j_3092;
                                                        var_j_3093 = list_maker_b_301_j_41_j_394;
                                                        var_j_3094 = list_maker_b_301_j_41_j_394;
                                                        appl_j_3095 = var_j_3093 var_j_3094;
                                                        list_maker_b_301_j_393 = appl_j_3095;
                                                        input_j_3096 = input;
                                                        len_b_300_j_392 = input_j_3096;
                                                        int_j_3097 = 0;
                                                        var_j_3098 = len_b_300_j_392;
                                                        binop_j_3099 = int_j_3097 <= var_j_3098;
                                                        if_j_3105 = binop_j_3099 ? (
                                                                var_j_3100 = list_maker_b_301_j_393;
                                                                var_j_3101 = len_b_300_j_392;
                                                                appl_j_3102 = var_j_3100 var_j_3101
                                                            ) : (
                                                                bool_j_3103 = false;
                                                                assume_j_3104 = assume bool_j_3103
                                                            ));
                                                    flatten_fun_j_3108 = fun expr_b_308 -> (
                                                        var_j_3107 = expr_b_308);
                                                    record_j_3109 = {checker = flatten_fun_j_3065, generator = flatten_fun_j_3106, wrapper = flatten_fun_j_3108};
                                                    proj_j_3110 = record_j_3109.wrapper;
                                                    var_j_3111 = expr_b_309;
                                                    var_j_3112 = arg_b_310;
                                                    m_i_3973 = var_j_3111 ~ fun;
                                                    appl_j_3113 = m_i_3973 ? (
                                                            c_appl_i_3974 = var_j_3111 var_j_3112
                                                        ) : (
                                                            ab_i_3975 = abort
                                                        );
                                                    m_i_3976 = proj_j_3110 ~ fun;
                                                    appl_j_3114 = m_i_3976 ? (
                                                            c_appl_i_3977 = proj_j_3110 appl_j_3113
                                                        ) : (
                                                            ab_i_3978 = abort
                                                        )
                                                ) : (
                                                    bool_j_3115 = false;
                                                    assert_pred_j_3116 = bool_j_3115;
                                                    assert_res_j_3117 = assert_pred_j_3116 ? (
                                                            assert_res_true_j_3118 = 
                                                                {}
                                                        ) : (
                                                            ab_j_3119 = abort
                                                        )
                                                )
                                        ) : (
                                            ab_i_3980 = abort
                                        )));
                            record_j_3123 = {checker = flatten_fun_j_2755, generator = flatten_fun_j_2938, wrapper = flatten_fun_j_3122});
                        var_j_3125 = n_b_2;
                        appl_j_3126 = flatten_fun_j_3124 var_j_3125;
                        proj_j_3127 = appl_j_3126.wrapper;
                        flatten_fun_j_3173 = fun ls_j_402 -> (
                            flatten_fun_j_3166 = fun loop_j_42 -> (
                                flatten_fun_j_3165 = fun l_j_399 -> (
                                    var_j_3128 = loop_j_42;
                                    var_j_3129 = loop_j_42;
                                    appl_j_3130 = var_j_3128 var_j_3129;
                                    loop = appl_j_3130;
                                    bool_j_3131 = false;
                                    fail_b_311 = bool_j_3131;
                                    var_j_3132 = l_j_399;
                                    m_match_bool_j_3134 = var_j_3132 ~ 
                                        {j_head, j_tail, _};
                                    m_match_bool_j_3154 = var_j_3132 ~ 
                                        {j_empty, _};
                                    m_match_bool_j_3158 = var_j_3132 ~ 
                                        {bj_untouched, _};
                                    m_match_cond_j_3159 = m_match_bool_j_3158 ? (
                                            var_j_3160 = fail_b_311;
                                            assert_pred_j_3161 = var_j_3160;
                                            assert_res_j_3162 = assert_pred_j_3161 ? (
                                                    assert_res_true_j_3163 = 
                                                        {}
                                                ) : (
                                                    ab_j_3164 = abort
                                                )
                                        ) : (
                                            m_match_cond_j_3155 = m_match_bool_j_3154 ? (
                                                    record_j_3156 = {};
                                                    record_j_3157 = {j_empty = record_j_3156}
                                                ) : (
                                                    m_match_cond_j_3135 = m_match_bool_j_3134 ? (
                                                            hd_j_398 = var_j_3132.j_head;
                                                            tl_j_397 = var_j_3132.j_tail;
                                                            var_j_3136 = appl_j_547;
                                                            var_j_3137 = l_j_399;
                                                            m_i_3981 = var_j_3136 ~ fun;
                                                            appl_j_3138 = m_i_3981 ? (
                                                                    c_appl_i_3982 = var_j_3136 var_j_3137
                                                                ) : (
                                                                    ab_i_3983 = abort
                                                                );
                                                            var_j_3139 = n_j_403;
                                                            m_bl_i_3984 = appl_j_3138 ~ int;
                                                            m_br_i_3985 = var_j_3139 ~ int;
                                                            m_b_i_3986 = m_bl_i_3984 and m_br_i_3985;
                                                            binop_j_3140 = m_b_i_3986 ? (
                                                                    c_binop_i_3987 = appl_j_3138 < var_j_3139
                                                                ) : (
                                                                    ab_i_3988 = abort
                                                                );
                                                            m_i_3989 = binop_j_3140 ~ bool;
                                                            if_j_3153 = m_i_3989 ? (
                                                                    c_cond_i_3999 = binop_j_3140 ? (
                                                                        record_j_3141 = 
                                                                    {};
                                                                    record_j_3142 = 
                                                                    {j_empty = record_j_3141}
                                                                    ) : (
                                                                        record_j_3143 = 
                                                                    {};
                                                                    var_j_3144 = appl_j_1683;
                                                                    var_j_3145 = n_j_403;
                                                                    m_i_3990 = var_j_3144 ~ fun;
                                                                    appl_j_3146 = m_i_3990 ? (
                                                                        c_appl_i_3991 = var_j_3144 var_j_3145
                                                                    ) : (
                                                                        ab_i_3992 = abort
                                                                    );
                                                                    var_j_3147 = l_j_399;
                                                                    m_i_3993 = appl_j_3146 ~ fun;
                                                                    appl_j_3148 = m_i_3993 ? (
                                                                        c_appl_i_3994 = appl_j_3146 var_j_3147
                                                                    ) : (
                                                                        ab_i_3995 = abort
                                                                    );
                                                                    var_j_3149 = loop;
                                                                    var_j_3150 = tl_j_397;
                                                                    m_i_3996 = var_j_3149 ~ fun;
                                                                    appl_j_3151 = m_i_3996 ? (
                                                                        c_appl_i_3997 = var_j_3149 var_j_3150
                                                                    ) : (
                                                                        ab_i_3998 = abort
                                                                    );
                                                                    record_j_3152 = 
                                                                    {j_cons = record_j_3143, j_head = appl_j_3148, j_tail = appl_j_3151}
                                                                    )
                                                                ) : (
                                                                    ab_i_4000 = abort
                                                                )
                                                        ) : (
                                                            ab_j_3133 = abort
                                                        )
                                                )
                                        )));
                            loop_j_42_j_401 = flatten_fun_j_3166;
                            var_j_3167 = loop_j_42_j_401;
                            var_j_3168 = loop_j_42_j_401;
                            appl_j_3169 = var_j_3167 var_j_3168;
                            loop_j_400 = appl_j_3169;
                            var_j_3170 = loop_j_400;
                            var_j_3171 = ls_j_402;
                            m_i_4001 = var_j_3170 ~ fun;
                            appl_j_3172 = m_i_4001 ? (
                                    c_appl_i_4002 = var_j_3170 var_j_3171
                                ) : (
                                    ab_i_4003 = abort
                                ));
                        m_i_4004 = proj_j_3127 ~ fun;
                        appl_j_3174 = m_i_4004 ? (
                                c_appl_i_4005 = proj_j_3127 flatten_fun_j_3173
                            ) : (
                                ab_i_4006 = abort
                            )
                    ) : (
                        bool_j_3175 = false;
                        assert_pred_j_3176 = bool_j_3175;
                        assert_res_j_3177 = assert_pred_j_3176 ? (
                                assert_res_true_j_3178 = {}
                            ) : (
                                ab_j_3179 = abort
                            )
                    ));
            var_j_3182 = n_j_403;
            appl_j_3183 = flatten_fun_j_3181 var_j_3182);
        make_ngrams = make_ngrams_j_3184;
        var_j_3185 = pos_int;
        proj_j_3186 = var_j_3185.generator;
        int_j_3187 = 0;
        appl_j_3188 = proj_j_3186 int_j_3187;
        n_b_373 = appl_j_3188;
        flatten_fun_j_3736 = fun n_j_334 -> (
            flatten_fun_j_3366 = fun expr_b_350 -> (
                flatten_fun_j_3228 = fun expr_b_338 -> (
                    bool_j_3189 = false;
                    lst_fail_b_339 = bool_j_3189;
                    var_j_3190 = expr_b_338;
                    m_match_bool_j_3192 = var_j_3190 ~ any;
                    m_match_bool_j_3195 = var_j_3190 ~ {j_head, j_tail, _};
                    m_match_bool_j_3225 = var_j_3190 ~ {j_empty, _};
                    m_match_cond_j_3226 = m_match_bool_j_3225 ? (
                            bool_j_3227 = true
                        ) : (
                            m_match_cond_j_3196 = m_match_bool_j_3195 ? (
                                    bj_underscore_j_278 = var_j_3190.j_head;
                                    bj_underscore2_j_277 = var_j_3190.j_tail;
                                    flatten_fun_j_3218 = fun test_fun_b_335_j_18 -> (
                                        flatten_fun_j_3217 = fun test_list_b_336 -> (
                                            var_j_3197 = test_fun_b_335_j_18;
                                            var_j_3198 = test_fun_b_335_j_18;
                                            appl_j_3199 = var_j_3197 var_j_3198;
                                            test_fun_b_335 = appl_j_3199;
                                            var_j_3200 = test_list_b_336;
                                            m_match_bool_j_3202 = var_j_3200 ~ 
                                                {j_head, j_tail, _};
                                            m_match_bool_j_3214 = var_j_3200 ~ 
                                                {j_empty, _};
                                            m_match_cond_j_3215 = m_match_bool_j_3214 ? (
                                                    bool_j_3216 = true
                                                ) : (
                                                    m_match_cond_j_3203 = m_match_bool_j_3202 ? (
                                                            hd_j_274 = var_j_3200.j_head;
                                                            tl_j_273 = var_j_3200.j_tail;
                                                            var_j_3204 = token;
                                                            proj_j_3205 = var_j_3204.checker;
                                                            var_j_3206 = hd_j_274;
                                                            appl_j_3207 = proj_j_3205 var_j_3206;
                                                            elm_check_b_337 = appl_j_3207;
                                                            var_j_3208 = elm_check_b_337;
                                                            if_j_3213 = var_j_3208 ? (
                                                                    var_j_3209 = test_fun_b_335;
                                                                    var_j_3210 = tl_j_273;
                                                                    appl_j_3211 = var_j_3209 var_j_3210
                                                                ) : (
                                                                    var_j_3212 = elm_check_b_337
                                                                )
                                                        ) : (
                                                            void_j_3201 = 
                                                                {}
                                                        )
                                                )));
                                    test_fun_b_335_j_18_j_276 = flatten_fun_j_3218;
                                    var_j_3219 = test_fun_b_335_j_18_j_276;
                                    var_j_3220 = test_fun_b_335_j_18_j_276;
                                    appl_j_3221 = var_j_3219 var_j_3220;
                                    test_fun_b_335_j_275 = appl_j_3221;
                                    var_j_3222 = test_fun_b_335_j_275;
                                    var_j_3223 = expr_b_338;
                                    appl_j_3224 = var_j_3222 var_j_3223
                                ) : (
                                    m_match_cond_j_3193 = m_match_bool_j_3192 ? (
                                            var_j_3194 = lst_fail_b_339
                                        ) : (
                                            void_j_3191 = {}
                                        )
                                )
                        ));
                flatten_fun_j_3265 = fun bj_null_j_282 -> (
                    flatten_fun_j_3251 = fun list_maker_b_333_j_19 -> (
                        flatten_fun_j_3250 = fun len_b_332 -> (
                            var_j_3229 = list_maker_b_333_j_19;
                            var_j_3230 = list_maker_b_333_j_19;
                            appl_j_3231 = var_j_3229 var_j_3230;
                            list_maker_b_333 = appl_j_3231;
                            var_j_3232 = len_b_332;
                            int_j_3233 = 0;
                            binop_j_3234 = var_j_3232 == int_j_3233;
                            if_j_3249 = binop_j_3234 ? (
                                    record_j_3235 = {};
                                    record_j_3236 = {j_empty = record_j_3235}
                                ) : (
                                    var_j_3237 = token;
                                    proj_j_3238 = var_j_3237.generator;
                                    int_j_3239 = 0;
                                    appl_j_3240 = proj_j_3238 int_j_3239;
                                    elm_b_334 = appl_j_3240;
                                    record_j_3241 = {};
                                    var_j_3242 = elm_b_334;
                                    var_j_3243 = list_maker_b_333;
                                    var_j_3244 = len_b_332;
                                    int_j_3245 = 1;
                                    binop_j_3246 = var_j_3244 - int_j_3245;
                                    appl_j_3247 = var_j_3243 binop_j_3246;
                                    record_j_3248 = {j_cons = record_j_3241, j_head = var_j_3242, j_tail = appl_j_3247}
                                )));
                    list_maker_b_333_j_19_j_281 = flatten_fun_j_3251;
                    var_j_3252 = list_maker_b_333_j_19_j_281;
                    var_j_3253 = list_maker_b_333_j_19_j_281;
                    appl_j_3254 = var_j_3252 var_j_3253;
                    list_maker_b_333_j_280 = appl_j_3254;
                    input_j_3255 = input;
                    len_b_332_j_279 = input_j_3255;
                    int_j_3256 = 0;
                    var_j_3257 = len_b_332_j_279;
                    binop_j_3258 = int_j_3256 <= var_j_3257;
                    if_j_3264 = binop_j_3258 ? (
                            var_j_3259 = list_maker_b_333_j_280;
                            var_j_3260 = len_b_332_j_279;
                            appl_j_3261 = var_j_3259 var_j_3260
                        ) : (
                            bool_j_3262 = false;
                            assume_j_3263 = assume bool_j_3262
                        ));
                flatten_fun_j_3267 = fun expr_b_340 -> (
                    var_j_3266 = expr_b_340);
                record_j_3268 = {checker = flatten_fun_j_3228, generator = flatten_fun_j_3265, wrapper = flatten_fun_j_3267};
                proj_j_3269 = record_j_3268.generator;
                int_j_3270 = 0;
                appl_j_3271 = proj_j_3269 int_j_3270;
                arg_assert_b_351 = appl_j_3271;
                var_j_3272 = expr_b_350;
                var_j_3273 = arg_assert_b_351;
                appl_j_3274 = var_j_3272 var_j_3273;
                fun_ret_b_352 = appl_j_3274;
                flatten_fun_j_3318 = fun expr_b_347 -> (
                    bool_j_3275 = false;
                    lst_fail_b_348 = bool_j_3275;
                    var_j_3276 = expr_b_347;
                    m_match_bool_j_3278 = var_j_3276 ~ any;
                    m_match_bool_j_3281 = var_j_3276 ~ {j_head, j_tail, _};
                    m_match_bool_j_3315 = var_j_3276 ~ {j_empty, _};
                    m_match_cond_j_3316 = m_match_bool_j_3315 ? (
                            bool_j_3317 = true
                        ) : (
                            m_match_cond_j_3282 = m_match_bool_j_3281 ? (
                                    bj_underscore_j_288 = var_j_3276.j_head;
                                    bj_underscore2_j_287 = var_j_3276.j_tail;
                                    flatten_fun_j_3308 = fun test_fun_b_344_j_20 -> (
                                        flatten_fun_j_3307 = fun test_list_b_345 -> (
                                            var_j_3283 = test_fun_b_344_j_20;
                                            var_j_3284 = test_fun_b_344_j_20;
                                            appl_j_3285 = var_j_3283 var_j_3284;
                                            test_fun_b_344 = appl_j_3285;
                                            var_j_3286 = test_list_b_345;
                                            m_match_bool_j_3288 = var_j_3286 ~ 
                                                {j_head, j_tail, _};
                                            m_match_bool_j_3304 = var_j_3286 ~ 
                                                {j_empty, _};
                                            m_match_cond_j_3305 = m_match_bool_j_3304 ? (
                                                    bool_j_3306 = true
                                                ) : (
                                                    m_match_cond_j_3289 = m_match_bool_j_3288 ? (
                                                            hd_j_284 = var_j_3286.j_head;
                                                            tl_j_283 = var_j_3286.j_tail;
                                                            var_j_3290 = ngram;
                                                            var_j_3291 = n_j_334;
                                                            m_i_4007 = var_j_3290 ~ fun;
                                                            appl_j_3292 = m_i_4007 ? (
                                                                    c_appl_i_4008 = var_j_3290 var_j_3291
                                                                ) : (
                                                                    ab_i_4009 = abort
                                                                );
                                                            var_j_3293 = token;
                                                            m_i_4010 = appl_j_3292 ~ fun;
                                                            appl_j_3294 = m_i_4010 ? (
                                                                    c_appl_i_4011 = appl_j_3292 var_j_3293
                                                                ) : (
                                                                    ab_i_4012 = abort
                                                                );
                                                            proj_j_3295 = appl_j_3294.checker;
                                                            var_j_3296 = hd_j_284;
                                                            appl_j_3297 = proj_j_3295 var_j_3296;
                                                            elm_check_b_346 = appl_j_3297;
                                                            var_j_3298 = elm_check_b_346;
                                                            if_j_3303 = var_j_3298 ? (
                                                                    var_j_3299 = test_fun_b_344;
                                                                    var_j_3300 = tl_j_283;
                                                                    appl_j_3301 = var_j_3299 var_j_3300
                                                                ) : (
                                                                    var_j_3302 = elm_check_b_346
                                                                )
                                                        ) : (
                                                            void_j_3287 = 
                                                                {}
                                                        )
                                                )));
                                    test_fun_b_344_j_20_j_286 = flatten_fun_j_3308;
                                    var_j_3309 = test_fun_b_344_j_20_j_286;
                                    var_j_3310 = test_fun_b_344_j_20_j_286;
                                    appl_j_3311 = var_j_3309 var_j_3310;
                                    test_fun_b_344_j_285 = appl_j_3311;
                                    var_j_3312 = test_fun_b_344_j_285;
                                    var_j_3313 = expr_b_347;
                                    appl_j_3314 = var_j_3312 var_j_3313
                                ) : (
                                    m_match_cond_j_3279 = m_match_bool_j_3278 ? (
                                            var_j_3280 = lst_fail_b_348
                                        ) : (
                                            void_j_3277 = {}
                                        )
                                )
                        ));
                flatten_fun_j_3359 = fun bj_null_j_292 -> (
                    flatten_fun_j_3345 = fun list_maker_b_342_j_21 -> (
                        flatten_fun_j_3344 = fun len_b_341 -> (
                            var_j_3319 = list_maker_b_342_j_21;
                            var_j_3320 = list_maker_b_342_j_21;
                            appl_j_3321 = var_j_3319 var_j_3320;
                            list_maker_b_342 = appl_j_3321;
                            var_j_3322 = len_b_341;
                            int_j_3323 = 0;
                            binop_j_3324 = var_j_3322 == int_j_3323;
                            if_j_3343 = binop_j_3324 ? (
                                    record_j_3325 = {};
                                    record_j_3326 = {j_empty = record_j_3325}
                                ) : (
                                    var_j_3327 = ngram;
                                    var_j_3328 = n_j_334;
                                    m_i_4013 = var_j_3327 ~ fun;
                                    appl_j_3329 = m_i_4013 ? (
                                            c_appl_i_4014 = var_j_3327 var_j_3328
                                        ) : (
                                            ab_i_4015 = abort
                                        );
                                    var_j_3330 = token;
                                    m_i_4016 = appl_j_3329 ~ fun;
                                    appl_j_3331 = m_i_4016 ? (
                                            c_appl_i_4017 = appl_j_3329 var_j_3330
                                        ) : (
                                            ab_i_4018 = abort
                                        );
                                    proj_j_3332 = appl_j_3331.generator;
                                    int_j_3333 = 0;
                                    appl_j_3334 = proj_j_3332 int_j_3333;
                                    elm_b_343 = appl_j_3334;
                                    record_j_3335 = {};
                                    var_j_3336 = elm_b_343;
                                    var_j_3337 = list_maker_b_342;
                                    var_j_3338 = len_b_341;
                                    int_j_3339 = 1;
                                    binop_j_3340 = var_j_3338 - int_j_3339;
                                    appl_j_3341 = var_j_3337 binop_j_3340;
                                    record_j_3342 = {j_cons = record_j_3335, j_head = var_j_3336, j_tail = appl_j_3341}
                                )));
                    list_maker_b_342_j_21_j_291 = flatten_fun_j_3345;
                    var_j_3346 = list_maker_b_342_j_21_j_291;
                    var_j_3347 = list_maker_b_342_j_21_j_291;
                    appl_j_3348 = var_j_3346 var_j_3347;
                    list_maker_b_342_j_290 = appl_j_3348;
                    input_j_3349 = input;
                    len_b_341_j_289 = input_j_3349;
                    int_j_3350 = 0;
                    var_j_3351 = len_b_341_j_289;
                    binop_j_3352 = int_j_3350 <= var_j_3351;
                    if_j_3358 = binop_j_3352 ? (
                            var_j_3353 = list_maker_b_342_j_290;
                            var_j_3354 = len_b_341_j_289;
                            appl_j_3355 = var_j_3353 var_j_3354
                        ) : (
                            bool_j_3356 = false;
                            assume_j_3357 = assume bool_j_3356
                        ));
                flatten_fun_j_3361 = fun expr_b_349 -> (
                    var_j_3360 = expr_b_349);
                record_j_3362 = {checker = flatten_fun_j_3318, generator = flatten_fun_j_3359, wrapper = flatten_fun_j_3361};
                proj_j_3363 = record_j_3362.checker;
                var_j_3364 = fun_ret_b_352;
                appl_j_3365 = proj_j_3363 var_j_3364);
            flatten_fun_j_3549 = fun bj_null_j_313 -> (
                flatten_fun_j_3548 = fun arg_assume_b_330 -> (
                    flatten_fun_j_3406 = fun expr_b_318 -> (
                        bool_j_3367 = false;
                        lst_fail_b_319 = bool_j_3367;
                        var_j_3368 = expr_b_318;
                        m_match_bool_j_3370 = var_j_3368 ~ any;
                        m_match_bool_j_3373 = var_j_3368 ~ {j_head, j_tail, _};
                        m_match_bool_j_3403 = var_j_3368 ~ {j_empty, _};
                        m_match_cond_j_3404 = m_match_bool_j_3403 ? (
                                bool_j_3405 = true
                            ) : (
                                m_match_cond_j_3374 = m_match_bool_j_3373 ? (
                                        bj_underscore_j_298 = var_j_3368.j_head;
                                        bj_underscore2_j_297 = var_j_3368.j_tail;
                                        flatten_fun_j_3396 = fun test_fun_b_315_j_22 -> (
                                            flatten_fun_j_3395 = fun test_list_b_316 -> (
                                                var_j_3375 = test_fun_b_315_j_22;
                                                var_j_3376 = test_fun_b_315_j_22;
                                                appl_j_3377 = var_j_3375 var_j_3376;
                                                test_fun_b_315 = appl_j_3377;
                                                var_j_3378 = test_list_b_316;
                                                m_match_bool_j_3380 = var_j_3378 ~ 
                                                    {j_head, j_tail, _};
                                                m_match_bool_j_3392 = var_j_3378 ~ 
                                                    {j_empty, _};
                                                m_match_cond_j_3393 = m_match_bool_j_3392 ? (
                                                        bool_j_3394 = true
                                                    ) : (
                                                        m_match_cond_j_3381 = m_match_bool_j_3380 ? (
                                                                hd_j_294 = var_j_3378.j_head;
                                                                tl_j_293 = var_j_3378.j_tail;
                                                                var_j_3382 = token;
                                                                proj_j_3383 = var_j_3382.checker;
                                                                var_j_3384 = hd_j_294;
                                                                appl_j_3385 = proj_j_3383 var_j_3384;
                                                                elm_check_b_317 = appl_j_3385;
                                                                var_j_3386 = elm_check_b_317;
                                                                if_j_3391 = var_j_3386 ? (
                                                                        
                                                                    var_j_3387 = test_fun_b_315;
                                                                    var_j_3388 = tl_j_293;
                                                                    appl_j_3389 = var_j_3387 var_j_3388
                                                                    ) : (
                                                                        
                                                                    var_j_3390 = elm_check_b_317
                                                                    )
                                                            ) : (
                                                                void_j_3379 = 
                                                                    {}
                                                            )
                                                    )));
                                        test_fun_b_315_j_22_j_296 = flatten_fun_j_3396;
                                        var_j_3397 = test_fun_b_315_j_22_j_296;
                                        var_j_3398 = test_fun_b_315_j_22_j_296;
                                        appl_j_3399 = var_j_3397 var_j_3398;
                                        test_fun_b_315_j_295 = appl_j_3399;
                                        var_j_3400 = test_fun_b_315_j_295;
                                        var_j_3401 = expr_b_318;
                                        appl_j_3402 = var_j_3400 var_j_3401
                                    ) : (
                                        m_match_cond_j_3371 = m_match_bool_j_3370 ? (
                                                var_j_3372 = lst_fail_b_319
                                            ) : (
                                                void_j_3369 = {}
                                            )
                                    )
                            ));
                    flatten_fun_j_3443 = fun bj_null_j_302 -> (
                        flatten_fun_j_3429 = fun list_maker_b_313_j_23 -> (
                            flatten_fun_j_3428 = fun len_b_312 -> (
                                var_j_3407 = list_maker_b_313_j_23;
                                var_j_3408 = list_maker_b_313_j_23;
                                appl_j_3409 = var_j_3407 var_j_3408;
                                list_maker_b_313 = appl_j_3409;
                                var_j_3410 = len_b_312;
                                int_j_3411 = 0;
                                binop_j_3412 = var_j_3410 == int_j_3411;
                                if_j_3427 = binop_j_3412 ? (
                                        record_j_3413 = {};
                                        record_j_3414 = {j_empty = record_j_3413}
                                    ) : (
                                        var_j_3415 = token;
                                        proj_j_3416 = var_j_3415.generator;
                                        int_j_3417 = 0;
                                        appl_j_3418 = proj_j_3416 int_j_3417;
                                        elm_b_314 = appl_j_3418;
                                        record_j_3419 = {};
                                        var_j_3420 = elm_b_314;
                                        var_j_3421 = list_maker_b_313;
                                        var_j_3422 = len_b_312;
                                        int_j_3423 = 1;
                                        binop_j_3424 = var_j_3422 - int_j_3423;
                                        appl_j_3425 = var_j_3421 binop_j_3424;
                                        record_j_3426 = {j_cons = record_j_3419, j_head = var_j_3420, j_tail = appl_j_3425}
                                    )));
                        list_maker_b_313_j_23_j_301 = flatten_fun_j_3429;
                        var_j_3430 = list_maker_b_313_j_23_j_301;
                        var_j_3431 = list_maker_b_313_j_23_j_301;
                        appl_j_3432 = var_j_3430 var_j_3431;
                        list_maker_b_313_j_300 = appl_j_3432;
                        input_j_3433 = input;
                        len_b_312_j_299 = input_j_3433;
                        int_j_3434 = 0;
                        var_j_3435 = len_b_312_j_299;
                        binop_j_3436 = int_j_3434 <= var_j_3435;
                        if_j_3442 = binop_j_3436 ? (
                                var_j_3437 = list_maker_b_313_j_300;
                                var_j_3438 = len_b_312_j_299;
                                appl_j_3439 = var_j_3437 var_j_3438
                            ) : (
                                bool_j_3440 = false;
                                assume_j_3441 = assume bool_j_3440
                            ));
                    flatten_fun_j_3445 = fun expr_b_320 -> (
                        var_j_3444 = expr_b_320);
                    record_j_3446 = {checker = flatten_fun_j_3406, generator = flatten_fun_j_3443, wrapper = flatten_fun_j_3445};
                    proj_j_3447 = record_j_3446.checker;
                    var_j_3448 = arg_assume_b_330;
                    appl_j_3449 = proj_j_3447 var_j_3448;
                    if_j_3547 = appl_j_3449 ? (
                            flatten_fun_j_3493 = fun expr_b_327 -> (
                                bool_j_3450 = false;
                                lst_fail_b_328 = bool_j_3450;
                                var_j_3451 = expr_b_327;
                                m_match_bool_j_3453 = var_j_3451 ~ any;
                                m_match_bool_j_3456 = var_j_3451 ~ {j_head, j_tail, _};
                                m_match_bool_j_3490 = var_j_3451 ~ {j_empty, _};
                                m_match_cond_j_3491 = m_match_bool_j_3490 ? (
                                        bool_j_3492 = true
                                    ) : (
                                        m_match_cond_j_3457 = m_match_bool_j_3456 ? (
                                                bj_underscore_j_308 = var_j_3451.j_head;
                                                bj_underscore2_j_307 = var_j_3451.j_tail;
                                                flatten_fun_j_3483 = fun test_fun_b_324_j_24 -> (
                                                    flatten_fun_j_3482 = fun test_list_b_325 -> (
                                                        var_j_3458 = test_fun_b_324_j_24;
                                                        var_j_3459 = test_fun_b_324_j_24;
                                                        appl_j_3460 = var_j_3458 var_j_3459;
                                                        test_fun_b_324 = appl_j_3460;
                                                        var_j_3461 = test_list_b_325;
                                                        m_match_bool_j_3463 = var_j_3461 ~ 
                                                            {j_head, j_tail, _};
                                                        m_match_bool_j_3479 = var_j_3461 ~ 
                                                            {j_empty, _};
                                                        m_match_cond_j_3480 = m_match_bool_j_3479 ? (
                                                                bool_j_3481 = true
                                                            ) : (
                                                                m_match_cond_j_3464 = m_match_bool_j_3463 ? (
                                                                        
                                                                    hd_j_304 = var_j_3461.j_head;
                                                                    tl_j_303 = var_j_3461.j_tail;
                                                                    var_j_3465 = ngram;
                                                                    var_j_3466 = n_j_334;
                                                                    m_i_4019 = var_j_3465 ~ fun;
                                                                    appl_j_3467 = m_i_4019 ? (
                                                                        c_appl_i_4020 = var_j_3465 var_j_3466
                                                                    ) : (
                                                                        ab_i_4021 = abort
                                                                    );
                                                                    var_j_3468 = token;
                                                                    m_i_4022 = appl_j_3467 ~ fun;
                                                                    appl_j_3469 = m_i_4022 ? (
                                                                        c_appl_i_4023 = appl_j_3467 var_j_3468
                                                                    ) : (
                                                                        ab_i_4024 = abort
                                                                    );
                                                                    proj_j_3470 = appl_j_3469.checker;
                                                                    var_j_3471 = hd_j_304;
                                                                    appl_j_3472 = proj_j_3470 var_j_3471;
                                                                    elm_check_b_326 = appl_j_3472;
                                                                    var_j_3473 = elm_check_b_326;
                                                                    if_j_3478 = var_j_3473 ? (
                                                                        var_j_3474 = test_fun_b_324;
                                                                    var_j_3475 = tl_j_303;
                                                                    appl_j_3476 = var_j_3474 var_j_3475
                                                                    ) : (
                                                                        var_j_3477 = elm_check_b_326
                                                                    )
                                                                    ) : (
                                                                        
                                                                    void_j_3462 = 
                                                                    {}
                                                                    )
                                                            )));
                                                test_fun_b_324_j_24_j_306 = flatten_fun_j_3483;
                                                var_j_3484 = test_fun_b_324_j_24_j_306;
                                                var_j_3485 = test_fun_b_324_j_24_j_306;
                                                appl_j_3486 = var_j_3484 var_j_3485;
                                                test_fun_b_324_j_305 = appl_j_3486;
                                                var_j_3487 = test_fun_b_324_j_305;
                                                var_j_3488 = expr_b_327;
                                                appl_j_3489 = var_j_3487 var_j_3488
                                            ) : (
                                                m_match_cond_j_3454 = m_match_bool_j_3453 ? (
                                                        var_j_3455 = lst_fail_b_328
                                                    ) : (
                                                        void_j_3452 = 
                                                            {}
                                                    )
                                            )
                                    ));
                            flatten_fun_j_3534 = fun bj_null_j_312 -> (
                                flatten_fun_j_3520 = fun list_maker_b_322_j_25 -> (
                                    flatten_fun_j_3519 = fun len_b_321 -> (
                                        var_j_3494 = list_maker_b_322_j_25;
                                        var_j_3495 = list_maker_b_322_j_25;
                                        appl_j_3496 = var_j_3494 var_j_3495;
                                        list_maker_b_322 = appl_j_3496;
                                        var_j_3497 = len_b_321;
                                        int_j_3498 = 0;
                                        binop_j_3499 = var_j_3497 == int_j_3498;
                                        if_j_3518 = binop_j_3499 ? (
                                                record_j_3500 = {};
                                                record_j_3501 = {j_empty = record_j_3500}
                                            ) : (
                                                var_j_3502 = ngram;
                                                var_j_3503 = n_j_334;
                                                m_i_4025 = var_j_3502 ~ fun;
                                                appl_j_3504 = m_i_4025 ? (
                                                        c_appl_i_4026 = var_j_3502 var_j_3503
                                                    ) : (
                                                        ab_i_4027 = abort
                                                    );
                                                var_j_3505 = token;
                                                m_i_4028 = appl_j_3504 ~ fun;
                                                appl_j_3506 = m_i_4028 ? (
                                                        c_appl_i_4029 = appl_j_3504 var_j_3505
                                                    ) : (
                                                        ab_i_4030 = abort
                                                    );
                                                proj_j_3507 = appl_j_3506.generator;
                                                int_j_3508 = 0;
                                                appl_j_3509 = proj_j_3507 int_j_3508;
                                                elm_b_323 = appl_j_3509;
                                                record_j_3510 = {};
                                                var_j_3511 = elm_b_323;
                                                var_j_3512 = list_maker_b_322;
                                                var_j_3513 = len_b_321;
                                                int_j_3514 = 1;
                                                binop_j_3515 = var_j_3513 - int_j_3514;
                                                appl_j_3516 = var_j_3512 binop_j_3515;
                                                record_j_3517 = {j_cons = record_j_3510, j_head = var_j_3511, j_tail = appl_j_3516}
                                            )));
                                list_maker_b_322_j_25_j_311 = flatten_fun_j_3520;
                                var_j_3521 = list_maker_b_322_j_25_j_311;
                                var_j_3522 = list_maker_b_322_j_25_j_311;
                                appl_j_3523 = var_j_3521 var_j_3522;
                                list_maker_b_322_j_310 = appl_j_3523;
                                input_j_3524 = input;
                                len_b_321_j_309 = input_j_3524;
                                int_j_3525 = 0;
                                var_j_3526 = len_b_321_j_309;
                                binop_j_3527 = int_j_3525 <= var_j_3526;
                                if_j_3533 = binop_j_3527 ? (
                                        var_j_3528 = list_maker_b_322_j_310;
                                        var_j_3529 = len_b_321_j_309;
                                        appl_j_3530 = var_j_3528 var_j_3529
                                    ) : (
                                        bool_j_3531 = false;
                                        assume_j_3532 = assume bool_j_3531
                                    ));
                            flatten_fun_j_3536 = fun expr_b_329 -> (
                                var_j_3535 = expr_b_329);
                            record_j_3537 = {checker = flatten_fun_j_3493, generator = flatten_fun_j_3534, wrapper = flatten_fun_j_3536};
                            proj_j_3538 = record_j_3537.generator;
                            int_j_3539 = 0;
                            appl_j_3540 = proj_j_3538 int_j_3539
                        ) : (
                            bool_j_3541 = false;
                            fail_b_331 = bool_j_3541;
                            var_j_3542 = fail_b_331;
                            assert_pred_j_3543 = var_j_3542;
                            assert_res_j_3544 = assert_pred_j_3543 ? (
                                    assert_res_true_j_3545 = {}
                                ) : (
                                    ab_j_3546 = abort
                                )
                        )));
            flatten_fun_j_3733 = fun expr_b_371 -> (
                flatten_fun_j_3732 = fun arg_b_372 -> (
                    flatten_fun_j_3589 = fun expr_b_359 -> (
                        bool_j_3550 = false;
                        lst_fail_b_360 = bool_j_3550;
                        var_j_3551 = expr_b_359;
                        m_match_bool_j_3553 = var_j_3551 ~ any;
                        m_match_bool_j_3556 = var_j_3551 ~ {j_head, j_tail, _};
                        m_match_bool_j_3586 = var_j_3551 ~ {j_empty, _};
                        m_match_cond_j_3587 = m_match_bool_j_3586 ? (
                                bool_j_3588 = true
                            ) : (
                                m_match_cond_j_3557 = m_match_bool_j_3556 ? (
                                        bj_underscore_j_319 = var_j_3551.j_head;
                                        bj_underscore2_j_318 = var_j_3551.j_tail;
                                        flatten_fun_j_3579 = fun test_fun_b_356_j_26 -> (
                                            flatten_fun_j_3578 = fun test_list_b_357 -> (
                                                var_j_3558 = test_fun_b_356_j_26;
                                                var_j_3559 = test_fun_b_356_j_26;
                                                appl_j_3560 = var_j_3558 var_j_3559;
                                                test_fun_b_356 = appl_j_3560;
                                                var_j_3561 = test_list_b_357;
                                                m_match_bool_j_3563 = var_j_3561 ~ 
                                                    {j_head, j_tail, _};
                                                m_match_bool_j_3575 = var_j_3561 ~ 
                                                    {j_empty, _};
                                                m_match_cond_j_3576 = m_match_bool_j_3575 ? (
                                                        bool_j_3577 = true
                                                    ) : (
                                                        m_match_cond_j_3564 = m_match_bool_j_3563 ? (
                                                                hd_j_315 = var_j_3561.j_head;
                                                                tl_j_314 = var_j_3561.j_tail;
                                                                var_j_3565 = token;
                                                                proj_j_3566 = var_j_3565.checker;
                                                                var_j_3567 = hd_j_315;
                                                                appl_j_3568 = proj_j_3566 var_j_3567;
                                                                elm_check_b_358 = appl_j_3568;
                                                                var_j_3569 = elm_check_b_358;
                                                                if_j_3574 = var_j_3569 ? (
                                                                        
                                                                    var_j_3570 = test_fun_b_356;
                                                                    var_j_3571 = tl_j_314;
                                                                    appl_j_3572 = var_j_3570 var_j_3571
                                                                    ) : (
                                                                        
                                                                    var_j_3573 = elm_check_b_358
                                                                    )
                                                            ) : (
                                                                void_j_3562 = 
                                                                    {}
                                                            )
                                                    )));
                                        test_fun_b_356_j_26_j_317 = flatten_fun_j_3579;
                                        var_j_3580 = test_fun_b_356_j_26_j_317;
                                        var_j_3581 = test_fun_b_356_j_26_j_317;
                                        appl_j_3582 = var_j_3580 var_j_3581;
                                        test_fun_b_356_j_316 = appl_j_3582;
                                        var_j_3583 = test_fun_b_356_j_316;
                                        var_j_3584 = expr_b_359;
                                        appl_j_3585 = var_j_3583 var_j_3584
                                    ) : (
                                        m_match_cond_j_3554 = m_match_bool_j_3553 ? (
                                                var_j_3555 = lst_fail_b_360
                                            ) : (
                                                void_j_3552 = {}
                                            )
                                    )
                            ));
                    flatten_fun_j_3626 = fun bj_null_j_323 -> (
                        flatten_fun_j_3612 = fun list_maker_b_354_j_27 -> (
                            flatten_fun_j_3611 = fun len_b_353 -> (
                                var_j_3590 = list_maker_b_354_j_27;
                                var_j_3591 = list_maker_b_354_j_27;
                                appl_j_3592 = var_j_3590 var_j_3591;
                                list_maker_b_354 = appl_j_3592;
                                var_j_3593 = len_b_353;
                                int_j_3594 = 0;
                                binop_j_3595 = var_j_3593 == int_j_3594;
                                if_j_3610 = binop_j_3595 ? (
                                        record_j_3596 = {};
                                        record_j_3597 = {j_empty = record_j_3596}
                                    ) : (
                                        var_j_3598 = token;
                                        proj_j_3599 = var_j_3598.generator;
                                        int_j_3600 = 0;
                                        appl_j_3601 = proj_j_3599 int_j_3600;
                                        elm_b_355 = appl_j_3601;
                                        record_j_3602 = {};
                                        var_j_3603 = elm_b_355;
                                        var_j_3604 = list_maker_b_354;
                                        var_j_3605 = len_b_353;
                                        int_j_3606 = 1;
                                        binop_j_3607 = var_j_3605 - int_j_3606;
                                        appl_j_3608 = var_j_3604 binop_j_3607;
                                        record_j_3609 = {j_cons = record_j_3602, j_head = var_j_3603, j_tail = appl_j_3608}
                                    )));
                        list_maker_b_354_j_27_j_322 = flatten_fun_j_3612;
                        var_j_3613 = list_maker_b_354_j_27_j_322;
                        var_j_3614 = list_maker_b_354_j_27_j_322;
                        appl_j_3615 = var_j_3613 var_j_3614;
                        list_maker_b_354_j_321 = appl_j_3615;
                        input_j_3616 = input;
                        len_b_353_j_320 = input_j_3616;
                        int_j_3617 = 0;
                        var_j_3618 = len_b_353_j_320;
                        binop_j_3619 = int_j_3617 <= var_j_3618;
                        if_j_3625 = binop_j_3619 ? (
                                var_j_3620 = list_maker_b_354_j_321;
                                var_j_3621 = len_b_353_j_320;
                                appl_j_3622 = var_j_3620 var_j_3621
                            ) : (
                                bool_j_3623 = false;
                                assume_j_3624 = assume bool_j_3623
                            ));
                    flatten_fun_j_3628 = fun expr_b_361 -> (
                        var_j_3627 = expr_b_361);
                    record_j_3629 = {checker = flatten_fun_j_3589, generator = flatten_fun_j_3626, wrapper = flatten_fun_j_3628};
                    proj_j_3630 = record_j_3629.checker;
                    var_j_3631 = arg_b_372;
                    m_i_4031 = proj_j_3630 ~ fun;
                    appl_j_3632 = m_i_4031 ? (
                            c_appl_i_4032 = proj_j_3630 var_j_3631
                        ) : (
                            ab_i_4033 = abort
                        );
                    m_i_4034 = appl_j_3632 ~ bool;
                    if_j_3731 = m_i_4034 ? (
                            c_cond_i_4053 = appl_j_3632 ? (
                                    flatten_fun_j_3676 = fun expr_b_368 -> (
                                        bool_j_3633 = false;
                                        lst_fail_b_369 = bool_j_3633;
                                        var_j_3634 = expr_b_368;
                                        m_match_bool_j_3636 = var_j_3634 ~ any;
                                        m_match_bool_j_3639 = var_j_3634 ~ 
                                            {j_head, j_tail, _};
                                        m_match_bool_j_3673 = var_j_3634 ~ 
                                            {j_empty, _};
                                        m_match_cond_j_3674 = m_match_bool_j_3673 ? (
                                                bool_j_3675 = true
                                            ) : (
                                                m_match_cond_j_3640 = m_match_bool_j_3639 ? (
                                                        bj_underscore_j_329 = var_j_3634.j_head;
                                                        bj_underscore2_j_328 = var_j_3634.j_tail;
                                                        flatten_fun_j_3666 = fun test_fun_b_365_j_28 -> (
                                                            flatten_fun_j_3665 = fun test_list_b_366 -> (
                                                                var_j_3641 = test_fun_b_365_j_28;
                                                                var_j_3642 = test_fun_b_365_j_28;
                                                                appl_j_3643 = var_j_3641 var_j_3642;
                                                                test_fun_b_365 = appl_j_3643;
                                                                var_j_3644 = test_list_b_366;
                                                                m_match_bool_j_3646 = var_j_3644 ~ 
                                                                    {j_head, j_tail, _};
                                                                m_match_bool_j_3662 = var_j_3644 ~ 
                                                                    {j_empty, _};
                                                                m_match_cond_j_3663 = m_match_bool_j_3662 ? (
                                                                        
                                                                    bool_j_3664 = true
                                                                    ) : (
                                                                        
                                                                    m_match_cond_j_3647 = m_match_bool_j_3646 ? (
                                                                        hd_j_325 = var_j_3644.j_head;
                                                                    tl_j_324 = var_j_3644.j_tail;
                                                                    var_j_3648 = ngram;
                                                                    var_j_3649 = n_j_334;
                                                                    m_i_4035 = var_j_3648 ~ fun;
                                                                    appl_j_3650 = m_i_4035 ? (
                                                                        c_appl_i_4036 = var_j_3648 var_j_3649
                                                                    ) : (
                                                                        ab_i_4037 = abort
                                                                    );
                                                                    var_j_3651 = token;
                                                                    m_i_4038 = appl_j_3650 ~ fun;
                                                                    appl_j_3652 = m_i_4038 ? (
                                                                        c_appl_i_4039 = appl_j_3650 var_j_3651
                                                                    ) : (
                                                                        ab_i_4040 = abort
                                                                    );
                                                                    proj_j_3653 = appl_j_3652.checker;
                                                                    var_j_3654 = hd_j_325;
                                                                    appl_j_3655 = proj_j_3653 var_j_3654;
                                                                    elm_check_b_367 = appl_j_3655;
                                                                    var_j_3656 = elm_check_b_367;
                                                                    if_j_3661 = var_j_3656 ? (
                                                                        var_j_3657 = test_fun_b_365;
                                                                    var_j_3658 = tl_j_324;
                                                                    appl_j_3659 = var_j_3657 var_j_3658
                                                                    ) : (
                                                                        var_j_3660 = elm_check_b_367
                                                                    )
                                                                    ) : (
                                                                        void_j_3645 = 
                                                                    {}
                                                                    )
                                                                    )));
                                                        test_fun_b_365_j_28_j_327 = flatten_fun_j_3666;
                                                        var_j_3667 = test_fun_b_365_j_28_j_327;
                                                        var_j_3668 = test_fun_b_365_j_28_j_327;
                                                        appl_j_3669 = var_j_3667 var_j_3668;
                                                        test_fun_b_365_j_326 = appl_j_3669;
                                                        var_j_3670 = test_fun_b_365_j_326;
                                                        var_j_3671 = expr_b_368;
                                                        appl_j_3672 = var_j_3670 var_j_3671
                                                    ) : (
                                                        m_match_cond_j_3637 = m_match_bool_j_3636 ? (
                                                                var_j_3638 = lst_fail_b_369
                                                            ) : (
                                                                void_j_3635 = 
                                                                    {}
                                                            )
                                                    )
                                            ));
                                    flatten_fun_j_3717 = fun bj_null_j_333 -> (
                                        flatten_fun_j_3703 = fun list_maker_b_363_j_29 -> (
                                            flatten_fun_j_3702 = fun len_b_362 -> (
                                                var_j_3677 = list_maker_b_363_j_29;
                                                var_j_3678 = list_maker_b_363_j_29;
                                                appl_j_3679 = var_j_3677 var_j_3678;
                                                list_maker_b_363 = appl_j_3679;
                                                var_j_3680 = len_b_362;
                                                int_j_3681 = 0;
                                                binop_j_3682 = var_j_3680 == int_j_3681;
                                                if_j_3701 = binop_j_3682 ? (
                                                        record_j_3683 = 
                                                            {};
                                                        record_j_3684 = 
                                                            {j_empty = record_j_3683}
                                                    ) : (
                                                        var_j_3685 = ngram;
                                                        var_j_3686 = n_j_334;
                                                        m_i_4041 = var_j_3685 ~ fun;
                                                        appl_j_3687 = m_i_4041 ? (
                                                                c_appl_i_4042 = var_j_3685 var_j_3686
                                                            ) : (
                                                                ab_i_4043 = abort
                                                            );
                                                        var_j_3688 = token;
                                                        m_i_4044 = appl_j_3687 ~ fun;
                                                        appl_j_3689 = m_i_4044 ? (
                                                                c_appl_i_4045 = appl_j_3687 var_j_3688
                                                            ) : (
                                                                ab_i_4046 = abort
                                                            );
                                                        proj_j_3690 = appl_j_3689.generator;
                                                        int_j_3691 = 0;
                                                        appl_j_3692 = proj_j_3690 int_j_3691;
                                                        elm_b_364 = appl_j_3692;
                                                        record_j_3693 = 
                                                            {};
                                                        var_j_3694 = elm_b_364;
                                                        var_j_3695 = list_maker_b_363;
                                                        var_j_3696 = len_b_362;
                                                        int_j_3697 = 1;
                                                        binop_j_3698 = var_j_3696 - int_j_3697;
                                                        appl_j_3699 = var_j_3695 binop_j_3698;
                                                        record_j_3700 = 
                                                            {j_cons = record_j_3693, j_head = var_j_3694, j_tail = appl_j_3699}
                                                    )));
                                        list_maker_b_363_j_29_j_332 = flatten_fun_j_3703;
                                        var_j_3704 = list_maker_b_363_j_29_j_332;
                                        var_j_3705 = list_maker_b_363_j_29_j_332;
                                        appl_j_3706 = var_j_3704 var_j_3705;
                                        list_maker_b_363_j_331 = appl_j_3706;
                                        input_j_3707 = input;
                                        len_b_362_j_330 = input_j_3707;
                                        int_j_3708 = 0;
                                        var_j_3709 = len_b_362_j_330;
                                        binop_j_3710 = int_j_3708 <= var_j_3709;
                                        if_j_3716 = binop_j_3710 ? (
                                                var_j_3711 = list_maker_b_363_j_331;
                                                var_j_3712 = len_b_362_j_330;
                                                appl_j_3713 = var_j_3711 var_j_3712
                                            ) : (
                                                bool_j_3714 = false;
                                                assume_j_3715 = assume bool_j_3714
                                            ));
                                    flatten_fun_j_3719 = fun expr_b_370 -> (
                                        var_j_3718 = expr_b_370);
                                    record_j_3720 = {checker = flatten_fun_j_3676, generator = flatten_fun_j_3717, wrapper = flatten_fun_j_3719};
                                    proj_j_3721 = record_j_3720.wrapper;
                                    var_j_3722 = expr_b_371;
                                    var_j_3723 = arg_b_372;
                                    m_i_4047 = var_j_3722 ~ fun;
                                    appl_j_3724 = m_i_4047 ? (
                                            c_appl_i_4048 = var_j_3722 var_j_3723
                                        ) : (
                                            ab_i_4049 = abort
                                        );
                                    m_i_4050 = proj_j_3721 ~ fun;
                                    appl_j_3725 = m_i_4050 ? (
                                            c_appl_i_4051 = proj_j_3721 appl_j_3724
                                        ) : (
                                            ab_i_4052 = abort
                                        )
                                ) : (
                                    bool_j_3726 = false;
                                    assert_pred_j_3727 = bool_j_3726;
                                    assert_res_j_3728 = assert_pred_j_3727 ? (
                                            assert_res_true_j_3729 = 
                                                {}
                                        ) : (
                                            ab_j_3730 = abort
                                        )
                                )
                        ) : (
                            ab_i_4054 = abort
                        )));
            record_j_3734 = {checker = flatten_fun_j_3366, generator = flatten_fun_j_3549, wrapper = flatten_fun_j_3733};
            proj_j_3735 = record_j_3734.checker);
        var_j_3737 = n_b_373;
        appl_j_3738 = flatten_fun_j_3736 var_j_3737;
        var_j_3739 = make_ngrams;
        var_j_3740 = n_b_373;
        appl_j_3741 = var_j_3739 var_j_3740;
        appl_j_3742 = appl_j_3738 appl_j_3741;
        check_res_b_374 = appl_j_3742;
        var_j_3743 = check_res_b_374;
        if_j_3750 = var_j_3743 ? (
                var_j_3744 = make_ngrams
            ) : (
                error_var_j_3745 = check_res_b_374;
                assert_pred_j_3746 = error_var_j_3745;
                assert_res_j_3747 = assert_pred_j_3746 ? (
                        assert_res_true_j_3748 = {}
                    ) : (
                        ab_j_3749 = abort
                    )
            )
    ) : (
        error_var_j_3751 = check_res_b_375;
        assert_pred_j_3752 = error_var_j_3751;
        assert_res_j_3753 = assert_pred_j_3752 ? (
                assert_res_true_j_3754 = {}
            ) : (
                ab_j_3755 = abort
            )
    );
i_result = if_j_3756